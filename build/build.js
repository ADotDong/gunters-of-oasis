(function(e){function t(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(n,'a',n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=40)})([function(e){e.exports=function(e,t,n){var o,a,r=0,s=[];for(o=0;o<n;o++)a=new Audio(e),a.volume=t,a.load(),s.push(a);return{play:function(){(0===s[r].currentTime||s[r].ended)&&s[r].play(),r=(r+1)%n}}}},function(e,t,n){function o(e,t){var n,o,a,r;return a=t.split('.'),o=a[0],r=a[1],n=e.components[o]||AFRAME.components[o],n?r&&!n.schema[r]?null:r?n.schema[r].type:n.schema.type:null}function a(e){e.x=THREE.Math.degToRad(e.x),e.y=THREE.Math.degToRad(e.y),e.z=THREE.Math.degToRad(e.z)}function r(e,t,n){var o;for(o=0;o<t.length;o++)e.addEventListener(t[o],n)}function s(e,t,n){var o;for(o=0;o<t.length;o++)e.removeEventListener(t[o],n)}function l(e,t){var n,o,a;for(o=c(t),a=e,n=0;n<o.length;n++)a=a[o[n]];return a}function d(e,t,n,o){var a,r,s,l;for(r=c(t),l=e,a=0;a<r.length-1;a++)l=l[r[a]];return s=r[r.length-1],o===v?void('r'in l[s]?(l[s].r=n.r,l[s].g=n.g,l[s].b=n.b):(l[s].x=n.r,l[s].y=n.g,l[s].z=n.b)):void(l[s]=n)}function c(e){return e in b?b[e]:(b[e]=e.split('.'),b[e])}function p(e){return e.isRawProperty||e.property.startsWith(A)||e.property.startsWith(x)}var u=n(12);if(AFRAME.anime=u,'undefined'==typeof AFRAME)throw new Error('Component attempted to register before AFRAME was available.');var m=new THREE.Color,g=new THREE.Color,y=AFRAME.utils,h=y.entity.getComponentProperty,f=y.entity.setComponentProperty,b={},v='color',C='rotation',A='components',x='object3D';AFRAME.registerComponent('animation',{schema:{autoplay:{default:!0},delay:{default:0},dir:{default:''},dur:{default:1e3},easing:{default:'easeInQuad'},elasticity:{default:400},from:{default:''},loop:{default:0,parse:function(e){return!0===e||'true'===e||(!1===e||'false'===e?!1:parseInt(e,10))}},property:{default:''},startEvents:{type:'array'},pauseEvents:{type:'array'},resumeEvents:{type:'array'},to:{default:''},type:{default:''},isRawProperty:{default:!1}},multiple:!0,init:function(){var e=this;this.eventDetail={name:this.attrName},this.time=0,this.animation=null,this.animationIsPlaying=!1,this.onStartEvent=this.onStartEvent.bind(this),this.beginAnimation=this.beginAnimation.bind(this),this.pauseAnimation=this.pauseAnimation.bind(this),this.resumeAnimation=this.resumeAnimation.bind(this),this.fromColor={},this.toColor={},this.targets={},this.targetsArray=[],this.config={complete:function(){e.animationIsPlaying=!1,e.el.emit('animationcomplete',e.eventDetail)}}},update:function(){var e=this.config,t=this.data;this.animationIsPlaying=!1,t.property&&(e.autoplay=!1,e.direction=t.dir,e.duration=t.dur,e.easing=t.easing,e.elasticity=t.elasticity,e.loop=t.loop,this.createAndStartAnimation())},tick:function(e,t){this.animationIsPlaying&&(this.time+=t,this.animation.tick(this.time))},remove:function(){this.pauseAnimation(),this.removeEventListeners()},pause:function(){this.paused=!0,this.pausedWasPlaying=!0,this.pauseAnimation(),this.removeEventListeners()},play:function(){this.paused&&(this.paused=!1,this.addEventListeners(),this.pausedWasPlaying&&(this.resumeAnimation(),this.pausedWasPlaying=!1))},createAndStartAnimation:function(){var e=this.data;return this.updateConfig(),this.animationIsPlaying=!1,this.animation=u(this.config),this.removeEventListeners(),this.addEventListeners(),!e.autoplay||e.startEvents&&e.startEvents.length?void 0:e.delay?void setTimeout(this.beginAnimation,e.delay):void this.beginAnimation()},beginAnimation:function(){this.updateConfig(),this.time=0,this.animation.seek(0),this.animationIsPlaying=!0,this.stopRelatedAnimations(),this.el.emit('animationbegin',this.eventDetail)},pauseAnimation:function(){this.animationIsPlaying=!1},resumeAnimation:function(){this.animationIsPlaying=!0},onStartEvent:function(){return this.data.delay?void setTimeout(this.beginAnimation,this.data.delay):void this.beginAnimation()},updateConfigForRawColor:function(){var e,t,n,o=this.config,a=this.data,r=this.el;for(t in e=a.from||l(r,a.property),n=a.to,this.setColorConfig(e,n),e=this.fromColor,n=this.toColor,this.targetsArray.length=0,this.targetsArray.push(e),o.targets=this.targetsArray,n)o[t]=n[t];o.update=function(){var t={r:e.r,g:e.g,b:e.b};return function(e){var n;n=e.animatables[0].target,n.r===t.r&&n.g===t.g&&n.b===t.b||d(r,a.property,n,a.type)}}()},updateConfigForDefault:function(){var e,t,n,o,a=this.config,r=this.data,s=this.el;e=r.from||(p(r)?l(s,r.property):h(s,r.property)),o=r.to,n=!isNaN(e||o),n?(e=parseFloat(e),o=parseFloat(o)):(e=e?e.toString():e,o=o?o.toString():o),t='true'===o||'false'===o,t&&(e='true'===r.from?1:0,o='true'===r.to?1:0),this.targets.aframeProperty=e,a.targets=this.targets,a.aframeProperty=o,a.update=function(){var n=e;return function(e){var o;o=e.animatables[0].target.aframeProperty,o===n||(n=o,t&&(o=!!(1<=o)),p(r)?d(s,r.property,o,r.type):f(s,r.property,o))}}()},updateConfigForVector:function(){var e,t,n,o=this.config,r=this.data,s=this.el;for(e in t=r.from?AFRAME.utils.coordinates.parse(r.from):h(s,r.property),n=AFRAME.utils.coordinates.parse(r.to),r.property===C&&(a(t),a(n)),this.targetsArray.length=0,this.targetsArray.push(t),o.targets=this.targetsArray,n)o[e]=n[e];return r.property==='position'||r.property===C||r.property==='scale'?void(o.update=function(){var e={x:t.x,y:t.y,z:t.z};return function(t){var n=t.animatables[0].target;n.x===e.x&&n.y===e.y&&n.z===e.z||(e.x=n.x,e.y=n.y,e.z=n.z,s.object3D[r.property].set(n.x,n.y,n.z))}}()):void(o.update=function(){var e={x:t.x,y:t.y,z:t.z};return function(t){var n=t.animations[0].target;n.x===e.x&&n.y===e.y&&n.z===e.z||(e.x=n.x,e.y=n.y,e.z=n.z,f(s,r.property,n))}}())},updateConfig:function(){var e;e=o(this.el,this.data.property),p(this.data)&&this.data.type===v?this.updateConfigForRawColor():'vec2'===e||'vec3'===e||'vec4'===e?this.updateConfigForVector():this.updateConfigForDefault()},stopRelatedAnimations:function(){var e,t;for(t in this.el.components)(e=this.el.components[t],t!==this.attrName)&&'animation'===e.name&&e.data.property===this.data.property&&(e.animationIsPlaying=!1)},addEventListeners:function(){var e=this.data,t=this.el;r(t,e.startEvents,this.onStartEvent),r(t,e.pauseEvents,this.pauseAnimation),r(t,e.resumeEvents,this.resumeAnimation)},removeEventListeners:function(){var e=this.data,t=this.el;s(t,e.startEvents,this.onStartEvent),s(t,e.pauseEvents,this.pauseAnimation),s(t,e.resumeEvents,this.resumeAnimation)},setColorConfig:function(e,t){m.set(e),g.set(t),e=this.fromColor,t=this.toColor,e.r=m.r,e.g=m.g,e.b=m.b,t.r=g.r,t.g=g.g,t.b=g.b}})},function(){var e=AFRAME.utils.styleParser;if('undefined'==typeof AFRAME)throw new Error('Component attempted to register before AFRAME was available.');AFRAME.registerComponent('event-set',{schema:{default:'',parse:function(t){return e.parse(t)}},multiple:!0,init:function(){this.eventHandler=null,this.eventName=null},update:function(){this.removeEventListener(),this.updateEventListener(),this.addEventListener()},remove:function(){this.removeEventListener()},pause:function(){this.removeEventListener()},play:function(){this.addEventListener()},updateEventListener:function(){var e,t,n,o=this.data,a=this.el;e=o._event||this.id,t=o._target,n=t?a.sceneEl.querySelector(t):a,this.eventName=e,this.eventHandler=function(){for(var e in o)'_event'!==e&&'_target'!==e&&AFRAME.utils.entity.setComponentProperty.call(this,n,e,o[e])}},addEventListener:function(){this.el.addEventListener(this.eventName,this.eventHandler)},removeEventListener:function(){this.el.removeEventListener(this.eventName,this.eventHandler)}})},function(e){function t(e,t,n){var o,a,r,s=[],l=Math.ceil(t/e.columns);o=e.marginColumn,a=e.marginRow,n&&(o=e.margin,a=e.margin);for(var d=0;d<l;d++)for(var c=0;c<e.columns;c++)r=[0,0,0],0===e.plane.indexOf('x')&&(r[0]=c*o),0===e.plane.indexOf('y')&&(r[1]=c*o),1===e.plane.indexOf('y')&&(r[1]=d*a),1===e.plane.indexOf('z')&&(r[2]=d*a),s.push(r);return s}function n(e,t){for(var n=[],o=0;o<t;o++){var a=isNaN(e.angle)?o*(2*Math.PI)/t:0.01745329252*(o*e.angle);var r=[];0===e.plane.indexOf('x')&&(r[0]=e.radius*p(a)),0===e.plane.indexOf('y')&&(r[1]=e.radius*p(a)),1===e.plane.indexOf('y')&&(r[1]=e.radius*c(a)),1===e.plane.indexOf('z')&&(r[2]=e.radius*c(a)),n.push(r)}return n}function o(e,n){return e.columns=n,t(e,n,!0)}function a(e){return l([[1,0,0],[0,1,0],[0,0,1],[-1,0,0],[0,-1,0],[0,0,-1]],e.radius/2)}function r(e){var t=(1+2.23606797749979)/2,n=1/t,o=2-t,a=-1*n,r=-1*o;return l([[-1,o,0],[-1,r,0],[0,-1,o],[0,-1,r],[0,1,o],[0,1,r],[1,o,0],[1,r,0],[n,n,n],[n,n,a],[n,a,n],[n,a,a],[o,0,1],[o,0,-1],[a,n,n],[a,n,a],[a,a,n],[a,a,a],[r,0,1],[r,0,-1]],e.radius/2)}function s(e){var t=-1/1.7320508075688772;return l([[0,0,1.7320508075688772+t],[-1,0,t],[1,0,t],[0,0.816496580927726*2,0]],e.radius/2)}function l(e,t){return e.map(function(e){return e.map(function(e){return e*t})})}function d(e,t){e.forEach(function(e,n){var o=t[n];e.setAttribute('position',{x:o[0],y:o[1],z:o[2]})})}var c=Math.sin,p=Math.cos;AFRAME.registerComponent('layout',{schema:{angle:{type:'number',default:!1,min:0,max:360,if:{type:['circle']}},columns:{default:1,min:0,if:{type:['box']}},margin:{default:1,min:0,if:{type:['box','line']}},marginColumn:{default:1,min:0,if:{type:['box']}},marginRow:{default:1,min:0,if:{type:['box']}},plane:{default:'xy'},radius:{default:1,min:0,if:{type:['circle','cube','dodecahedron','pyramid']}},reverse:{default:!1},type:{default:'line',oneOf:['box','circle','cube','dodecahedron','line','pyramid']},fill:{default:!0,if:{type:['circle']}}},init:function(){var e=this,t=this.el;this.children=t.getChildEntities(),this.initialPositions=[],this.children.forEach(function(t){function n(){var n=t.getAttribute('position');e.initialPositions.push([n.x,n.y,n.z])}return t.hasLoaded?n():void t.addEventListener('loaded',n)}),t.addEventListener('child-attached',function(n){n.detail.el.parentNode!==t||(e.children.push(n.detail.el),e.update())}),t.addEventListener('child-detached',function(t){-1===e.children.indexOf(t.detail.el)||(e.children.splice(e.children.indexOf(t.detail.el),1),e.initialPositions.splice(e.children.indexOf(t.detail.el),1),e.update())})},update:function(){var e,l,c=this.children,p=this.data,u=this.el,m=c.length;switch(p.type){case'box':{e=t;break}case'circle':{e=n;break}case'cube':{e=a;break}case'dodecahedron':{e=r;break}case'pyramid':{e=s;break}default:e=o;}l=e(p,m,'margin'in u.getDOMAttribute('layout')),p.reverse&&l.reverse(),d(c,l)},remove:function(){this.el.removeEventListener('child-attached',this.childAttachedCallback),d(this.children,this.initialPositions)}}),e.exports.getBoxPositions=t,e.exports.getCirclePositions=n,e.exports.getLinePositions=o,e.exports.getCubePositions=a,e.exports.getDodecahedronPositions=r,e.exports.getPyramidPositions=s},function(){var e=AFRAME.utils.debug,t=AFRAME.utils.coordinates,n=e('components:look-at:warn'),o=t.isCoordinates||t.isCoordinate;delete AFRAME.components['look-at'],AFRAME.registerComponent('look-at',{schema:{default:'',parse:function(e){return o(e)||'object'==typeof e?t.parse(e):e},stringify:function(e){return'object'==typeof e?t.stringify(e):e}},init:function(){this.target3D=null,this.vector=new THREE.Vector3},update:function(){var e,t=this,o=t.data,a=t.el.object3D;return o&&('object'!=typeof o||Object.keys(o).length)?'object'==typeof o?a.lookAt(new THREE.Vector3(o.x,o.y,o.z)):(e=t.el.sceneEl.querySelector(o),e?e.hasLoaded?t.beginTracking(e):e.addEventListener('loaded',function(){t.beginTracking(e)}):void n('"'+o+'" does not point to a valid entity to look-at')):t.remove()},tick:function(){var e,t=this.target3D,n=this.el.object3D,o=this.vector;t&&(e=n.parent.worldToLocal(t.getWorldPosition()),this.el.getObject3D('camera')?o.subVectors(n.position,e).add(n.position):o=e,n.lookAt(o))},beginTracking:function(e){this.target3D=e.object3D}})},function(){AFRAME.registerComponent('proxy-event',{schema:{captureBubbles:{default:!1},event:{type:'string'},to:{type:'string'},as:{type:'string'},bubbles:{default:!1}},multiple:!0,init:function(){var e,t=this.data,n=this.el,o=this;e='CHILDREN'===t.to?n.querySelectorAll('*'):'SELF'===t.to?[n]:document.querySelectorAll(t.to),n.addEventListener(t.event,function(t){var a,r=o.data;if(r.captureBubbles||t.target===n)for(a=0;a<e.length;a++)e[a].emit(r.as||r.event,null,r.bubbles)})}})},function(){var e=Math.sin,t=Math.cos;if('undefined'==typeof AFRAME)throw new Error('Component attempted to register before AFRAME was available.');AFRAME.registerComponent('random-color',{schema:{min:{default:{x:0,y:0,z:0},type:'vec3'},max:{default:{x:1,y:1,z:1},type:'vec3'}},update:function(){var e=this.data,t=e.max,n=e.min;this.el.setAttribute('material','color','#'+new THREE.Color(Math.random()*t.x+n.x,Math.random()*t.y+n.y,Math.random()*t.z+n.z).getHexString())}}),AFRAME.registerComponent('random-position',{schema:{min:{default:{x:-10,y:-10,z:-10},type:'vec3'},max:{default:{x:10,y:10,z:10},type:'vec3'}},update:function(){var e=this.data,t=e.max,n=e.min;this.el.setAttribute('position',{x:Math.random()*(t.x-n.x)+n.x,y:Math.random()*(t.y-n.y)+n.y,z:Math.random()*(t.z-n.z)+n.z})}}),AFRAME.registerComponent('random-spherical-position',{schema:{radius:{default:10},startX:{default:0},lengthX:{default:360},startY:{default:0},lengthY:{default:360}},update:function(){var n=this.data,o=THREE.Math.degToRad(Math.random()*n.lengthX+n.startX),a=THREE.Math.degToRad(Math.random()*n.lengthY+n.startY);this.el.setAttribute('position',{x:n.radius*t(o)*e(a),y:n.radius*e(o)*e(a),z:n.radius*t(a)})}}),AFRAME.registerComponent('random-rotation',{schema:{min:{default:{x:0,y:0,z:0},type:'vec3'},max:{default:{x:360,y:360,z:360},type:'vec3'}},update:function(){var e=this.data,t=e.max,n=e.min;this.el.setAttribute('rotation',{x:Math.random()*t.x+n.x,y:Math.random()*t.y+n.y,z:Math.random()*t.z+n.z})}}),AFRAME.registerComponent('random-scale',{schema:{min:{default:{x:0,y:0,z:0},type:'vec3'},max:{default:{x:2,y:2,z:2},type:'vec3'}},update:function(){var e=this.data,t=e.max,n=e.min;this.el.setAttribute('scale',{x:Math.random()*t.x+n.x,y:Math.random()*t.y+n.y,z:Math.random()*t.z+n.z})}})},function(){function e(e){return'back'===e?THREE.BackSide:'double'===e?THREE.DoubleSide:THREE.FrontSide}if('undefined'==typeof AFRAME)throw new Error('Component attempted to register before AFRAME was available.');AFRAME.registerComponent('slice9',{schema:{bottom:{default:0,min:0},color:{type:'color',default:'#fff'},debug:{default:!1},height:{default:1,min:0},left:{default:0,min:0},opacity:{default:1,min:0,max:1},padding:{default:0.1,min:0.01},right:{default:0,min:0},side:{default:'front',oneOf:['front','back','double']},src:{type:'map'},top:{default:0,min:0},transparent:{default:!0},width:{default:1,min:0},usingCustomMaterial:{default:!1},usingAtlas:{default:!1},uvAtlasMin:{type:'vec2'},uvAtlasMax:{type:'vec2'}},init:function(){var e,t,n=this.data;this.textureSrc=null,e=this.geometry=new THREE.PlaneBufferGeometry(n.width,n.height,3,3),n.usingCustomMaterial?this.plane=new THREE.Mesh(e):(t=this.material=new THREE.MeshBasicMaterial({color:n.color,opacity:n.opacity,transparent:n.transparent,wireframe:n.debug}),this.plane=new THREE.Mesh(e,t)),this.el.setObject3D('mesh',this.plane)},regenerateMesh:function(){function e(e,t,n){s[3*e]=t,s[3*e+1]=n}function t(e,t,n){r.usingAtlas&&(t=r.uvAtlasMin.x+t*(r.uvAtlasMax.x-r.uvAtlasMin.x),n=r.uvAtlasMin.y+n*(r.uvAtlasMax.y-r.uvAtlasMin.y)),l[2*e]=t,l[2*e+1]=n}var n,o,a,r=this.data,s=this.geometry.attributes.position.array,l=this.geometry.attributes.uv.array;if(!this.material||this.material.map){r.usingCustomMaterial?(n=1,a=1):(n=this.material.map.image.width,a=this.material.map.image.width),o={left:r.left/a,right:r.right/a,top:r.top/n,bottom:r.bottom/n},t(1,o.left,1),t(2,o.right,1),t(4,0,o.bottom),t(5,o.left,o.bottom),t(6,o.right,o.bottom),t(7,1,o.bottom),t(8,0,o.top),t(9,o.left,o.top),t(10,o.right,o.top),t(11,1,o.top),t(13,o.left,0),t(14,o.right,0),r.usingAtlas&&(t(0,0,1),t(3,1,1),t(12,0,0),t(15,1,0));var d=r.width/2,c=r.height/2,p=-d+r.padding,u=d-r.padding,m=c-r.padding,g=-c+r.padding;e(0,-d,c),e(1,p,c),e(2,u,c),e(3,d,c),e(4,-d,m),e(5,p,m),e(6,u,m),e(7,d,m),e(8,-d,g),e(9,p,g),e(10,u,g),e(11,d,g),e(13,p,-c),e(14,u,-c),e(12,-d,-c),e(15,d,-c),this.geometry.attributes.position.needsUpdate=!0,this.geometry.attributes.uv.needsUpdate=!0}},update:function(t){var n,o=this.data;n=AFRAME.utils.diff(o,t),o.usingCustomMaterial||(this.material.color.setStyle(o.color),this.material.opacity=o.opacity,this.material.transparent=o.transparent,this.material.wireframe=o.debug,this.material.side=e(o.side),'src'in n&&this.updateMap()),('width'in n||'height'in n||'padding'in n||'left'in n||'top'in n||'bottom'in n||'right'in n)&&this.regenerateMesh()},updateMap:function(){function e(e){this.material.map=e,this.material.needsUpdate=!0,this.regenerateMesh()}var t=this.data.src;return t?t===this.textureSrc?void 0:(this.textureSrc=t,void this.el.sceneEl.systems.material.loadTexture(t,{src:t},e.bind(this))):void(!this.material.map||e(null))}})},function(e,t,n){function o(e){var t='line'===e.type?2:e.curveNumberPoints;return new d(t,e.curveLineWidth)}function a(e){var t,n,o;return n=document.createElement('a-entity'),n.className='hitEntity',n.setAttribute('visible',!1),o=document.createElement('a-entity'),o.setAttribute('geometry',{primitive:'torus',radius:e.hitCylinderRadius,radiusTubular:0.01}),o.setAttribute('material',{shader:'flat',color:e.hitCylinderColor,side:'double',depthTest:!1}),o.setAttribute('rotation','-90 0 0'),n.appendChild(o),t=document.createElement('a-entity'),t.setAttribute('position',{x:0,y:e.hitCylinderHeight/2,z:0}),t.setAttribute('geometry',{primitive:'cylinder',segmentsHeight:1,radius:e.hitCylinderRadius,height:e.hitCylinderHeight,openEnded:!0}),t.setAttribute('material',{shader:'flat',color:e.hitCylinderColor,side:'double',src:s,transparent:!0,depthTest:!1}),n.appendChild(t),n}function r(){var e,t;return e=new THREE.PlaneBufferGeometry(100,100),e.rotateX(-Math.PI/2),t=new THREE.MeshBasicMaterial({color:16776960}),new THREE.Mesh(e,t)}var s=n(15),l=n(13),d=n(14);if('undefined'==typeof AFRAME)throw new Error('Component attempted to register before AFRAME was available.');Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;0<=--n&&t.item(n)!==this;);return-1<n}),AFRAME.registerComponent('teleport-controls',{schema:{type:{default:'parabolic',oneOf:['parabolic','line']},button:{default:'trackpad',oneOf:['trackpad','trigger','grip','menu']},startEvents:{type:'array'},endEvents:{type:'array'},collisionEntities:{default:''},checkCollisionChildren:{default:!0},hitEntity:{type:'selector'},hitEntityAlignNormal:{default:!0},cameraRig:{type:'selector'},teleportOrigin:{type:'selector'},hitCylinderColor:{type:'color',default:'#99ff99'},hitCylinderRadius:{default:0.25,min:0},hitCylinderHeight:{default:0.3,min:0},interval:{default:0},maxLength:{default:10,min:0,if:{type:['line']}},curveNumberPoints:{default:30,min:2,if:{type:['parabolic']}},curveLineWidth:{default:0.025},curveHitColor:{type:'color',default:'#99ff99'},curveMissColor:{type:'color',default:'#ff0000'},curveShootingSpeed:{default:5,min:0,if:{type:['parabolic']}},defaultPlaneSize:{default:100},landingNormal:{type:'vec3',default:'0 1 0'},landingMaxAngle:{default:'45',min:0,max:360}},init:function(){var e,t,n=this.data,o=this.el;if(this.active=!1,this.obj=o.object3D,this.hitPoint=new THREE.Vector3,this.rigWorldPosition=new THREE.Vector3,this.newRigWorldPosition=new THREE.Vector3,this.teleportEventDetail={oldPosition:this.rigWorldPosition,newPosition:this.newRigWorldPosition,hitPoint:this.hitPoint},this.intersections=[],this.meshes=[],this.hit=!1,this.prevCheckTime=void 0,this.prevHitHeight=0,this.referenceNormal=new THREE.Vector3,this.curveMissColor=new THREE.Color,this.curveHitColor=new THREE.Color,this.raycaster=new THREE.Raycaster,this.defaultPlane=r(this.data.defaultPlaneSize),this.defaultCollisionMeshes=[this.defaultPlane],e=this.teleportEntity=document.createElement('a-entity'),e.classList.add('teleportRay'),e.object3D.visible=!1,o.sceneEl.appendChild(this.teleportEntity),this.onButtonDown=this.onButtonDown.bind(this),this.onButtonUp=this.onButtonUp.bind(this),this.data.startEvents.length&&this.data.endEvents.length){for(t=0;t<this.data.startEvents.length;t++)o.addEventListener(this.data.startEvents[t],this.onButtonDown);for(t=0;t<this.data.endEvents.length;t++)o.addEventListener(this.data.endEvents[t],this.onButtonUp)}else o.addEventListener(n.button+'down',this.onButtonDown),o.addEventListener(n.button+'up',this.onButtonUp);this.refreshMeshes()},update:function(e){var t=this.data,n=AFRAME.utils.diff(t,e);this.referenceNormal.copy(t.landingNormal),this.curveMissColor.set(t.curveMissColor),this.curveHitColor.set(t.curveHitColor),(!this.line||'curveLineWidth'in n||'curveNumberPoints'in n||'type'in n)&&(this.line=o(t),this.teleportEntity.setObject3D('mesh',this.line.mesh)),t.hitEntity?this.hitEntity=t.hitEntity:(!this.hitEntity||'hitCylinderColor'in n||'hitCylinderHeight'in n||'hitCylinderRadius'in n)&&(this.hitEntity&&this.hitEntity.parentNode.removeChild(this.hitEntity),this.hitEntity=a(t),this.el.sceneEl.appendChild(this.hitEntity)),this.hitEntity.object3D.visible=!1,'collisionEntities'in n&&this.refreshMeshes()},remove:function(){var e=this.el,t=this.hitEntity,n=this.teleportEntity;t&&t.parentNode.removeChild(t),n&&n.parentNode.removeChild(n),e.sceneEl.removeEventListener('child-attached',this.childAttachHandler),e.sceneEl.removeEventListener('child-detached',this.childDetachHandler)},tick:function(){var e=new THREE.Vector3,n=new THREE.Vector3,o=new THREE.Vector3(0,-9.8,0),a=new THREE.Vector3,r=new THREE.Vector3,s=new THREE.Quaternion,d=new THREE.Vector3,c=new THREE.Vector3,p=new THREE.Vector3,u=new THREE.Vector3,m=new THREE.Vector3;return function(g){if(this.active&&!(this.prevCheckTime&&g-this.prevCheckTime<this.data.interval)){this.prevCheckTime=g;var y=this.obj.matrixWorld;y.decompose(d,s,c);var h=p.set(0,0,-1).applyQuaternion(s).normalize();if(this.line.setDirection(m.copy(h)),this.obj.getWorldPosition(e),r.copy(e),this.teleportEntity.object3D.visible=!0,this.line.material.color.set(this.curveMissColor),this.hitEntity.object3D.visible=!1,this.hit=!1,'parabolic'===this.data.type){n.copy(h).multiplyScalar(this.data.curveShootingSpeed);for(var f,t=0;t<this.line.numPoints;t++){f=t/(this.line.numPoints-1),l(e,n,o,f,a);var b=u.copy(a).sub(r).normalize();if(this.raycaster.far=b.length(),this.raycaster.set(r,b),this.checkMeshCollisions(t,a))break;r.copy(a)}}else'line'===this.data.type&&(a.copy(r).add(m.copy(h).multiplyScalar(this.data.maxLength)),this.raycaster.far=this.data.maxLength,this.raycaster.set(e,h),this.line.setPoint(0,e),this.checkMeshCollisions(1,a))}}}(),refreshMeshes:function(){var e,t,n,o=this.data,a=this.el;if(!o.collisionEntities)return void(this.collisionEntities=[]);if(e=[].slice.call(a.sceneEl.querySelectorAll(o.collisionEntities)),this.collisionEntities=e,this.data.checkCollisionChildren&&(a.sceneEl.removeEventListener('child-attached',this.childAttachHandler),this.childAttachHandler=function(t){t.detail.el.matches(o.collisionEntities)&&e.push(t.detail.el)},a.sceneEl.addEventListener('child-attached',this.childAttachHandler),a.sceneEl.removeEventListener('child-detached',this.childDetachHandler),this.childDetachHandler=function(t){var n;t.detail.el.matches(o.collisionEntities)&&(n=e.indexOf(t.detail.el),-1===n||e.splice(n,1))},a.sceneEl.addEventListener('child-detached',this.childDetachHandler)),this.data.collisionEntities){var n=this.meshes=[];for(t=0;t<this.collisionEntities.length;t++){var r=this.collisionEntities[t].getObject3D('mesh');r?this.meshes.push(r):this.collisionEntities[t].addEventListener('object3dset',function(e){e.target!==this||'mesh'!==e.detail.type||n.push(e.detail.object)})}}else this.meshes=this.defaultCollisionMeshes},onButtonDown:function(){this.active=!0,this.el.emit('teleportstart')},onButtonUp:function(){const e=new THREE.Vector3,t=new THREE.Vector3,n=[new THREE.Vector3,new THREE.Vector3],o=new THREE.Vector3;return function(){if(this.active&&(this.active=!1,this.hitEntity.object3D.visible=!1,this.teleportEntity.object3D.visible=!1,!!this.hit)){const s=this.data.cameraRig||this.el.sceneEl.camera.el;s.object3D.getWorldPosition(this.rigWorldPosition),this.newRigWorldPosition.copy(this.hitPoint);const l=this.data.teleportOrigin;if(l&&(l.object3D.getWorldPosition(e),this.newRigWorldPosition.sub(e).add(this.rigWorldPosition)),this.newRigWorldPosition.y=this.rigWorldPosition.y+this.hitPoint.y-this.prevHitHeight,this.prevHitHeight=this.hitPoint.y,t.copy(this.newRigWorldPosition),s.object3D.parent&&s.object3D.parent.worldToLocal(t),s.object3D.position.copy(t),!this.data.cameraRig)for(var a=document.querySelectorAll('a-entity[tracked-controls]'),r=0;r<a.length;r++)a[r].object3D.getWorldPosition(o),n[r].copy(this.newRigWorldPosition).sub(this.rigWorldPosition).add(o),a[r].object3D.position.copy(n[r]);this.el.emit('teleported',this.teleportEventDetail)}}}(),checkMeshCollisions:function(){var e=new THREE.Vector3;return function(t,n){var t,o=this.intersections;if(o.length=0,this.raycaster.intersectObjects(this.meshes,!0,o),0<o.length&&!this.hit&&this.isValidNormalsAngle(o[0].face.normal)){var a=o[0].point;this.line.material.color.set(this.curveHitColor),this.hitEntity.object3D.position.copy(a),this.hitEntity.object3D.visible=!0,this.hit=!0,this.hitPoint.copy(o[0].point),this.data.hitEntityAlignNormal&&(e.copy(o[0].point).add(o[0].face.normal),o[0].object.localToWorld(e),this.hitEntity.object3D.lookAt(e));for(var r=t;r<this.line.numPoints;r++)this.line.setPoint(r,this.hitPoint);return!0}return this.line.setPoint(t,n),!1}}(),isValidNormalsAngle:function(e){var t=this.referenceNormal.angleTo(e);return THREE.Math.RAD2DEG*t<=this.data.landingMaxAngle}})},function(){window.utils={},window.utils.drawLine=function(){var e={};return function(t,n,o,a){e[t]||(e[t]=document.createElement('a-entity'),e[t].setAttribute('line','color',a||'#FFF'),e[t].setAttribute('id',t),AFRAME.scenes[0].appendChild(e[t])),e[t].setAttribute('line','start',n.clone()),e[t].setAttribute('line','end',o.clone())}}(),window.utils.drawVec3=function(){var e={};return function(t,n,o){e[t]||(e[t]=document.createElement('a-sphere'),e[t].setAttribute('color',o||'#FFF'),e[t].setAttribute('radius',0.02),e[t].setAttribute('id',t),e[t].setAttribute('text',{align:'center',value:t,side:'double'}),AFRAME.scenes[0].appendChild(e[t])),e[t].setAttribute('position',n.clone())}}(),window.utils.getFaceCenter=function(){return function(e,t,n){return n=n||new THREE.Vector3,n.copy(e.geometry.vertices[t.a]).add(e.geometry.vertices[t.b]).add(e.geometry.vertices[t.c]).divideScalar(3)}}(),window.utils.assetPath=function(e){return'true'===AFRAME.scenes[0].dataset.isHome?e:`../${e}`},window.utils.random=function(e){var t,n;for(n=0,t=0;t<window.location.href.length;t++)n+=window.location.href.charCodeAt(t);return parseFloat('0.'+Math.sin(9999*n*e).toString().substr(7))}},function(){var e=Math.sign,t=Math.abs,n=String.prototype,o=Math.max;(function(e){function t(o){if(n[o])return n[o].exports;var a=n[o]={exports:{},id:o,loaded:!1};return e[o].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p='',t(0)})([function(e,t,n){'use strict';n(1),n(45),n(47),n(58),n(59),n(65)},function(e,t,n){'use strict';function o(e,t,n){return new Promise(function(o){u(t).then(function(){h[e]={template:l(t)(n.trim()),type:t},o(h[e])})})}function a(e,t,n){return t===v?e(n):t===C?e(n):t===A?Mustache.render(e,n):t===x?e.render(n):m(e,n)}function r(e,t){var n=document.querySelector(e),a=n.getAttribute('type'),r=n.innerHTML;if(!t){if(!a)throw new Error('Must provide `type` attribute for <script> templates (e.g., handlebars, jade, nunjucks, html)');if(-1!==a.indexOf('handlebars'))t=v;else if(-1!==a.indexOf('jade'))t=C;else if(-1!==a.indexOf('mustache'))t=A;else if(-1!==a.indexOf('nunjucks'))t=x;else if(-1!==a.indexOf('html'))t=S;else return void f('Template type could not be inferred from the script tag. Please add a type.')}return new Promise(function(n){o(e,t,r).then(function(e){n(e,t)})})}function s(e,t){return new Promise(function(n){var a;a=new XMLHttpRequest,a.addEventListener('load',function(){o(e,t,a.response).then(function(e){n(e,t)})}),a.open('GET',e),a.send()})}function l(e){return e===v?d:e===C?c:e===A?d:e===x?p:function(e){return e}}function d(e){return Handlebars.compile(e)}function c(e){return jade.compile(e)}function p(e){return nunjucks.compile(e)}function u(e){return new Promise(function(t){if(!e||'html'===e)return t();var n=k[e];if(!0===k[e])return t();n||(n=document.createElement('script'),k[e]=n,n.setAttribute('src',E[e]),b('Lazy-loading %s engine. Please add <script src="%s"> to your page.',e,E[e]),document.body.appendChild(n));var o=n.onload||function(){};n.onload=function(){o(),k[e]=!0,t()}})}var m=n(2),g=AFRAME.utils.debug,y=AFRAME.utils.extend,h={},f=g('template-component:error'),b=g('template-component:info'),v='handlebars',C='jade',A='mustache',x='nunjucks',S='html',k={};k[v]=!!window.Handlebars,k[C]=!!window.jade,k[A]=!!window.Mustache,k[x]=!!window.nunjucks;var E={};E[v]='https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js',E[C]='https://cdnjs.cloudflare.com/ajax/libs/jade/1.11.0/jade.min.js',E[A]='https://cdnjs.cloudflare.com/ajax/libs/mustache.js/2.2.1/mustache.min.js',E[x]='https://cdnjs.cloudflare.com/ajax/libs/nunjucks/2.3.0/nunjucks.min.js',AFRAME.registerComponent('template',{schema:{insert:{default:'beforeend'},type:{default:''},src:{default:''},data:{default:''}},update:function(e){var t=this.data,n=this.el,o='#'===t.src[0]?r:s,a=h[t.src];if(e&&e.src!==t.src)for(;n.firstChild;)n.removeChild(n.firstChild);return a?void this.renderTemplate(a):void o(t.src,t.type).then(this.renderTemplate.bind(this))},renderTemplate:function(e){var t=this.el,n=this.data,o={};Object.keys(t.dataset).forEach(function(e){o[e]=t.dataset[e]}),n.data&&(o=y(o,t.getAttribute(n.data)));var r=a(e.template,e.type,o);t.insertAdjacentHTML(n.insert,r),t.emit('templaterendered')}});AFRAME.registerComponent('template-set',{schema:{on:{type:'string'},src:{type:'string'},data:{type:'string'}},init:function(){var e=this.data,t=this.el;t.addEventListener(e.on,function(){t.setAttribute('template',{src:e.src,data:e.data})})}})},function(e,t,n){'use strict';var o=n(3),a=n(41);e.exports=function(e,t){return a(o(e),t,arguments[2])}},function(e,t,n){'use strict';var o,a,r,s,l,d,c,p,u,m,g=n(4);l=function(e){return'\\'===e?d:'$'===e?c:(a+=e,l)},d=function(e){return'\\'!==e&&'$'!==e&&(a+='\\'),a+=e,l},c=function(e){return'{'===e?(r.push(a),a='',p):'$'===e?(a+='$',c):(a+='$'+e,l)},p=function(){var e,t=m.slice(o);return(g(t,'}',function(t){return 0<=g.nest?g.next():void(e=t)}),null!=e)?(s.push(m.slice(o,o+e)),o+=e,a='',l):(e=t.length,o+=e,a+=t,p)},u=function(e){return'\\'!==e&&'}'!==e&&(a+='\\'),a+=e,p},e.exports=function(e){var t,n,g;for(a='',r=[],s=[],m=e+'',t=m.length,n=l,o=0;o<t;++o)n=n(m[o]);return n===l?r.push(a):n===d?r.push(a+'\\'):n===c?r.push(a+'$'):n===p?r[r.length-1]+='${'+a:n===u&&(r[r.length-1]+='${'+a+'\\'),g={literals:r,substitutions:s},r=s=null,g}},function(e,t,n){'use strict';var o,a,r,s,l,c,p,u,m,g,y,h,f,b,v,C,A,x,S,k,E,w,P,D,T,O,j,L=n(5),z=n(37),I=n(20),N=n(35),R=n(11),d=n(38),M=n(39),V=Object.prototype.hasOwnProperty,U=z.apply(null,L(';{=([,<>+-*/%&|^!~?:}')),F=z.apply(null,L(';{=([,<>+-*/%&|^!~?:})].'));o=function(e){if(h&&!(y>=e))for(;y!==e;){if(!h)return;V.call(M,h)?V.call(d,h)&&(b=y,++f):C=h,h=k[++y]}},a=function(e){null!=T&&x.push([O,T,e]),O={point:y+1,line:f,column:y+1-b},T=y},r=function(){var e;return O.raw=k.slice(T,y),S.push(O),x.length?(e=x.pop(),O=e[0],T=e[1],void(j=e[2])):void(O=null,T=null,j=null)},s=function(){var e=j;return j=A,++A,o(y+1),a(e),l},c=function(){if('\''===h||'"'===h)return D=h,h=k[++y],p;if('('===h||'{'===h||'['===h)++A;else if(')'===h||'}'===h||']'===h)j===--A&&r();else if('/'===h&&V.call(U,C))return h=k[++y],g;return h===E&&(w||!C||v||V.call(F,C))?P(y,C,A):(C=h,h=k[++y],l)},u=function(){for(;;){if(!h)return;if(V.call(d,h))return b=y+1,void++f;h=k[++y]}},m=function(){for(;;){if(!h)return;if('*'===h){if(h=k[++y],'/'===h)return;continue}V.call(d,h)&&(b=y+1,++f),h=k[++y]}},l=function(){var e;for(v=!1;;){if(!h)return;if(V.call(M,h))v=!0,V.call(d,h)&&(b=y+1,++f);else if('/'!==h)break;else if(e=k[y+1],'/'===e)h=k[y+=2],v=!0,u();else if('*'===e)h=k[y+=2],v=!0,m();else break;h=k[++y]}return c},p=function(){for(;;){if(!h)return;if(h===D)return h=k[++y],C=D,l;'\\'===h&&V.call(d,k[++y])&&(b=y+1,++f),h=k[++y]}},g=function(){for(;;){if(!h)return;if('/'===h)return C='/',h=k[++y],l;'\\'===h&&++y,h=k[++y]}},e.exports=t=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,n,o){var a;if(k=I(e)+'',E=I(n)+'',1!==E.length)throw new TypeError(E+' should be one character long string');for(P=N(o),w=V.call(F,E),y=0,h=k[y],f=1,b=0,v=!1,C=null,A=0,x=[],S=[],t.forceStop=!1,a=l;a;)a=a();return S}),Object.defineProperties(t,{$ws:R(l),$common:R(c),collectNest:R(s),move:R(o),index:R.gs(function(){return y}),line:R.gs(function(){return f}),nest:R.gs(function(){return A}),columnIndex:R.gs(function(){return b}),next:R(function(e){if(h)return o(y+(e||1)),l()}),resume:R(function(){return c})})},function(e,t,n){'use strict';e.exports=n(6)()?Array.from:n(7)},function(e){'use strict';e.exports=function(){var e,t,n=Array.from;return!('function'!=typeof n)&&(e=['raz','dwa'],t=n(e),!!(t&&t!==e&&'dwa'===t[1]))}},function(e,t,n){'use strict';var o=n(8).iterator,a=n(28),r=n(29),s=n(30),l=n(35),d=n(20),c=n(18),p=n(36),u=Array.isArray,m=Function.prototype.call,g={configurable:!0,enumerable:!0,writable:!0,value:null},y=Object.defineProperty;e.exports=function(e){var t,n,h,f,b,v,C,A,x,S,k=arguments[1],E=arguments[2];if(e=Object(d(e)),c(k)&&l(k),!this||this===Array||!r(this)){if(!k){if(a(e))return(b=e.length,1!==b)?Array.apply(null,e):(f=[,],f[0]=e[0],f);if(u(e)){for(f=Array(b=e.length),n=0;n<b;++n)f[n]=e[n];return f}}f=[]}else t=this;if(!u(e))if(void 0!==(x=e[o])){for(C=l(x).call(e),t&&(f=new t),A=C.next(),n=0;!A.done;)S=k?m.call(k,E,A.value,n):A.value,t?(g.value=S,y(f,n,g)):f[n]=S,A=C.next(),++n;b=n}else if(p(e)){for(b=e.length,t&&(f=new t),(n=0,h=0);n<b;++n)S=e[n],n+1<b&&(v=S.charCodeAt(0),55296<=v&&56319>=v&&(S+=e[++n])),S=k?m.call(k,E,S,h):S,t?(g.value=S,y(f,h,g)):f[h]=S,++h;b=h}if(void 0===b)for(b=s(e.length),t&&(f=new t(b)),n=0;n<b;++n)S=k?m.call(k,E,e[n],n):e[n],t?(g.value=S,y(f,n,g)):f[n]=S;return t&&(g.value=null,f.length=b),f}},function(e,t,n){'use strict';e.exports=n(9)()?Symbol:n(10)},function(e){'use strict';var t='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},n={object:!0,symbol:!0};e.exports=function(){var e;if('function'!=typeof Symbol)return!1;e=Symbol('test symbol');try{}catch(t){return!1}return!!n[t(Symbol.iterator)]&&!!n[t(Symbol.toPrimitive)]&&!!n[t(Symbol.toStringTag)]}},function(e,t,n){'use strict';var o,a,r,s,l='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},c=n(11),d=n(26),p=Object.create,u=Object.defineProperties,m=Object.defineProperty,g=Object.prototype,y=p(null);if('function'==typeof Symbol){o=Symbol;try{o()+'',s=!0}catch(e){}}var h=function(){var e=p(null);return function(t){for(var n,o,a=0;e[t+(a||'')];)++a;return t+=a||'',e[t]=!0,n='@@'+t,m(g,n,c.gs(null,function(e){o||(o=!0,m(this,n,c(e)),o=!1)})),n}}();r=function(e){if(this instanceof r)throw new TypeError('Symbol is not a constructor');return a(e)},e.exports=a=function e(t){var n;if(this instanceof e)throw new TypeError('Symbol is not a constructor');return s?o(t):(n=p(r.prototype),t=void 0===t?'':t+'',u(n,{__description__:c('',t),__name__:c('',h(t))}))},u(a,{for:c(function(e){return y[e]?y[e]:y[e]=a(e+'')}),keyFor:c(function(e){for(var t in d(e),y)if(y[t]===e)return t}),hasInstance:c('',o&&o.hasInstance||a('hasInstance')),isConcatSpreadable:c('',o&&o.isConcatSpreadable||a('isConcatSpreadable')),iterator:c('',o&&o.iterator||a('iterator')),match:c('',o&&o.match||a('match')),replace:c('',o&&o.replace||a('replace')),search:c('',o&&o.search||a('search')),species:c('',o&&o.species||a('species')),split:c('',o&&o.split||a('split')),toPrimitive:c('',o&&o.toPrimitive||a('toPrimitive')),toStringTag:c('',o&&o.toStringTag||a('toStringTag')),unscopables:c('',o&&o.unscopables||a('unscopables'))}),u(r.prototype,{constructor:c(a),toString:c('',function(){return this.__name__})}),u(a.prototype,{toString:c(function(){return'Symbol ('+d(this).__description__+')'}),valueOf:c(function(){return d(this)})}),m(a.prototype,a.toPrimitive,c('',function(){var e=d(this);return'symbol'===('undefined'==typeof e?'undefined':l(e))?e:e.toString()})),m(a.prototype,a.toStringTag,c('c','Symbol')),m(r.prototype,a.toStringTag,c('c',a.prototype[a.toStringTag])),m(r.prototype,a.toPrimitive,c('c',a.prototype[a.toPrimitive]))},function(e,t,n){'use strict';var o,a=n(12),r=n(21),s=n(22),l=n(23);o=e.exports=function(t,n){var o,s,d,p,u;return 2>arguments.length||'string'!=typeof t?(p=n,n=t,t=null):p=arguments[2],null==t?(o=d=!0,s=!1):(o=l.call(t,'c'),s=l.call(t,'e'),d=l.call(t,'w')),u={value:n,configurable:o,enumerable:s,writable:d},p?a(r(p),u):u},o.gs=function(t,n,o){var d,p,u,m;return'string'==typeof t?u=arguments[3]:(u=o,o=n,n=t,t=null),null==n?n=void 0:s(n)?null==o?o=void 0:!s(o)&&(u=o,o=void 0):(u=n,n=o=void 0),null==t?(d=!0,p=!1):(d=l.call(t,'c'),p=l.call(t,'e')),m={get:n,set:o,configurable:d,enumerable:p},u?a(r(u),m):m}},function(e,t,n){'use strict';e.exports=n(13)()?Object.assign:n(14)},function(e){'use strict';e.exports=function(){var e,t=Object.assign;return!('function'!=typeof t)&&(e={foo:'raz'},t(e,{bar:'dwa'},{trzy:'trzy'}),'razdwatrzy'===e.foo+e.bar+e.trzy)}},function(e,t,n){'use strict';var a=n(15),r=n(20);e.exports=function(e,t){var n,s,l,d=o(arguments.length,2);for(e=Object(r(e)),l=function(o){try{e[o]=t[o]}catch(t){n||(n=t)}},s=1;s<d;++s)t=arguments[s],a(t).forEach(l);if(n!==void 0)throw n;return e}},function(e,t,n){'use strict';e.exports=n(16)()?Object.keys:n(17)},function(e){'use strict';e.exports=function(){try{return Object.keys('primitive'),!0}catch(t){return!1}}},function(e,t,n){'use strict';var o=n(18),a=Object.keys;e.exports=function(e){return a(o(e)?Object(e):e)}},function(e,t,n){'use strict';var o=n(19)();e.exports=function(e){return e!==o&&null!==e}},function(e){'use strict';e.exports=function(){}},function(e,t,n){'use strict';var o=n(18);e.exports=function(e){if(!o(e))throw new TypeError('Cannot use null or undefined');return e}},function(e,t,n){'use strict';var o=n(18),a=Array.prototype.forEach,r=Object.create,s=function(e,t){for(var n in e)t[n]=e[n]};e.exports=function(){var e=r(null);return a.call(arguments,function(t){o(t)&&s(Object(t),e)}),e}},function(e){'use strict';e.exports=function(e){return'function'==typeof e}},function(e,t,o){'use strict';e.exports=o(24)()?n.contains:o(25)},function(e){'use strict';var t='razdwatrzy';e.exports=function(){return!('function'!=typeof t.contains)&&!0===t.contains('dwa')&&!1===t.contains('foo')}},function(e){'use strict';var t=n.indexOf;e.exports=function(e){return-1<t.call(this,e,arguments[1])}},function(e,t,n){'use strict';var o=n(27);e.exports=function(e){if(!o(e))throw new TypeError(e+' is not a symbol');return e}},function(e){'use strict';var t='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e};e.exports=function(e){return!!e&&(!('symbol'!==('undefined'==typeof e?'undefined':t(e)))||!!e.constructor&&!('Symbol'!==e.constructor.name)&&'Symbol'===e[e.constructor.toStringTag])}},function(e){'use strict';var t=Object.prototype.toString,n=t.call(function(){return arguments}());e.exports=function(e){return t.call(e)===n}},function(e,t,n){'use strict';var o=Object.prototype.toString,a=o.call(n(19));e.exports=function(e){return'function'==typeof e&&o.call(e)===a}},function(e,t,n){'use strict';var a=n(31);e.exports=function(e){return o(0,a(e))}},function(e,n,o){'use strict';var a=o(32),r=Math.floor;e.exports=function(e){return isNaN(e)?0:(e=+e,0!==e&&isFinite(e)?a(e)*r(t(e)):e)}},function(t,n,o){'use strict';t.exports=o(33)()?e:o(34)},function(t){'use strict';t.exports=function(){var t=e;return!('function'!=typeof t)&&1===t(10)&&-1===t(-20)}},function(e){'use strict';e.exports=function(e){return e=+e,isNaN(e)||0===e?e:0<e?1:-1}},function(e){'use strict';e.exports=function(e){if('function'!=typeof e)throw new TypeError(e+' is not a function');return e}},function(e){'use strict';var t='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},n=Object.prototype.toString,o=n.call('');e.exports=function(e){return'string'==typeof e||e&&'object'===('undefined'==typeof e?'undefined':t(e))&&(e instanceof String||n.call(e)===o)||!1}},function(e){'use strict';var t=Array.prototype.forEach,n=Object.create;e.exports=function(){var e=n(null);return t.call(arguments,function(t){e[t]=!0}),e}},function(e,t,n){'use strict';var o=n(5),a=n(37);e.exports=a.apply(null,o('\n\r\u2028\u2029'))},function(e,t,n){'use strict';var o=n(37),a=n(38),r=n(40);e.exports=o.apply(null,Object.keys(a).concat(Object.keys(r)))},function(e,t,n){'use strict';var o=n(5),a=n(37);e.exports=a.apply(null,o(' \f\t\x0B\u200B\xA0\u1680\u200B\u180E\u2000\u200B\u2001\u2002\u200B\u2003\u2004\u200B\u2005\u2006\u200B\u2007\u2008\u200B\u2009\u200A\u200B\u200B\u200B\u202F\u205F\u200B\u3000'))},function(e,t,n){'use strict';var o=n(42),a=n(44);e.exports=function(e,t){return a.apply(null,o(e,t,arguments[2]))}},function(e,t,n){'use strict';var o=n(20),a=n(21),r=n(43),s=Array.prototype.map,l=Object.keys,d=JSON.stringify;e.exports=function(e,t){var n,c,p,u=Object(arguments[2]);return o(e)&&o(e.literals)&&o(e.substitutions),t=a(t),n=l(t).filter(r),c=n.join(', '),p=n.map(function(e){return t[e]}),[e.literals].concat(s.call(e.substitutions,function(t){var e;if(t){try{e=new Function(c,'return ('+t+')')}catch(n){throw new TypeError('Unable to compile expression:\n\targs: '+d(c)+'\n\tbody: '+d(t)+'\n\terror: '+n.stack)}try{return e.apply(null,p)}catch(n){if(u.partial)return'${'+t+'}';throw new TypeError('Unable to resolve expression:\n\targs: '+d(c)+'\n\tbody: '+d(t)+'\n\terror: '+n.stack)}}}))}},function(e){'use strict';e.exports=RegExp.prototype.test.bind(/^(?!(?:do|if|in|for|let|new|try|var|case|else|enum|eval|null|this|true|void|with|await|break|catch|class|const|false|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$)(?:[\$A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D])(?:[\$0-9A-Z_a-z\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF])*$/)},function(e){'use strict';var t=Array.prototype.reduce;e.exports=function(e){var n=arguments;return t.call(e,function(e,t,o){return e+(n[o]===void 0?'':n[o]+'')+t})}},function(e,t,n){'use strict';if('undefined'==typeof AFRAME)throw new Error('Component attempted to register before AFRAME was available.');var o=THREE.Math.degToRad,r=n(46);AFRAME.registerComponent('lerp',{schema:{properties:{default:['position','rotation','scale']}},init:function(){var e=this.el;this.lastPosition=e.getAttribute('position'),this.lastRotation=e.getAttribute('rotation'),this.lastScale=e.getAttribute('scale'),this.lerpingPosition=!1,this.lerpingRotation=!1,this.lerpingScale=!1,this.timeOfLastUpdate=0},tick:function(){var e,t=this.now(),n=this.el.object3D;this.checkForComponentChanged(),this.lerpingPosition&&(e=(t-this.startLerpTimePosition)/this.duration,n.position.lerpVectors(this.startPosition,this.targetPosition,e),1<=e&&(this.lerpingPosition=!1)),this.lerpingRotation&&(e=(t-this.startLerpTimeRotation)/this.duration,THREE.Quaternion.slerp(this.startRotation,this.targetRotation,n.quaternion,e),1<=e&&(this.lerpingRotation=!1)),this.lerpingScale&&(e=(t-this.startLerpTimeScale)/this.duration,n.scale.lerpVectors(this.startScale,this.targetScale,e),1<=e&&(this.lerpingScale=!1))},checkForComponentChanged:function(){var e=this.el,t=!1,n=e.getAttribute('position');this.isLerpable('position')&&!this.almostEqualVec3(this.lastPosition,n)&&(this.toPosition(this.lastPosition,n),this.lastPosition=n,t=!0);var o=e.getAttribute('rotation');this.isLerpable('rotation')&&!this.almostEqualVec3(this.lastRotation,o)&&(this.toRotation(this.lastRotation,o),this.lastRotation=o,t=!0);var a=e.getAttribute('scale');this.isLerpable('scale')&&!this.almostEqualVec3(this.lastScale,a)&&(this.toScale(this.lastScale,a),this.lastScale=a,t=!0),t&&this.updateDuration()},isLerpable:function(e){return-1!=this.data.properties.indexOf(e)},updateDuration:function(){var e=this.now();this.duration=e-this.timeOfLastUpdate,this.timeOfLastUpdate=e},toPosition:function(e,t){this.lerpingPosition=!0,this.startLerpTimePosition=this.now(),this.startPosition=new THREE.Vector3(e.x,e.y,e.z),this.targetPosition=new THREE.Vector3(t.x,t.y,t.z)},toRotation:function(e,t){this.lerpingRotation=!0,this.startLerpTimeRotation=this.now(),this.startRotation=new THREE.Quaternion,this.startRotation.setFromEuler(new THREE.Euler(o(e.x),o(e.y),o(e.z),'YXZ')),this.targetRotation=new THREE.Quaternion,this.targetRotation.setFromEuler(new THREE.Euler(o(t.x),o(t.y),o(t.z),'YXZ'))},toScale:function(e,t){this.lerpingScale=!0,this.startLerpTimeScale=this.now(),this.startScale=new THREE.Vector3(e.x,e.y,e.z),this.targetScale=new THREE.Vector3(t.x,t.y,t.z)},almostEqualVec3:function(e,t){return r(e.x,t.x)&&r(e.y,t.y)&&r(e.z,t.z)},now:function(){return Date.now()}})},function(e){'use strict';function n(e,t,a,s){var l=o(e-t);return null==a&&(a=n.DBL_EPSILON),null==s&&(s=a),!!(l<=a)||!!(l<=s*r(o(e),o(t)))||e===t}var o=t,r=Math.min;n.FLT_EPSILON=1.1920929e-7,n.DBL_EPSILON=2.220446049250313e-16,e.exports=n},function(e,t,n){'use strict';var o=n(48),a=n(49),r=n(50),s=n(51),l=n(52),d=n(54),c=n(55),p={};p.app='',p.room='',p.clientId='',p.options=o,p.utils=a,p.log=new r,p.schemas=new s,p.version='0.5.2',p.adapters=new c;var u=new l,m=new d(u);p.connection=m,p.entities=u,e.exports=window.NAF=p},function(e){'use strict';e.exports={debug:!1,updateRate:15,compressSyncPackets:!1,useLerp:!0}},function(e){'use strict';function t(e){for(;e&&!(e.components&&e.components.networked);)e=e.parentNode;return e}e.exports.whenEntityLoaded=function(e,t){e.hasLoaded&&t(),e.addEventListener('loaded',function(){t()})},e.exports.createHtmlNodeFromString=function(e){var t=document.createElement('div');t.innerHTML=e;var n=t.firstChild;return n},e.exports.getNetworkOwner=function(e){var t=e.components;return t.hasOwnProperty('networked')?t.networked.data.owner:null},e.exports.getNetworkId=function(e){var t=e.components;return t.hasOwnProperty('networked')?t.networked.networkId:null},e.exports.now=function(){return Date.now()},e.exports.createNetworkId=function(){return Math.random().toString(36).substring(2,9)},e.exports.delimiter='---',e.exports.childSchemaToKey=function(t){var n=(t.selector||'')+e.exports.delimiter+(t.component||'')+e.exports.delimiter+(t.property||'');return n},e.exports.keyToChildSchema=function(t){var n=t.split(e.exports.delimiter,3);return{selector:n[0]||void 0,component:n[1],property:n[2]||void 0}},e.exports.isChildSchemaKey=function(t){return-1!=t.indexOf(e.exports.delimiter)},e.exports.childSchemaEqual=function(e,t){return e.selector==t.selector&&e.component==t.component&&e.property==t.property};e.exports.getNetworkedEntity=t,e.exports.takeOwnership=function(e){var n=t(e);return n?n.components.networked.takeOwnership():NAF.log.error('takeOwnership() must be called on an entity or child of an entity with the [networked] component.')},e.exports.isMine=function(e){return t(e).components.networked.isMine()}},function(e){'use strict';function t(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var n=function(){function e(e,t){for(var n,o=0;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),o=function(){function e(){t(this,e),this.debug=!1}return n(e,[{key:'setDebug',value:function(e){this.debug=e}},{key:'write',value:function(){this.debug&&console.log.apply(this,arguments)}},{key:'error',value:function(){console.error.apply(this,arguments)}}]),e}();e.exports=o},function(e){'use strict';function t(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var n=function(){function e(e,t){for(var n,o=0;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),o=function(){function e(){t(this,e),this.dict={}}return n(e,[{key:'add',value:function(e){this.validate(e)?this.dict[e.template]=e:(NAF.log.error('Schema not valid: ',e),NAF.log.error('See https://github.com/haydenjameslee/networked-aframe#syncing-custom-components'))}},{key:'hasTemplate',value:function(e){return this.dict.hasOwnProperty(e)}},{key:'getComponents',value:function(e){var t=['position','rotation'];return this.hasTemplate(e)&&(t=this.dict[e].components),t}},{key:'validate',value:function(e){return e.hasOwnProperty('template')&&e.hasOwnProperty('components')}},{key:'remove',value:function(e){delete this.dict[e]}},{key:'clear',value:function(){this.dict={}}}]),e}();e.exports=o},function(e,t,n){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var a=function(){function e(e,t){for(var n,o=0;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(53),s=function(){function e(){o(this,e),this.entities={},this.childCache=new r,this.onRemoteEntityCreatedEvent=new Event('remoteEntityCreated')}return a(e,[{key:'registerEntity',value:function(e,t){this.entities[e]=t}},{key:'createRemoteEntity',value:function(e){NAF.log.write('Creating remote entity',e);var t=e.networkId,n=document.createElement('a-entity');return n.setAttribute('id','naf-'+t),this.initPosition(n,e.components),this.initRotation(n,e.components),this.addNetworkComponent(n,e),this.registerEntity(t,n),n}},{key:'initPosition',value:function(e,t){var n=t.hasOwnProperty('position');if(n){var o=t.position;e.setAttribute('position',o)}}},{key:'initRotation',value:function(e,t){var n=t.hasOwnProperty('rotation');if(n){var o=t.rotation;e.setAttribute('rotation',o)}}},{key:'addNetworkComponent',value:function(e,t){var n={template:t.template,owner:t.owner,networkId:t.networkId};e.setAttribute('networked',n),e.firstUpdateData=t}},{key:'updateEntity',value:function(e,t,n){var o=1==n[0],a=o?n[1]:n.networkId;this.hasEntity(a)?this.entities[a].emit('networkUpdate',{entityData:n},!1):!o&&this.isFullSync(n)&&this.receiveFirstUpdateFromEntity(n)}},{key:'isFullSync',value:function(e){var t=Object.keys(e.components).length,n=NAF.schemas.getComponents(e.template).length;return t===n}},{key:'receiveFirstUpdateFromEntity',value:function(e){var t=e.parent,n=e.networkId,o=t&&!this.hasEntity(t);if(o)this.childCache.addChild(t,e);else{var a=this.createRemoteEntity(e);this.createAndAppendChildren(n,a),this.addEntityToPage(a,t)}}},{key:'createAndAppendChildren',value:function(e,t){for(var n=this.childCache.getChildren(e),o=0;o<n.length;o++){var a=n[o],r=a.networkId;if(this.hasEntity(r)){console.warn('Tried to instantiate entity multiple times',r,a,'Existing entity:',this.getEntity(r));continue}var s=this.createRemoteEntity(a);this.createAndAppendChildren(r,s),t.appendChild(s)}}},{key:'addEntityToPage',value:function(e,t){this.hasEntity(t)?this.addEntityToParent(e,t):this.addEntityToSceneRoot(e)}},{key:'addEntityToParent',value:function(e,t){var n=document.getElementById('naf-'+t);n.appendChild(e)}},{key:'addEntityToSceneRoot',value:function(e){var t=document.querySelector('a-scene');t.appendChild(e)}},{key:'completeSync',value:function(e){for(var t in this.entities)this.entities.hasOwnProperty(t)&&this.entities[t].emit('syncAll',{targetClientId:e},!1)}},{key:'removeRemoteEntity',value:function(e,t,n){var o=n.networkId;return this.removeEntity(o)}},{key:'removeEntitiesOfClient',value:function(e){var t=[];for(var n in this.entities){var o=NAF.utils.getNetworkOwner(this.entities[n]);if(o==e){var a=this.removeEntity(n);t.push(a)}}return t}},{key:'removeEntity',value:function(e){if(this.hasEntity(e)){var t=this.entities[e];return delete this.entities[e],t.parentNode.removeChild(t),t}return null}},{key:'getEntity',value:function(e){return this.entities.hasOwnProperty(e)?this.entities[e]:null}},{key:'hasEntity',value:function(e){return this.entities.hasOwnProperty(e)}},{key:'removeRemoteEntities',value:function(){for(var e in this.childCache=new r,this.entities){var t=this.entities[e].getAttribute('networked').owner;t!=NAF.clientId&&this.removeEntity(e)}}}]),e}();e.exports=s},function(e){'use strict';function t(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var n=function(){function e(e,t){for(var n,o=0;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),o=function(){function e(){t(this,e),this.dict={}}return n(e,[{key:'addChild',value:function(e,t){this.hasParent(e)||(this.dict[e]=[]),this.dict[e].push(t)}},{key:'getChildren',value:function(e){if(!this.hasParent(e))return[];var t=this.dict[e];return delete this.dict[e],t}},{key:'hasParent',value:function(e){return this.dict.hasOwnProperty(e)}}]),e}();e.exports=o},function(e){'use strict';function t(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var n=function(){function e(e,t){for(var n,o=0;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),o={Update:'u',Remove:'r'},a=function(){function e(n){t(this,e),this.entities=n,this.setupDefaultDataSubscriptions(),this.connectedClients={},this.activeDataChannels={}}return n(e,[{key:'setNetworkAdapter',value:function(e){this.adapter=e}},{key:'setupDefaultDataSubscriptions',value:function(){this.dataChannelSubs={},this.dataChannelSubs[o.Update]=this.entities.updateEntity.bind(this.entities),this.dataChannelSubs[o.Remove]=this.entities.removeRemoteEntity.bind(this.entities)}},{key:'connect',value:function(e,t,n){var o=3<arguments.length&&void 0!==arguments[3]&&arguments[3];NAF.app=t,NAF.room=n,this.adapter.setServerUrl(e),this.adapter.setApp(t),this.adapter.setRoom(n);this.adapter.setWebRtcOptions({audio:o,video:!1,datachannel:!0}),this.adapter.setServerConnectListeners(this.connectSuccess.bind(this),this.connectFailure.bind(this)),this.adapter.setDataChannelListeners(this.dataChannelOpen.bind(this),this.dataChannelClosed.bind(this),this.receivedData.bind(this)),this.adapter.setRoomOccupantListener(this.occupantsReceived.bind(this)),this.adapter.connect()}},{key:'onConnect',value:function(e){this.onConnectCallback=e,this.isConnected()?e():document.body.addEventListener('connected',e,!1)}},{key:'connectSuccess',value:function(e){NAF.log.write('Networked-Aframe Client ID:',e),NAF.clientId=e;var t=new CustomEvent('connected',{detail:{clientId:e}});document.body.dispatchEvent(t)}},{key:'connectFailure',value:function(e){NAF.log.error(e,'failure to connect')}},{key:'occupantsReceived',value:function(e){var t=Object.assign({},this.connectedClients);this.connectedClients=e,this.checkForDisconnectingClients(t,e),this.checkForConnectingClients(e)}},{key:'checkForDisconnectingClients',value:function(e,t){for(var n in e){var o=t.hasOwnProperty(n);o||(NAF.log.write('Closing stream to ',n),this.adapter.closeStreamConnection(n))}}},{key:'checkForConnectingClients',value:function(e){for(var t in e){var n=this.isNewClient(t)&&this.adapter.shouldStartConnectionTo(e[t]);n&&(NAF.log.write('Opening datachannel to ',t),this.adapter.startStreamConnection(t))}}},{key:'getConnectedClients',value:function(){return this.connectedClients}},{key:'isConnected',value:function(){return!!NAF.clientId}},{key:'isMineAndConnected',value:function(e){return this.isConnected()&&NAF.clientId===e}},{key:'isNewClient',value:function(e){return!this.isConnectedTo(e)}},{key:'isConnectedTo',value:function(e){return this.adapter.getConnectStatus(e)===NAF.adapters.IS_CONNECTED}},{key:'dataChannelOpen',value:function(e){NAF.log.write('Opened data channel from '+e),this.activeDataChannels[e]=!0,this.entities.completeSync(e);var t=new CustomEvent('clientConnected',{detail:{clientId:e}});document.body.dispatchEvent(t)}},{key:'dataChannelClosed',value:function(e){NAF.log.write('Closed data channel from '+e),this.activeDataChannels[e]=!1,this.entities.removeEntitiesOfClient(e);var t=new CustomEvent('clientDisconnected',{detail:{clientId:e}});document.body.dispatchEvent(t)}},{key:'hasActiveDataChannel',value:function(e){return this.activeDataChannels.hasOwnProperty(e)&&this.activeDataChannels[e]}},{key:'broadcastData',value:function(e,t){this.adapter.broadcastData(e,t)}},{key:'broadcastDataGuaranteed',value:function(e,t){this.adapter.broadcastDataGuaranteed(e,t)}},{key:'sendData',value:function(e,t,n,o){this.hasActiveDataChannel(e)&&(o?this.adapter.sendDataGuaranteed(e,t,n):this.adapter.sendData(e,t,n))}},{key:'sendDataGuaranteed',value:function(e,t,n){this.sendData(e,t,n,!0)}},{key:'subscribeToDataChannel',value:function(e,t){return this.isReservedDataType(e)?void NAF.log.error('NetworkConnection@subscribeToDataChannel: '+e+' is a reserved dataType. Choose another'):void(this.dataChannelSubs[e]=t)}},{key:'unsubscribeToDataChannel',value:function(e){return this.isReservedDataType(e)?void NAF.log.error('NetworkConnection@unsubscribeToDataChannel: '+e+' is a reserved dataType. Choose another'):void delete this.dataChannelSubs[e]}},{key:'isReservedDataType',value:function(e){return e==o.Update||e==o.Remove}},{key:'receivedData',value:function(e,t,n){this.dataChannelSubs.hasOwnProperty(t)?this.dataChannelSubs[t](e,t,n):NAF.log.error('NetworkConnection@receivedData: '+t+' has not been subscribed to yet. Call subscribeToDataChannel()')}},{key:'getServerTime',value:function(){return this.adapter.getServerTime()}},{key:'disconnect',value:function(){this.entities.removeRemoteEntities(),this.adapter.disconnect(),NAF.app='',NAF.room='',NAF.clientId='',this.connectedClients={},this.activeDataChannels={},this.adapter=null,this.setupDefaultDataSubscriptions(),document.body.removeEventListener('connected',this.onConnectCallback)}}]),e}();e.exports=a},function(e,t,n){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var a=function(){function e(e,t){for(var n,o=0;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(56),s=n(57),l=function(){function e(){o(this,e),this.adapters={wseasyrtc:r,easyrtc:s},this.IS_CONNECTED=e.IS_CONNECTED,this.CONNECTING=e.CONNECTING,this.NOT_CONNECTED=e.NOT_CONNECTED}return a(e,[{key:'register',value:function(e,t){this.adapters[e]=t}},{key:'make',value:function(e){var t=e.toLowerCase();if(this.adapters[t]){var n=this.adapters[t];return new n}throw new Error('Adapter: '+e+' not registered. Please use NAF.adapters.register() to register this adapter.')}}]),e}();l.IS_CONNECTED='IS_CONNECTED',l.CONNECTING='CONNECTING',l.NOT_CONNECTED='NOT_CONNECTED',e.exports=l},function(e){'use strict';function t(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var n=function(){function e(e,t){var n,o=[],a=!0,r=!1;try{for(var s,l=e[Symbol.iterator]();!(a=(s=l.next()).done)&&(o.push(s.value),!(t&&o.length===t));a=!0);}catch(e){r=!0,n=e}finally{try{!a&&l['return']&&l['return']()}finally{if(r)throw n}}return o}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),o=function(){function e(e,t){for(var n,o=0;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function(){function e(n){t(this,e),this.easyrtc=n||window.easyrtc,this.app='default',this.room='default',this.connectedClients=[],this.serverTimeRequests=0,this.timeOffsets=[],this.avgTimeOffset=0}return o(e,[{key:'setServerUrl',value:function(e){this.serverUrl=e,this.easyrtc.setSocketUrl(e)}},{key:'setApp',value:function(e){this.app=e}},{key:'setRoom',value:function(e){this.room=e,this.easyrtc.joinRoom(e,null)}},{key:'setWebRtcOptions',value:function(){}},{key:'setServerConnectListeners',value:function(e,t){this.connectSuccess=e,this.connectFailure=t}},{key:'setRoomOccupantListener',value:function(e){this.easyrtc.setRoomOccupantListener(function(t,n){e(n)})}},{key:'setDataChannelListeners',value:function(e,t,n){this.openListener=e,this.closedListener=t,this.easyrtc.setPeerListener(n)}},{key:'updateTimeOffset',value:function(){var e=this,t=Date.now()+this.avgTimeOffset;return fetch(document.location.href,{method:'HEAD',cache:'no-cache'}).then(function(n){var o=new Date(n.headers.get('Date')).getTime()+1e3/2,a=Date.now(),r=o+(a-t)/2-a;e.serverTimeRequests++,10>=e.serverTimeRequests?e.timeOffsets.push(r):e.timeOffsets[e.serverTimeRequests%10]=r,e.avgTimeOffset=e.timeOffsets.reduce(function(e,t){return e+=t},0)/e.timeOffsets.length,10<e.serverTimeRequests?setTimeout(function(){return e.updateTimeOffset()},300000):e.updateTimeOffset()})}},{key:'connect',value:function(){var e=this;Promise.all([this.updateTimeOffset(),new Promise(function(t,n){e.easyrtc.connect(e.app,t,n)})]).then(function(t){var o=n(t,2),a=o[0],r=o[1];e.connectSuccess(r)}).catch(this.connectFailure)}},{key:'shouldStartConnectionTo',value:function(){return!0}},{key:'startStreamConnection',value:function(e){this.connectedClients.push(e),this.openListener(e)}},{key:'closeStreamConnection',value:function(e){var t=this.connectedClients.indexOf(e);-1<t&&this.connectedClients.splice(t,1),this.closedListener(e)}},{key:'sendData',value:function(e,t,n){this.easyrtc.sendDataWS(e,t,n)}},{key:'sendDataGuaranteed',value:function(e,t,n){this.sendData(e,t,n)}},{key:'broadcastData',value:function(e,t){var n={targetRoom:this.room};this.easyrtc.sendDataWS(n,e,t)}},{key:'broadcastDataGuaranteed',value:function(e,t){this.broadcastData(e,t)}},{key:'getConnectStatus',value:function(e){var t=-1!=this.connectedClients.indexOf(e);return t?NAF.adapters.IS_CONNECTED:NAF.adapters.NOT_CONNECTED}},{key:'getServerTime',value:function(){return Date.now()+this.avgTimeOffset}},{key:'disconnect',value:function(){this.easyrtc.disconnect()}}]),e}();e.exports=a},function(e){'use strict';function t(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var n=function(){function e(e,t){var n,o=[],a=!0,r=!1;try{for(var s,l=e[Symbol.iterator]();!(a=(s=l.next()).done)&&(o.push(s.value),!(t&&o.length===t));a=!0);}catch(e){r=!0,n=e}finally{try{!a&&l['return']&&l['return']()}finally{if(r)throw n}}return o}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),o=function(){function e(e,t){for(var n,o=0;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function(){function e(n){t(this,e),this.easyrtc=n||window.easyrtc,this.app='default',this.room='default',this.audioStreams={},this.pendingAudioRequest={},this.serverTimeRequests=0,this.timeOffsets=[],this.avgTimeOffset=0}return o(e,[{key:'setServerUrl',value:function(e){this.easyrtc.setSocketUrl(e)}},{key:'setApp',value:function(e){this.app=e}},{key:'setRoom',value:function(e){this.room=e,this.easyrtc.joinRoom(e,null)}},{key:'setWebRtcOptions',value:function(e){this.easyrtc.enableDataChannels(e.datachannel),this.easyrtc.enableVideo(!1),this.easyrtc.enableAudio(e.audio),this.easyrtc.enableVideoReceive(!1),this.easyrtc.enableAudioReceive(e.audio)}},{key:'setServerConnectListeners',value:function(e,t){this.connectSuccess=e,this.connectFailure=t}},{key:'setRoomOccupantListener',value:function(e){this.easyrtc.setRoomOccupantListener(function(t,n){e(n)})}},{key:'setDataChannelListeners',value:function(e,t,n){this.easyrtc.setDataChannelOpenListener(e),this.easyrtc.setDataChannelCloseListener(t),this.easyrtc.setPeerListener(n)}},{key:'updateTimeOffset',value:function(){var e=this,t=Date.now()+this.avgTimeOffset;return fetch(document.location.href,{method:'HEAD',cache:'no-cache'}).then(function(n){var o=new Date(n.headers.get('Date')).getTime()+1e3/2,a=Date.now(),r=o+(a-t)/2-a;e.serverTimeRequests++,10>=e.serverTimeRequests?e.timeOffsets.push(r):e.timeOffsets[e.serverTimeRequests%10]=r,e.avgTimeOffset=e.timeOffsets.reduce(function(e,t){return e+=t},0)/e.timeOffsets.length,10<e.serverTimeRequests?setTimeout(function(){return e.updateTimeOffset()},300000):e.updateTimeOffset()})}},{key:'connect',value:function(){var e=this;Promise.all([this.updateTimeOffset(),new Promise(function(t,n){e.easyrtc.audioEnabled?e._connectWithAudio(t,n):e.easyrtc.connect(e.app,t,n)})]).then(function(t){var o=n(t,2),a=o[0],r=o[1];e._storeAudioStream(e.easyrtc.myEasyrtcid,e.easyrtc.getLocalStream()),e._myRoomJoinTime=e._getRoomJoinTime(r),e.connectSuccess(r)}).catch(this.connectFailure)}},{key:'shouldStartConnectionTo',value:function(e){return this._myRoomJoinTime<=e.roomJoinTime}},{key:'startStreamConnection',value:function(e){this.easyrtc.call(e,function(e,t){'datachannel'===t&&NAF.log.write('Successfully started datachannel to ',e)},function(e,t){console.error(e,t)},function(){})}},{key:'closeStreamConnection',value:function(){}},{key:'sendData',value:function(e,t,n){this.easyrtc.sendData(e,t,n)}},{key:'sendDataGuaranteed',value:function(e,t,n){this.easyrtc.sendDataWS(e,t,n)}},{key:'broadcastData',value:function(e,t){var n=this.easyrtc.getRoomOccupantsAsMap(this.room);for(var o in n)n.hasOwnProperty(o)&&o!==this.easyrtc.myEasyrtcid&&this.easyrtc.sendData(o,e,t)}},{key:'broadcastDataGuaranteed',value:function(e,t){var n={targetRoom:this.room};this.easyrtc.sendDataWS(n,e,t)}},{key:'getConnectStatus',value:function(e){var t=this.easyrtc.getConnectStatus(e);return t==this.easyrtc.IS_CONNECTED?NAF.adapters.IS_CONNECTED:t==this.easyrtc.NOT_CONNECTED?NAF.adapters.NOT_CONNECTED:NAF.adapters.CONNECTING}},{key:'getMediaStream',value:function(e){console.log('getMediaStream',e);var t=this;return this.audioStreams[e]?(NAF.log.write('Already had audio for '+e),Promise.resolve(this.audioStreams[e])):(NAF.log.write('Waiting on audio for '+e),new Promise(function(n){t.pendingAudioRequest[e]=n}))}},{key:'disconnect',value:function(){this.easyrtc.disconnect()}},{key:'_storeAudioStream',value:function(e,t){this.audioStreams[e]=t,this.pendingAudioRequest[e]&&(NAF.log.write('got pending audio for '+e),this.pendingAudioRequest[e](t),delete this.pendingAudioRequest[e](t))}},{key:'_connectWithAudio',value:function(e,t){var n=this;this.easyrtc.setStreamAcceptor(this._storeAudioStream.bind(this)),this.easyrtc.setOnStreamClosed(function(e){delete n.audioStreams[e]}),this.easyrtc.initMediaSource(function(){n.easyrtc.connect(n.app,e,t)},function(e,t){console.error(e,t)})}},{key:'_getRoomJoinTime',value:function(e){var t=NAF.room,n=easyrtc.getRoomOccupantsAsMap(t)[e].roomJoinTime;return n}},{key:'getServerTime',value:function(){return Date.now()+this.avgTimeOffset}}]),e}();e.exports=a},function(e,t,n){'use strict';n(47);AFRAME.registerComponent('networked-scene',{schema:{serverURL:{default:'/'},app:{default:'default'},room:{default:'default'},connectOnLoad:{default:!0},onConnect:{default:'onConnect'},adapter:{default:'wsEasyRtc'},audio:{default:!1},debug:{default:!1}},init:function(){var e=this.el;this.connect=this.connect.bind(this),e.addEventListener('connect',this.connect),this.data.connectOnLoad&&e.emit('connect',null,!1)},connect:function(){NAF.log.setDebug(this.data.debug),NAF.log.write('Networked-Aframe Connecting...'),this.checkDeprecatedProperties(),this.setupNetworkAdapter(),this.hasOnConnectFunction()&&this.callOnConnect(),NAF.connection.connect(this.data.serverURL,this.data.app,this.data.room,this.data.audio)},checkDeprecatedProperties:function(){},setupNetworkAdapter:function(){var e=this.data.adapter,t=NAF.adapters.make(e);NAF.connection.setNetworkAdapter(t)},hasOnConnectFunction:function(){return''!=this.data.onConnect&&window.hasOwnProperty(this.data.onConnect)},callOnConnect:function(){NAF.connection.onConnect(window[this.data.onConnect])},remove:function(){NAF.log.write('networked-scene disconnected'),this.el.removeEventListener('connect',this.connect),NAF.connection.disconnect()}})},function(e,t,n){'use strict';var o=n(47),a=n(60),r=n(64),s=AFRAME.utils.bind;AFRAME.registerComponent('networked',{schema:{template:{default:''},showLocalTemplate:{default:!0},networkId:{default:''},owner:{default:''}},init:function(){this.OWNERSHIP_GAINED='ownership-gained',this.OWNERSHIP_CHANGED='ownership-changed',this.OWNERSHIP_LOST='ownership-lost';var e=this.wasCreatedByNetwork();this.onConnected=s(this.onConnected,this),this.onSyncAll=s(this.onSyncAll,this),this.syncDirty=s(this.syncDirty,this),this.networkUpdateHandler=s(this.networkUpdateHandler,this),this.cachedData={},this.initNetworkParent(),''===this.data.networkId&&this.el.setAttribute(this.name,{networkId:NAF.utils.createNetworkId()}),''!=this.data.template&&this.initTemplate(),e?(this.firstUpdate(),this.attachLerp()):this.registerEntity(this.data.networkId),this.lastOwnerTime=-1,NAF.clientId?this.onConnected():document.body.addEventListener('connected',this.onConnected,!1),document.body.dispatchEvent(this.entityCreatedEvent())},takeOwnership:function(){var e=this.data.owner,t=this.lastOwnerTime,n=NAF.connection.getServerTime();return e&&!this.isMine()&&t<n&&(this.lastOwnerTime=n,this.removeLerp(),this.el.setAttribute('networked',{owner:NAF.clientId}),this.syncAll(),this.el.emit(this.OWNERSHIP_GAINED,{el:this.el,oldOwner:e}),this.el.emit(this.OWNERSHIP_CHANGED,{el:this.el,oldOwner:e,newOwner:NAF.clientId}),!0)},wasCreatedByNetwork:function(){return!!this.el.firstUpdateData},initNetworkParent:function(){var e=this.el.parentElement;this.parent=e.hasOwnProperty('components')&&e.components.hasOwnProperty('networked')?e:null},attachLerp:function(){NAF.options.useLerp&&this.el.setAttribute('lerp','')},removeLerp:function(){NAF.options.useLerp&&this.el.removeAttribute('lerp')},registerEntity:function(e){NAF.entities.registerEntity(e,this.el)},initTemplate:function(){var e=this.data,t=!this.wasCreatedByNetwork()&&e.showLocalTemplate;this.attachAndShowTemplate(e.template,e.showLocalTemplate)},attachAndShowTemplate:function(e,t){var n=this.el,o=this.data;this.templateEl&&n.removeChild(this.templateEl);var a=document.createElement('a-entity');a.setAttribute('template','src:'+e),a.setAttribute('visible',t),n.appendChild(a),this.templateEl=a},firstUpdate:function(){var e=this,t=this.el.firstUpdateData;this.networkUpdate(t),this.waitForTemplate(function(){e.networkUpdate(t)})},waitForTemplate:function(e){this.templateEl?this.templateEl.addEventListener('templaterendered',function(){setTimeout(e)}):setTimeout(e)},onConnected:function(){var e=this;''===this.data.owner&&(this.lastOwnerTime=NAF.connection.getServerTime(),this.el.setAttribute(this.name,{owner:NAF.clientId}),this.waitForTemplate(function(){e.syncAll()})),document.body.removeEventListener('connected',this.onConnected,!1)},isMine:function(){return this.data.owner===NAF.clientId},play:function(){this.bindEvents()},bindEvents:function(){var e=this.el;e.addEventListener('sync',this.syncDirty),e.addEventListener('syncAll',this.onSyncAll),e.addEventListener('networkUpdate',this.networkUpdateHandler)},pause:function(){this.unbindEvents()},unbindEvents:function(){var e=this.el;e.removeEventListener('sync',this.syncDirty),e.removeEventListener('syncAll',this.onSyncAll),e.removeEventListener('networkUpdate',this.networkUpdateHandler)},tick:function(){this.isMine()&&this.needsToSync()&&this.syncDirty()},onSyncAll:function(t){var e=t.detail.targetClientId;this.syncAll(e)},syncAll:function(e){if(this.canSync()){this.updateNextSyncTime();var t=this.getAllSyncedComponents(),n=a.gatherComponentsData(this.el,t),o=this.createSyncData(n);e?NAF.connection.sendDataGuaranteed(e,'u',o):NAF.connection.broadcastDataGuaranteed('u',o),this.updateCache(n)}},syncDirty:function(){if(this.canSync()){this.updateNextSyncTime();var e=this.getAllSyncedComponents(),t=a.findDirtyComponents(this.el,e,this.cachedData);if(0!=t.length){var n=a.gatherComponentsData(this.el,t),o=this.createSyncData(n);NAF.options.compressSyncPackets&&(o=r.compressSyncData(o,e)),NAF.connection.broadcastData('u',o),this.updateCache(n)}}},canSync:function(){return this.data.owner&&this.isMine()},needsToSync:function(){return NAF.utils.now()>=this.nextSyncTime},updateNextSyncTime:function(){this.nextSyncTime=NAF.utils.now()+1e3/NAF.options.updateRate},createSyncData:function(e){var t=this.data,n={0:0,networkId:t.networkId,owner:t.owner,lastOwnerTime:this.lastOwnerTime,template:t.template,parent:this.getParentId(),components:e};return n},getParentId:function(){if(this.initNetworkParent(),!this.parent)return null;var e=this.parent.getAttribute('networked');return e.networkId},getAllSyncedComponents:function(){return NAF.schemas.getComponents(this.data.template)},updateCache:function(e){for(var t in e)this.cachedData[t]=e[t]},networkUpdateHandler:function(e){var t=e.detail.entityData;this.networkUpdate(t)},networkUpdate:function(e){if(1==e[0]&&(e=r.decompressSyncData(e,this.getAllSyncedComponents())),!(e.lastOwnerTime<this.lastOwnerTime||this.lastOwnerTime===e.lastOwnerTime&&this.data.owner>e.owner)){if(this.data.owner!==e.owner){var t=this.isMine();this.lastOwnerTime=e.lastOwnerTime,this.attachLerp();var n=this.data.owner,o=e.owner;t&&this.el.emit(this.OWNERSHIP_LOST,{el:this.el,newOwner:o}),this.el.emit(this.OWNERSHIP_CHANGED,{el:this.el,oldOwner:n,newOwner:o}),this.el.setAttribute('networked',{owner:e.owner})}this.updateComponents(e.components)}},updateComponents:function(e){var t=this.el;for(var n in e)if(this.isSyncableComponent(n)){var o=e[n];if(NAF.utils.isChildSchemaKey(n)){var a=NAF.utils.keyToChildSchema(n),r=a.selector?t.querySelector(a.selector):t;r&&(a.property?r.setAttribute(a.component,a.property,o):r.setAttribute(a.component,o))}else t.setAttribute(n,o)}},isSyncableComponent:function(e){if(NAF.utils.isChildSchemaKey(e)){var t=NAF.utils.keyToChildSchema(e);return this.hasThisChildSchema(t)}return-1!=this.getAllSyncedComponents().indexOf(e)},hasThisChildSchema:function(e){var t=this.getAllSyncedComponents();for(var n in t){var o=t[n];if(NAF.utils.childSchemaEqual(o,e))return!0}return!1},remove:function(){if(this.isMine()&&NAF.connection.isConnected()){var e={networkId:this.data.networkId};NAF.connection.broadcastDataGuaranteed('r',e)}document.body.dispatchEvent(this.entityRemovedEvent(this.data.networkId))},entityCreatedEvent:function(){return new CustomEvent('entityCreated',{detail:{el:this.el}})},entityRemovedEvent:function(e){return new CustomEvent('entityRemoved',{detail:{networkId:e}})}})},function(e,t,n){'use strict';var o=n(61),a=['position','rotation','scale','visible'];e.exports.gatherComponentsData=function(e,t){var n={};for(var o in t){var a=t[o];if(!('string'==typeof a)){var r=NAF.utils.childSchemaToKey(a),s=a.selector?e.querySelector(a.selector):e;if(s)if(s.getAttribute(a.component)){var l=a.property?e.getAttribute(a.component)[a.property]:e.getAttribute(a.component);n[r]=AFRAME.utils.clone(l)}else;}else if(e.getAttribute(a)){var d=a;n[d]=AFRAME.utils.clone(e.getAttribute(d))}}return n},e.exports.findDirtyComponents=function(e,t,n){for(var r=[],s=0;s<t.length;s++){var l,d,c=t[s];if('string'==typeof c){var p=e.getAttribute(c);if(!p&&-1===a.indexOf(t[s]))continue;l=c,d=e.getAttribute(c)}else{var u=c.selector,m=c.component,g=c.property,y=u?e.querySelector(u):e,p=y&&y.getAttribute(m);if(!p)continue;l=NAF.utils.childSchemaToKey(c),d=y.getAttribute(m),g&&(d=d[g])}var h=n.hasOwnProperty(l);if(!h){r.push(c);continue}var f=n[l];o(f,d)||r.push(c)}return r}},function(e,t,n){'use strict';function o(e){return null===e||e===void 0}function r(e){return e&&'object'===('undefined'==typeof e?'undefined':s(e))&&'number'==typeof e.length&&('function'!=typeof e.copy||'function'!=typeof e.slice?!1:0<e.length&&'number'!=typeof e[0]?!1:!0)}function a(e,t,n){var u,m;if(o(e)||o(t))return!1;if(e.prototype!==t.prototype)return!1;if(c(e))return!!c(t)&&(e=l.call(e),t=l.call(t),p(e,t,n));if(r(e)){if(!r(t))return!1;if(e.length!==t.length)return!1;for(u=0;u<e.length;u++)if(e[u]!==t[u])return!1;return!0}try{var g=d(e),y=d(t)}catch(t){return!1}if(g.length!=y.length)return!1;for(g.sort(),y.sort(),u=g.length-1;0<=u;u--)if(g[u]!=y[u])return!1;for(u=g.length-1;0<=u;u--)if(m=g[u],!p(e[m],t[m],n))return!1;return('undefined'==typeof e?'undefined':s(e))===('undefined'==typeof t?'undefined':s(t))}var s='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},l=Array.prototype.slice,d=n(62),c=n(63),p=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e&&t&&('object'==('undefined'==typeof e?'undefined':s(e))||'object'==('undefined'==typeof t?'undefined':s(t)))?a(e,t,n):n.strict?e===t:e==t)}},function(e,t){'use strict';function n(e){var t=[];for(var n in e)t.push(n);return t}t=e.exports='function'==typeof Object.keys?Object.keys:n,t.shim=n},function(e,t){'use strict';function n(e){return'[object Arguments]'==Object.prototype.toString.call(e)}function o(e){return e&&'object'==('undefined'==typeof e?'undefined':a(e))&&'number'==typeof e.length&&Object.prototype.hasOwnProperty.call(e,'callee')&&!Object.prototype.propertyIsEnumerable.call(e,'callee')||!1}var a='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},r='[object Arguments]'==function(){return Object.prototype.toString.call(arguments)}();t=e.exports=r?n:o,t.supported=n;t.unsupported=o},function(e){'use strict';e.exports.compressSyncData=function(e,t){var n=[1,e.networkId,e.owner,e.parent,e.template],o=this.compressComponents(e.components,t);return n.push(o),n},e.exports.compressComponents=function(e,t){for(var n={},o=0;o<t.length;o++){var a;a='string'==typeof t[o]?t[o]:NAF.utils.childSchemaToKey(t[o]),e.hasOwnProperty(a)&&(n[o]=e[a])}return n},e.exports.decompressSyncData=function(e,t){var n={0:0,networkId:e[1],owner:e[2],parent:e[3],template:e[4]},o=e[5],t=this.decompressComponents(o,t);return n.components=t,n},e.exports.decompressComponents=function(e,t){var n={};for(var o in e){var a,r=t[o];a='string'==typeof r?r:NAF.utils.childSchemaToKey(r),n[a]=e[o]}return n}},function(e,t,n){'use strict';var o=n(47);AFRAME.registerComponent('networked-audio-source',{schema:{positional:{default:!0},distanceModel:{default:'inverse',oneOf:['linear','inverse','exponential']},maxDistance:{default:1e4},refDistance:{default:1},rolloffFactor:{default:1}},init:function(){this.listener=null,this.stream=null,this._setMediaStream=this._setMediaStream.bind(this);var e=NAF.utils.getNetworkedEntity(this.el),t=e&&e.components.networked.data.owner;t?NAF.connection.adapter.getMediaStream(t).then(this._setMediaStream).catch(function(n){return o.log.error('Error getting media stream for '+t,n)}):''===t||o.log.error('[networked-audio-source] must be added on an entity, or a child of an entity, with the [networked] component.')},update:function(){this._setPannerProperties()},_setMediaStream:function(e){this.sound||this.setupSound(),e!=this.stream&&(this.stream&&this.sound.disconnect(),e&&(this.audioEl=new Audio,this.audioEl.setAttribute('autoplay','autoplay'),this.audioEl.setAttribute('playsinline','playsinline'),this.audioEl.srcObject=e,this.audioEl.volume=0,this.sound.setNodeSource(this.sound.context.createMediaStreamSource(e))),this.stream=e)},_setPannerProperties:function(){this.sound&&this.data.positional&&(this.sound.setDistanceModel(this.data.distanceModel),this.sound.setMaxDistance(this.data.maxDistance),this.sound.setRefDistance(this.data.refDistance),this.sound.setRolloffFactor(this.data.rolloffFactor))},remove:function(){this.sound&&(this.el.removeObject3D(this.attrName),this.stream&&this.sound.disconnect())},setupSound:function(){var e=this.el,t=e.sceneEl;this.sound&&e.removeObject3D(this.attrName),t.audioListener||(t.audioListener=new THREE.AudioListener,t.camera&&t.camera.add(t.audioListener),t.addEventListener('camera-set-active',function(e){e.detail.cameraEl.getObject3D('camera').add(t.audioListener)})),this.listener=t.audioListener,this.sound=this.data.positional?new THREE.PositionalAudio(this.listener):new THREE.Audio(this.listener),e.setObject3D(this.attrName,this.sound),this._setPannerProperties()}})}])},function(e,t,n){function o(e){return n(a(e))}function a(e){var t=r[e];if(!(t+1))throw new Error('Cannot find module \''+e+'\'.');return t}var r={"./additive.js":16,"./debug-controller.js":17,"./debug-cursor.js":18,"./eggs/animated-sun.js":19,"./eggs/cromulon.js":20,"./eggs/dalek.js":21,"./eggs/mechagodzilla.js":22,"./eggs/random-color-environment.js":23,"./eggs/shifting-colors.js":24,"./eggs/solidsnake.js":25,"./eggs/upsidedown.js":26,"./eggs/wayback-machine.js":27,"./environment.js":28,"./hint.js":29,"./item.js":30,"./oasis-audio.js":31,"./oasis-portal.js":32,"./play-audio.js":33,"./raycastable.js":34,"./sub-object.js":35,"./teleport-listener.js":36,"./teleport-refresh.js":37,"./touch.js":38,"./touchable.js":39};o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=11},function(t,n,e){var o=Math.pow,r=Math.min,s=Math.max,l=Math.PI;(function(a){var d,c,p,g={scope:{}};g.defineProperty='function'==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){if(n.get||n.set)throw new TypeError('ES3 does not support getters and setters.');t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},g.getGlobal=function(t){return'undefined'!=typeof window&&window===t?t:'undefined'!=typeof a&&null!=a?a:t},g.global=g.getGlobal(this),g.SYMBOL_PREFIX='jscomp_symbol_',g.initSymbol=function(){g.initSymbol=function(){},g.global.Symbol||(g.global.Symbol=g.Symbol)},g.symbolCounter_=0,g.Symbol=function(t){return g.SYMBOL_PREFIX+(t||'')+g.symbolCounter_++},g.initSymbolIterator=function(){g.initSymbol();var t=g.global.Symbol.iterator;t||(t=g.global.Symbol.iterator=g.global.Symbol('iterator')),'function'!=typeof Array.prototype[t]&&g.defineProperty(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return g.arrayIterator(this)}}),g.initSymbolIterator=function(){}},g.arrayIterator=function(t){var e=0;return g.iteratorPrototype(function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}})},g.iteratorPrototype=function(t){return g.initSymbolIterator(),t={next:t},t[g.global.Symbol.iterator]=function(){return this},t},g.array=g.array||{},g.iteratorFromArray=function(t,e){g.initSymbolIterator(),t instanceof String&&(t+='');var n=0,o={next:function(){if(n<t.length){var a=n++;return{value:e(a,t[a]),done:!1}}return o.next=function(){return{done:!0,value:void 0}},o.next()}};return o[Symbol.iterator]=function(){return o},o},g.polyfill=function(t,e,n,o){if(e){for(n=g.global,t=t.split('.'),o=0;o<t.length-1;o++){var a=t[o];a in n||(n[a]={}),n=n[a]}t=t[t.length-1],o=n[t],e=e(o),e!=o&&null!=e&&g.defineProperty(n,t,{configurable:!0,writable:!0,value:e})}},g.polyfill('Array.prototype.keys',function(t){return t?t:function(){return g.iteratorFromArray(this,function(t){return t})}},'es6-impl','es3');var e=this;(function(o,e){c=[],d=e,p='function'==typeof d?d.apply(n,c):d,!(p!==void 0&&(t.exports=p))})(this,function(){function t(e){if(!W.col(e))try{return document.querySelectorAll(e)}catch(e){}}function g(e,t){for(var o=e.length,a=2<=arguments.length?arguments[1]:void 0,r=[],s=0;s<o;s++)if(s in e){var n=e[s];t.call(a,n,s,e)&&r.push(n)}return r}function n(e){return e.reduce(function(e,t){return e.concat(W.arr(t)?n(t):t)},[])}function p(e){return W.arr(e)?e:(W.str(e)&&(e=t(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function m(e,t){return e.some(function(e){return e===t})}function u(e){var t,n={};for(t in e)n[t]=e[t];return n}function C(e,t){var n,o=u(e);for(n in e)o[n]=t.hasOwnProperty(n)?t[n]:e[n];return o}function x(e,t){var n,o=u(e);for(n in t)o[n]=W.und(e[n])?t[n]:e[n];return o}function k(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,o){return t+t+n+n+o+o});var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);e=parseInt(t[1],16);var n=parseInt(t[2],16),t=parseInt(t[3],16);return'rgba('+e+','+n+','+t+',1)'}function w(e){function t(e,t,n){return 0>n&&(n+=1),1<n&&--n,n<1/6?e+6*(t-e)*n:.5>n?t:n<2/3?e+6*((t-e)*(2/3-n)):e}var o=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e);e=parseInt(o[1])/360;var a=parseInt(o[2])/100,r=parseInt(o[3])/100,o=o[4]||1;if(0==a)r=a=e=r;else{var s=.5>r?r*(1+a):r+a-r*a,n=2*r-s,r=t(n,s,e+1/3),a=t(n,s,e);e=t(n,s,e-1/3)}return'rgba('+255*r+','+255*a+','+255*e+','+o+')'}function D(e){if(e=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e))return e[2]}function y(e){return-1<e.indexOf('translate')||'perspective'===e?'px':-1<e.indexOf('rotate')||-1<e.indexOf('skew')?'deg':void 0}function T(e,t){return W.fnc(e)?e(t.target,t.id,t.total):e}function f(e,t){if(t in e.style)return getComputedStyle(e).getPropertyValue(t.replace(/([a-z])([A-Z])/g,'$1-$2').toLowerCase())||'0'}function E(e,t){return W.dom(e)&&m(S,t)?'transform':W.dom(e)&&(e.getAttribute(t)||W.svg(e)&&e[t])?'attribute':W.dom(e)&&'transform'!==t&&f(e,t)?'css':null==e[t]?void 0:'object'}function d(e,t){var o=y(t),o=-1<t.indexOf('scale')?1:0+o;if(e=e.style.transform,!e)return o;for(var r=[],s=[],l=[],n=/(\w+)\((.+?)\)/g;r=n.exec(e);)s.push(r[1]),l.push(r[2]);return e=g(l,function(e,n){return s[n]===t}),e.length?e[0]:o}function j(e,t){switch(E(e,t)){case'transform':return d(e,t);case'css':return f(e,t);case'attribute':return e.getAttribute(t);}return e[t]||0}function z(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var o=D(e)||0;switch(t=parseFloat(t),e=parseFloat(e.replace(n[0],'')),n[0][0]){case'+':return t+e+o;case'-':return t-e+o;case'*':return t*e+o;}}function L(e,t){return Math.sqrt(o(t.x-e.x,2)+o(t.y-e.y,2))}function b(e){e=e.points;for(var t,n,o=0,a=0;a<e.numberOfItems;a++)n=e.getItem(a),0<a&&(o+=L(t,n)),t=n;return o}function I(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case'circle':return 2*l*e.getAttribute('r');case'rect':return 2*e.getAttribute('width')+2*e.getAttribute('height');case'line':return L({x:e.getAttribute('x1'),y:e.getAttribute('y1')},{x:e.getAttribute('x2'),y:e.getAttribute('y2')});case'polyline':return b(e);case'polygon':var t=e.points;return b(e)+L(t.getItem(t.numberOfItems-1),t.getItem(0));}}function a(e,t){function o(n){return n=void 0===n?0:n,e.el.getPointAtLength(1<=t+n?t+n:0)}var a=o(),r=o(-1),s=o(1);switch(e.property){case'x':return a.x;case'y':return a.y;case'angle':return 180*Math.atan2(s.y-r.y,s.x-r.x)/l;}}function N(e,t){var n,o=/-?\d*\.?\d+/g;if(n=W.pth(e)?e.totalLength:e,!W.col(n))a=(a=D(n))?n.substr(0,n.length-a.length):n,n=t&&!/\s/g.test(n)?a+t:a;else if(W.rgb(n)){var a=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(n);n=a?'rgba('+a[1]+',1)':n}else n=W.hex(n)?k(n):W.hsl(n)?w(n):void 0;return n+='',{original:n,numbers:n.match(o)?n.match(o).map(Number):[0],strings:W.str(e)||t?n.split(o):[]}}function O(e){return e=e?n(W.arr(e)?e.map(p):p(e)):[],g(e,function(e,t,n){return n.indexOf(e)===t})}function P(e){var t=O(e);return t.map(function(e,n){return{target:e,id:n,total:t.length}})}function c(e,t){var n=u(t);if(W.arr(e)){var o=e.length;2!==o||W.obj(e[0])?W.fnc(t.duration)||(n.duration=t.duration/o):e={value:e}}return p(e).map(function(e,n){return n=n?0:t.delay,e=W.obj(e)&&!W.pth(e)?e:{value:e},W.und(e.delay)&&(e.delay=n),e}).map(function(e){return x(e,n)})}function M(e,t){var n,o={};for(n in e){var a=T(e[n],t);W.arr(a)&&(a=a.map(function(e){return T(e,t)}),1===a.length&&(a=a[0])),o[n]=a}return o.duration=parseFloat(o.duration),o.delay=parseFloat(o.delay),o}function V(e){return W.arr(e)?h.apply(this,e):A[e]}function U(t,n){var o;return t.tweens.map(function(a){a=M(a,n);var l=a.value,d=j(n.target,t.name),e=o?o.to.original:d,e=W.arr(l)?l[0]:e,c=z(W.arr(l)?l[1]:l,e),d=D(c)||D(e)||D(d);return a.from=N(e,d),a.to=N(c,d),a.start=o?o.end:t.offset,a.end=a.start+a.delay+a.duration,a.easing=V(a.easing),a.elasticity=(1E3-r(s(a.elasticity,1),999))/1E3,a.isPath=W.pth(l),a.isColor=W.col(a.from.original),a.isColor&&(a.round=1),o=a})}function F(e,t){return g(n(e.map(function(e){return t.map(function(t){var n=E(e.target,t.name);if(n){var o=U(t,e);t={type:n,property:t.name,animatable:e,tweens:o,duration:o[o.length-1].end,delay:o[0].delay}}else t=void 0;return t})})),function(e){return!W.und(e)})}function G(e,t,n,o){var a='delay'===e;return t.length?(a?r:s).apply(Math,t.map(function(t){return t[e]})):a?o.delay:n.offset+o.delay+o.duration}function R(t){var n,o=C(H,t),r=C(Y,t),s=P(t.targets),l=[],d=x(o,r);for(n in t)d.hasOwnProperty(n)||'targets'===n||l.push({name:n,offset:d.offset,tweens:c(t[n],r)});return t=F(s,l),x(o,{children:[],animatables:s,animations:t,duration:G('duration',t,o,r),delay:G('delay',t,o,r)})}function _(n){function o(){return window.Promise&&new Promise(function(e){return l=e})}function c(e){return A.reversed?A.duration-e:e}function d(o){for(var u=0,y={},c=A.animations,d=c.length;u<d;){var v=c[u],e=v.animatable,C=v.tweens,h=C.length-1,n=C[h];h&&(n=g(C,function(e){return o<e.end})[0]||n);for(var C=r(s(o-n.start-n.delay,0),n.duration)/n.duration,l=isNaN(C)?1:n.easing(C,n.elasticity),C=n.to.strings,S=n.round,h=[],p=void 0,p=n.to.numbers.length,m=0;m<p;m++){var t=void 0,t=n.to.numbers[m],x=n.from.numbers[m],t=n.isPath?a(n.value,l*t):x+l*(t-x);S&&(n.isColor&&2<m||(t=Math.round(t*S)/S)),h.push(t)}if(n=C.length)for(p=C[0],l=0;l<n;l++)S=C[l+1],m=h[l],isNaN(m)||(p=S?p+(m+S):p+(m+' '));else p=h[0];Z[v.type](e.target,v.property,p,y,e.id),v.currentValue=p,u++}if(u=Object.keys(y).length)for(c=0;c<u;c++)q||(q=f(document.body,'transform')?'transform':'-webkit-transform'),A.animatables[c].target.style[q]=y[c].join(' ');A.currentTime=o,A.progress=100*(o/A.duration)}function y(e){A[e]&&A[e](A)}function b(){A.remaining&&!0!==A.remaining&&A.remaining--}function e(e){var a=A.duration,s=A.offset,n=s+A.delay,m=A.currentTime,r=A.reversed,g=c(e);if(A.children.length){var f=A.children,u=f.length;if(g>=A.currentTime)for(var v=0;v<u;v++)f[v].seek(g);else for(;u--;)f[u].seek(g)}(g>=n||!a)&&(A.began||(A.began=!0,y('begin')),y('run')),g>s&&g<a?d(g):(g<=s&&0!==m&&(d(0),r&&b()),g>=a&&m!==a||!a)&&(d(a),r||b()),y('update'),e>=a&&(A.remaining?(h=C,'alternate'===A.direction&&(A.reversed=!A.reversed)):(A.pause(),A.completed||(A.completed=!0,y('complete'),'Promise'in window&&(l(),p=o()))),t=0)}n=void 0===n?{}:n;var C,h,t=0,l=null,p=o(),A=R(n);return A.reset=function(){var e=A.direction,t=A.loop;for(A.currentTime=0,A.progress=0,A.paused=!0,A.began=!1,A.completed=!1,A.reversed='reverse'===e,A.remaining='alternate'===e&&1===t?2:t,d(0),e=A.children.length;e--;)A.children[e].reset()},A.tick=function(n){C=n,h||(h=C),e((t+C-h)*_.speed)},A.seek=function(t){e(c(t))},A.pause=function(){var e=K.indexOf(A);-1<e&&K.splice(e,1),A.paused=!0},A.play=function(){A.paused&&(A.paused=!1,h=0,t=c(A.currentTime),K.push(A),v||B())},A.reverse=function(){A.reversed=!A.reversed,h=0,t=c(A.currentTime)},A.restart=function(){A.pause(),A.reset(),A.play()},A.finished=p,A.reset(),A.autoplay&&A.play(),A}var q,H={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:'normal',autoplay:!0,offset:0},Y={duration:1E3,delay:0,easing:'easeOutElastic',elasticity:500,round:0},S=['translateX','translateY','translateZ','rotate','rotateX','rotateY','rotateZ','scale','scaleX','scaleY','scaleZ','skewX','skewY','perspective'],W={arr:function(e){return Array.isArray(e)},obj:function(e){return-1<Object.prototype.toString.call(e).indexOf('Object')},pth:function(e){return W.obj(e)&&e.hasOwnProperty('totalLength')},svg:function(e){return e instanceof SVGElement},dom:function(e){return e.nodeType||W.svg(e)},str:function(e){return'string'==typeof e},fnc:function(e){return'function'==typeof e},und:function(e){return'undefined'==typeof e},hex:function(e){return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return /^rgb/.test(e)},hsl:function(e){return /^hsl/.test(e)},col:function(e){return W.hex(e)||W.rgb(e)||W.hsl(e)}},h=function(){function t(e,t,n){return(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e}return function(o,a,r,s){if(0<=o&&1>=o&&0<=r&&1>=r){var d=new Float32Array(11);if(o!==a||r!==s)for(var e=0;11>e;++e)d[e]=t(.1*e,o,r);return function(e){if(o===a&&r===s)return e;if(0===e)return 0;if(1===e)return 1;for(var c=0,p=1;10!==p&&d[p]<=e;++p)c+=.1;--p;var p=c+.1*((e-d[p])/(d[p+1]-d[p])),l=3*(1-3*r+3*o)*p*p+2*(3*r-6*o)*p+3*o;if(.001<=l){for(c=0;4>c&&(l=3*(1-3*r+3*o)*p*p+2*(3*r-6*o)*p+3*o,0!=l);++c)var n=t(p,o,r)-e,p=p-n/l;e=p}else if(0==l)e=p;else{var p=c,c=c+.1,u=0;do n=p+(c-p)/2,l=t(n,o,r)-e,0<l?c=n:p=n;while(1e-7<Math.abs(l)&&10>++u);e=n}return t(e,a,s)}}}}(),A=function(){function t(e,t){return 0===e||1===e?e:-o(2,10*(e-1))*Math.sin(2*(e-1-1.5707963267948966*(t/(2*l)))*l/t)}var n,r=['Quad','Cubic','Quart','Quint','Sine','Expo','Circ','Back','Elastic'],e={In:[[0.55,0.085,0.68,0.53],[0.55,0.055,0.675,0.19],[0.895,0.03,0.685,0.22],[0.755,0.05,0.855,0.06],[0.47,0,0.745,0.715],[0.95,0.05,0.795,0.035],[0.6,0.04,0.98,0.335],[0.6,-0.28,0.735,0.045],t],Out:[[0.25,0.46,0.45,0.94],[0.215,0.61,0.355,1],[0.165,0.84,0.44,1],[0.23,1,0.32,1],[0.39,0.575,0.565,1],[0.19,1,0.22,1],[0.075,0.82,0.165,1],[0.175,0.885,0.32,1.275],function(e,n){return 1-t(1-e,n)}],InOut:[[0.455,0.03,0.515,0.955],[0.645,0.045,0.355,1],[0.77,0,0.175,1],[0.86,0,0.07,1],[0.445,0.05,0.55,0.95],[1,0,0,1],[0.785,0.135,0.15,0.86],[0.68,-0.55,0.265,1.55],function(e,n){return .5>e?t(2*e,n)/2:1-t(-2*e+2,n)/2}]},s={linear:h(.25,.25,.75,.75)},a={};for(n in e)a.type=n,e[a.type].forEach(function(t){return function(n,o){s['ease'+t.type+r[o]]=W.fnc(n)?n:h.apply(e,n)}}(a)),a={type:a.type};return s}(),Z={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,o,a){o[a]||(o[a]=[]),o[a].push(t+'('+n+')')}},K=[],v=0,B=function(){function e(){v=requestAnimationFrame(t)}function t(t){var n=K.length;if(n){for(var o=0;o<n;)K[o]&&K[o].tick(t),o++;e()}else cancelAnimationFrame(v),v=0}return e}();return _.version='2.2.0',_.speed=1,_.running=K,_.remove=function(e){e=O(e);for(var t=K.length;t--;)for(var n=K[t],o=n.animations,a=o.length;a--;)m(e,o[a].animatable.target)&&(o.splice(a,1),o.length||n.pause())},_.getValue=j,_.path=function(e,n){var o=W.str(e)?t(e)[0]:e;return function(e){return{el:o,property:e,totalLength:I(o)*((n||100)/100)}}},_.setDashoffset=function(e){var t=I(e);return e.setAttribute('stroke-dasharray',t),t},_.bezier=h,_.easings=A,_.timeline=function(t){var n=_(t);return n.pause(),n.duration=0,n.add=function(e){return n.children.forEach(function(e){e.began=!0,e.completed=!0}),p(e).forEach(function(o){var a=x(o,C(Y,t||{}));a.targets=a.targets||t.targets,o=n.duration;var r=a.offset;a.autoplay=!1,a.direction=n.direction,a.offset=W.und(r)?o:z(r,o),n.began=!0,n.completed=!0,n.seek(a.offset),a=_(a),a.began=!0,a.completed=!0,a.duration>o&&(n.duration=a.duration),n.children.push(a)}),n.seek(0),n.reset(),n.autoplay&&n.restart(),n},n},_.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},_})}).call(n,e(43))},function(e){function n(e,n,o,a){return e+n*a+0.5*o*a*a}e.exports=function(e,o,r,a,t){return t.x=n(e.x,o.x,r.x,a),t.y=n(e.y,o.y,r.y,a),t.z=n(e.z,o.z,r.z,a),t}},function(e){var t=function(e,t){this.geometry=new THREE.BufferGeometry,this.vertices=new Float32Array(2*(3*e)),this.uvs=new Float32Array(2*(2*e)),this.width=t,this.geometry.addAttribute('position',new THREE.BufferAttribute(this.vertices,3).setDynamic(!0)),this.material=new THREE.MeshBasicMaterial({side:THREE.DoubleSide,color:16711680}),this.mesh=new THREE.Mesh(this.geometry,this.material),this.mesh.drawMode=THREE.TriangleStripDrawMode,this.mesh.frustumCulled=!1,this.mesh.vertices=this.vertices,this.direction=new THREE.Vector3,this.numPoints=e};t.prototype={setDirection:function(e){var t=new THREE.Vector3(0,1,0);this.direction.copy(e).cross(t).normalize().multiplyScalar(this.width/2)},setWidth:function(e){this.width=e},setPoint:function(){var e=new THREE.Vector3,t=new THREE.Vector3;return function(n,o){e.copy(o).add(this.direction),t.copy(o).sub(this.direction);var a=6*n;this.vertices[a++]=e.x,this.vertices[a++]=e.y,this.vertices[a++]=e.z,this.vertices[a++]=t.x,this.vertices[a++]=t.y,this.vertices[a++]=t.z,this.geometry.attributes.position.needsUpdate=!0}}()},e.exports=t},function(e){e.exports='url(data:image/png;base64,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)'},function(){AFRAME.registerComponent('additive',{init:function(){this.el.addEventListener('subobjectloaded',function(e){e.detail.material.blending=THREE.AdditiveBlending}),this.el.addEventListener('model-loaded',function(e){e.detail.model.material.blending=THREE.AdditiveBlending})}})},function(){AFRAME.registerComponent('debug-controller',{schema:{enabled:{default:!1}},init:function(){var e,e;this.data.enabled&&AFRAME.utils.getUrlParameter('debug')&&(console.log('%c debug-controller enabled ','background: #111; color: red'),this.isTriggerDown=!1,e=document.getElementById('primaryHand'),e.object3D.position.set(0.2,1.5,-0.5),document.addEventListener('keydown',(t)=>{var n,o;if(t.shiftKey){if(32===t.keyCode)return void(this.isTriggerDown?(e.emit('triggerup'),this.isTriggerDown=!1):(e.emit('triggerdown'),this.isTriggerDown=!0));n=e.object3D.position,72===t.keyCode&&(n.x-=0.01),74===t.keyCode&&(n.y-=0.01),75===t.keyCode&&(n.y+=0.01),76===t.keyCode&&(n.x+=0.01),(59===t.keyCode||186===t.keyCode)&&(n.z-=0.01),222===t.keyCode&&(n.z+=0.01);var o;o=e.getAttribute('rotation'),89===t.keyCode&&(o.x-=10),79===t.keyCode&&(o.x+=10),85===t.keyCode&&(o.y-=10),73===t.keyCode&&(o.y+=10),e.setAttribute('rotation',AFRAME.utils.clone(o))}}))},play:function(){setTimeout(()=>{document.getElementById('primaryHand').emit('controllerconnected',{name:'vive-controls'})},1e3)}})},function(){AFRAME.registerComponent('debug-cursor',{init:function(){},log:function(e,t,n){t.id?console.log(`%c[${e}] ${t.id}`,`color: ${n}`):(console.log(`%c[${e}]`,`color: ${n}`),console.log(t))}})},function(){AFRAME.registerComponent('animated-sun',{depdendencies:['environment'],play:function(){var e=this.el;setTimeout(()=>{e.components.environment.sunlight.setAttribute('animation__light',{property:'components.light.light.intensity',dir:'alternate',dur:1200,easing:'easeInOutCubic',from:e.components.environment.sunlight.getAttribute('light').intensity,loop:!0,to:0.2}),e.components.environment.sunlight.setAttribute('animation__position',{property:'object3D.position.x',dir:'alternate',dur:3e3,easing:'easeInOutCubic',from:'-10',loop:!0,to:10})},1e3)}})},function(){function e(e){var t,n;for(n=0,t=0;t<window.location.href.length;t++)n+=window.location.href.charCodeAt(t);return parseFloat('0.'+Math.sin(9999*n*e).toString().substr(7))}function t(t){return`#${new THREE.Color(e(t),e(t+1),e(t+2)).getHexString()}`}var n=window.utils;AFRAME.registerComponent('cromulon',{init:function(){var t,o,a,r,s=this.el;for(o=0,a=0,r=0;o<Math.floor(5*e(30))+3;o++,a++,r++)this.createCromulon(o,a,r);t=new Audio(n.assetPath('assets/audio/cromulon.mp3')),t.volume=0.5,setInterval(()=>{0.11>Math.random()&&t.play()},1e3)},createCromulon:function(o,a,r){var s,l;s=document.createElement('a-image'),s.setAttribute('src',n.assetPath('assets/img/cromulon.png')),s.setAttribute('color',t(r)),l=30*e(r)+10,s.object3D.scale.set(l,l,l),s.object3D.position.set(150*e(a)-75,30*e(a+20)+25,150*e(a+10)-75),s.object3D.lookAt(0,0,0),s.object3D.visible=!1,s.addEventListener('materialtextureloaded',()=>{s.object3D.visible=!0}),this.el.sceneEl.appendChild(s)}})},function(){AFRAME.registerComponent('dalek',{init:function(){var e;for(i=0;i<Math.floor(4*utils.random(500))+2;i++)e=document.createElement('a-entity'),e.setAttribute('obj-model',{obj:utils.assetPath('assets/models/dalek/model.obj'),mtl:utils.assetPath('assets/models/dalek/materials.mtl')}),e.setAttribute('dalek-sound',''),e.setAttribute('shadow',{cast:!0,receive:!1}),e.object3D.scale.set(8,8,8),e.object3D.rotation.set(0,Math.PI,0),e.object3D.position.set(20*utils.random(i+99)-10,1,20*utils.random(i+89)-10),this.el.appendChild(e)}})},function(){AFRAME.registerComponent('mechagodzilla',{init:function(){var e;e=document.createElement('a-entity'),e.setAttribute('obj-model',{obj:utils.assetPath('assets/models/mechagodzilla/model.obj'),mtl:utils.assetPath('assets/models/mechagodzilla/materials.mtl')}),e.object3D.scale.set(10,10,10),e.object3D.rotation.set(0,Math.PI,0),e.object3D.position.set(40*window.utils.random(100),25,-30),this.el.appendChild(e)}})},function(){function e(e){var t,n;for(n=0,t=0;t<window.location.href.length;t++)n+=window.location.href.charCodeAt(t);return parseFloat('0.'+Math.sin(9999*n*e).toString().substr(7))}function t(t){return`#${new THREE.Color(e(t),e(t+1),e(t+2)).getHexString()}`}AFRAME.registerComponent('random-color-environment',{dependencies:['environment'],init:function(){this.el.setAttribute('environment',{dressing1Color:t(0),dressing2Color:t(1),gridColor:t(2),groundColor:t(3),groundColor2:t(4),horizonColor:t(5),skyColor:t(6)})}})},function(){var e=Math.random(),n=Math.random(),o=Math.random(),a=Math.random(),r=Math.random(),s=Math.random();AFRAME.registerComponent('shifting-colors',{depdendencies:['environment'],init:function(){this.rDir=1,this.gDir=1,this.bDir=1,this.rDir2=1,this.gDir2=1,this.bDir2=1},tick:function(l,t){var d,c;t&&(c=this.el.components.environment.dressing1.getObject3D('mesh'),c&&(c=c.children[0],d=c.material.color,d.r+=1/(200*t*e)*this.rDir,d.g+=1/(200*t*n)*this.gDir,d.b+=1/(200*t*o)*this.bDir,1<d.r&&(d.r=1,this.rDir=-1),0>d.r&&(d.r=0,this.rDir=1),1<d.g&&(d.g=1,this.gDir=-1),0>d.g&&(d.g=0,this.gDir=1),1<d.b&&(d.b=1,this.bDir=-1),0>d.b&&(d.b=0,this.bDir=1)),dressing2=this.el.components.environment.dressing2.getObject3D('mesh'),dressing2&&(dressing2=dressing2.children[0],d=dressing2.material.color,d.r+=1/(200*t*a)*this.rDir2,d.g+=1/(200*t*r)*this.gDir2,d.b+=1/(200*t*s)*this.bDir2,1<d.r&&(d.r=1,this.rDir2=-1),0>d.r&&(d.r=0,this.rDir2=1),1<d.g&&(d.g=1,this.gDir2=-1),0>d.g&&(d.g=0,this.gDir2=1),1<d.b&&(d.b=1,this.bDir2=-1),0>d.b&&(d.b=0,this.bDir2=1)))}})},function(){var e=Math.PI;AFRAME.registerComponent('solidsnake',{init:function(){var t,n=this.el,o=this.data;var a;t=document.createElement('a-entity'),t.classList.add('solidsnake'),t.setAttribute('obj-model',{obj:utils.assetPath('assets/models/box/box.obj')}),t.setAttribute('material',{color:'brown',metalness:0,roughness:1,side:'double'}),t.setAttribute('shadow',''),t.object3D.position.set(10*window.utils.random(205),0,10*window.utils.random(206)),t.setAttribute('touchable',''),t.object3D.lookAt(0,0,0),t.addEventListener('object3dset',()=>{t.object3D.mesh=t.getObject3D('mesh'),t.setAttribute('animation__touched',{dur:750,easing:'easeOutQuad',from:0,property:'object3D.mesh.rotation.x',startEvents:'touched',to:-1*e/2.5}),t.setAttribute('animation__touched2',{dur:750,easing:'easeOutQuad',from:0,property:'object3D.mesh.position.z',startEvents:'touched',to:-1}),t.setAttribute('animation__touched3',{dur:750,easing:'easeOutQuad',from:0,property:'object3D.mesh.position.y',startEvents:'touched',to:0.5})}),n.appendChild(t),a=document.createElement('a-entity'),a.setAttribute('obj-model',{obj:utils.assetPath('assets/models/snake/Mesh_Cobra.obj'),mtl:utils.assetPath('assets/models/snake/Mesh_Cobra.mtl')}),a.object3D.position.copy(t.object3D.position),a.object3D.position.y+=0.3,a.object3D.scale.set(0.02,0.02,0.02),a.object3D.rotation.y+=e,n.appendChild(a),t.addEventListener('touched',()=>{var e;e=new Audio(utils.assetPath('assets/audio/alert.wav')),e.volume=0.5,e.play()})}})},function(){function e(e){var t;return e+=1234,t=utils.random(e),`#${new THREE.Color(t,t,t).getHexString()}`}AFRAME.registerComponent('upsidedown',{dependencies:['environment'],init:function(){var t,n,o;for(this.el.setAttribute('environment',{dressing1Color:e(0),dressing2Color:e(1),gridColor:e(2),groundColor:e(3),groundColor2:e(4),horizonColor:e(5),skyColor:e(6),varyColor:!1}),o=document.querySelectorAll('.portal'),t=0;t<o.length;t++)o[t].setAttribute('material','isGrayscale',1),o[t].setAttribute('oasis-portal','color','#FAFAFA'),o[t].querySelector('.portalText').setAttribute('text','color','#FAFAFA'),o[t].querySelector('.portalEffect1').setAttribute('material','color','#111'),o[t].querySelector('.portalEffect2').setAttribute('material','color','#AAA');n=[this.el.components.environment.hemilight,this.el.components.environment.sunlight],n[0].setAttribute('light','intensity',0),n[1].setAttribute('light','intensity',0)},flickerLight:function(e){e.setAttribute('light','intensity',.1),setTimeout(()=>{e.setAttribute('light','intensity',0)},300)}})},function(){AFRAME.registerComponent('wayback-machine',{init:function(){var e;'true'===localStorage.getItem('waybackmachine')||(e=document.createElement('a-entity'),e.classList.add('waybackMachine'),e.setAttribute('obj-model',{obj:utils.assetPath('assets/models/waybackmachine/model.obj'),mtl:utils.assetPath('assets/models/waybackmachine/materials.mtl')}),e.setAttribute('item',{message:`You got a Wayback Machine! Zones you've previously visited are now highlighted in purple.`,storeAs:'waybackmachine'}),e.object3D.position.set(10*window.utils.random(200),1.6,10*window.utils.random(201)),this.el.appendChild(e))}})},function(){function e(e,t,n){return n?(0.5>t(1)?e.r+=0.2*t(2):e.r-=0.2*t(3),0.5>t(4)?e.g+=0.2*t(5):e.g-=0.2*t(6),0.5>t(7)?e.b+=0.2*t(8):e.b-=0.2*t(9),e):e}var t=Math.min,n=Math.floor,o=Math.abs,a=Math.max,s=Math.sin,l=Math.PI;if('undefined'==typeof AFRAME)throw new Error('Component attempted to register before AFRAME was available.');var r=['none','cubes','pyramids','cylinders','hexagons','stones','trees','mushrooms','towers','apparatus','arches','torii','grass','islands'];AFRAME.registerComponent('environment',{schema:{active:{default:!1},preset:{default:'default',oneOf:['none','default','contact','egypt','checkerboard','forest','goaland','yavapai','goldmine','arches','threetowers','poison','tron','japan','dream','volcano','starry','osiris']},seed:{type:'string'},skyType:{default:'color',oneOf:['none','color','gradient','atmosphere']},skyColor:{type:'color'},horizonColor:{type:'color'},lighting:{default:'distant',oneOf:['none','distant','point']},shadow:{default:!1},shadowSize:{default:10},lightPosition:{type:'vec3',default:{x:0,y:1,z:-0.2}},fog:{type:'float',default:0,min:0,max:1},flatShading:{default:!1},playArea:{type:'float',default:1.5,min:0.5,max:10},ground:{default:'hills',oneOf:['none','flat','hills','canyon','spikes','noise']},groundYScale:{type:'float',default:20,min:0,max:50},groundTexture:{default:'none',oneOf:['none','checkerboard','squares','walkernoise']},groundColor:{type:'color',default:'#553e35'},groundColor2:{type:'color',default:'#694439'},dressing1:{default:'none',oneOf:r},dressing1Amount:{type:'int',default:10,min:0,max:1e3},dressing1Color:{type:'color',default:'#795449'},dressing1Scale:{type:'float',default:5,min:0,max:100},dressing1Variance:{type:'vec3',default:{x:1,y:1,z:1}},dressing1UniformScale:{default:!1},dressing1OnPlayArea:{type:'float',default:0,min:0,max:1},dressing2:{default:'none',oneOf:r},dressing2Amount:{type:'int',default:10,min:0,max:1e3},dressing2Color:{type:'color',default:'#795449'},dressing2Scale:{type:'float',default:5,min:0,max:100},dressing2Variance:{type:'vec3',default:{x:1,y:1,z:1}},dressing2UniformScale:{default:!1},dressing2OnPlayArea:{type:'float',default:0,min:0,max:1},grid:{default:'none',oneOf:['none','1x1','2x2','crosses','dots','xlines','ylines']},gridColor:{type:'color',default:'#ccc'},varyColor:{default:!0}},multiple:!1,presets:{none:{},default:{dressing2:'none',dressing2Amount:10,dressing2Color:'#795449',dressing2Scale:1,dressing2Variance:{x:0,y:0,z:0},dressing2UniformScale:!0,dressing2OnPlayArea:0,active:!0,seed:1,skyType:'atmosphere',skyColor:'#88c',horizonColor:'#ddd',lighting:'distant',lightPosition:{x:-0.11,y:1,z:0.33},fog:0.78,flatShading:!1,playArea:1.5,ground:'hills',groundYScale:3,groundTexture:'checkerboard',groundColor:'#454545',groundColor2:'#5d5d5d',dressing1:'none',dressing1Amount:10,dressing1Color:'#795449',dressing1Scale:1,dressing1Variance:{x:0,y:0,z:0},dressing1UniformScale:!0,dressing1OnPlayArea:0,grid:'none',gridColor:'#ccc',shadow:!1},contact:{dressing2:'apparatus',dressing2Amount:10,dressing2Color:'#657067',dressing2Scale:2,dressing2Variance:{x:10,y:10,z:10},dressing2UniformScale:!0,dressing2OnPlayArea:0.8,active:!0,seed:14,skyType:'gradient',skyColor:'#478d54',horizonColor:'#b696cb',lighting:'distant',lightPosition:{x:0,y:2.01,z:-1},fog:0.64,flatShading:!1,playArea:1.5,ground:'spikes',groundYScale:100,groundTexture:'none',groundColor:'#2e455f',groundColor2:'#694439',dressing1:'apparatus',dressing1Amount:30,dressing1Color:'#657067',dressing1Scale:20,dressing1Variance:{x:20,y:20,z:20},dressing1UniformScale:!0,dressing1OnPlayArea:0,grid:'1x1',gridColor:'#478d54',shadow:!1},egypt:{dressing2:'stones',dressing2Amount:200,dressing2Color:'#99694f',dressing2Scale:0.26,dressing2Variance:{x:0.2,y:0.2,z:0.2},dressing2UniformScale:!1,dressing2OnPlayArea:0.8,active:!0,seed:26,skyType:'gradient',skyColor:'#1b7660',horizonColor:'#e4b676',lighting:'distant',lightPosition:{x:0,y:1.65,z:-1},fog:0.75,flatShading:!1,playArea:1.5,ground:'hills',groundYScale:20,groundTexture:'walkernoise',groundColor:'#97684f',groundColor2:'#97684f',dressing1:'pyramids',dressing1Amount:20,dressing1Color:'#7c5c45',dressing1Scale:5,dressing1Variance:{x:20,y:20,z:20},dressing1UniformScale:!0,dressing1OnPlayArea:0,grid:'spots',gridColor:'#e4b676',shadow:!1},checkerboard:{dressing2:'islands',dressing2Amount:100,dressing2Color:'#e40548',dressing2Scale:0.14,dressing2Variance:{x:0,y:1,z:0},dressing2UniformScale:!0,dressing2OnPlayArea:0.7,active:!0,seed:1,skyType:'gradient',skyColor:'#404040',horizonColor:'#e40548',lighting:'distant',lightPosition:{x:0,y:1,z:-0.2},fog:0.71,flatShading:!0,playArea:1.5,ground:'spikes',groundYScale:30,groundTexture:'checkerboard',groundColor:'#252525',groundColor2:'#111111',dressing1:'islands',dressing1Amount:20,dressing1Color:'#6b4ff0',dressing1Scale:2.51,dressing1Variance:{x:10,y:15,z:10},dressing1UniformScale:!0,dressing1OnPlayArea:0,grid:'dots',gridColor:'#6b4ff0',shadow:!1},forest:{dressing2:'grass',dressing2Amount:1500,dressing2Color:'#888b1d',dressing2Scale:0.3,dressing2Variance:{x:1,y:2,z:0},dressing2UniformScale:!1,dressing2OnPlayArea:0.8,active:!0,seed:8,skyType:'gradient',skyColor:'#24b59f',horizonColor:'#eff9b7',lighting:'distant',lightPosition:{x:-1.2,y:0.88,z:-0.55},fog:0.8,flatShading:!1,playArea:1.5,ground:'noise',groundYScale:4.18,groundTexture:'squares',groundColor:'#937a24',groundColor2:'#987d2e',dressing1:'trees',dressing1Amount:500,dressing1Color:'#888b1d',dressing1Scale:1,dressing1Variance:{x:10,y:10,z:10},dressing1UniformScale:!0,dressing1OnPlayArea:0.01,grid:'none',gridColor:'#c5a543',shadow:!0},goaland:{dressing2:'grass',dressing2Amount:1500,dressing2Color:'#db4453',dressing2Scale:1,dressing2Variance:{x:1,y:2,z:0},dressing2UniformScale:!1,dressing2OnPlayArea:0.8,active:!0,seed:17,skyType:'gradient',skyColor:'#14645f',horizonColor:'#7ccb9a',lighting:'point',lightPosition:{x:0.1,y:4,z:0.56},fog:0.73,flatShading:!1,playArea:1.5,ground:'canyon',groundYScale:100,groundTexture:'none',groundColor:'#ae3241',groundColor2:'#db4453',dressing1:'mushrooms',dressing1Amount:150,dressing1Color:'#a9313d',dressing1Scale:5,dressing1Variance:{x:5,y:10,z:5},dressing1UniformScale:!0,dressing1OnPlayArea:0.01,grid:'none',gridColor:'#239893',shadow:!1},yavapai:{dressing2:'none',dressing2Amount:10,dressing2Color:'#795449',dressing2Scale:1,dressing2Variance:{x:0,y:0,z:0},dressing2UniformScale:!0,dressing2OnPlayArea:0,active:!0,seed:11,skyType:'gradient',skyColor:'#239849',horizonColor:'#cfe0af',lighting:'distant',lightPosition:{x:0.5,y:1,z:0},fog:0.8,flatShading:!0,playArea:1.5,ground:'canyon',groundYScale:9.76,groundTexture:'walkernoise',groundColor:'#C66344',groundColor2:'#c96b4b',dressing1:'stones',dressing1Amount:500,dressing1Color:'#C66344',dressing1Scale:0.06,dressing1Variance:{x:0.2,y:0.1,z:0.2},dressing1UniformScale:!0,dressing1OnPlayArea:1,grid:'none',gridColor:'#239893',shadow:!1},goldmine:{dressing2:'stones',dressing2Amount:300,dressing2Color:'#fe921b',dressing2Scale:.2,dressing2Variance:{x:0.2,y:0.2,z:0.2},dressing2UniformScale:!1,dressing2OnPlayArea:0.83,active:!0,seed:53,skyType:'gradient',skyColor:'#1e1c1a',horizonColor:'#8c7964',lighting:'point',lightPosition:{x:0,y:1.5,z:3.33},fog:0.25,flatShading:!0,playArea:1.5,ground:'canyon',groundYScale:100,groundTexture:'none',groundColor:'#353535',groundColor2:'#252525',dressing1:'hexagons',dressing1Amount:200,dressing1Color:'#fe921b',dressing1Scale:0.5,dressing1Variance:{x:4,y:14,z:4},dressing1UniformScale:!0,dressing1OnPlayArea:0.03,grid:'none',gridColor:'#222',shadow:!1},threetowers:{dressing2:'none',dressing2Amount:10,dressing2Color:'#795449',dressing2Scale:1,dressing2Variance:{x:0,y:0,z:0},dressing2UniformScale:!0,dressing2OnPlayArea:0,active:!0,seed:5,skyType:'gradient',skyColor:'#23a06b',horizonColor:'#f5e170',lighting:'distant',lightPosition:{x:0.5,y:1,z:0},fog:0.8,flatShading:!1,playArea:1.5,ground:'spikes',groundYScale:4.26,groundTexture:'walkernoise',groundColor:'#273a49',groundColor2:'#2b464f',dressing1:'towers',dressing1Amount:15,dressing1Color:'#5f6d94',dressing1Scale:50,dressing1Variance:{x:10,y:100,z:10},dressing1UniformScale:!0,dressing1OnPlayArea:0,grid:'none',gridColor:'#239893',shadow:!1,dressing2:'cubes',dressing2Amount:30},poison:{dressing2:'none',dressing2Amount:10,dressing2Color:'#795449',dressing2Scale:1,dressing2Variance:{x:0,y:0,z:0},dressing2UniformScale:!0,dressing2OnPlayArea:0,active:!0,seed:92,skyType:'gradient',skyColor:'#1ea84a',horizonColor:'#177132',lighting:'distant',lightPosition:{x:0.5,y:1,z:0},fog:0.8,flatShading:!1,playArea:1.5,ground:'canyon',groundYScale:9.76,groundTexture:'none',groundColor:'#851f31',groundColor2:'#912235',dressing1:'hexagons',dressing1Amount:40,dressing1Color:'#c7415b',dressing1Scale:20,dressing1Variance:{x:20,y:200,z:20},dressing1UniformScale:!1,dressing1OnPlayArea:0,grid:'crosses',gridColor:'#1ea84a',shadow:!1},arches:{dressing2:'islands',dressing2Amount:50,dressing2Color:'#e446fb',dressing2Scale:1,dressing2Variance:{x:1,y:2,z:0},dressing2UniformScale:!1,dressing2OnPlayArea:0.6,active:!0,seed:19,skyType:'atmosphere',skyColor:'#8cbdc8',horizonColor:'#ddd',lighting:'distant',lightPosition:{x:-0.11,y:0.16,z:0.33},fog:0.67,flatShading:!0,playArea:1.5,ground:'canyon',groundYScale:10,groundTexture:'walkernoise',groundColor:'#5c4566',groundColor2:'#443a4e',dressing1:'arches',dressing1Amount:30,dressing1Color:'#62536f',dressing1Scale:26,dressing1Variance:{x:20,y:40,z:20},dressing1UniformScale:!0,dressing1OnPlayArea:0.04,grid:'none',gridColor:'#ccc',shadow:!1},tron:{dressing2:'none',dressing2Amount:10,dressing2Color:'#795449',dressing2Scale:1,dressing2Variance:{x:0,y:0,z:0},dressing2UniformScale:!0,dressing2OnPlayArea:0,active:!0,seed:14,skyType:'gradient',skyColor:'#091b39',horizonColor:'#284a9e',lighting:'distant',lightPosition:{x:-0.72,y:0.62,z:0.4},fog:0.8,flatShading:!1,playArea:1.5,ground:'spikes',groundYScale:4.91,groundTexture:'none',groundColor:'#061123',groundColor2:'#694439',dressing1:'towers',dressing1Amount:20,dressing1Color:'#fb000e',dressing1Scale:15,dressing1Variance:{x:20,y:20,z:20},dressing1UniformScale:!0,dressing1OnPlayArea:0,grid:'1x1',gridColor:'#fb000e',shadow:!1},japan:{dressing2:'grass',dressing2Amount:1500,dressing2Color:'#db4453',dressing2Scale:0.5,dressing2Variance:{x:1,y:2,z:0},dressing2UniformScale:!1,dressing2OnPlayArea:0.6,active:!0,seed:14,skyType:'gradient',skyColor:'#7e5db5',horizonColor:'#b4adda',lighting:'distant',lightPosition:{x:1.33,y:1,z:0.24},fog:0.9,flatShading:!1,playArea:1.5,ground:'hills',groundYScale:25,groundTexture:'walkernoise',groundColor:'#7e5db5',groundColor2:'#cabdf5',dressing1:'torii',dressing1Amount:20,dressing1Color:'#db4453',dressing1Scale:15,dressing1Variance:{x:0,y:0,z:0},dressing1UniformScale:!0,dressing1OnPlayArea:0,grid:'spots',gridColor:'#e4b676',shadow:!1},dream:{dressing2:'none',dressing2Amount:10,dressing2Color:'#795449',dressing2Scale:1,dressing2Variance:{x:0,y:0,z:0},dressing2UniformScale:!0,dressing2OnPlayArea:0,active:!0,seed:17,skyType:'gradient',skyColor:'#87faf4',horizonColor:'#b34093',lighting:'distant',lightPosition:{x:-0.72,y:0.53,z:0.97},fog:0.8,flatShading:!1,playArea:1.5,ground:'hills',groundYScale:20,groundTexture:'checkerboard',groundColor:'#b34093',groundColor2:'#c050a2',dressing1:'mushrooms',dressing1Amount:300,dressing1Color:'#3cf7ed',dressing1Scale:0.2,dressing1Variance:{x:0.2,y:0.2,z:0.2},dressing1UniformScale:!0,dressing1OnPlayArea:1,grid:'none',gridColor:'#239893',shadow:!1},volcano:{dressing2:'none',dressing2Amount:10,dressing2Color:'#795449',dressing2Scale:1,dressing2Variance:{x:0,y:0,z:0},dressing2UniformScale:!0,dressing2OnPlayArea:0,active:!0,seed:92,skyType:'gradient',skyColor:'#4a070f',horizonColor:'#f62300',lighting:'point',lightPosition:{x:0.5,y:2.25,z:0},fog:0.87,flatShading:!1,playArea:1.5,ground:'canyon',groundYScale:9.76,groundTexture:'walkernoise',groundColor:'#fb0803',groundColor2:'#510000',dressing1:'arches',dressing1Amount:15,dressing1Color:'#fb0803',dressing1Scale:3,dressing1Variance:{x:10,y:100,z:10},dressing1UniformScale:!1,dressing1OnPlayArea:0.2,grid:'none',gridColor:'#fa0e00',shadow:!1},starry:{dressing2:'none',dressing2Amount:10,dressing2Color:'#795449',dressing2Scale:1,dressing2Variance:{x:0,y:0,z:0},dressing2UniformScale:!0,dressing2OnPlayArea:0,active:!0,seed:1,skyType:'atmosphere',skyColor:'#88c',horizonColor:'#ddd',lighting:'distant',lightPosition:{x:0,y:-0.01,z:-0.46},fog:0.7,flatShading:!1,playArea:1.5,ground:'hills',groundYScale:3,groundTexture:'none',groundColor:'#553e35',groundColor2:'#694439',dressing1:'none',dressing1Amount:100,dressing1Color:'#795449',dressing1Scale:5,dressing1Variance:{x:1,y:1,z:1},dressing1UniformScale:!0,grid:'1x1',dressing1OnPlayArea:0,gridColor:'#39d2f2',shadow:!1},osiris:{dressing2:'none',dressing2Amount:10,dressing2Color:'#795449',dressing2Scale:1,dressing2Variance:{x:0,y:0,z:0},dressing2UniformScale:!0,dressing2OnPlayArea:0,active:!0,seed:46,skyType:'atmosphere',skyColor:'#88c',horizonColor:'#ddd',lighting:'distant',lightPosition:{x:0,y:0.02,z:-0.46},fog:0,flatShading:!1,playArea:1.5,ground:'hills',groundYScale:3,groundTexture:'none',groundColor:'#9e7b47',groundColor2:'#9e7b47',dressing1:'pyramids',dressing1Amount:15,dressing1Color:'#9e7b47',dressing1Scale:5,dressing1Variance:{x:30,y:30,z:30},dressing1UniformScale:!0,grid:'dots',dressing1OnPlayArea:0,gridColor:'#daa452',shadow:!1}},init:function(){for(var e in this.STAGE_SIZE=200,this.random=this.random.bind(this),this.assets={arches:[{type:'mesh',vertices:[409,268,4,351,228,36,336,236,-57,-152,391,69,-135,358,88,-119,330,43,-20,358,-35,-153,357,-47,37,413,-26,-20,411,-14,-302,148,154,-339,121,-126,-389,200,-88,-477,193,-76,-314,346,-19,-314,306,-30,-250,296,-73,-267,237,-82,-212,303,-68,-245,200,-67,-223,304,108,-329,299,107,-289,350,76,-320,342,69,119,373,-39,38,370,8,113,367,52,492,202,-31,462,83,-104,447,71,-80,426,112,25,482,189,-7,222,372,6,121,402,41,87,382,67,221,346,55,559,93,-13,528,47,39,505,21,-111,528,54,-101,616,31,-53,442,256,-15,300,338,19,257,308,-79,408,256,-74,312,352,-26,384,297,-31,437,257,-47,-29,415,53,-232,377,59,-139,335,77,-132,344,2,-18,377,-37,-171,387,-28,-254,384,18,-651,-27,27,-435,-28,179,-345,149,165,-272,-28,23,-215,146,-2,-279,-29,-59,-211,145,-55,-337,-28,-128,-413,247,0,-293,363,24,-214,254,-36,-164,290,33,-284,150,94,-218,362,105,75,369,29,518,147,-63,447,190,-70,445,56,-105,391,185,-60,431,49,-33,459,83,26,470,162,42,130,390,53,167,341,-30,125,394,-45,239,368,-17,91,414,10,450,18,2,449,-27,-9,436,-28,-58,496,-27,-110,582,-28,-140,647,-27,-56,325,325,-45,-307,297,-56,-647,-28,-45,-188,310,-54,-264,197,113,-367,175,139,8,387,82,426,45,-55,114,359,-28,500,27,44,461,-29,13,-512,-27,-151,-152,376,-38,-490,-28,148,12,370,-28,442,160,42,465,194,32,381,183,-33,649,-27,-34,444,16,29,616,-28,25,417,267,-66,-132,352,-34,-322,-27,130,-271,86,-115,-635,-28,-121,-291,203,-99,176,405,-10,561,52,-93,371,305,9,311,237,-22,377,200,-81,-129,406,46,-154,371,99,-82,361,71,-21,354,26,-91,363,-27,-165,413,-12,-414,215,110,-238,127,26,-408,-28,-128,-674,-28,-94,-446,232,-39,-311,226,-90,-255,210,-61,-235,192,-11,-217,218,58,-269,299,124,-386,276,78,-399,281,42,15,373,58,16,393,75,549,107,-46,481,188,-68,409,120,-41,541,81,12,230,368,41,194,350,-50,224,361,-50,604,-28,-10,602,-27,35,486,56,-121,502,69,-120,457,-27,-110,226,317,-40,-584,-28,-124,439,-26,-30,467,-26,39,547,-27,-146,21,368,14,466,229,-29,578,-27,44,609,-27,-96,291,356,-15,290,306,34,255,321,28,231,311,-5,-251,386,50,-183,307,87,-152,307,24,-264,373,-12,-392,-27,190,-333,-28,84,-281,-27,54,-270,-28,-23,-308,-28,-101,-687,-27,-59,39,418,39,413,163,25,404,206,-90,54,400,-31,121,352,8,-454,41,148,-426,9,182,-564,115,3,-427,27,-107,-548,118,-32,-556,122,-53,-517,91,-101,-475,54,140,-461,52,-134,-558,119,-71,-434,286,59,-687,-31,52,-595,146,22,-670,-28,164,-537,166,122,-575,-28,217,-566,159,65,-470,152,136,-712,-29,102,-639,-29,211,-532,-30,181,-442,-30,-100],faces:[76,104,162,1,176,103,103,76,1,2,119,73,73,105,2,2,118,152,45,161,46,46,109,45,3,120,49,49,68,3,3,121,139,139,48,3,4,122,94,94,121,4,6,123,124,9,175,81,10,169,111,10,67,92,88,43,146,11,131,114,11,128,183,13,130,15,90,184,174,90,182,184,130,184,63,14,130,63,15,130,14,16,131,12,15,168,53,18,91,17,131,16,17,65,133,132,65,132,91,67,134,166,166,92,67,20,135,92,20,166,4,4,121,20,22,135,68,25,102,96,25,157,102,69,138,157,69,157,25,39,150,71,71,141,39,28,150,149,149,72,28,142,176,105,36,140,27,27,143,36,32,115,81,32,144,161,161,80,32,77,35,144,34,26,77,78,179,96,145,152,78,178,79,145,80,146,79,147,140,36,143,108,36,143,37,148,74,95,154,154,83,74,72,149,151,151,95,72,38,150,156,40,147,106,70,140,40,40,116,70,42,162,0,35,163,162,43,145,146,46,117,41,47,158,27,48,139,175,122,138,94,157,138,123,52,178,102,52,102,6,52,124,7,7,100,52,53,125,8,57,93,181,56,169,181,59,127,58,60,173,61,62,128,11,11,112,62,65,91,167,65,167,66,126,93,21,22,68,49,72,95,29,142,29,74,74,82,142,75,107,97,75,97,103,76,97,37,104,143,31,78,152,164,78,164,179,79,178,8,97,155,159,107,98,155,83,98,82,154,95,84,39,116,86,86,156,39,87,160,116,24,145,96,162,104,0,105,118,2,43,177,119,44,177,43,91,51,167,44,88,109,46,161,117,3,68,121,3,48,120,4,166,50,50,122,4,5,123,122,123,138,122,110,124,51,170,10,111,110,91,7,7,124,110,8,125,9,9,81,8,186,12,188,92,135,10,11,114,112,64,63,137,13,15,89,89,53,100,64,168,14,14,168,15,89,100,16,16,12,89,100,18,16,17,91,132,112,19,61,18,7,91,19,17,132,133,127,59,133,59,61,136,21,22,134,127,133,20,92,166,121,135,20,158,31,27,21,135,22,23,137,136,24,102,178,178,145,24,25,179,69,26,94,138,27,140,70,27,70,141,150,177,71,28,177,150,29,142,73,73,119,29,142,82,30,30,176,142,107,75,82,31,143,27,33,81,175,31,41,104,115,79,8,32,33,144,80,115,32,33,175,139,35,162,42,77,139,34,163,26,179,163,179,164,78,96,145,177,29,119,108,143,148,148,37,159,97,159,37,74,83,82,38,149,150,156,150,39,40,106,87,87,116,40,140,147,40,161,144,42,42,117,161,41,0,104,41,117,0,0,117,42,164,118,163,1,163,118,118,176,1,118,105,176,152,118,164,43,152,145,43,119,2,71,109,141,47,41,158,44,71,177,45,109,88,45,88,146,46,47,109,141,47,27,167,50,166,49,120,165,139,121,94,5,122,50,123,51,124,157,6,102,157,123,6,100,8,178,5,167,51,6,124,52,100,178,52,53,168,125,125,165,120,54,125,168,9,48,175,120,9,125,93,10,135,181,101,56,57,169,10,59,172,61,67,170,171,67,171,127,58,127,171,129,186,113,60,61,172,61,173,112,62,112,173,174,189,129,165,64,23,64,137,23,165,22,49,64,54,168,17,114,131,17,112,114,66,133,65,19,132,133,19,133,61,134,133,66,166,134,66,166,66,167,93,135,21,68,135,121,23,136,22,94,34,139,25,96,179,26,138,69,69,179,26,30,103,176,116,141,70,39,141,116,73,142,105,143,76,37,26,35,77,103,97,76,77,144,33,33,139,77,38,151,149,80,161,45,80,45,146,81,115,8,107,155,97,82,98,107,95,151,84,38,156,85,86,116,160,96,102,24,72,29,28,29,95,74,75,30,82,108,147,36,88,44,43,91,110,51,170,67,10,11,183,131,64,14,63,89,15,53,100,7,18,112,17,19,127,134,67,136,126,21,158,41,31,33,32,81,115,80,79,177,28,29,43,2,152,71,44,109,47,46,41,141,109,47,167,5,50,123,5,51,100,53,8,125,54,165,9,120,48,93,57,10,59,58,172,174,185,189,165,54,64,165,23,22,94,26,34,30,75,103,143,104,76,26,163,35,38,85,151,192,182,191,183,128,201,12,13,89,181,169,57,186,153,113,188,183,99,184,182,63,185,13,189,180,181,93,186,99,153,189,186,129,185,184,130,186,13,12,187,93,126,193,199,194,194,196,193,200,187,195,187,197,195,187,126,197,197,190,194,190,136,137,190,196,194,63,182,192,63,192,196,192,198,196,191,182,55,193,196,198,194,199,197,195,197,199,136,197,126,190,137,63,190,63,196,197,136,190,192,191,198,201,99,183,90,55,182,181,180,101,185,130,13,186,188,99,186,189,13,187,180,93,200,101,187,183,188,131,184,185,174,180,187,101,16,18,17,12,131,188,35,42,144,163,1,162,76,162,1,79,146,145]}],stones:[{type:'mesh',vertices:[-376,189,42,230,223,-310,353,162,-62,414,-23,-67,256,90,-475,24,85,-526,-418,-16,57,-432,66,-40,-199,151,-376,-155,49,467,-91,289,201,293,197,91,81,-17,-480,42,108,431,-359,-17,-250,383,-19,-243,194,-15,270,-272,180,293,-86,212,262,234,54,297,395,97,-302,-123,-21,-444,-416,-19,-123,-323,-18,267,-100,-16,429,-300,96,-361,163,-19,409,118,201,-431,-241,-18,391,-130,274,-309,306,-19,-399,-221,96,404],faces:[31,18,17,0,17,18,3,20,2,18,11,10,29,27,8,27,29,1,0,18,10,10,29,0,16,19,26,11,2,1,20,30,4,20,3,15,30,12,4,4,12,5,5,27,4,4,27,20,21,25,5,7,8,25,22,7,14,7,25,14,23,28,31,0,7,17,24,26,9,31,28,9,8,27,5,2,20,1,13,19,18,10,11,1,19,13,26,3,11,19,19,16,3,11,3,2,11,18,19,20,15,30,29,10,1,25,21,14,8,5,25,5,12,21,6,7,22,7,6,23,8,0,29,8,7,0,23,31,7,13,31,9,18,31,13,9,28,24,26,13,9,27,1,20,7,31,17]},{type:'mesh',vertices:[-217,34,-153,198,90,20,212,85,169,-131,93,171,197,113,30,173,121,164,315,29,-16,219,24,189,282,50,-102,232,38,-181,-195,-9,-166,-156,30,-207,-51,-9,-231,-180,91,-173,-19,73,-204,-280,23,96,-242,100,107,3,158,-82,109,88,221,275,-10,-40,236,-10,-135,-178,49,184,-1,-10,-243,265,-11,109,-12,-9,237,-36,46,251,-233,86,-81,93,77,-171,-163,133,69,18,16,263,296,44,93,131,-12,-226,-89,-10,-201,-273,-10,-51,-240,-9,110,190,-12,192,-253,-11,-92,42,43,-258,-115,-11,238,168,99,-88,-285,-10,24,71,124,-158,298,-10,10,116,150,-24,-282,44,39],faces:[44,16,26,13,26,16,0,26,13,27,14,41,4,5,1,7,30,2,28,5,43,41,39,27,17,43,41,43,4,39,13,28,17,17,41,13,28,43,17,24,29,38,29,35,7,18,25,29,5,18,2,18,5,3,30,42,6,30,35,23,19,20,8,8,20,9,9,39,8,1,30,8,31,37,9,11,14,37,14,27,37,32,11,12,11,37,12,11,0,13,33,40,44,44,26,33,33,0,36,34,38,15,44,40,15,21,3,16,27,39,9,2,30,1,21,25,3,16,3,28,28,3,5,4,43,5,41,43,39,13,16,28,25,21,38,38,29,25,7,18,29,29,24,35,18,7,2,18,3,25,30,23,42,30,7,35,8,30,6,6,19,8,6,42,19,8,39,1,37,31,22,27,9,37,9,20,31,10,11,32,11,10,0,12,37,22,14,13,41,14,11,13,33,26,0,36,0,10,21,44,15,16,44,21,15,40,34,38,21,15,4,1,39,5,2,1]},{type:'mesh',vertices:[-101,102,57,99,35,102,40,72,80,59,14,-168,-186,22,45,-176,25,-30,66,-7,146,153,-7,53,-110,47,-96,-90,-8,-146,150,-7,-12,-200,-7,8,-173,-7,-55,55,46,-60,125,-7,110,136,30,-10,-149,58,68,-15,82,-71,98,-7,-86,-34,-6,-194,-33,-7,171,-36,65,137,38,-8,-192,-103,-9,147,-12,62,-152],faces:[2,17,0,17,8,0,17,24,8,19,24,22,5,11,4,2,13,17,17,13,24,21,23,20,1,2,21,7,15,1,7,10,15,5,9,12,15,18,13,0,5,16,0,8,5,1,15,2,10,18,15,3,13,18,24,3,22,11,23,4,4,16,5,16,4,23,24,13,3,15,13,2,6,1,21,6,21,20,6,14,1,2,0,21,1,14,7,3,18,22,8,24,19,8,19,9,12,11,5,5,8,9,16,23,21,16,21,0]},{type:'mesh',vertices:[86,55,-18,58,38,73,97,-12,79,135,7,10,-93,-11,-72,-133,5,33,13,68,-32,94,-11,-57,-90,52,53,-24,-11,-106,-13,-10,104,-75,49,-69,-12,18,114,49,-12,-96,-46,-11,-85,-119,-11,-26,48,5,-111,-58,-11,105,-117,-12,52,-5,35,-93,123,-11,7],faces:[5,8,11,2,3,1,8,1,6,11,8,6,6,19,11,10,12,17,20,7,3,3,7,16,16,0,3,16,9,19,14,4,9,15,18,5,5,11,15,18,17,5,19,0,16,1,3,0,0,6,1,19,6,0,12,8,17,2,1,12,12,10,2,1,8,12,3,2,20,16,13,9,16,7,13,19,4,11,15,11,4,17,8,5,9,4,19]}],torii:[{type:'mesh',mirror:!0,flatShading:!0,vertices:[692,966,-52,661,834,-52,692,966,52,661,834,52,0,894,-52,0,776,-52,0,894,52,0,776,52,518,935,52,345,913,52,170,899,52,162,779,52,328,790,52,494,808,52,170,899,-52,345,913,-52,518,935,-52,494,808,-52,328,790,-52,162,779,-52,0,618,16,0,697,16,0,618,-16,0,697,-16,586,618,16,586,697,16,586,618,-16,586,697,-16,331,-29,-75,331,766,-52,369,-29,-65,357,766,-45,396,-29,-37,377,766,-26,406,-29,0,384,766,0,396,-29,37,377,766,26,369,-29,65,357,766,45,331,-29,75,331,766,52,294,-29,65,305,766,45,267,-29,37,286,766,26,257,-29,0,279,766,0,267,-29,-37,286,766,-26,294,-29,-65,305,766,-45,0,777,85,0,681,33,333,762,-75,333,806,-75,371,762,-65,371,806,-65,398,762,-37,398,806,-37,408,762,0,408,806,0,398,762,37,398,806,37,371,762,65,371,806,65,333,762,75,333,806,75,296,762,65,296,806,65,268,762,37,268,806,37,258,762,0,258,806,0,268,762,-37,268,806,-37,296,762,-65,296,806,-65,0,681,-33,0,777,-85,52,681,33,52,777,85,52,681,-33,52,777,-85],faces:[4,10,14,1,13,17,11,6,7,0,3,1,16,1,17,4,19,5,14,18,19,15,17,18,3,8,13,13,9,12,12,10,11,19,7,5,19,12,11,18,13,12,16,2,0,15,8,16,14,9,15,23,26,22,27,24,26,25,20,24,26,20,22,23,25,27,29,30,28,31,32,30,33,34,32,35,36,34,37,38,36,39,40,38,41,42,40,43,44,42,45,46,44,47,48,46,49,50,48,51,28,50,55,56,54,57,58,56,59,60,58,61,62,60,63,64,62,79,81,83,65,66,64,82,53,78,67,68,66,81,53,80,69,70,68,83,80,82,71,72,70,79,82,78,73,74,72,75,63,59,75,76,74,77,54,76,60,68,76,4,6,10,1,3,13,11,10,6,0,2,3,16,0,1,4,14,19,14,15,18,15,16,17,3,2,8,13,8,9,12,9,10,19,11,7,19,18,12,18,17,13,16,8,2,15,9,8,14,10,9,23,27,26,27,25,24,25,21,20,26,24,20,23,21,25,29,31,30,31,33,32,33,35,34,35,37,36,37,39,38,39,41,40,41,43,42,43,45,44,45,47,46,47,49,48,49,51,50,51,29,28,55,57,56,57,59,58,59,61,60,61,63,62,63,65,64,79,52,81,65,67,66,82,80,53,67,69,68,81,52,53,69,71,70,83,81,80,71,73,72,79,83,82,73,75,74,59,57,55,55,77,75,75,73,71,71,69,75,67,65,63,63,61,59,59,55,75,75,69,67,67,63,75,75,77,76,77,55,54,76,54,56,56,58,76,60,62,68,64,66,68,68,70,72,72,74,68,76,58,60,62,64,68,68,74,76]}],islands:[{type:'mesh',flatShading:!0,vertices:[0,3814,0,-358,4995,910,-991,4998,-4,-233,5033,-865,200,5270,1092,-610,5199,-726,115,7344,272,650,4860,400,1021,5613,-198,644,5628,735,-926,5949,-65,707,5187,-783,-478,5991,830,-438,6319,-585,220,6075,-797],faces:[0,7,1,0,1,2,0,2,3,0,3,11,2,1,10,1,4,12,4,9,6,5,10,13,8,14,6,14,13,6,13,12,6,13,10,12,12,4,6,6,9,8,8,11,14,3,13,14,3,5,13,11,3,14,5,2,10,10,1,12,4,7,9,9,7,8,7,11,8,3,2,5,7,0,11,1,7,4]}],grass:[{type:'mesh',vertices:[-63,-21,68,65,-37,19,58,237,31,231,391,10,136,228,61,6,-5,9,24,-14,-4,0,350,-25,-52,-10,-29,-83,-18,1,-5,333,115,-46,-15,76,102,-4,96,83,236,60,74,0,27,60,139,54],faces:[2,4,3,1,4,5,2,5,4,6,8,7,9,11,10,12,14,15,15,13,12,2,0,5]},{type:'mesh',vertices:[919,-21,-61,821,-18,-96,885,128,-87,795,264,-142,836,119,-154,865,-5,-152,630,-4,140,647,236,177,654,0,211,669,139,184],faces:[2,4,3,1,4,5,2,5,4,6,8,9,9,7,6,2,0,5]},{type:'mesh',vertices:[274,-12,-520,305,520,-536,274,-12,-535,289,-12,-528,274,254,-520,278,254,-535,289,254,-524,215,474,-552,268,495,-540,276,483,-554,314,452,-588,329,442,-570,271,490,-514,337,429,-630,303,493,-535,293,454,-584,300,461,-534,289,444,-503,277,436,-504,274,435,-469,311,448,-497,299,446,-533,343,441,-534,320,444,-516,300,457,-534,328,467,-558,332,470,-540,301,476,-535,305,516,-536,303,537,-533,308,540,-555],faces:[4,1,5,5,3,2,3,1,6,6,1,4,6,0,3,4,2,0,7,8,9,9,8,14,7,12,8,13,10,11,14,8,12,11,10,16,13,15,10,16,10,15,19,17,18,18,17,21,19,20,17,21,17,20,23,22,24,26,25,27,29,28,30,5,1,3,6,4,0,4,5,2]}],hexagons:[{type:'extrude',vertices:[-0.198,-0.302,0.197,-0.3,0.372,0,0.199,0.298,-0.202,0.298,-0.368,0]}],towers:[{type:'extrude',vertices:[-0.054,-0.178,-0.007,-0.182,0.069,-0.027,0.189,0.079,0.178,0.124,-0.007,0.097,-0.145,0.182,-0.178,0.144,-0.079,-0.021]},{type:'lathe',segments:4,vertices:[0.004,0.02,0.012,0.092,0.042,0.166,0.067,0.55,0.101,0.594,0.105,0.838,0.193,0.934,0.18,0.994]},{type:'lathe',segments:5,vertices:[0.069,0.216,0.067,0.562,0.126,0.562,0.128,0.774,0.191,0.774,0.193,0.986]}],trees:[{type:'lathe',noise:0.015,segments:6,vertices:[0.000001,0.826,0.054,0.832,0.105,0.854,0.136,0.9,0.136,0.958,0.118,0.994]},{type:'lathe',noise:0.015,segments:14,vertices:[0.000001,0.01,0.069,0.022,0.13,0.068,0.178,0.18,0.189,0.32,0.191,0.59,0.193,0.75,0.138,0.79,0.018,0.808,0.018,0.996]},{type:'lathe',noise:0.015,segments:14,vertices:[0.000001,0.436,0.126,0.46,0.201,0.57,0.219,0.72,0.154,0.846,0.028,0.884,0.034,0.996]}],apparatus:[{type:'lathe',segments:10,vertices:[0.000001,0.23,0.042,0.23,0.069,0.36,0.038,0.362,0.038,0.372,0.06,0.372,0.073,0.572,0.024,0.572,0.024,0.67,0.069,0.67,0.075,0.722,0.097,0.724,0.105,0.852,0.083,0.902,0.065,0.902,0.065,0.924,0.128,0.924,0.146,0.996]},{type:'lathe',segments:16,vertices:[0.000001,0.232,0.229,0.182,0.486,0.07,0.356,0.182,0.213,0.242,0.154,0.242,0.144,0.262,0.178,0.262,0.126,0.314,0.04,0.328,0.038,0.374,0.058,0.374,0.071,0.408,0.026,0.406,0.03,0.42,0.091,0.418,0.034,0.496,0.01,0.498,0.03,0.506,0.014,0.998]}],mushrooms:[{type:'lathe',noise:0.02,segments:14,vertices:[0.000001,0.006,0.13,0.018,0.341,0.084,0.437,0.144,0.492,0.234,0.484,0.246,0.276,0.232,0.107,0.284,0.046,0.346,0.062,0.852,0.097,0.956,0.166,0.998]},{type:'lathe',noise:0.02,segments:10,vertices:[0.000001,0.562,0.091,0.572,0.172,0.61,0.223,0.666,0.256,0.74,0.258,0.806,0.246,0.824,0.062,0.826,0.065,0.948,0.097,0.998]},{type:'lathe',noise:0.02,segments:10,vertices:[0.000001,0.768,0.099,0.772,0.219,0.802,0.306,0.844,0.352,0.886,0.352,0.908,0.118,0.904,0.107,0.93,0.115,0.966,0.14,0.996]}]},this.assets)for(var t,n=0;n<this.assets[e].length;n++)if(t=this.assets[e][n],'mesh'==t.type)for(var o=0,a=t.vertices.length;o<a;o++)t.vertices[o]/=1e3;this.userFog=this.el.sceneEl.getAttribute('fog'),this.sky=document.createElement('a-sky'),this.sky.setAttribute('radius',this.STAGE_SIZE),this.sky.setAttribute('theta-length',110),this.sky.classList.add('environment'),this.stars=null,this.groundMaterial=null,this.ground=document.createElement('a-entity'),this.ground.setAttribute('rotation','-90 0 0'),this.ground.classList.add('environmentGround'),this.ground.classList.add('environment'),this.groundCanvas=null,this.groundTexture=null,this.groundMaterial=null,this.groundGeometry=null,this.dressing1=document.createElement('a-entity'),this.dressing1.classList.add('environmentDressing'),this.dressing1.classList.add('environment'),this.dressing2=document.createElement('a-entity'),this.dressing2.classList.add('environmentDressing'),this.dressing2.classList.add('environment'),this.gridCanvas=null,this.gridTexture=null,this.hemilight=document.createElement('a-entity'),this.hemilight.classList.add('environment'),this.hemilight.setAttribute('position','0 50 0'),this.hemilight.setAttribute('light',{type:'hemisphere',color:'#CEE4F0',intensity:0.4}),this.sunlight=document.createElement('a-entity'),this.sunlight.classList.add('environment'),this.sunlight.setAttribute('position',this.data.lightPosition),this.sunlight.setAttribute('light',{intensity:0.6}),this.el.appendChild(this.hemilight),this.el.appendChild(this.sunlight),this.el.appendChild(this.ground),this.el.appendChild(this.dressing1),this.el.appendChild(this.dressing2),this.el.appendChild(this.sky)},getFogColor:function(n,o){var r;if('color'==n||'none'==n)r=new THREE.Color(this.data.skyColor),this.random;else if('gradient'==n)r=new THREE.Color(this.data.horizonColor),this.random;else if('atmosphere'==n){var s=[1,0.5,0.22,0.1,0.05,0],l=['#C0CDCF','#81ADC5','#525e62','#2a2d2d','#141616','#000'];if(0>=o)return'#000';o=t(1,o);for(var d=0;d<s.length;d++)if(o>s[d]){var c=e(new THREE.Color(l[d-1]),this.random,this.data.varyColor),p=e(new THREE.Color(l[d]),this.random,this.data.varyColor),u=(o-s[d])/(s[d-1]-s[d]);p.lerp(c,u),r=p;break}}return r.multiplyScalar(0.9),r.lerp(new THREE.Color(this.data.groundColor),0.3),'#'+r.getHexString()},update:function(e){if(!e||void 0===e.preset||e.preset!==this.data.preset){var t=Object.assign({},this.presets[this.data.preset]);if(e&&void 0!==e.preset||Object.assign(t,this.el.components.environment.attrValue),this.el.setAttribute('environment',t),e)return;e={}}this.seed=(this.data.seed+'').split('').map((e,t)=>''+(t+2)+e).reduce((e,t)=>e+parseInt(t)*t.charCodeAt(1),0);var n=this.data.skyType,o=new THREE.Vector3(this.data.lightPosition.x,this.data.lightPosition.y,this.data.lightPosition.z);if(o.normalize(),this.sunlight){if(this.sunlight.setAttribute('position',this.data.lightPosition),'atmosphere'!=n){var r=new THREE.Color(this.data.skyColor);r.r=(r.r+1)/2,r.g=(r.g+1)/2,r.b=(r.b+1)/2,this.hemilight.setAttribute('light',{color:'#'+r.getHexString()}),this.sunlight.setAttribute('light',{intensity:0.6}),this.hemilight.setAttribute('light',{intensity:0.6})}else this.sunlight.setAttribute('light',{intensity:0.1+0.5*o.y}),this.hemilight.setAttribute('light',{intensity:0.1+0.5*o.y});this.sunlight.setAttribute('light',{castShadow:this.data.shadow,shadowCameraLeft:-this.data.shadowSize,shadowCameraBottom:-this.data.shadowSize,shadowCameraRight:this.data.shadowSize,shadowCameraTop:this.data.shadowSize})}if(n!=e.skyType||this.data.skyColor!=e.skyColor||this.data.horizonColor!=e.horizonColor){this.sky.removeAttribute('material');var s={};s.shader={none:'flat',color:'flat',gradient:'gradientshader',atmosphere:'skyshader'}[n],this.stars&&this.stars.setAttribute('visible','atmosphere'==n),'color'==n?(s.color=this.data.skyColor,s.fog=!1):'gradient'==n&&(s.topColor=this.data.skyColor,s.bottomColor=this.data.horizonColor),this.sky.setAttribute('material',s)}'atmosphere'==n&&(this.sky.setAttribute('material',{sunPosition:o}),this.setStars(2e3*(1-a(0,8*(o.y+0.08))))),0<this.data.fog?this.el.sceneEl.setAttribute('fog',{color:this.getFogColor(n,o.y),far:2*((1.01-this.data.fog)*this.STAGE_SIZE)}):this.el.sceneEl.removeAttribute('fog'),this.sunlight.setAttribute('light',{type:'point'==this.data.lighting?'point':'directional'}),this.sunlight.setAttribute('visible','none'!==this.data.lighting),this.hemilight.setAttribute('visible','none'!==this.data.lighting);var l=!this.groundGeometry||this.data.seed!=e.seed||this.data.ground!=e.ground||this.data.playArea!=e.playArea||this.data.flatShading!=e.flatShading;(l||this.data.groundColor!=e.groundColor||this.data.groundColor2!=e.groundColor2||this.data.groundYScale!=e.groundYScale||this.data.groundTexture!=e.groundTexture||this.data.gridColor!=e.gridColor||this.data.grid!=e.grid)&&(this.updateGround(l),this.hemilight&&this.hemilight.setAttribute('light',{groundColor:this.data.groundColor})),this.updateDressing(1),this.updateDressing(2),this.sky.setAttribute('visible','none'!==n),this.el.setAttribute('visible',this.data.active),this.data.active||(this.userFog?this.el.sceneEl.setAttribute('fog',this.userFog):this.el.sceneEl.removeAttribute('fog')),this.dumpParametersDiff()},logPreset:function(){var e='{';for(var t in this.schema)if('preset'!=t){e+=t+': ';var n=this.schema[t].type;e+='vec3'==n?'{ x: '+this.data[t].x+', y: '+this.data[t].y+', z: '+this.data[t].z+'}':'string'==n||'color'==n?'"'+this.data[t]+'"':this.data[t],e+=', '}e+='}',console.log(e)},dumpParametersDiff:function(){function e(e){return n(1e3*e)/1e3}var t=[],o='none'!=this.data.preset&&this.presets[this.data.preset];for(var a in o&&t.push('preset: '+this.data.preset),this.schema)if(!('preset'==a||o&&void 0===o[a])){var r=o?o[a]:this.schema[a].default,s=this.data[a],l=this.schema[a].type;if('vec3'==l){var d=r;'string'==typeof r&&(r=r.split(' '),d={x:r[0],y:r[1],z:r[2]}),(e(d.x)!=e(s.x)||e(d.y)!=e(s.y)||e(d.z)!=e(s.z))&&t.push(a+': '+e(s.x)+' '+e(s.y)+' '+e(s.z))}else r!=s&&('number'==this.schema[a].type&&(s=e(s)),t.push(a+': '+s))}console.log('%c'+t.join('; '),'color: #f48;font-weight:bold')},random:function(e){var t;return t=parseFloat('0.'+s(9999*this.seed*e).toString().substr(7)),0===t&&(t=parseFloat('0.'+s(99999*this.seed*e).toString().substr(7))),t},updateGround:function(e){var n=64;if(e){var r='none'!=this.data.ground;if(this.ground.setAttribute('visible',r),!r)return;this.groundGeometry||(this.groundGeometry=new THREE.PlaneGeometry(this.STAGE_SIZE+2,this.STAGE_SIZE+2,n-1,n-1));for(var s=new d,l=this.groundGeometry.vertices,c=this.groundGeometry.vertices.length,p=10,u=p/n,m=0,g=0,f=0;m<c;m++){if('flat'==this.data.ground){l[m].z=0;continue}var y;switch(this.data.ground){case'hills':{y=a(0,s.noise(g,f,0));break}case'canyon':{y=0.2+0.8*s.noise(g,f,0),y=t(1,10*Math.pow(y,2));break}case'spikes':{y=0.02>this.random(m)?this.random(m+1):0;break}case'noise':{y=0.35>this.random(m)?this.random(m+1):0;break}}y+=0.1*this.random(m+2);var h=2*g/p-1,b=2*f/p-1,v=this.data.playArea;h=a(0,t(1,(o(h)-(v-0.9))*(1/v))),b=a(0,t(1,(o(b)-(v-0.9))*(1/v))),y*=h>b?h:b,0.01>y&&(y=0),l[m].z=y,g+=u,10<=g&&(g=0,f+=u)}this.groundGeometry.computeFaceNormals(),this.data.flatShading?this.groundGeometry.computeFlatVertexNormals():this.groundGeometry.computeVertexNormals(),this.groundGeometry.verticesNeedUpdate=!0,this.groundGeometry.normalsNeedUpdate=!0}this.ground.object3D.scale.z=a(100*this.random(1e3),1);var C=2048,A=20,x=this.STAGE_SIZE/A;this.groundCanvas&&this.groundCanvas.width==C||(this.gridCanvas=document.createElement('canvas'),this.gridCanvas.width=C,this.gridCanvas.height=C,this.gridTexture=new THREE.Texture(this.gridCanvas),this.gridTexture.wrapS=THREE.RepeatWrapping,this.gridTexture.wrapT=THREE.RepeatWrapping,this.gridTexture.repeat.set(x,x),this.groundCanvas=document.createElement('canvas'),this.groundCanvas.width=C,this.groundCanvas.height=C,this.groundTexture=new THREE.Texture(this.groundCanvas),this.groundTexture.wrapS=THREE.RepeatWrapping,this.groundTexture.wrapT=THREE.RepeatWrapping,this.groundTexture.repeat.set(x,x),this.groundMaterialProps={map:this.groundTexture,emissive:new THREE.Color(16777215),emissiveMap:this.gridTexture},new THREE.Material().hasOwnProperty('shading')?this.groundMaterialProps.shading=this.data.flatShading?THREE.FlatShading:THREE.SmoothShading:this.groundMaterialProps.flatShading=this.data.flatShading,this.groundMaterial=new THREE.MeshLambertMaterial(this.groundMaterialProps));var S=this.groundCanvas.getContext('2d'),k=this.gridCanvas.getContext('2d');if(this.drawTexture(S,C,A),k.fillStyle='#000000',k.fillRect(0,0,C,C),this.drawGrid(k,C,A),this.groundTexture.needsUpdate=!0,this.gridTexture.needsUpdate=!0,e){var E=new THREE.Mesh(this.groundGeometry,this.groundMaterial);this.ground.setObject3D('mesh',E)}else this.ground.getObject3D('mesh').material=this.groundMaterial;this.ground.setAttribute('shadow',{cast:!1,receive:this.data.shadow})},drawGrid:function(e,t,o){if('none'!=this.data.grid){var a,r,s,d=n(o/2),c=t/(o/2);switch(e.fillStyle=this.data.gridColor,this.data.grid){case'1x1':case'2x2':{for('1x1'==this.data.grid&&(d*=2,c=t/o),a=0;a<d;a++)s=n(a*c),e.fillRect(0,s,t,1),e.fillRect(s,0,1,t);break}case'crosses':{var p=n(c/20);for(a=0;a<d+1;a++)for(s=n(a*c),r=0;r<d+1;r++){var u=n(-p+r*c);e.fillRect(u,s,2*p,1),e.fillRect(s,u,1,2*p)}break}case'dots':{for(a=0;a<d+1;a++)for(r=0;r<d+1;r++)e.beginPath(),e.arc(n(r*c),n(a*c),4,0,2*l),e.fill();break}case'xlines':{for(a=0;a<d;a++)e.fillRect(n(a*c),0,1,t);break}case'ylines':{for(a=0;a<d;a++)e.fillRect(0,n(a*c),t,1);break}}}},drawTexture:function(t,o,a){t.fillStyle=this.data.groundColor,t.fillRect(0,0,o,o);var r,l,c,p,u,m,g;if('none'!=this.data.groundTexture)switch(this.data.groundTexture){case'checkerboard':{t.fillStyle=this.data.groundColor2;var y=n(a/2),h=o/(a/2);for(r=0;r<y+1;r+=2)for(var f=0;f<y+1;f++)t.fillRect(n((r+f%2)*h),n(f*h),n(h),n(h));break}case'squares':{var b=16,v=o/b;for(c=e(new THREE.Color(this.data.groundColor),this.random,this.data.varyColor),p=e(new THREE.Color(this.data.groundColor2),this.random,this.data.varyColor),r=0;r<b*b;r++)l=0.5<this.random(r+3)?c.clone():p.clone(),l.addScalar(0.1*this.random(r+3)-0.05),t.fillStyle='#'+l.getHexString(),t.fillRect(r%b*v,n(r/b)*v,v,v);break}case'noise':{m=t.getImageData(0,0,o,o),u=m.data,c=e(new THREE.Color(this.data.groundColor),this.random,this.data.varyColor),p=e(new THREE.Color(this.data.groundColor2),this.random,this.data.varyColor);var C=new THREE.Color(p.r-c.r,p.g-c.g,p.b-c.b),A=new d;for(r=0,f=0,g=u.length;r<g;r+=4,f++){var x=A.noise(3*(f%o/o),3*(f/o/o),0);u[r+0]=n(255*(c.r+C.r*x)),u[r+1]=n(255*(c.g+C.g*x)),u[r+2]=n(255*(c.b+C.b*x))}t.putImageData(m,0,0);break}case'walkernoise':{var S=n(o/2),s=document.createElement('canvas');s.width=S,s.height=S;var k=s.getContext('2d');k.fillStyle=this.data.groundColor,k.fillRect(0,0,S,S),m=k.getImageData(0,0,S,S),u=m.data,c=e(new THREE.Color(this.data.groundColor),this.random,this.data.varyColor),p=e(new THREE.Color(this.data.groundColor2),this.random,this.data.varyColor);var E=[],w=1e3;for(r=0;r<w;r++)l=c.clone().lerp(p,Math.random()),E.push({x:Math.random()*S,y:Math.random()*S,r:n(255*l.r),g:n(255*l.g),b:n(255*l.b)});for(var P=0;P<5e3;P++)for(r=0;r<w;r++){var D=E[r],T=4*n(D.y*S+D.x);u[T+0]=D.r,u[T+1]=D.g,u[T+2]=D.b,D.x+=n(3*Math.random())-1,D.y+=n(3*Math.random())-1,D.x>=S&&(D.x-=S),D.y>=S&&(D.y-=S),0>D.x&&(D.x=S+D.x),0>D.y&&(D.y=S+D.y)}k.putImageData(m,0,0),t.drawImage(s,0,0,o,o);break}}},getAssetGeometry:function(e){function t(e,t){for(var o=new THREE.Vector3,n=0,a=e.vertices.length;n<a;n++)o.x=(s.random(n)-0.5)*t,o.y=(s.random(n+a)-0.5)*t,o.z=(s.random(n+2*a)-0.5)*t,e.vertices[n].add(o)}if(!e)return null;for(var n,o,a,r=[],s=this,d=0;d<e.length;d++)if('lathe'==e[d].type){var c=-99999,p=[];for(a=e[d].vertices,n=0;n<a.length;n+=2)p.push(new THREE.Vector2(a[n],a[n+1])),a[n+1]>c&&(c=a[n+1]);o=new THREE.LatheGeometry(p,e[d].segments||8),o.applyMatrix(new THREE.Matrix4().makeRotationFromEuler(new THREE.Euler(-l,0,0))),o.applyMatrix(new THREE.Matrix4().makeTranslation(0,c,0)),e[d].noise&&t(o,e[d].noise),r.push(o)}else if('extrude'==e[d].type){var u=new THREE.Shape;for(a=e[d].vertices,n=0;n<a.length;n+=2)0==n?u.moveTo(a[n],a[n+1]):u.lineTo(a[n],a[n+1]);o=new THREE.ExtrudeGeometry(u,{amount:1,bevelEnabled:!1}),o.applyMatrix(new THREE.Matrix4().makeRotationFromEuler(new THREE.Euler(-l/2,0,0))),e[d].noise&&t(o,e[d].noise),r.push(o)}else if('mesh'==e[d].type){o=new THREE.Geometry,a=e[d].vertices;for(var m=e[d].faces,g=0;g<a.length;g+=3)o.vertices.push(new THREE.Vector3(a[g],a[g+1],a[g+2]));for(var y=0;y<m.length;y+=3)o.faces.push(new THREE.Face3(m[y],m[y+1],m[y+2]));this.data.flatShading||e[d].flatShading?o.computeFaceNormals():o.computeVertexNormals(),e[d].mirror&&o.merge(o,new THREE.Matrix4().makeRotationFromEuler(new THREE.Euler(0,l,0))),e[d].noise&&t(o,e[d].noise),r.push(o)}return r},updateDressing:function(t){var o=new THREE.Object3D,d='dressing'+t,c=this[d],p=this.data[d],u=this.data[d+'Color'],m=this.data[d+'Amount'],g=this.data[d+'Variance'],y=this.data[d+'Scale'],h=this.data[d+'UniformScale'],f=this.data[d+'OnPlayArea'];if(c.setAttribute('visible','none'!=p),'none'!=p){var b,v=new THREE.Geometry;switch(p){case'cubes':{b=[new THREE.BoxGeometry(1,1,1)],b[0].applyMatrix(new THREE.Matrix4().makeTranslation(0,0.5,0));break}case'pyramids':{b=[new THREE.ConeGeometry(1,1,4,1,!0)],b[0].applyMatrix(new THREE.Matrix4().makeTranslation(0,0.5,0));break}case'cylinders':{b=[new THREE.CylinderGeometry(0.5,0.5,1,8,1,!0)],b[0].applyMatrix(new THREE.Matrix4().makeTranslation(0,0.5,0));break}default:{if(b=this.getAssetGeometry(this.assets[p]),!b)return;break}}var C=m+n(this.random()*m);console.log(C);for(var A=0,x=88343;A<C;A++,x++){var r,S=b[n(this.random(33*t+A)*b.length)],k=y,E=new THREE.Vector3(g.x,g.y,g.z),w=x*t,P=this.random(w)<f;r=P?15*this.random(w+1):10+a(E.x,E.z)+10*this.random(w+1)+this.random(w+2)*this.STAGE_SIZE/3;var D=2*(this.random(w+3)*l),T=new THREE.Matrix4,O=this.random(w+4),j=h;T.compose(new THREE.Vector3(Math.cos(D)*r,0,s(D)*r),new THREE.Quaternion().setFromAxisAngle(new THREE.Vector3(0,1,0),2*((this.random(w+5)-0.5)*E.length()*l)),new THREE.Vector3(k+(j?O:this.random(w+6))*E.x,k+(j?O:this.random(w+7))*E.y,k+(j?O:this.random(w+8))*E.z)),v.merge(S,T)}var L=new THREE.BufferGeometry;L.fromGeometry(v);var z=new THREE.MeshLambertMaterial({color:e(new THREE.Color(u),this.random,this.data.varyColor),vertexColors:THREE.VertexColors});this.data.flatShading&&L.computeVertexNormals();var I=new THREE.Mesh(L,z);o.add(I),c.setObject3D('mesh',o),c.object3D.materialToAnimate=z}},createStars:function(){for(var e=new THREE.BufferGeometry,t=new Float32Array(3*2e3),n=this.STAGE_SIZE-1,o=new THREE.Vector3,a=0;a<t.length;a+=3)o.set(this.random(a+23)-0.5,this.random(a+24),this.random(a+25)-0.5),o.normalize(),o.multiplyScalar(n),t[a]=o.x,t[a+1]=o.y,t[a+2]=o.z;e.addAttribute('position',new THREE.BufferAttribute(t,3)),e.setDrawRange(0,0);var r=new THREE.PointsMaterial({size:0.01,color:13421772,fog:!1});this.stars.setObject3D('mesh',new THREE.Points(e,r))},setStars:function(e){this.stars||(this.stars=document.createElement('a-entity'),this.stars.id='stars',this.createStars(),this.el.appendChild(this.stars)),e=n(t(2e3,a(0,e))),this.stars.getObject3D('mesh').geometry.setDrawRange(0,e)}}),AFRAME.registerShader('skyshader',{schema:{luminance:{type:'number',default:1,min:0,max:2,is:'uniform'},turbidity:{type:'number',default:2,min:0,max:20,is:'uniform'},reileigh:{type:'number',default:1,min:0,max:4,is:'uniform'},mieCoefficient:{type:'number',default:5e-3,min:0,max:0.1,is:'uniform'},mieDirectionalG:{type:'number',default:0.8,min:0,max:1,is:'uniform'},sunPosition:{type:'vec3',default:{x:0,y:0,z:-1},is:'uniform'},color:{type:'color',default:'#fff'}},vertexShader:'varying vec3 vWorldPosition;\nvoid main() {\nvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\nvWorldPosition = worldPosition.xyz;\ngl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}',fragmentShader:'uniform sampler2D skySampler;\nuniform vec3 sunPosition;\nvarying vec3 vWorldPosition;\nvec3 cameraPos = vec3(0., 0., 0.);\nuniform float luminance;\nuniform float turbidity;\nuniform float reileigh;\nuniform float mieCoefficient;\nuniform float mieDirectionalG;\nconst float e = 2.71828182845904523536028747135266249775724709369995957;\nconst float pi = 3.141592653589793238462643383279502884197169;\nconst float n = 1.0003;\nconst float N = 2.545E25;\nconst float pn = 0.035;\nconst vec3 lambda = vec3(680E-9, 550E-9, 450E-9);\nconst vec3 K = vec3(0.686, 0.678, 0.666);\nconst float v = 4.0;\nconst float rayleighZenithLength = 8.4E3;\nconst float mieZenithLength = 1.25E3;\nconst vec3 up = vec3(0.0, 1.0, 0.0);\nconst float EE = 1000.0;\nconst float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;\nconst float cutoffAngle = pi/1.95;\nconst float steepness = 1.5;\nvec3 totalRayleigh(vec3 lambda)\n{\nreturn (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn));\n}\nvec3 simplifiedRayleigh()\n{\nreturn 0.0005 / vec3(94, 40, 18);\n}\nfloat rayleighPhase(float cosTheta)\n{   \nreturn (3.0 / (16.0*pi)) * (1.0 + pow(cosTheta, 2.0));\n}\nvec3 totalMie(vec3 lambda, vec3 K, float T)\n{\nfloat c = (0.2 * T ) * 10E-18;\nreturn 0.434 * c * pi * pow((2.0 * pi) / lambda, vec3(v - 2.0)) * K;\n}\nfloat hgPhase(float cosTheta, float g)\n{\nreturn (1.0 / (4.0*pi)) * ((1.0 - pow(g, 2.0)) / pow(1.0 - 2.0*g*cosTheta + pow(g, 2.0), 1.5));\n}\nfloat sunIntensity(float zenithAngleCos)\n{\nreturn EE * max(0.0, 1.0 - exp(-((cutoffAngle - acos(zenithAngleCos))/steepness)));\n}\n// Filmic ToneMapping http://filmicgames.com/archives/75\nfloat A = 0.15;\nfloat B = 0.50;\nfloat C = 0.10;\nfloat D = 0.20;\nfloat E = 0.02;\nfloat F = 0.30;\nfloat W = 1000.0;\nvec3 Uncharted2Tonemap(vec3 x)\n{\nreturn ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;\n}\nvoid main() \n{\nfloat sunfade = 1.0-clamp(1.0-exp((sunPosition.y/450000.0)),0.0,1.0);\nfloat reileighCoefficient = reileigh - (1.0* (1.0-sunfade));\nvec3 sunDirection = normalize(sunPosition);\nfloat sunE = sunIntensity(dot(sunDirection, up));\nvec3 betaR = simplifiedRayleigh() * reileighCoefficient;\nvec3 betaM = totalMie(lambda, K, turbidity) * mieCoefficient;\nfloat zenithAngle = acos(max(0.0, dot(up, normalize(vWorldPosition - cameraPos))));\nfloat sR = rayleighZenithLength / (cos(zenithAngle) + 0.15 * pow(93.885 - ((zenithAngle * 180.0) / pi), -1.253));\nfloat sM = mieZenithLength / (cos(zenithAngle) + 0.15 * pow(93.885 - ((zenithAngle * 180.0) / pi), -1.253));\nvec3 Fex = exp(-(betaR * sR + betaM * sM));\nfloat cosTheta = dot(normalize(vWorldPosition - cameraPos), sunDirection);\nfloat rPhase = rayleighPhase(cosTheta*0.5+0.5);\nvec3 betaRTheta = betaR * rPhase;\nfloat mPhase = hgPhase(cosTheta, mieDirectionalG);\nvec3 betaMTheta = betaM * mPhase;\nvec3 Lin = pow(sunE * ((betaRTheta + betaMTheta) / (betaR + betaM)) * (1.0 - Fex),vec3(1.5));\nLin *= mix(vec3(1.0),pow(sunE * ((betaRTheta + betaMTheta) / (betaR + betaM)) * Fex,vec3(1.0/2.0)),clamp(pow(1.0-dot(up, sunDirection),5.0),0.0,1.0));\nvec3 direction = normalize(vWorldPosition - cameraPos);\nfloat theta = acos(direction.y); // elevation --> y-axis, [-pi/2, pi/2]\nfloat phi = atan(direction.z, direction.x); // azimuth --> x-axis [-pi/2, pi/2]\nvec2 uv = vec2(phi, theta) / vec2(2.0*pi, pi) + vec2(0.5, 0.0);\nvec3 L0 = vec3(0.1) * Fex;\nfloat sundisk = smoothstep(sunAngularDiameterCos,sunAngularDiameterCos+0.00002,cosTheta);\nL0 += (sunE * 19000.0 * Fex)*sundisk;\nvec3 whiteScale = 1.0/Uncharted2Tonemap(vec3(W));\nvec3 texColor = (Lin+L0);   \ntexColor *= 0.04 ;\ntexColor += vec3(0.0,0.001,0.0025)*0.3;\nfloat g_fMaxLuminance = 1.0;\nfloat fLumScaled = 0.1 / luminance;     \nfloat fLumCompressed = (fLumScaled * (1.0 + (fLumScaled / (g_fMaxLuminance * g_fMaxLuminance)))) / (1.0 + fLumScaled); \nfloat ExposureBias = fLumCompressed;\nvec3 curr = Uncharted2Tonemap((log2(2.0/pow(luminance,4.0)))*texColor);\nvec3 color = curr*whiteScale;\nvec3 retColor = pow(color,vec3(1.0/(1.2+(1.2*sunfade))));\ngl_FragColor.rgb = retColor;\ngl_FragColor.a = 1.0;\n}'}),AFRAME.registerShader('gradientshader',{schema:{topColor:{type:'color',default:'1 0 0',is:'uniform'},bottomColor:{type:'color',default:'0 0 1',is:'uniform'}},vertexShader:'varying vec3 vWorldPosition;\nvoid main() {\n vec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n vWorldPosition = worldPosition.xyz;\n gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0 );\n}',fragmentShader:'uniform vec3 bottomColor;\nuniform vec3 topColor;\nuniform float offset;\nvarying vec3 vWorldPosition;\nvoid main() {\n float h = normalize( vWorldPosition ).y;\n gl_FragColor = vec4( mix( bottomColor, topColor, max( pow( max(h, 0.0 ), 0.8 ), 0.0 ) ), 1.0 );\n}'});var d=function(e){e==void 0&&(e=Math),this.grad3=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],this.p=[];var t;for(t=0;256>t;t++)this.p[t]=n(256*e.random(666));for(this.perm=[],t=0;512>t;t++)this.perm[t]=this.p[255&t]};d.prototype.dot=function(e,t,n,o){return e[0]*t+e[1]*n+e[2]*o},d.prototype.mix=function(e,n,o){return(1-o)*e+o*n},d.prototype.fade=function(e){return e*e*e*(e*(6*e-15)+10)},d.prototype.noise=function(e,t,o){var a=n(e),r=n(t),s=n(o);e-=a,t-=r,o-=s,a&=255,r&=255,s&=255;var l=this.perm[a+this.perm[r+this.perm[s]]]%12,d=this.perm[a+this.perm[r+this.perm[s+1]]]%12,c=this.perm[a+this.perm[r+1+this.perm[s]]]%12,p=this.perm[a+this.perm[r+1+this.perm[s+1]]]%12,m=this.perm[a+1+this.perm[r+this.perm[s]]]%12,g=this.perm[a+1+this.perm[r+this.perm[s+1]]]%12,y=this.perm[a+1+this.perm[r+1+this.perm[s]]]%12,h=this.perm[a+1+this.perm[r+1+this.perm[s+1]]]%12,f=this.dot(this.grad3[l],e,t,o),b=this.dot(this.grad3[m],e-1,t,o),C=this.dot(this.grad3[c],e,t-1,o),A=this.dot(this.grad3[y],e-1,t-1,o),x=this.dot(this.grad3[d],e,t,o-1),S=this.dot(this.grad3[g],e-1,t,o-1),k=this.dot(this.grad3[p],e,t-1,o-1),E=this.dot(this.grad3[h],e-1,t-1,o-1),P=this.fade(e),u=this.fade(t),v=this.fade(o),w=this.mix(f,b,P),D=this.mix(x,S,P),T=this.mix(C,A,P),O=this.mix(k,E,P),j=this.mix(w,T,u),L=this.mix(D,O,u),z=this.mix(j,L,v);return z}},function(){var e=JSON.parse(localStorage.getItem('hintsOpened')||'{}');AFRAME.registerComponent('hint',{schema:{near:{default:!1}},init:function(){var t,n,o,a=this.el;return o=document.createElement('a-entity'),o.classList.add('itemText'),o.setAttribute('mixin','itemText'),o.object3D.position.copy(a.object3D.position),o.object3D.position.y=-1,o.object3D.position.z-=0.5,'true'===localStorage.getItem('bronzekey')||'true'===localStorage.getItem('jadekey')?o.setAttribute('text','value',this.data.near?'THE EGG IS NEAR\nWOULD YOU KINDLY...KEEP HUNTING?\n~':'OUR EGG IS IN ANOTHER CASTLE\n~'):o.setAttribute('text','value',`FIND THE KEY\nSOMETIMES YOU JUST HAVE TO\nGO BACKWARDS\n~`),a.sceneEl.appendChild(o),e[window.location.href]?(a.object3D.visible=!1,o.object3D.position.y=1.6,void o.object3D.lookAt(0,1.6,0)):void(n=document.getElementById('cameraFront'),a.addEventListener('touched',()=>{n.object3D.getWorldPosition(o.object3D.position),o.object3D.lookAt(t.object3D.getWorldPosition()),o.emit('itemtouched'),e[window.location.href]=!0,localStorage.setItem('hintsOpened',JSON.stringify(e))}))}})},function(){AFRAME.registerComponent('item',{schema:{message:{type:'string'},storeAs:{type:'string'}},init:function(){var e,t,n,o=this.el;return o.setAttribute('mixin',o.getAttribute('mixin')+' item'),n=document.createElement('a-entity'),n.classList.add('itemText'),n.setAttribute('mixin','itemText'),n.setAttribute('text','value',this.data.message),n.object3D.position.copy(o.object3D.position),n.object3D.position.y=-1,n.object3D.position.z-=0.5,o.sceneEl.appendChild(n),shadowEl=document.createElement('a-entity'),shadowEl.setAttribute('mixin','shadow'),shadowEl.object3D.position.copy(o.object3D.position),shadowEl.object3D.position.y=0.1,o.sceneEl.appendChild(shadowEl),'true'===localStorage.getItem(this.data.storeAs)?(o.object3D.visible=!1,n.object3D.position.y=1.6,n.object3D.lookAt(0,1.6,0),void n.setAttribute('mixin','itemText hoverAnimation')):void(e=document.getElementById('camera'),t=document.getElementById('cameraFront'),o.addEventListener('touched',()=>{n.setAttribute('text','value',this.data.message),t.object3D.getWorldPosition(n.object3D.position),n.object3D.lookAt(e.object3D.getWorldPosition()),n.object3D.position.y=-1,n.emit('itemtouched'),localStorage.setItem(this.data.storeAs,'true')}))}})},function(){AFRAME.registerComponent('oasis-audio',{schema:{isHome:{type:'string'},zoneSong:{type:'string'}},init:function(){var e,t,n=this.data,o=this.el;t=n.isHome?utils.assetPath('assets/audio/worldinmyeyes.mp3'):o.hasAttribute('upsidedown')?'https://supermedium.github.io/oasis-audio/egg/strangerthings.mp3':this.data.zoneSong,e=new Audio(t),e.volume=0.5,e.loop=!0,e.play()}})},function(e,t,n){var o,a=n(0),r=localStorage.getItem('previousZone'),s=JSON.parse(localStorage.getItem('visitedZones')||'{}');document.addEventListener('DOMContentLoaded',()=>{o=a(utils.assetPath('assets/audio/hover.mp3'),0.5,2)}),AFRAME.registerComponent('oasis-portal',{schema:{color:{type:'string'},href:{type:'string'},isBackPortal:{default:!1},isHomePortal:{default:!1}},init:function(){var e,t=this.el;return e=new Audio(utils.assetPath('assets/audio/portal.mp3')),e.volume=0.25,this.data.isBackPortal&&(!r||r===window.location.href)?void(t.object3D.visible=!1):void(t.addEventListener('click',()=>{e.play(),setTimeout(()=>{this.data.isBackPortal?window.location.href=localStorage.getItem('previousZone'):(s[this.data.href]=!0,localStorage.setItem('previousZone',window.location.href),localStorage.setItem('visitedZones',JSON.stringify(s)),window.location.href=this.data.href)},500)}),t.addEventListener('mouseenter',()=>{this.setColor('#FFF'),o.play()}),t.addEventListener('mouseleave',()=>{this.setColor(this.originalColor),setTimeout(()=>{t.object3D.scale.set(1,1,1)})}),this.originalColor='#999',this.data.isBackPortal?this.originalColor='#6688cc':this.data.isHomePortal?this.originalColor='#33aa33':'true'===localStorage.getItem('waybackmachine')&&!0===s[this.data.href]&&(this.originalColor='#AF55AF'),this.setColor(this.originalColor))},update:function(){this.data.color&&(this.originalColor=this.data.color)},setColor:function(e){var t=this.el;t.querySelector('.portalEffect1').setAttribute('material','color',e),t.querySelector('.portalText').setAttribute('text','color',e),t.setAttribute('animation__mouseenter','from',e),t.setAttribute('animation__mouseleave','to',e)}}),AFRAME.registerShader('oasisPortal',{schema:{backgroundColor:{default:'red',type:'color',is:'uniform'},isGrayscale:{type:'int',is:'uniform',default:0},pano:{type:'map',is:'uniform'},time:{type:'time',is:'uniform'}},vertexShader:n(42),fragmentShader:n(41)})},function(){AFRAME.registerComponent('play-audio',{schema:{audio:{type:'string'},event:{type:'string'},volume:{type:'number',default:1}},multiple:!0,init:function(){var e;e=new Audio(this.data.audio),e.volume=this.data.volume,this.el.addEventListener(this.data.event,()=>{e.paused||(e.pause(),e.currentTime=0),e.play()})}})},function(){AFRAME.registerComponent('raycastable',{})},function(){AFRAME.registerComponent('sub-object',{schema:{from:{default:'',type:'selector'},name:{default:''}},init:function(){var e=this.el,t=this.data;t.from.addEventListener('model-loaded',(n)=>{var o,a;return o=n.detail.model,a=o.getObjectByName(t.name),a?void(e.setObject3D('mesh',a.clone()),e.emit('subobjectloaded',e.getObject3D('mesh'))):void console.error('Sub-object',t.name,'not found in #'+t.from.id)})}})},function(e,t,n){var o=n(0);AFRAME.registerComponent('teleport-listener',{dependencies:['teleport-controls'],init:function(){var e,t,n,a,r=this.el;this.currentIntersection=null,t=r.components['teleport-controls'].intersections,n=o(utils.assetPath('assets/audio/portal.wav'),0.6,5),a=document.getElementById('teleportFader'),this.el.addEventListener('teleported',()=>{var e;t.length&&(a.object3D.visible=!0,e=setTimeout(()=>{a.object3D.visible=!1},160),t[0].object.el.classList.contains('portal')?(clearTimeout(e),t[0].object.el.emit('click')):n.play())}),e=this.hitEntity=r.components['teleport-controls'].hitEntity,e.object3D.rotation.x=-1*Math.PI/2,e.setAttribute('material','emissiveIntensity',0.9),e.setAttribute('material','emissiveColor','#ff9f2b'),e.setAttribute('animation__scale',{property:'scale',from:'1 1 1.2',to:'1.5 1.5 3.2',easing:'easeInOutCubic',dir:'alternate',dur:600,loop:!0}),this.teleportEntity=r.components['teleport-controls'].teleportEntity,this.teleportEntity.getObject3D('mesh').material.opacity=0.5},tick:function(){var e,t,n=this.el;if(n.components['teleport-controls'].active)return e=n.components['teleport-controls'].intersections[0],e?void(e.object.el===this.currentIntersection||(t=e.object.el.classList.contains('portal'),this.hitEntity.children[0].object3D.visible=!t,this.hitEntity.children[1].object3D.visible=!t,this.teleportEntity.getObject3D('mesh').visible=t,this.currentIntersection&&this.currentIntersection.emit('mouseleave'),e.object.el.emit('mouseenter'),this.currentIntersection=e.object.el)):(this.currentIntersection&&this.currentIntersection.emit('mouseleave'),void(this.currentIntersection=null))}})},function(){AFRAME.registerComponent('teleport-refresh',{play:function(){var e,t;setTimeout(()=>{for(t=document.querySelectorAll('a-entity[teleport-controls]'),e=0;e<t.length;e++)t[e].components['teleport-controls'].refreshMeshes()},250)}})},function(){AFRAME.registerSystem('touch',{init:function(){this.touchables=[]},register:function(e){this.touchables.push(e)}}),AFRAME.registerComponent('touch',{schema:{distance:{default:0.5}},init:function(){this.touched=[],this.worldVec3=new THREE.Vector3,this.tick=AFRAME.utils.throttleTick(this.tick.bind(this),500)},tick:function(){var e,t=this.el,n=t.sceneEl.systems.touch.touchables;if(n&&n.length){for(t.object3D.getWorldPosition(this.worldVec3),this.touched.length=0,e=0;e<n.length;e++)this.worldVec3.distanceTo(n[e].object3D.position)<this.data.distance&&this.touched.push(n[e]);if(this.touched.length)for(e=0;e<this.touched.length;e++)this.touched[e].emit('touched'),n.splice(this.touched[e],1)}}})},function(){AFRAME.registerComponent('touchable',{play:function(){this.el.sceneEl.systems.touch.register(this.el)}})},function(e,t,n){n(9),n(1),n(2),n(3),n(4),n(5),n(6),n(7),n(8),n(10),function(e){e.keys().forEach(e)}(n(11)),window.addEventListener('DOMContentLoaded',()=>{'true'===document.querySelector('a-scene').dataset.isHome?navigator.serviceWorker.register('serviceWorker.js'):navigator.serviceWorker.register('../serviceWorker.js')})},function(e){e.exports='#define RECIPROCAL_PI2 0.15915494\nuniform float time;\nuniform int isGrayscale;\nuniform sampler2D pano;\nuniform vec3 backgroundColor;\nvarying float vDistance;\nvarying float vDistanceToCenter;\nvarying vec3 vWorldPosition;\n\nvoid main() {\n  float alpha;\n  float gray;\n  vec3 color;\n  vec3 direction = normalize(vWorldPosition - cameraPosition);\n  vec2 sampleUV;\n  vec2 sampleA;\n  vec2 sampleB;\n\n  float borderThickness = 0.94;\n\n  sampleUV.x = atan(direction.z, -direction.x) * -RECIPROCAL_PI2 + 0.5;\n  sampleUV.y = saturate(direction.y * 0.5  + 0.5);\n\n  // wobble\n  sampleA = sampleUV + sin(time/1000.0 + sampleUV.x * 24.0 + sampleUV.y * 18.0) * 0.004;\n  sampleB = sampleUV + sin(time/1000.0 + sampleUV.x * 24.0 + sampleUV.y * 18.0) * 0.005;\n    \n  // Opacity portal effect, positive sin wave from 0.5 to 1.0.\n  alpha = sin(time / 800.0);\n  alpha = (alpha + 1.0) / 2.0;\n  alpha = mix(0.85, 1.0, alpha);\n  color = vec3(texture2D(pano, sampleB).x, texture2D(pano, sampleA).yz);\n  alpha = smoothstep(0.05, 1.0, 1.6 - vDistanceToCenter);\n  gl_FragColor = vec4(color, alpha);\n\n  if (isGrayscale == 1) {\n    gray = (color.r + color.g + color.b) / 3.0;\n    gl_FragColor = vec4(gray, gray, gray, alpha);\n  }\n}\n'},function(e){e.exports='varying vec3 vWorldPosition;\nvarying float vDistanceToCenter;\n\nvoid main() {\n  vDistanceToCenter = clamp(length(position - vec3(0.0, 0.0, 0.0)), 0.0, 1.0);\n  vWorldPosition = (modelMatrix * vec4(position, 1.0)).xyz;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n'},function(e){var t=function(){return this}();try{t=t||Function('return this')()||(1,eval)('this')}catch(n){'object'==typeof window&&(t=window)}e.exports=t}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgMDQzM2NlZDZkZDc0ZDllYjk4NzgiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9zb3VuZHBvb2wuanMiLCJ3ZWJwYWNrOi8vLy4vfi9hZnJhbWUtYW5pbWF0aW9uLWNvbXBvbmVudC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2FmcmFtZS1ldmVudC1zZXQtY29tcG9uZW50L2luZGV4LmpzIiwid2VicGFjazovLy8uL34vYWZyYW1lLWxheW91dC1jb21wb25lbnQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9hZnJhbWUtbG9vay1hdC1jb21wb25lbnQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9hZnJhbWUtcHJveHktZXZlbnQtY29tcG9uZW50L2luZGV4LmpzIiwid2VicGFjazovLy8uL34vYWZyYW1lLXJhbmRvbWl6ZXItY29tcG9uZW50cy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2FmcmFtZS1zbGljZTktY29tcG9uZW50L2luZGV4LmpzIiwid2VicGFjazovLy8uLi9hZnJhbWUtdGVsZXBvcnQtY29udHJvbHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzLmpzIiwid2VicGFjazovLy8uL34vbmV0d29ya2VkLWFmcmFtZS9kaXN0L25ldHdvcmtlZC1hZnJhbWUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMgXFwuanMkIiwid2VicGFjazovLy8uL34vYW5pbWVqcy9hbmltZS5taW4uanMiLCJ3ZWJwYWNrOi8vLy4uL2FmcmFtZS10ZWxlcG9ydC1jb250cm9scy9saWIvUGFyYWJvbGljQ3VydmUuanMiLCJ3ZWJwYWNrOi8vLy4uL2FmcmFtZS10ZWxlcG9ydC1jb250cm9scy9saWIvUmF5Q3VydmUuanMiLCJ3ZWJwYWNrOi8vLy4uL2FmcmFtZS10ZWxlcG9ydC1jb250cm9scy9saWIvY3lsaW5kZXJUZXh0dXJlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2FkZGl0aXZlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2RlYnVnLWNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvZGVidWctY3Vyc29yLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2VnZ3MvYW5pbWF0ZWQtc3VuLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2VnZ3MvY3JvbXVsb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvZWdncy9kYWxlay5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9lZ2dzL21lY2hhZ29kemlsbGEuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvZWdncy9yYW5kb20tY29sb3ItZW52aXJvbm1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvZWdncy9zaGlmdGluZy1jb2xvcnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvZWdncy9zb2xpZHNuYWtlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2VnZ3MvdXBzaWRlZG93bi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9lZ2dzL3dheWJhY2stbWFjaGluZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9lbnZpcm9ubWVudC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9oaW50LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2l0ZW0uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvb2FzaXMtYXVkaW8uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvb2FzaXMtcG9ydGFsLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3BsYXktYXVkaW8uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvcmF5Y2FzdGFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvc3ViLW9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy90ZWxlcG9ydC1saXN0ZW5lci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy90ZWxlcG9ydC1yZWZyZXNoLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3RvdWNoLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3RvdWNoYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvc2hhZGVycy9vYXNpc1BvcnRhbEZyYWdtZW50Lmdsc2wiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvc2hhZGVycy9vYXNpc1BvcnRhbFZlcnRleC5nbHNsIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IllBQ0EsY0FNQSxJQUNBLGlCQUdBLG1CQUNBLENBQ0EsSUFDQSxLQUlBLDJDQUdBLGFBR0EsT0FDQSxPQUlBLElBekJBLGVBNEJBLE1BR0EsbUJBQTJDLENBQWMsUUFHekQscUJBQ0EsR0FDQSxrQ0FDQSxDQUNBLGdCQUNBLGNBR0EsT0FHQSxpQkFDQSxZQUNBLHFCQUEyQixVQUEwQixVQUNyRCxZQUFpQyxDQUFlLFFBQ2hELEVBRUEsYUFEQSxRQUlBLG1CQUFzRCx3Q0FBK0QsU0FHckgsTUFHQSw0QkNoRUEsRUFBTyxRQUEyQyxlQUNoRCxJQUVBLEdBR0EsRUFMSSxFQUNKLEVBRUEsU0FFSyxFQUFJLEVBQU8sSUFDZCxNQUFRLEdBQ1IsWUFDQSxXQUNBLFNBR0YsY0FDRSxNQUFNLFVBQ0osRUFBb0MsQ0FBM0IsUUFBVyxhQUEwQixLQUM1QyxRQUFLLEtBRVAsU0FBWSxDQUFDLEVBQ2QsSUFFSixFQXJCRCxrQkNBQSxDQThjQSxlQUNBLElBQ0EsR0FDQSxFQUNBLEVBRUEsbUJBQ0EsU0FDQSxPQUNBLDZCQUdtQixzQkFHcUMsVUFHbkMsbUJBR3JCLGNB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Q1IsRUFBUSxHQUNSLEVBQVEsR0FFUixFQUFRLElBYmEsV0FBTyxHQUFJLE9BQXNCLFdBZXRELENBQVcsRUFBWCxLQUVBLE9BQU8saUJBQWlCLG1CQUFvQixJQUMxQyxDQUNFLE1BREUsWUFBUyxjQUFjLFdBQVcsUUFBUSxpQkFDbEMsY0FBYyxTQUV4Qiw4QkFBVSxjQUFjLFNBRTNCLHNCQU5ELGdCQ2pCQSxVQUFzdUMsc3VDQ0F0dUMsVUFBNFQsNFRDQTVULEdBR0EsYUFDQSxPQUNBLEtBQUMsSUFFRCxHQUVBLDBDQUNBLE9BQUMsU0FFRCxDQUNBLDRCQUNBLE9BSTRDLENBRTVDIiwiZmlsZSI6ImJ1aWxkL2J1aWxkLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGlkZW50aXR5IGZ1bmN0aW9uIGZvciBjYWxsaW5nIGhhcm1vbnkgaW1wb3J0cyB3aXRoIHRoZSBjb3JyZWN0IGNvbnRleHRcbiBcdF9fd2VicGFja19yZXF1aXJlX18uaSA9IGZ1bmN0aW9uKHZhbHVlKSB7IHJldHVybiB2YWx1ZTsgfTtcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNDApO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIDA0MzNjZWQ2ZGQ3NGQ5ZWI5ODc4IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBTb3VuZFBvb2wgKHNyYywgdm9sdW1lLCBzaXplKSB7XG4gIHZhciBjdXJyU291bmQgPSAwO1xuICB2YXIgaTtcbiAgdmFyIHBvb2wgPSBbXTtcbiAgdmFyIHNvdW5kO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICBzb3VuZCA9IG5ldyBBdWRpbyhzcmMpO1xuICAgIHNvdW5kLnZvbHVtZSA9IHZvbHVtZTtcbiAgICBzb3VuZC5sb2FkKCk7XG4gICAgcG9vbC5wdXNoKHNvdW5kKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcGxheTogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHBvb2xbY3VyclNvdW5kXS5jdXJyZW50VGltZSA9PT0gMCB8fCBwb29sW2N1cnJTb3VuZF0uZW5kZWQpIHtcbiAgICAgICAgcG9vbFtjdXJyU291bmRdLnBsYXkoKTtcbiAgICAgIH1cbiAgICAgIGN1cnJTb3VuZCA9IChjdXJyU291bmQgKyAxKSAlIHNpemU7XG4gICAgfVxuICB9O1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9saWIvc291bmRwb29sLmpzIiwiLyogZ2xvYmFsIEFGUkFNRSwgVEhSRUUgKi9cblxudmFyIGFuaW1lID0gcmVxdWlyZSgnYW5pbWVqcycpO1xuXG5BRlJBTUUuYW5pbWUgPSBhbmltZTtcblxuaWYgKHR5cGVvZiBBRlJBTUUgPT09ICd1bmRlZmluZWQnKSB7XG4gIHRocm93IG5ldyBFcnJvcignQ29tcG9uZW50IGF0dGVtcHRlZCB0byByZWdpc3RlciBiZWZvcmUgQUZSQU1FIHdhcyBhdmFpbGFibGUuJyk7XG59XG5cbnZhciBjb2xvckhlbHBlckZyb20gPSBuZXcgVEhSRUUuQ29sb3IoKTtcbnZhciBjb2xvckhlbHBlclRvID0gbmV3IFRIUkVFLkNvbG9yKCk7XG5cbnZhciB1dGlscyA9IEFGUkFNRS51dGlscztcbnZhciBnZXRDb21wb25lbnRQcm9wZXJ0eSA9IHV0aWxzLmVudGl0eS5nZXRDb21wb25lbnRQcm9wZXJ0eTtcbnZhciBzZXRDb21wb25lbnRQcm9wZXJ0eSA9IHV0aWxzLmVudGl0eS5zZXRDb21wb25lbnRQcm9wZXJ0eTtcbnZhciBzcGxpdENhY2hlID0ge307XG5cbnZhciBUWVBFX0NPTE9SID0gJ2NvbG9yJztcbnZhciBQUk9QX1BPU0lUSU9OID0gJ3Bvc2l0aW9uJztcbnZhciBQUk9QX1JPVEFUSU9OID0gJ3JvdGF0aW9uJztcbnZhciBQUk9QX1NDQUxFID0gJ3NjYWxlJztcbnZhciBTVFJJTkdfQ09NUE9ORU5UUyA9ICdjb21wb25lbnRzJztcbnZhciBTVFJJTkdfT0JKRUNUM0QgPSAnb2JqZWN0M0QnO1xuXG4vKipcbiAqIEFuaW1hdGlvbiBjb21wb25lbnQgZm9yIEEtRnJhbWUgdXNpbmcgYW5pbWUuanMuXG4gKlxuICogVGhlIGNvbXBvbmVudCBtYW51YWxseSBjb250cm9scyB0aGUgdGljayBieSBzZXR0aW5nIGBhdXRvcGxheTogZmFsc2VgIG9uIGFuaW1lLmpzIGFuZFxuICogbWFudWFsbHkgKiBjYWxsaW5nIGBhbmltYXRpb24udGljaygpYCBpbiB0aGUgdGljayBoYW5kbGVyLiBUbyBwYXVzZSBvciByZXN1bWUsIHdlIHRvZ2dsZSBhXG4gKiBib29sZWFuICogZmxhZyAqIGBpc0FuaW1hdGlvblBsYXlpbmdgLlxuICpcbiAqIGFuaW1lLmpzIGFuaW1hdGlvbiBjb25maWcgZm9yIHR3ZWVuaW5pbmcgSmF2YXNjcmlwdCBvYmplY3RzIGFuZCB2YWx1ZXMgd29ya3MgYXM6XG4gKlxuICogIGNvbmZpZyA9IHtcbiAqICAgIHRhcmdldHM6IHtmb286IDAuMCwgYmFyOiAnIzAwMCd9LFxuICogICAgZm9vOiAxLjAsXG4gKiAgICBiYXI6ICcjRkZGJ1xuICogIH1cbiAqXG4gKiBUaGUgYWJvdmUgd2lsbCB0d2VlbiBlYWNoIHByb3BlcnR5IGluIGB0YXJnZXRzYC4gVGhlIGB0b2AgdmFsdWVzIGFyZSBzZXQgaW4gdGhlIHJvb3Qgb2ZcbiAqIHRoZSBjb25maWcuXG4gKlxuICogQG1lbWJlciB7b2JqZWN0fSBhbmltYXRpb24gLSBhbmltZS5qcyBpbnN0YW5jZS5cbiAqIEBtZW1iZXIge2Jvb2xlYW59IGFuaW1hdGlvbklzUGxheWluZyAtIENvbnRyb2wgaWYgYW5pbWF0aW9uIGlzIHBsYXlpbmcuXG4gKi9cbkFGUkFNRS5yZWdpc3RlckNvbXBvbmVudCgnYW5pbWF0aW9uJywge1xuICBzY2hlbWE6IHtcbiAgICBhdXRvcGxheToge2RlZmF1bHQ6IHRydWV9LFxuICAgIGRlbGF5OiB7ZGVmYXVsdDogMH0sXG4gICAgZGlyOiB7ZGVmYXVsdDogJyd9LFxuICAgIGR1cjoge2RlZmF1bHQ6IDEwMDB9LFxuICAgIGVhc2luZzoge2RlZmF1bHQ6ICdlYXNlSW5RdWFkJ30sXG4gICAgZWxhc3RpY2l0eToge2RlZmF1bHQ6IDQwMH0sXG4gICAgZnJvbToge2RlZmF1bHQ6ICcnfSxcbiAgICBsb29wOiB7XG4gICAgICBkZWZhdWx0OiAwLFxuICAgICAgcGFyc2U6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAvLyBCb29sZWFuIG9yIGludGVnZXIuXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gJ3RydWUnKSB7IHJldHVybiB0cnVlOyB9XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gZmFsc2UgfHwgdmFsdWUgPT09ICdmYWxzZScpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgIHJldHVybiBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgICAgfVxuICAgIH0sXG4gICAgcHJvcGVydHk6IHtkZWZhdWx0OiAnJ30sXG4gICAgc3RhcnRFdmVudHM6IHt0eXBlOiAnYXJyYXknfSxcbiAgICBwYXVzZUV2ZW50czoge3R5cGU6ICdhcnJheSd9LFxuICAgIHJlc3VtZUV2ZW50czoge3R5cGU6ICdhcnJheSd9LFxuICAgIHRvOiB7ZGVmYXVsdDogJyd9LFxuICAgIHR5cGU6IHtkZWZhdWx0OiAnJ30sXG4gICAgaXNSYXdQcm9wZXJ0eToge2RlZmF1bHQ6IGZhbHNlfVxuICB9LFxuXG4gIG11bHRpcGxlOiB0cnVlLFxuXG4gIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB0aGlzLmV2ZW50RGV0YWlsID0ge25hbWU6IHRoaXMuYXR0ck5hbWV9O1xuICAgIHRoaXMudGltZSA9IDA7XG5cbiAgICB0aGlzLmFuaW1hdGlvbiA9IG51bGw7XG4gICAgdGhpcy5hbmltYXRpb25Jc1BsYXlpbmcgPSBmYWxzZTtcbiAgICB0aGlzLm9uU3RhcnRFdmVudCA9IHRoaXMub25TdGFydEV2ZW50LmJpbmQodGhpcyk7XG4gICAgdGhpcy5iZWdpbkFuaW1hdGlvbiA9IHRoaXMuYmVnaW5BbmltYXRpb24uYmluZCh0aGlzKTtcbiAgICB0aGlzLnBhdXNlQW5pbWF0aW9uID0gdGhpcy5wYXVzZUFuaW1hdGlvbi5iaW5kKHRoaXMpO1xuICAgIHRoaXMucmVzdW1lQW5pbWF0aW9uID0gdGhpcy5yZXN1bWVBbmltYXRpb24uYmluZCh0aGlzKTtcblxuICAgIHRoaXMuZnJvbUNvbG9yID0ge307XG4gICAgdGhpcy50b0NvbG9yID0ge307XG4gICAgdGhpcy50YXJnZXRzID0ge307XG4gICAgdGhpcy50YXJnZXRzQXJyYXkgPSBbXTtcblxuICAgIHRoaXMuY29uZmlnID0ge1xuICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VsZi5hbmltYXRpb25Jc1BsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgc2VsZi5lbC5lbWl0KCdhbmltYXRpb25jb21wbGV0ZScsIHNlbGYuZXZlbnREZXRhaWwpO1xuICAgICAgfVxuICAgIH07XG4gIH0sXG5cbiAgdXBkYXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNvbmZpZyA9IHRoaXMuY29uZmlnO1xuICAgIHZhciBkYXRhID0gdGhpcy5kYXRhO1xuXG4gICAgdGhpcy5hbmltYXRpb25Jc1BsYXlpbmcgPSBmYWxzZTtcblxuICAgIGlmICghZGF0YS5wcm9wZXJ0eSkgeyByZXR1cm47IH1cblxuICAgIC8vIEJhc2UgY29uZmlnLlxuICAgIGNvbmZpZy5hdXRvcGxheSA9IGZhbHNlO1xuICAgIGNvbmZpZy5kaXJlY3Rpb24gPSBkYXRhLmRpcjtcbiAgICBjb25maWcuZHVyYXRpb24gPSBkYXRhLmR1cjtcbiAgICBjb25maWcuZWFzaW5nID0gZGF0YS5lYXNpbmc7XG4gICAgY29uZmlnLmVsYXN0aWNpdHkgPSBkYXRhLmVsYXN0aWNpdHk7XG4gICAgY29uZmlnLmxvb3AgPSBkYXRhLmxvb3A7XG5cbiAgICAvLyBTdGFydCBuZXcgYW5pbWF0aW9uLlxuICAgIHRoaXMuY3JlYXRlQW5kU3RhcnRBbmltYXRpb24oKTtcbiAgfSxcblxuICB0aWNrOiBmdW5jdGlvbiAodCwgZHQpIHtcbiAgICBpZiAoIXRoaXMuYW5pbWF0aW9uSXNQbGF5aW5nKSB7IHJldHVybjsgfVxuICAgIHRoaXMudGltZSArPSBkdDtcbiAgICB0aGlzLmFuaW1hdGlvbi50aWNrKHRoaXMudGltZSk7XG4gIH0sXG5cbiAgcmVtb3ZlOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5wYXVzZUFuaW1hdGlvbigpO1xuICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgfSxcblxuICBwYXVzZTogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMucGF1c2VkID0gdHJ1ZTtcbiAgICB0aGlzLnBhdXNlZFdhc1BsYXlpbmcgPSB0cnVlO1xuICAgIHRoaXMucGF1c2VBbmltYXRpb24oKTtcbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIGBwbGF5YCBoYW5kbGVyIG9ubHkgZm9yIHJlc3VtaW5nIHNjZW5lLlxuICAgKi9cbiAgcGxheTogZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy5wYXVzZWQpIHsgcmV0dXJuOyB9XG4gICAgdGhpcy5wYXVzZWQgPSBmYWxzZTtcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgaWYgKHRoaXMucGF1c2VkV2FzUGxheWluZykge1xuICAgICAgdGhpcy5yZXN1bWVBbmltYXRpb24oKTtcbiAgICAgIHRoaXMucGF1c2VkV2FzUGxheWluZyA9IGZhbHNlO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogU3RhcnQgYW5pbWF0aW9uIGZyb20gc2NyYXRjaC5cbiAgICovXG4gIGNyZWF0ZUFuZFN0YXJ0QW5pbWF0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGRhdGEgPSB0aGlzLmRhdGE7XG5cbiAgICB0aGlzLnVwZGF0ZUNvbmZpZygpO1xuICAgIHRoaXMuYW5pbWF0aW9uSXNQbGF5aW5nID0gZmFsc2U7XG4gICAgdGhpcy5hbmltYXRpb24gPSBhbmltZSh0aGlzLmNvbmZpZyk7XG5cbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVycygpO1xuXG4gICAgLy8gV2FpdCBmb3Igc3RhcnQgZXZlbnRzIGZvciBhbmltYXRpb24uXG4gICAgaWYgKCFkYXRhLmF1dG9wbGF5IHx8IGRhdGEuc3RhcnRFdmVudHMgJiYgZGF0YS5zdGFydEV2ZW50cy5sZW5ndGgpIHsgcmV0dXJuOyB9XG5cbiAgICAvLyBEZWxheSBhbmltYXRpb24uXG4gICAgaWYgKGRhdGEuZGVsYXkpIHtcbiAgICAgIHNldFRpbWVvdXQodGhpcy5iZWdpbkFuaW1hdGlvbiwgZGF0YS5kZWxheSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gUGxheSBhbmltYXRpb24uXG4gICAgdGhpcy5iZWdpbkFuaW1hdGlvbigpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBUaGlzIGlzIGJlZm9yZSBhbmltYXRpb24gc3RhcnQgKGluY2x1ZGluZyBmcm9tIHN0YXJ0RXZlbnRzKS5cbiAgICogU2V0IHRvIGluaXRpYWwgc3RhdGUgKGNvbmZpZy5mcm9tLCB0aW1lID0gMCwgc2Vla1RpbWUgPSAwKS5cbiAgICovXG4gIGJlZ2luQW5pbWF0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy51cGRhdGVDb25maWcoKTtcbiAgICB0aGlzLnRpbWUgPSAwO1xuICAgIHRoaXMuYW5pbWF0aW9uLnNlZWsoMCk7XG4gICAgdGhpcy5hbmltYXRpb25Jc1BsYXlpbmcgPSB0cnVlO1xuICAgIHRoaXMuc3RvcFJlbGF0ZWRBbmltYXRpb25zKCk7XG4gICAgdGhpcy5lbC5lbWl0KCdhbmltYXRpb25iZWdpbicsIHRoaXMuZXZlbnREZXRhaWwpO1xuICB9LFxuXG4gIHBhdXNlQW5pbWF0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5hbmltYXRpb25Jc1BsYXlpbmcgPSBmYWxzZTtcbiAgfSxcblxuICByZXN1bWVBbmltYXRpb246IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmFuaW1hdGlvbklzUGxheWluZyA9IHRydWU7XG4gIH0sXG5cbiAgLyoqXG4gICAqIHN0YXJ0RXZlbnRzIGNhbGxiYWNrLlxuICAgKi9cbiAgb25TdGFydEV2ZW50OiBmdW5jdGlvbiAoKSB7XG4gICAgLy8gSW5jbHVkZSB0aGUgZGVsYXkgYmVmb3JlIGVhY2ggc3RhcnQgZXZlbnQuXG4gICAgaWYgKHRoaXMuZGF0YS5kZWxheSkge1xuICAgICAgc2V0VGltZW91dCh0aGlzLmJlZ2luQW5pbWF0aW9uLCB0aGlzLmRhdGEuZGVsYXkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmJlZ2luQW5pbWF0aW9uKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIHJhd1Byb3BlcnR5OiB0cnVlIGFuZCB0eXBlOiBjb2xvcjtcbiAgICovXG4gIHVwZGF0ZUNvbmZpZ0ZvclJhd0NvbG9yOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNvbmZpZyA9IHRoaXMuY29uZmlnO1xuICAgIHZhciBkYXRhID0gdGhpcy5kYXRhO1xuICAgIHZhciBlbCA9IHRoaXMuZWw7XG4gICAgdmFyIGZyb207XG4gICAgdmFyIGtleTtcbiAgICB2YXIgdG87XG5cbiAgICBmcm9tID0gZGF0YS5mcm9tIHx8IGdldFJhd1Byb3BlcnR5KGVsLCBkYXRhLnByb3BlcnR5KTtcbiAgICB0byA9IGRhdGEudG87XG5cbiAgICAvLyBVc2Ugci9nL2IgdmVjdG9yIGZvciBjb2xvciB0eXBlLlxuICAgIHRoaXMuc2V0Q29sb3JDb25maWcoZnJvbSwgdG8pO1xuICAgIGZyb20gPSB0aGlzLmZyb21Db2xvcjtcbiAgICB0byA9IHRoaXMudG9Db2xvcjtcblxuICAgIHRoaXMudGFyZ2V0c0FycmF5Lmxlbmd0aCA9IDA7XG4gICAgdGhpcy50YXJnZXRzQXJyYXkucHVzaChmcm9tKTtcbiAgICBjb25maWcudGFyZ2V0cyA9IHRoaXMudGFyZ2V0c0FycmF5O1xuICAgIGZvciAoa2V5IGluIHRvKSB7IGNvbmZpZ1trZXldID0gdG9ba2V5XTsgfVxuXG4gICAgY29uZmlnLnVwZGF0ZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgbGFzdFZhbHVlID0ge307XG4gICAgICBsYXN0VmFsdWUuciA9IGZyb20ucjtcbiAgICAgIGxhc3RWYWx1ZS5nID0gZnJvbS5nO1xuICAgICAgbGFzdFZhbHVlLmIgPSBmcm9tLmI7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiAoYW5pbSkge1xuICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgIHZhbHVlID0gYW5pbS5hbmltYXRhYmxlc1swXS50YXJnZXQ7XG5cbiAgICAgICAgLy8gRm9yIGFuaW1hdGlvbiB0aW1lbGluZS5cbiAgICAgICAgICBpZiAodmFsdWUuciA9PT0gbGFzdFZhbHVlLnIgJiZcbiAgICAgICAgICAgICAgdmFsdWUuZyA9PT0gbGFzdFZhbHVlLmcgJiZcbiAgICAgICAgICAgICAgdmFsdWUuYiA9PT0gbGFzdFZhbHVlLmIpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgc2V0UmF3UHJvcGVydHkoZWwsIGRhdGEucHJvcGVydHksIHZhbHVlLCBkYXRhLnR5cGUpO1xuICAgICAgfTtcbiAgICB9KSgpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTdHVmZiBwcm9wZXJ0eSBpbnRvIGdlbmVyaWMgYHByb3BlcnR5YCBrZXkuXG4gICAqL1xuICB1cGRhdGVDb25maWdGb3JEZWZhdWx0OiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNvbmZpZyA9IHRoaXMuY29uZmlnO1xuICAgIHZhciBkYXRhID0gdGhpcy5kYXRhO1xuICAgIHZhciBlbCA9IHRoaXMuZWw7XG4gICAgdmFyIGZyb207XG4gICAgdmFyIGtleTtcbiAgICB2YXIgaXNCb29sZWFuO1xuICAgIHZhciBpc051bWJlcjtcbiAgICB2YXIgdG87XG5cbiAgICBmcm9tID0gZGF0YS5mcm9tIHx8IChcbiAgICAgIGlzUmF3UHJvcGVydHkoZGF0YSlcbiAgICAgICAgPyBnZXRSYXdQcm9wZXJ0eShlbCwgZGF0YS5wcm9wZXJ0eSlcbiAgICAgICAgOiBnZXRDb21wb25lbnRQcm9wZXJ0eShlbCwgZGF0YS5wcm9wZXJ0eSlcbiAgICApO1xuICAgIHRvID0gZGF0YS50bztcblxuICAgIGlzTnVtYmVyID0gIWlzTmFOKGZyb20gfHwgdG8pO1xuICAgIGlmIChpc051bWJlcikge1xuICAgICAgZnJvbSA9IHBhcnNlRmxvYXQoZnJvbSk7XG4gICAgICB0byA9IHBhcnNlRmxvYXQodG8pO1xuICAgIH0gZWxzZSB7XG4gICAgICBmcm9tID0gZnJvbSA/IGZyb20udG9TdHJpbmcoKSA6IGZyb207XG4gICAgICB0byA9IHRvID8gdG8udG9TdHJpbmcoKSA6IHRvO1xuICAgIH1cblxuICAgIC8vIENvbnZlcnQgYm9vbGVhbnMgdG8gaW50ZWdlciB0byBhbGxvdyBib29sZWFuIGZsaXBwaW5nLlxuICAgIGlzQm9vbGVhbiA9IHRvID09PSAndHJ1ZScgfHwgdG8gPT09ICdmYWxzZSc7XG4gICAgaWYgKGlzQm9vbGVhbikge1xuICAgICAgZnJvbSA9IGRhdGEuZnJvbSA9PT0gJ3RydWUnID8gMSA6IDA7XG4gICAgICB0byA9IGRhdGEudG8gPT09ICd0cnVlJyA/IDEgOiAwO1xuICAgIH1cblxuICAgIHRoaXMudGFyZ2V0cy5hZnJhbWVQcm9wZXJ0eSA9IGZyb207XG4gICAgY29uZmlnLnRhcmdldHMgPSB0aGlzLnRhcmdldHM7XG4gICAgY29uZmlnLmFmcmFtZVByb3BlcnR5ID0gdG87XG4gICAgY29uZmlnLnVwZGF0ZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgbGFzdFZhbHVlID0gZnJvbTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoYW5pbSkge1xuICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgIHZhbHVlID0gYW5pbS5hbmltYXRhYmxlc1swXS50YXJnZXQuYWZyYW1lUHJvcGVydHk7XG5cbiAgICAgICAgLy8gTmVlZCB0byBkbyBhIGxhc3QgdmFsdWUgY2hlY2sgZm9yIGFuaW1hdGlvbiB0aW1lbGluZSBzaW5jZSBhbGwgdGhlIHR3ZWVuaW5nXG4gICAgICAgIC8vIGJlZ2lucyBzaW11bHRhZW5vdXNseSBldmVuIGlmIHRoZSB2YWx1ZSBoYXMgbm90IGNoYW5nZWQuIEFsc28gYmV0dGVyIGZvciBwZXJmXG4gICAgICAgIC8vIGFueXdheXMuXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbGFzdFZhbHVlKSB7IHJldHVybjsgfVxuICAgICAgICBsYXN0VmFsdWUgPSB2YWx1ZTtcblxuICAgICAgICBpZiAoaXNCb29sZWFuKSB7XG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZSA+PSAxID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzUmF3UHJvcGVydHkoZGF0YSkpIHtcbiAgICAgICAgICBzZXRSYXdQcm9wZXJ0eShlbCwgZGF0YS5wcm9wZXJ0eSwgdmFsdWUsIGRhdGEudHlwZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0Q29tcG9uZW50UHJvcGVydHkoZWwsIGRhdGEucHJvcGVydHksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KSgpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBFeHRlbmQgeC95L3ovdyBvbnRvIHRoZSBjb25maWcuXG4gICAqIFVwZGF0ZSB2ZWN0b3IgYnkgbW9kaWZ5aW5nIG9iamVjdDNELlxuICAgKi9cbiAgdXBkYXRlQ29uZmlnRm9yVmVjdG9yOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNvbmZpZyA9IHRoaXMuY29uZmlnO1xuICAgIHZhciBkYXRhID0gdGhpcy5kYXRhO1xuICAgIHZhciBlbCA9IHRoaXMuZWw7XG4gICAgdmFyIGtleTtcbiAgICB2YXIgZnJvbTtcbiAgICB2YXIgdG87XG5cbiAgICAvLyBQYXJzZSBjb29yZGluYXRlcy5cbiAgICBmcm9tID0gZGF0YS5mcm9tXG4gICAgICA/IEFGUkFNRS51dGlscy5jb29yZGluYXRlcy5wYXJzZShkYXRhLmZyb20pICAvLyBJZiBkYXRhLmZyb20gZGVmaW5lZCwgdXNlIHRoYXQuXG4gICAgICA6IGdldENvbXBvbmVudFByb3BlcnR5KGVsLCBkYXRhLnByb3BlcnR5KTsgIC8vIElmIGRhdGEuZnJvbSBub3QgZGVmaW5lZCwgZ2V0IG9uIHRoZSBmbHkuXG4gICAgdG8gPSBBRlJBTUUudXRpbHMuY29vcmRpbmF0ZXMucGFyc2UoZGF0YS50byk7XG5cbiAgICAvLyBBbmltYXRlIHJvdGF0aW9uIHRocm91Z2ggcmFkaWFucy5cbiAgICBpZiAoZGF0YS5wcm9wZXJ0eSA9PT0gUFJPUF9ST1RBVElPTikge1xuICAgICAgdG9SYWRpYW5zKGZyb20pO1xuICAgICAgdG9SYWRpYW5zKHRvKTtcbiAgICB9XG5cbiAgICAvLyBTZXQgdG8gYW5kIGZyb20uXG4gICAgdGhpcy50YXJnZXRzQXJyYXkubGVuZ3RoID0gMDtcbiAgICB0aGlzLnRhcmdldHNBcnJheS5wdXNoKGZyb20pO1xuICAgIGNvbmZpZy50YXJnZXRzID0gdGhpcy50YXJnZXRzQXJyYXk7XG4gICAgZm9yIChrZXkgaW4gdG8pIHsgY29uZmlnW2tleV0gPSB0b1trZXldOyB9XG5cbiAgICAvLyBJZiBhbmltYXRpbmcgb2JqZWN0M0QgdHJhbnNmb3JtYXRpb24sIHJ1biBtb3JlIG9wdGltaXplZCB1cGRhdGVyLlxuICAgIGlmIChkYXRhLnByb3BlcnR5ID09PSBQUk9QX1BPU0lUSU9OIHx8IGRhdGEucHJvcGVydHkgPT09IFBST1BfUk9UQVRJT04gfHxcbiAgICAgICAgZGF0YS5wcm9wZXJ0eSA9PT0gUFJPUF9TQ0FMRSkge1xuICAgICAgY29uZmlnLnVwZGF0ZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsYXN0VmFsdWUgPSB7fTtcbiAgICAgICAgbGFzdFZhbHVlLnggPSBmcm9tLng7XG4gICAgICAgIGxhc3RWYWx1ZS55ID0gZnJvbS55O1xuICAgICAgICBsYXN0VmFsdWUueiA9IGZyb20uejtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGFuaW0pIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBhbmltLmFuaW1hdGFibGVzWzBdLnRhcmdldDtcbiAgICAgICAgICAvLyBGb3IgYW5pbWF0aW9uIHRpbWVsaW5lLlxuICAgICAgICAgIGlmICh2YWx1ZS54ID09PSBsYXN0VmFsdWUueCAmJlxuICAgICAgICAgICAgICB2YWx1ZS55ID09PSBsYXN0VmFsdWUueSAmJlxuICAgICAgICAgICAgICB2YWx1ZS56ID09PSBsYXN0VmFsdWUueikgeyByZXR1cm47IH1cbiAgICAgICAgICBsYXN0VmFsdWUueCA9IHZhbHVlLng7XG4gICAgICAgICAgbGFzdFZhbHVlLnkgPSB2YWx1ZS55O1xuICAgICAgICAgIGxhc3RWYWx1ZS56ID0gdmFsdWUuejtcbiAgICAgICAgICBlbC5vYmplY3QzRFtkYXRhLnByb3BlcnR5XS5zZXQodmFsdWUueCwgdmFsdWUueSwgdmFsdWUueik7XG4gICAgICAgIH07XG4gICAgICB9KSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEFuaW1hdGluZyBzb21lIHZlY3Rvci5cbiAgICBjb25maWcudXBkYXRlID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBsYXN0VmFsdWUgPSB7fTtcbiAgICAgIGxhc3RWYWx1ZS54ID0gZnJvbS54O1xuICAgICAgbGFzdFZhbHVlLnkgPSBmcm9tLnk7XG4gICAgICBsYXN0VmFsdWUueiA9IGZyb20uejtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhbmltKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFuaW0uYW5pbWF0aW9uc1swXS50YXJnZXQ7XG4gICAgICAgIC8vIEZvciBhbmltYXRpb24gdGltZWxpbmUuXG4gICAgICAgIGlmICh2YWx1ZS54ID09PSBsYXN0VmFsdWUueCAmJlxuICAgICAgICAgICAgdmFsdWUueSA9PT0gbGFzdFZhbHVlLnkgJiZcbiAgICAgICAgICAgIHZhbHVlLnogPT09IGxhc3RWYWx1ZS56KSB7IHJldHVybjsgfVxuICAgICAgICBsYXN0VmFsdWUueCA9IHZhbHVlLng7XG4gICAgICAgIGxhc3RWYWx1ZS55ID0gdmFsdWUueTtcbiAgICAgICAgbGFzdFZhbHVlLnogPSB2YWx1ZS56O1xuICAgICAgICBzZXRDb21wb25lbnRQcm9wZXJ0eShlbCwgZGF0YS5wcm9wZXJ0eSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH0pKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgY29uZmlnIGJlZm9yZSBlYWNoIHJ1bi5cbiAgICovXG4gIHVwZGF0ZUNvbmZpZzogZnVuY3Rpb24gKCkge1xuICAgIHZhciBwcm9wVHlwZTtcblxuICAgIC8vIFJvdXRlIGNvbmZpZyB0eXBlLlxuICAgIHByb3BUeXBlID0gZ2V0UHJvcGVydHlUeXBlKHRoaXMuZWwsIHRoaXMuZGF0YS5wcm9wZXJ0eSk7XG4gICAgaWYgKGlzUmF3UHJvcGVydHkodGhpcy5kYXRhKSAmJiB0aGlzLmRhdGEudHlwZSA9PT0gVFlQRV9DT0xPUikge1xuICAgICAgdGhpcy51cGRhdGVDb25maWdGb3JSYXdDb2xvcigpO1xuICAgIH0gZWxzZSBpZiAocHJvcFR5cGUgPT09ICd2ZWMyJyB8fCBwcm9wVHlwZSA9PT0gJ3ZlYzMnIHx8IHByb3BUeXBlID09PSAndmVjNCcpIHtcbiAgICAgIHRoaXMudXBkYXRlQ29uZmlnRm9yVmVjdG9yKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudXBkYXRlQ29uZmlnRm9yRGVmYXVsdCgpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogTWFrZSBzdXJlIHR3byBhbmltYXRpb25zIG9uIHRoZSBzYW1lIHByb3BlcnR5IGRvbid0IGZpZ2h0IGVhY2ggb3RoZXIuXG4gICAqIGUuZy4sIGFuaW1hdGlvbl9fbW91c2VlbnRlcj1cInByb3BlcnR5OiBtYXRlcmlhbC5vcGFjaXR5XCJcbiAgICogICAgICAgYW5pbWF0aW9uX19tb3VzZWxlYXZlPVwicHJvcGVydHk6IG1hdGVyaWFsLm9wYWNpdHlcIlxuICAgKi9cbiAgc3RvcFJlbGF0ZWRBbmltYXRpb25zOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNvbXBvbmVudDtcbiAgICB2YXIgY29tcG9uZW50TmFtZTtcbiAgICBmb3IgKGNvbXBvbmVudE5hbWUgaW4gdGhpcy5lbC5jb21wb25lbnRzKSB7XG4gICAgICBjb21wb25lbnQgPSB0aGlzLmVsLmNvbXBvbmVudHNbY29tcG9uZW50TmFtZV07XG4gICAgICBpZiAoY29tcG9uZW50TmFtZSA9PT0gdGhpcy5hdHRyTmFtZSkgeyBjb250aW51ZTsgfVxuICAgICAgaWYgKGNvbXBvbmVudC5uYW1lICE9PSAnYW5pbWF0aW9uJykgeyBjb250aW51ZTsgfVxuICAgICAgaWYgKGNvbXBvbmVudC5kYXRhLnByb3BlcnR5ICE9PSB0aGlzLmRhdGEucHJvcGVydHkpIHsgY29udGludWU7IH1cbiAgICAgIGNvbXBvbmVudC5hbmltYXRpb25Jc1BsYXlpbmcgPSBmYWxzZTtcbiAgICB9XG4gIH0sXG5cbiAgYWRkRXZlbnRMaXN0ZW5lcnM6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICB2YXIgZWwgPSB0aGlzLmVsO1xuICAgIGFkZEV2ZW50TGlzdGVuZXJzKGVsLCBkYXRhLnN0YXJ0RXZlbnRzLCB0aGlzLm9uU3RhcnRFdmVudCk7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcnMoZWwsIGRhdGEucGF1c2VFdmVudHMsIHRoaXMucGF1c2VBbmltYXRpb24pO1xuICAgIGFkZEV2ZW50TGlzdGVuZXJzKGVsLCBkYXRhLnJlc3VtZUV2ZW50cywgdGhpcy5yZXN1bWVBbmltYXRpb24pO1xuICB9LFxuXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXJzOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgdmFyIGVsID0gdGhpcy5lbDtcbiAgICByZW1vdmVFdmVudExpc3RlbmVycyhlbCwgZGF0YS5zdGFydEV2ZW50cywgdGhpcy5vblN0YXJ0RXZlbnQpO1xuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJzKGVsLCBkYXRhLnBhdXNlRXZlbnRzLCB0aGlzLnBhdXNlQW5pbWF0aW9uKTtcbiAgICByZW1vdmVFdmVudExpc3RlbmVycyhlbCwgZGF0YS5yZXN1bWVFdmVudHMsIHRoaXMucmVzdW1lQW5pbWF0aW9uKTtcbiAgfSxcblxuICBzZXRDb2xvckNvbmZpZzogZnVuY3Rpb24gKGZyb20sIHRvKSB7XG4gICAgY29sb3JIZWxwZXJGcm9tLnNldChmcm9tKTtcbiAgICBjb2xvckhlbHBlclRvLnNldCh0byk7XG4gICAgZnJvbSA9IHRoaXMuZnJvbUNvbG9yO1xuICAgIHRvID0gdGhpcy50b0NvbG9yO1xuICAgIGZyb20uciA9IGNvbG9ySGVscGVyRnJvbS5yO1xuICAgIGZyb20uZyA9IGNvbG9ySGVscGVyRnJvbS5nO1xuICAgIGZyb20uYiA9IGNvbG9ySGVscGVyRnJvbS5iO1xuICAgIHRvLnIgPSBjb2xvckhlbHBlclRvLnI7XG4gICAgdG8uZyA9IGNvbG9ySGVscGVyVG8uZztcbiAgICB0by5iID0gY29sb3JIZWxwZXJUby5iO1xuICB9XG59KTtcblxuLyoqXG4gKiBHaXZlbiBwcm9wZXJ0eSBuYW1lLCBjaGVjayBzY2hlbWEgdG8gc2VlIHdoYXQgdHlwZSB3ZSBhcmUgYW5pbWF0aW5nLlxuICogV2UganVzdCBjYXJlIHdoZXRoZXIgdGhlIHByb3BlcnR5IGlzIGEgdmVjdG9yLlxuICovXG5mdW5jdGlvbiBnZXRQcm9wZXJ0eVR5cGUgKGVsLCBwcm9wZXJ0eSkge1xuICB2YXIgY29tcG9uZW50O1xuICB2YXIgY29tcG9uZW50TmFtZTtcbiAgdmFyIHNwbGl0O1xuICB2YXIgcHJvcGVydHlOYW1lO1xuXG4gIHNwbGl0ID0gcHJvcGVydHkuc3BsaXQoJy4nKTtcbiAgY29tcG9uZW50TmFtZSA9IHNwbGl0WzBdO1xuICBwcm9wZXJ0eU5hbWUgPSBzcGxpdFsxXTtcbiAgY29tcG9uZW50ID0gZWwuY29tcG9uZW50c1tjb21wb25lbnROYW1lXSB8fCBBRlJBTUUuY29tcG9uZW50c1tjb21wb25lbnROYW1lXTtcblxuICAvLyBQcmltaXRpdmVzLlxuICBpZiAoIWNvbXBvbmVudCkgeyByZXR1cm4gbnVsbDsgfVxuXG4gIC8vIER5bmFtaWMgc2NoZW1hLiBXZSBvbmx5IGNhcmUgYWJvdXQgdmVjdG9ycyBhbnl3YXlzLlxuICBpZiAocHJvcGVydHlOYW1lICYmICFjb21wb25lbnQuc2NoZW1hW3Byb3BlcnR5TmFtZV0pIHsgcmV0dXJuIG51bGw7IH1cblxuICAvLyBNdWx0aS1wcm9wLlxuICBpZiAocHJvcGVydHlOYW1lKSB7IHJldHVybiBjb21wb25lbnQuc2NoZW1hW3Byb3BlcnR5TmFtZV0udHlwZTsgfVxuXG4gIC8vIFNpbmdsZS1wcm9wLlxuICByZXR1cm4gY29tcG9uZW50LnNjaGVtYS50eXBlO1xufVxuXG4vKipcbiAqIENvbnZlcnQgb2JqZWN0IHRvIHJhZGlhbnMuXG4gKi9cbmZ1bmN0aW9uIHRvUmFkaWFucyAob2JqKSB7XG4gIG9iai54ID0gVEhSRUUuTWF0aC5kZWdUb1JhZChvYmoueCk7XG4gIG9iai55ID0gVEhSRUUuTWF0aC5kZWdUb1JhZChvYmoueSk7XG4gIG9iai56ID0gVEhSRUUuTWF0aC5kZWdUb1JhZChvYmoueik7XG59XG5cbmZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXJzIChlbCwgZXZlbnROYW1lcywgaGFuZGxlcikge1xuICB2YXIgaTtcbiAgZm9yIChpID0gMDsgaSA8IGV2ZW50TmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZXNbaV0sIGhhbmRsZXIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXJzIChlbCwgZXZlbnROYW1lcywgaGFuZGxlcikge1xuICB2YXIgaTtcbiAgZm9yIChpID0gMDsgaSA8IGV2ZW50TmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZXNbaV0sIGhhbmRsZXIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFJhd1Byb3BlcnR5IChlbCwgcGF0aCkge1xuICB2YXIgaTtcbiAgdmFyIHNwbGl0O1xuICB2YXIgdmFsdWU7XG4gIHNwbGl0ID0gc3BsaXREb3QocGF0aCk7XG4gIHZhbHVlID0gZWw7XG4gIGZvciAoaSA9IDA7IGkgPCBzcGxpdC5sZW5ndGg7IGkrKykgeyB2YWx1ZSA9IHZhbHVlW3NwbGl0W2ldXTsgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIHNldFJhd1Byb3BlcnR5IChlbCwgcGF0aCwgdmFsdWUsIHR5cGUpIHtcbiAgdmFyIGk7XG4gIHZhciBzcGxpdDtcbiAgdmFyIHByb3BlcnR5TmFtZTtcbiAgdmFyIHRhcmdldFZhbHVlO1xuXG4gIC8vIFdhbGsuXG4gIHNwbGl0ID0gc3BsaXREb3QocGF0aCk7XG4gIHRhcmdldFZhbHVlID0gZWw7XG4gIGZvciAoaSA9IDA7IGkgPCBzcGxpdC5sZW5ndGggLSAxOyBpKyspIHsgdGFyZ2V0VmFsdWUgPSB0YXJnZXRWYWx1ZVtzcGxpdFtpXV07IH1cbiAgcHJvcGVydHlOYW1lID0gc3BsaXRbc3BsaXQubGVuZ3RoIC0gMV07XG5cbiAgLy8gUmF3IGNvbG9yLlxuICBpZiAodHlwZSA9PT0gVFlQRV9DT0xPUikge1xuICAgIGlmICgncicgaW4gdGFyZ2V0VmFsdWVbcHJvcGVydHlOYW1lXSkge1xuICAgICAgdGFyZ2V0VmFsdWVbcHJvcGVydHlOYW1lXS5yID0gdmFsdWUucjtcbiAgICAgIHRhcmdldFZhbHVlW3Byb3BlcnR5TmFtZV0uZyA9IHZhbHVlLmc7XG4gICAgICB0YXJnZXRWYWx1ZVtwcm9wZXJ0eU5hbWVdLmIgPSB2YWx1ZS5iO1xuICAgIH0gZWxzZSB7XG4gICAgICB0YXJnZXRWYWx1ZVtwcm9wZXJ0eU5hbWVdLnggPSB2YWx1ZS5yO1xuICAgICAgdGFyZ2V0VmFsdWVbcHJvcGVydHlOYW1lXS55ID0gdmFsdWUuZztcbiAgICAgIHRhcmdldFZhbHVlW3Byb3BlcnR5TmFtZV0ueiA9IHZhbHVlLmI7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuXG4gIHRhcmdldFZhbHVlW3Byb3BlcnR5TmFtZV0gPSB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gc3BsaXREb3QgKHBhdGgpIHtcbiAgaWYgKHBhdGggaW4gc3BsaXRDYWNoZSkgeyByZXR1cm4gc3BsaXRDYWNoZVtwYXRoXTsgfVxuICBzcGxpdENhY2hlW3BhdGhdID0gcGF0aC5zcGxpdCgnLicpO1xuICByZXR1cm4gc3BsaXRDYWNoZVtwYXRoXTtcbn1cblxuZnVuY3Rpb24gaXNSYXdQcm9wZXJ0eSAoZGF0YSkge1xuICByZXR1cm4gZGF0YS5pc1Jhd1Byb3BlcnR5IHx8IGRhdGEucHJvcGVydHkuc3RhcnRzV2l0aChTVFJJTkdfQ09NUE9ORU5UUykgfHxcbiAgICAgICAgIGRhdGEucHJvcGVydHkuc3RhcnRzV2l0aChTVFJJTkdfT0JKRUNUM0QpO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2FmcmFtZS1hbmltYXRpb24tY29tcG9uZW50L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qIGdsb2JhbCBBRlJBTUUgKi9cbnZhciBzdHlsZVBhcnNlciA9IEFGUkFNRS51dGlscy5zdHlsZVBhcnNlcjtcblxuaWYgKHR5cGVvZiBBRlJBTUUgPT09ICd1bmRlZmluZWQnKSB7XG4gIHRocm93IG5ldyBFcnJvcignQ29tcG9uZW50IGF0dGVtcHRlZCB0byByZWdpc3RlciBiZWZvcmUgQUZSQU1FIHdhcyBhdmFpbGFibGUuJyk7XG59XG5cbkFGUkFNRS5yZWdpc3RlckNvbXBvbmVudCgnZXZlbnQtc2V0Jywge1xuICBzY2hlbWE6IHtcbiAgICBkZWZhdWx0OiAnJyxcbiAgICBwYXJzZTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gc3R5bGVQYXJzZXIucGFyc2UodmFsdWUpO1xuICAgIH1cbiAgfSxcblxuICBtdWx0aXBsZTogdHJ1ZSxcblxuICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5ldmVudEhhbmRsZXIgPSBudWxsO1xuICAgIHRoaXMuZXZlbnROYW1lID0gbnVsbDtcbiAgfSxcblxuICB1cGRhdGU6IGZ1bmN0aW9uIChvbGREYXRhKSB7XG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCk7XG4gICAgdGhpcy51cGRhdGVFdmVudExpc3RlbmVyKCk7XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCk7XG4gIH0sXG5cbiAgcmVtb3ZlOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCk7XG4gIH0sXG5cbiAgcGF1c2U6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoKTtcbiAgfSxcblxuICBwbGF5OiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBzb3VyY2Utb2YtdHJ1dGggZXZlbnQgbGlzdGVuZXIgcmVnaXN0cnkuXG4gICAqIERvZXMgbm90IGFjdHVhbGx5IGF0dGFjaCBldmVudCBsaXN0ZW5lcnMgeWV0LlxuICAgKi9cbiAgdXBkYXRlRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gKCkge1xuICAgIHZhciBkYXRhID0gdGhpcy5kYXRhO1xuICAgIHZhciBlbCA9IHRoaXMuZWw7XG4gICAgdmFyIGV2ZW50O1xuICAgIHZhciB0YXJnZXQ7XG4gICAgdmFyIHRhcmdldEVsO1xuXG4gICAgLy8gU2V0IGV2ZW50IGxpc3RlbmVyIHVzaW5nIGBfZXZlbnRgLlxuICAgIGV2ZW50ID0gZGF0YS5fZXZlbnQgfHwgdGhpcy5pZDtcbiAgICB0YXJnZXQgPSBkYXRhLl90YXJnZXQ7XG5cbiAgICAvLyBEZWNpZGUgdGhlIHRhcmdldCB0byBgc2V0QXR0cmlidXRlYCBvbi5cbiAgICB0YXJnZXRFbCA9IHRhcmdldCA/IGVsLnNjZW5lRWwucXVlcnlTZWxlY3Rvcih0YXJnZXQpIDogZWw7XG5cbiAgICB0aGlzLmV2ZW50TmFtZSA9IGV2ZW50O1xuICAgIHRoaXMuZXZlbnRIYW5kbGVyID0gZnVuY3Rpb24gaGFuZGxlciAoKSB7XG4gICAgICB2YXIgcHJvcE5hbWU7XG4gICAgICAvLyBTZXQgYXR0cmlidXRlcy5cbiAgICAgIGZvciAocHJvcE5hbWUgaW4gZGF0YSkge1xuICAgICAgICBpZiAocHJvcE5hbWUgPT09ICdfZXZlbnQnIHx8IHByb3BOYW1lID09PSAnX3RhcmdldCcpIHsgY29udGludWU7IH1cbiAgICAgICAgQUZSQU1FLnV0aWxzLmVudGl0eS5zZXRDb21wb25lbnRQcm9wZXJ0eS5jYWxsKHRoaXMsIHRhcmdldEVsLCBwcm9wTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbcHJvcE5hbWVdKTtcbiAgICAgIH1cbiAgICB9O1xuICB9LFxuXG4gIGFkZEV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5ldmVudE5hbWUsIHRoaXMuZXZlbnRIYW5kbGVyKTtcbiAgfSxcblxuICByZW1vdmVFdmVudExpc3RlbmVyOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuZXZlbnROYW1lLCB0aGlzLmV2ZW50SGFuZGxlcik7XG4gIH1cbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2FmcmFtZS1ldmVudC1zZXQtY29tcG9uZW50L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogTGF5b3V0IGNvbXBvbmVudCBmb3IgQS1GcmFtZS5cbiAqIFNvbWUgbGF5b3V0cyBhZGFwdGVkIGZyb20gaHR0cDovL3d3dy52Yi1oZWxwZXIuY29tL3R1dG9yaWFsX3BsYXRvbmljX3NvbGlkcy5odG1sXG4gKi9cbkFGUkFNRS5yZWdpc3RlckNvbXBvbmVudCgnbGF5b3V0Jywge1xuICBzY2hlbWE6IHtcbiAgICBhbmdsZToge3R5cGU6ICdudW1iZXInLCBkZWZhdWx0OiBmYWxzZSwgbWluOiAwLCBtYXg6IDM2MCwgaWY6IHt0eXBlOiBbJ2NpcmNsZSddfX0sXG4gICAgY29sdW1uczoge2RlZmF1bHQ6IDEsIG1pbjogMCwgaWY6IHt0eXBlOiBbJ2JveCddfX0sXG4gICAgbWFyZ2luOiB7ZGVmYXVsdDogMSwgbWluOiAwLCBpZjoge3R5cGU6IFsnYm94JywgJ2xpbmUnXX19LFxuICAgIG1hcmdpbkNvbHVtbjoge2RlZmF1bHQ6IDEsIG1pbjogMCwgaWY6IHt0eXBlOiBbJ2JveCddfX0sXG4gICAgbWFyZ2luUm93OiB7ZGVmYXVsdDogMSwgbWluOiAwLCBpZjoge3R5cGU6IFsnYm94J119fSxcbiAgICBwbGFuZToge2RlZmF1bHQ6ICd4eSd9LFxuICAgIHJhZGl1czoge2RlZmF1bHQ6IDEsIG1pbjogMCwgaWY6IHt0eXBlOiBbJ2NpcmNsZScsICdjdWJlJywgJ2RvZGVjYWhlZHJvbicsICdweXJhbWlkJ119fSxcbiAgICByZXZlcnNlOiB7ZGVmYXVsdDogZmFsc2V9LFxuICAgIHR5cGU6IHtkZWZhdWx0OiAnbGluZScsIG9uZU9mOiBbJ2JveCcsICdjaXJjbGUnLCAnY3ViZScsICdkb2RlY2FoZWRyb24nLCAnbGluZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncHlyYW1pZCddfSxcbiAgICBmaWxsOiB7ZGVmYXVsdDogdHJ1ZSwgaWY6IHt0eXBlOiBbJ2NpcmNsZSddfX1cbiAgfSxcblxuICAvKipcbiAgICogU3RvcmUgaW5pdGlhbCBwb3NpdGlvbnMgaW4gY2FzZSBuZWVkIHRvIHJlc2V0IG9uIGNvbXBvbmVudCByZW1vdmFsLlxuICAgKi9cbiAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgZWwgPSB0aGlzLmVsO1xuXG4gICAgdGhpcy5jaGlsZHJlbiA9IGVsLmdldENoaWxkRW50aXRpZXMoKTtcbiAgICB0aGlzLmluaXRpYWxQb3NpdGlvbnMgPSBbXTtcblxuICAgIHRoaXMuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiBnZXRJbml0aWFsUG9zaXRpb25zIChjaGlsZEVsKSB7XG4gICAgICBpZiAoY2hpbGRFbC5oYXNMb2FkZWQpIHsgcmV0dXJuIF9nZXRQb3NpdGlvbnMoKTsgfVxuICAgICAgY2hpbGRFbC5hZGRFdmVudExpc3RlbmVyKCdsb2FkZWQnLCBfZ2V0UG9zaXRpb25zKTtcbiAgICAgIGZ1bmN0aW9uIF9nZXRQb3NpdGlvbnMgKCkge1xuICAgICAgICB2YXIgcG9zaXRpb24gPSBjaGlsZEVsLmdldEF0dHJpYnV0ZSgncG9zaXRpb24nKTtcbiAgICAgICAgc2VsZi5pbml0aWFsUG9zaXRpb25zLnB1c2goW3Bvc2l0aW9uLngsIHBvc2l0aW9uLnksIHBvc2l0aW9uLnpdKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoaWxkLWF0dGFjaGVkJywgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgLy8gT25seSB1cGRhdGUgaWYgZGlyZWN0IGNoaWxkIGF0dGFjaGVkLlxuICAgICAgaWYgKGV2dC5kZXRhaWwuZWwucGFyZW50Tm9kZSAhPT0gZWwpIHsgcmV0dXJuOyB9XG4gICAgICBzZWxmLmNoaWxkcmVuLnB1c2goZXZ0LmRldGFpbC5lbCk7XG4gICAgICBzZWxmLnVwZGF0ZSgpO1xuICAgIH0pO1xuXG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2hpbGQtZGV0YWNoZWQnLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAvLyBPbmx5IHVwZGF0ZSBpZiBkaXJlY3QgY2hpbGQgZGV0YWNoZWQuXG4gICAgICBpZiAoc2VsZi5jaGlsZHJlbi5pbmRleE9mKGV2dC5kZXRhaWwuZWwpID09PSAtMSkgeyByZXR1cm47IH1cbiAgICAgIHNlbGYuY2hpbGRyZW4uc3BsaWNlKHNlbGYuY2hpbGRyZW4uaW5kZXhPZihldnQuZGV0YWlsLmVsKSwgMSk7XG4gICAgICBzZWxmLmluaXRpYWxQb3NpdGlvbnMuc3BsaWNlKHNlbGYuY2hpbGRyZW4uaW5kZXhPZihldnQuZGV0YWlsLmVsKSwgMSk7XG4gICAgICBzZWxmLnVwZGF0ZSgpO1xuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBVcGRhdGUgY2hpbGQgZW50aXR5IHBvc2l0aW9ucy5cbiAgICovXG4gIHVwZGF0ZTogZnVuY3Rpb24gKG9sZERhdGEpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuO1xuICAgIHZhciBkYXRhID0gdGhpcy5kYXRhO1xuICAgIHZhciBlbCA9IHRoaXMuZWw7XG4gICAgdmFyIG51bUNoaWxkcmVuID0gY2hpbGRyZW4ubGVuZ3RoO1xuICAgIHZhciBwb3NpdGlvbkZuO1xuICAgIHZhciBwb3NpdGlvbnM7XG5cbiAgICAvLyBDYWxjdWxhdGUgZGlmZmVyZW50IHBvc2l0aW9ucyBiYXNlZCBvbiBsYXlvdXQgc2hhcGUuXG4gICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcbiAgICAgIGNhc2UgJ2JveCc6IHtcbiAgICAgICAgcG9zaXRpb25GbiA9IGdldEJveFBvc2l0aW9ucztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdjaXJjbGUnOiB7XG4gICAgICAgIHBvc2l0aW9uRm4gPSBnZXRDaXJjbGVQb3NpdGlvbnM7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnY3ViZSc6IHtcbiAgICAgICAgcG9zaXRpb25GbiA9IGdldEN1YmVQb3NpdGlvbnM7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnZG9kZWNhaGVkcm9uJzoge1xuICAgICAgICBwb3NpdGlvbkZuID0gZ2V0RG9kZWNhaGVkcm9uUG9zaXRpb25zO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3B5cmFtaWQnOiB7XG4gICAgICAgIHBvc2l0aW9uRm4gPSBnZXRQeXJhbWlkUG9zaXRpb25zO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgLy8gTGluZS5cbiAgICAgICAgcG9zaXRpb25GbiA9IGdldExpbmVQb3NpdGlvbnM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcG9zaXRpb25zID0gcG9zaXRpb25GbihkYXRhLCBudW1DaGlsZHJlbiwgJ21hcmdpbicgaW4gZWwuZ2V0RE9NQXR0cmlidXRlKCdsYXlvdXQnKSk7XG4gICAgaWYgKGRhdGEucmV2ZXJzZSkgeyBwb3NpdGlvbnMucmV2ZXJzZSgpOyB9XG4gICAgc2V0UG9zaXRpb25zKGNoaWxkcmVuLCBwb3NpdGlvbnMpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXNldCBwb3NpdGlvbnMuXG4gICAqL1xuICByZW1vdmU6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoaWxkLWF0dGFjaGVkJywgdGhpcy5jaGlsZEF0dGFjaGVkQ2FsbGJhY2spO1xuICAgIHNldFBvc2l0aW9ucyh0aGlzLmNoaWxkcmVuLCB0aGlzLmluaXRpYWxQb3NpdGlvbnMpO1xuICB9XG59KTtcblxuLyoqXG4gKiBHZXQgcG9zaXRpb25zIGZvciBgYm94YCBsYXlvdXQuXG4gKi9cbmZ1bmN0aW9uIGdldEJveFBvc2l0aW9ucyAoZGF0YSwgbnVtQ2hpbGRyZW4sIG1hcmdpbkRlZmluZWQpIHtcbiAgdmFyIG1hcmdpbkNvbHVtbjtcbiAgdmFyIG1hcmdpblJvdztcbiAgdmFyIHBvc2l0aW9uO1xuICB2YXIgcG9zaXRpb25zID0gW107XG4gIHZhciByb3dzID0gTWF0aC5jZWlsKG51bUNoaWxkcmVuIC8gZGF0YS5jb2x1bW5zKTtcblxuICBtYXJnaW5Db2x1bW4gPSBkYXRhLm1hcmdpbkNvbHVtbjtcbiAgbWFyZ2luUm93ID0gZGF0YS5tYXJnaW5Sb3c7XG4gIGlmIChtYXJnaW5EZWZpbmVkKSB7XG4gICAgbWFyZ2luQ29sdW1uID0gZGF0YS5tYXJnaW47XG4gICAgbWFyZ2luUm93ID0gZGF0YS5tYXJnaW47XG4gIH1cblxuICBmb3IgKHZhciByb3cgPSAwOyByb3cgPCByb3dzOyByb3crKykge1xuICAgIGZvciAodmFyIGNvbHVtbiA9IDA7IGNvbHVtbiA8IGRhdGEuY29sdW1uczsgY29sdW1uKyspIHtcbiAgICAgIHBvc2l0aW9uID0gWzAsIDAsIDBdO1xuICAgICAgaWYgKGRhdGEucGxhbmUuaW5kZXhPZigneCcpID09PSAwKSB7XG4gICAgICAgIHBvc2l0aW9uWzBdID0gY29sdW1uICogbWFyZ2luQ29sdW1uO1xuICAgICAgfVxuICAgICAgaWYgKGRhdGEucGxhbmUuaW5kZXhPZigneScpID09PSAwKSB7XG4gICAgICAgIHBvc2l0aW9uWzFdID0gY29sdW1uICogbWFyZ2luQ29sdW1uO1xuICAgICAgfVxuICAgICAgaWYgKGRhdGEucGxhbmUuaW5kZXhPZigneScpID09PSAxKSB7XG4gICAgICAgIHBvc2l0aW9uWzFdID0gcm93ICogbWFyZ2luUm93O1xuICAgICAgfVxuICAgICAgaWYgKGRhdGEucGxhbmUuaW5kZXhPZigneicpID09PSAxKSB7XG4gICAgICAgIHBvc2l0aW9uWzJdID0gcm93ICogbWFyZ2luUm93O1xuICAgICAgfVxuICAgICAgcG9zaXRpb25zLnB1c2gocG9zaXRpb24pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwb3NpdGlvbnM7XG59XG5tb2R1bGUuZXhwb3J0cy5nZXRCb3hQb3NpdGlvbnMgPSBnZXRCb3hQb3NpdGlvbnM7XG5cbi8qKlxuICogR2V0IHBvc2l0aW9ucyBmb3IgYGNpcmNsZWAgbGF5b3V0LlxuICovXG5mdW5jdGlvbiBnZXRDaXJjbGVQb3NpdGlvbnMgKGRhdGEsIG51bUNoaWxkcmVuKSB7XG4gIHZhciBwb3NpdGlvbnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IG51bUNoaWxkcmVuOyBpKyspIHtcbiAgICB2YXIgcmFkO1xuXG4gICAgaWYgKGlzTmFOKGRhdGEuYW5nbGUpKSB7XG4gICAgICByYWQgPSBpICogKDIgKiBNYXRoLlBJKSAvIG51bUNoaWxkcmVuO1xuICAgIH0gZWxzZSB7XG4gICAgICByYWQgPSBpICogZGF0YS5hbmdsZSAqIDAuMDE3NDUzMjkyNTI7ICAvLyBBbmdsZSB0byByYWRpYW4uXG4gICAgfVxuXG4gICAgdmFyIHBvc2l0aW9uID0gW107XG4gICAgaWYgKGRhdGEucGxhbmUuaW5kZXhPZigneCcpID09PSAwKSB7XG4gICAgICBwb3NpdGlvblswXSA9IGRhdGEucmFkaXVzICogTWF0aC5jb3MocmFkKTtcbiAgICB9XG4gICAgaWYgKGRhdGEucGxhbmUuaW5kZXhPZigneScpID09PSAwKSB7XG4gICAgICBwb3NpdGlvblsxXSA9IGRhdGEucmFkaXVzICogTWF0aC5jb3MocmFkKTtcbiAgICB9XG4gICAgaWYgKGRhdGEucGxhbmUuaW5kZXhPZigneScpID09PSAxKSB7XG4gICAgICBwb3NpdGlvblsxXSA9IGRhdGEucmFkaXVzICogTWF0aC5zaW4ocmFkKTtcbiAgICB9XG4gICAgaWYgKGRhdGEucGxhbmUuaW5kZXhPZigneicpID09PSAxKSB7XG4gICAgICBwb3NpdGlvblsyXSA9IGRhdGEucmFkaXVzICogTWF0aC5zaW4ocmFkKTtcbiAgICB9XG4gICAgcG9zaXRpb25zLnB1c2gocG9zaXRpb24pO1xuICB9XG4gIHJldHVybiBwb3NpdGlvbnM7XG59XG5tb2R1bGUuZXhwb3J0cy5nZXRDaXJjbGVQb3NpdGlvbnMgPSBnZXRDaXJjbGVQb3NpdGlvbnM7XG5cbi8qKlxuICogR2V0IHBvc2l0aW9ucyBmb3IgYGxpbmVgIGxheW91dC5cbiAqIFRPRE86IDNEIG1hcmdpbnMuXG4gKi9cbmZ1bmN0aW9uIGdldExpbmVQb3NpdGlvbnMgKGRhdGEsIG51bUNoaWxkcmVuKSB7XG4gIGRhdGEuY29sdW1ucyA9IG51bUNoaWxkcmVuO1xuICByZXR1cm4gZ2V0Qm94UG9zaXRpb25zKGRhdGEsIG51bUNoaWxkcmVuLCB0cnVlKTtcbn1cbm1vZHVsZS5leHBvcnRzLmdldExpbmVQb3NpdGlvbnMgPSBnZXRMaW5lUG9zaXRpb25zO1xuXG4vKipcbiAqIEdldCBwb3NpdGlvbnMgZm9yIGBjdWJlYCBsYXlvdXQuXG4gKi9cbmZ1bmN0aW9uIGdldEN1YmVQb3NpdGlvbnMgKGRhdGEsIG51bUNoaWxkcmVuKSB7XG4gIHJldHVybiB0cmFuc2Zvcm0oW1xuICAgIFsxLCAwLCAwXSxcbiAgICBbMCwgMSwgMF0sXG4gICAgWzAsIDAsIDFdLFxuICAgIFstMSwgMCwgMF0sXG4gICAgWzAsIC0xLCAwXSxcbiAgICBbMCwgMCwgLTFdLFxuICBdLCBkYXRhLnJhZGl1cyAvIDIpO1xufVxubW9kdWxlLmV4cG9ydHMuZ2V0Q3ViZVBvc2l0aW9ucyA9IGdldEN1YmVQb3NpdGlvbnM7XG5cbi8qKlxuICogR2V0IHBvc2l0aW9ucyBmb3IgYGRvZGVjYWhlZHJvbmAgbGF5b3V0LlxuICovXG5mdW5jdGlvbiBnZXREb2RlY2FoZWRyb25Qb3NpdGlvbnMgKGRhdGEsIG51bUNoaWxkcmVuKSB7XG4gIHZhciBQSEkgPSAoMSArIE1hdGguc3FydCg1KSkgLyAyO1xuICB2YXIgQiA9IDEgLyBQSEk7XG4gIHZhciBDID0gMiAtIFBISTtcbiAgdmFyIE5CID0gLTEgKiBCO1xuICB2YXIgTkMgPSAtMSAqIEM7XG5cbiAgcmV0dXJuIHRyYW5zZm9ybShbXG4gICAgWy0xLCBDLCAwXSxcbiAgICBbLTEsIE5DLCAwXSxcbiAgICBbMCwgLTEsIENdLFxuICAgIFswLCAtMSwgTkNdLFxuICAgIFswLCAxLCBDXSxcbiAgICBbMCwgMSwgTkNdLFxuICAgIFsxLCBDLCAwXSxcbiAgICBbMSwgTkMsIDBdLFxuICAgIFtCLCBCLCBCXSxcbiAgICBbQiwgQiwgTkJdLFxuICAgIFtCLCBOQiwgQl0sXG4gICAgW0IsIE5CLCBOQl0sXG4gICAgW0MsIDAsIDFdLFxuICAgIFtDLCAwLCAtMV0sXG4gICAgW05CLCBCLCBCXSxcbiAgICBbTkIsIEIsIE5CXSxcbiAgICBbTkIsIE5CLCBCXSxcbiAgICBbTkIsIE5CLCBOQl0sXG4gICAgW05DLCAwLCAxXSxcbiAgICBbTkMsIDAsIC0xXSxcbiAgXSwgZGF0YS5yYWRpdXMgLyAyKTtcbn1cbm1vZHVsZS5leHBvcnRzLmdldERvZGVjYWhlZHJvblBvc2l0aW9ucyA9IGdldERvZGVjYWhlZHJvblBvc2l0aW9ucztcblxuLyoqXG4gKiBHZXQgcG9zaXRpb25zIGZvciBgcHlyYW1pZGAgbGF5b3V0LlxuICovXG5mdW5jdGlvbiBnZXRQeXJhbWlkUG9zaXRpb25zIChkYXRhLCBudW1DaGlsZHJlbikge1xuICB2YXIgU1FSVF8zID0gTWF0aC5zcXJ0KDMpO1xuICB2YXIgTkVHX1NRUlRfMV8zID0gLTEgLyBNYXRoLnNxcnQoMyk7XG4gIHZhciBEQkxfU1FSVF8yXzMgPSAyICogTWF0aC5zcXJ0KDIgLyAzKTtcblxuICByZXR1cm4gdHJhbnNmb3JtKFtcbiAgICBbMCwgMCwgU1FSVF8zICsgTkVHX1NRUlRfMV8zXSxcbiAgICBbLTEsIDAsIE5FR19TUVJUXzFfM10sXG4gICAgWzEsIDAsIE5FR19TUVJUXzFfM10sXG4gICAgWzAsIERCTF9TUVJUXzJfMywgMF1cbiAgXSwgZGF0YS5yYWRpdXMgLyAyKTtcbn1cbm1vZHVsZS5leHBvcnRzLmdldFB5cmFtaWRQb3NpdGlvbnMgPSBnZXRQeXJhbWlkUG9zaXRpb25zO1xuXG4vKipcbiAqIE11bHRpcGx5IGFsbCBjb29yZGluYXRlcyBieSBhIHNjYWxlIGZhY3RvciBhbmQgYWRkIHRyYW5zbGF0ZS5cbiAqXG4gKiBAcGFyYW1zIHthcnJheX0gcG9zaXRpb25zIC0gQXJyYXkgb2YgY29vcmRpbmF0ZXMgaW4gYXJyYXkgZm9ybS5cbiAqIEByZXR1cm5zIHthcnJheX0gcG9zaXRpb25zXG4gKi9cbmZ1bmN0aW9uIHRyYW5zZm9ybSAocG9zaXRpb25zLCBzY2FsZSkge1xuICByZXR1cm4gcG9zaXRpb25zLm1hcChmdW5jdGlvbiAocG9zaXRpb24pIHtcbiAgICByZXR1cm4gcG9zaXRpb24ubWFwKGZ1bmN0aW9uIChwb2ludCwgaSkge1xuICAgICAgcmV0dXJuIHBvaW50ICogc2NhbGU7XG4gICAgfSk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBTZXQgcG9zaXRpb24gb24gY2hpbGQgZW50aXRpZXMuXG4gKlxuICogQHBhcmFtIHthcnJheX0gZWxzIC0gQ2hpbGQgZW50aXRpZXMgdG8gc2V0LlxuICogQHBhcmFtIHthcnJheX0gcG9zaXRpb25zIC0gQXJyYXkgb2YgY29vcmRpbmF0ZXMuXG4gKi9cbmZ1bmN0aW9uIHNldFBvc2l0aW9ucyAoZWxzLCBwb3NpdGlvbnMpIHtcbiAgZWxzLmZvckVhY2goZnVuY3Rpb24gKGVsLCBpKSB7XG4gICAgdmFyIHBvc2l0aW9uID0gcG9zaXRpb25zW2ldO1xuICAgIGVsLnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLCB7XG4gICAgICB4OiBwb3NpdGlvblswXSxcbiAgICAgIHk6IHBvc2l0aW9uWzFdLFxuICAgICAgejogcG9zaXRpb25bMl1cbiAgICB9KTtcbiAgfSk7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYWZyYW1lLWxheW91dC1jb21wb25lbnQvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGRlYnVnID0gQUZSQU1FLnV0aWxzLmRlYnVnO1xudmFyIGNvb3JkaW5hdGVzID0gQUZSQU1FLnV0aWxzLmNvb3JkaW5hdGVzO1xuXG52YXIgd2FybiA9IGRlYnVnKCdjb21wb25lbnRzOmxvb2stYXQ6d2FybicpO1xudmFyIGlzQ29vcmRpbmF0ZXMgPSBjb29yZGluYXRlcy5pc0Nvb3JkaW5hdGVzIHx8IGNvb3JkaW5hdGVzLmlzQ29vcmRpbmF0ZTtcblxuZGVsZXRlIEFGUkFNRS5jb21wb25lbnRzWydsb29rLWF0J107XG5cbi8qKlxuICogTG9vay1hdCBjb21wb25lbnQuXG4gKlxuICogTW9kaWZpZXMgcm90YXRpb24gdG8gZWl0aGVyIHRyYWNrIGFub3RoZXIgZW50aXR5IE9SIGRvIGEgb25lLXRpbWUgdHVybiB0b3dhcmRzIGEgcG9zaXRpb25cbiAqIHZlY3Rvci5cbiAqXG4gKiBJZiB0cmFja2luZyBhbiBvYmplY3QgdmlhIHNldHRpbmcgdGhlIGNvbXBvbmVudCB2YWx1ZSB2aWEgYSBzZWxlY3RvciwgbG9vay1hdCB3aWxsIHJlZ2lzdGVyXG4gKiBhIGJlaGF2aW9yIHRvIHRoZSBzY2VuZSB0byB1cGRhdGUgcm90YXRpb24gb24gZXZlcnkgdGljay5cbiAqL1xuQUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCdsb29rLWF0Jywge1xuICBzY2hlbWE6IHtcbiAgICBkZWZhdWx0OiAnJyxcblxuICAgIHBhcnNlOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIC8vIEEgc3RhdGljIHBvc2l0aW9uIHRvIGxvb2sgYXQuXG4gICAgICBpZiAoaXNDb29yZGluYXRlcyh2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gY29vcmRpbmF0ZXMucGFyc2UodmFsdWUpO1xuICAgICAgfVxuICAgICAgLy8gQSBzZWxlY3RvciB0byBhIHRhcmdldCBlbnRpdHkuXG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSxcblxuICAgIHN0cmluZ2lmeTogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIGNvb3JkaW5hdGVzLnN0cmluZ2lmeShkYXRhKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgfSxcblxuICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy50YXJnZXQzRCA9IG51bGw7XG4gICAgdGhpcy52ZWN0b3IgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBJZiB0cmFja2luZyBhbiBvYmplY3QsIHRoaXMgd2lsbCBiZSBjYWxsZWQgb24gZXZlcnkgdGljay5cbiAgICogSWYgbG9va2luZyBhdCBhIHBvc2l0aW9uIHZlY3RvciwgdGhpcyB3aWxsIG9ubHkgYmUgY2FsbGVkIG9uY2UgKHVudGlsIGZ1cnRoZXIgdXBkYXRlcykuXG4gICAqL1xuICB1cGRhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIHRhcmdldCA9IHNlbGYuZGF0YTtcbiAgICB2YXIgb2JqZWN0M0QgPSBzZWxmLmVsLm9iamVjdDNEO1xuICAgIHZhciB0YXJnZXRFbDtcblxuICAgIC8vIE5vIGxvbmdlciBsb29raW5nIGF0IGFueXRoaW5nIChpLmUuLCBsb29rLWF0PVwiXCIpLlxuICAgIGlmICghdGFyZ2V0IHx8ICh0eXBlb2YgdGFyZ2V0ID09PSAnb2JqZWN0JyAmJiAhT2JqZWN0LmtleXModGFyZ2V0KS5sZW5ndGgpKSB7XG4gICAgICByZXR1cm4gc2VsZi5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICAvLyBMb29rIGF0IGEgcG9zaXRpb24uXG4gICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gb2JqZWN0M0QubG9va0F0KG5ldyBUSFJFRS5WZWN0b3IzKHRhcmdldC54LCB0YXJnZXQueSwgdGFyZ2V0LnopKTtcbiAgICB9XG5cbiAgICAvLyBBc3N1bWUgdGFyZ2V0IGlzIGEgc3RyaW5nLlxuICAgIC8vIFF1ZXJ5IGZvciB0aGUgZWxlbWVudCwgZ3JhYiBpdHMgb2JqZWN0M0QsIHRoZW4gcmVnaXN0ZXIgYSBiZWhhdmlvciBvbiB0aGUgc2NlbmUgdG9cbiAgICAvLyB0cmFjayB0aGUgdGFyZ2V0IG9uIGV2ZXJ5IHRpY2suXG4gICAgdGFyZ2V0RWwgPSBzZWxmLmVsLnNjZW5lRWwucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xuICAgIGlmICghdGFyZ2V0RWwpIHtcbiAgICAgIHdhcm4oJ1wiJyArIHRhcmdldCArICdcIiBkb2VzIG5vdCBwb2ludCB0byBhIHZhbGlkIGVudGl0eSB0byBsb29rLWF0Jyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghdGFyZ2V0RWwuaGFzTG9hZGVkKSB7XG4gICAgICByZXR1cm4gdGFyZ2V0RWwuYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBzZWxmLmJlZ2luVHJhY2tpbmcodGFyZ2V0RWwpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBzZWxmLmJlZ2luVHJhY2tpbmcodGFyZ2V0RWwpO1xuICB9LFxuXG4gIHRpY2s6IGZ1bmN0aW9uICh0KSB7XG4gICAgLy8gVHJhY2sgdGFyZ2V0IG9iamVjdCBwb3NpdGlvbi4gRGVwZW5kcyBvbiBwYXJlbnQgb2JqZWN0IGtlZXBpbmcgZ2xvYmFsIHRyYW5zZm9ybXMgdXBcbiAgICAvLyB0byBzdGF0ZSB3aXRoIHVwZGF0ZU1hdHJpeFdvcmxkKCkuIEluIHByYWN0aWNlLCB0aGlzIGlzIGhhbmRsZWQgYnkgdGhlIHJlbmRlcmVyLlxuICAgIHZhciB0YXJnZXQ7XG4gICAgdmFyIHRhcmdldDNEID0gdGhpcy50YXJnZXQzRDtcbiAgICB2YXIgb2JqZWN0M0QgPSB0aGlzLmVsLm9iamVjdDNEO1xuICAgIHZhciB2ZWN0b3IgPSB0aGlzLnZlY3RvcjtcblxuICAgIGlmICh0YXJnZXQzRCkge1xuICAgICAgdGFyZ2V0ID0gb2JqZWN0M0QucGFyZW50LndvcmxkVG9Mb2NhbCh0YXJnZXQzRC5nZXRXb3JsZFBvc2l0aW9uKCkpO1xuICAgICAgaWYgKHRoaXMuZWwuZ2V0T2JqZWN0M0QoJ2NhbWVyYScpKSB7XG4gICAgICAgIC8vIEZsaXAgdGhlIHZlY3RvciB0byAteiwgbG9va2luZyBhd2F5IGZyb20gdGFyZ2V0IGZvciBjYW1lcmEgZW50aXRpZXMuIFdoZW4gdXNpbmdcbiAgICAgICAgLy8gbG9va2F0IGZyb20gVEhSRUUgY2FtZXJhIG9iamVjdHMsIHRoaXMgaXMgYXBwbGllZCBmb3IgeW91LCBidXQgc2luY2UgdGhlIGNhbWVyYSBpc1xuICAgICAgICAvLyBuZXN0ZWQgaW50byBhIE9iamVjdDNELCB3ZSBuZWVkIHRvIGFwcGx5IHRoaXMgbWFudWFsbHkuXG4gICAgICAgIHZlY3Rvci5zdWJWZWN0b3JzKG9iamVjdDNELnBvc2l0aW9uLCB0YXJnZXQpLmFkZChvYmplY3QzRC5wb3NpdGlvbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2ZWN0b3IgPSB0YXJnZXQ7XG4gICAgICB9XG4gICAgICBvYmplY3QzRC5sb29rQXQodmVjdG9yKTtcbiAgICB9XG4gIH0sXG5cbiAgYmVnaW5UcmFja2luZzogZnVuY3Rpb24gKHRhcmdldEVsKSB7XG4gICAgdGhpcy50YXJnZXQzRCA9IHRhcmdldEVsLm9iamVjdDNEO1xuICB9XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9hZnJhbWUtbG9vay1hdC1jb21wb25lbnQvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiBMaXN0ZW4gdG8gZXZlbnQgYW5kIGZvcndhcmQgdG8gYW5vdGhlciBlbnRpdHkgb3IgZW50aXRpZXMuXG4gKi9cbkFGUkFNRS5yZWdpc3RlckNvbXBvbmVudCgncHJveHktZXZlbnQnLCB7XG4gIHNjaGVtYToge1xuICAgIGNhcHR1cmVCdWJibGVzOiB7ZGVmYXVsdDogZmFsc2V9LFxuICAgIGV2ZW50OiB7dHlwZTogJ3N0cmluZyd9LFxuICAgIHRvOiB7dHlwZTogJ3N0cmluZyd9LFxuICAgIGFzOiB7dHlwZTogJ3N0cmluZyd9LFxuICAgIGJ1YmJsZXM6IHtkZWZhdWx0OiBmYWxzZX1cbiAgfSxcblxuICBtdWx0aXBsZTogdHJ1ZSxcblxuICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgdmFyIGVsID0gdGhpcy5lbDtcbiAgICB2YXIgdG87XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgaWYgKGRhdGEudG8gPT09ICdDSElMRFJFTicpIHtcbiAgICAgIHRvID0gZWwucXVlcnlTZWxlY3RvckFsbCgnKicpO1xuICAgIH0gZWxzZSBpZiAoZGF0YS50byA9PT0gJ1NFTEYnKSB7XG4gICAgICB0byA9IFtlbF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChkYXRhLnRvKTtcbiAgICB9XG5cbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKGRhdGEuZXZlbnQsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgIHZhciBkYXRhID0gc2VsZi5kYXRhO1xuICAgICAgdmFyIGk7XG4gICAgICBpZiAoIWRhdGEuY2FwdHVyZUJ1YmJsZXMgJiYgZXZ0LnRhcmdldCAhPT0gZWwpIHsgcmV0dXJuOyB9XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdG8ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdG9baV0uZW1pdChkYXRhLmFzIHx8IGRhdGEuZXZlbnQsIG51bGwsIGRhdGEuYnViYmxlcyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2FmcmFtZS1wcm94eS1ldmVudC1jb21wb25lbnQvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaWYgKHR5cGVvZiBBRlJBTUUgPT09ICd1bmRlZmluZWQnKSB7XG4gIHRocm93IG5ldyBFcnJvcignQ29tcG9uZW50IGF0dGVtcHRlZCB0byByZWdpc3RlciBiZWZvcmUgQUZSQU1FIHdhcyBhdmFpbGFibGUuJyk7XG59XG5cbi8qKlxuICogU2V0IHJhbmRvbSBjb2xvciB3aXRoaW4gYm91bmRzLlxuICovXG5BRlJBTUUucmVnaXN0ZXJDb21wb25lbnQoJ3JhbmRvbS1jb2xvcicsIHtcbiAgc2NoZW1hOiB7XG4gICAgbWluOiB7ZGVmYXVsdDoge3g6IDAsIHk6IDAsIHo6IDB9LCB0eXBlOiAndmVjMyd9LFxuICAgIG1heDoge2RlZmF1bHQ6IHt4OiAxLCB5OiAxLCB6OiAxfSwgdHlwZTogJ3ZlYzMnfVxuICB9LFxuXG4gIHVwZGF0ZTogZnVuY3Rpb24gKCkge1xuICAgIHZhciBkYXRhID0gdGhpcy5kYXRhO1xuICAgIHZhciBtYXggPSBkYXRhLm1heDtcbiAgICB2YXIgbWluID0gZGF0YS5taW47XG4gICAgdGhpcy5lbC5zZXRBdHRyaWJ1dGUoJ21hdGVyaWFsJywgJ2NvbG9yJywgJyMnICsgbmV3IFRIUkVFLkNvbG9yKFxuICAgICAgTWF0aC5yYW5kb20oKSAqIG1heC54ICsgbWluLngsXG4gICAgICBNYXRoLnJhbmRvbSgpICogbWF4LnkgKyBtaW4ueSxcbiAgICAgIE1hdGgucmFuZG9tKCkgKiBtYXgueiArIG1pbi56XG4gICAgKS5nZXRIZXhTdHJpbmcoKSk7XG4gIH1cbn0pO1xuXG4vKipcbiAqIFNldCByYW5kb20gcG9zaXRpb24gd2l0aGluIGJvdW5kcy5cbiAqL1xuQUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCdyYW5kb20tcG9zaXRpb24nLCB7XG4gIHNjaGVtYToge1xuICAgIG1pbjoge2RlZmF1bHQ6IHt4OiAtMTAsIHk6IC0xMCwgejogLTEwfSwgdHlwZTogJ3ZlYzMnfSxcbiAgICBtYXg6IHtkZWZhdWx0OiB7eDogMTAsIHk6IDEwLCB6OiAxMH0sIHR5cGU6ICd2ZWMzJ31cbiAgfSxcblxuICB1cGRhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICB2YXIgbWF4ID0gZGF0YS5tYXg7XG4gICAgdmFyIG1pbiA9IGRhdGEubWluO1xuICAgIHRoaXMuZWwuc2V0QXR0cmlidXRlKCdwb3NpdGlvbicsIHtcbiAgICAgIHg6IE1hdGgucmFuZG9tKCkgKiAobWF4LnggLSBtaW4ueCkgKyBtaW4ueCxcbiAgICAgIHk6IE1hdGgucmFuZG9tKCkgKiAobWF4LnkgLSBtaW4ueSkgKyBtaW4ueSxcbiAgICAgIHo6IE1hdGgucmFuZG9tKCkgKiAobWF4LnogLSBtaW4ueikgKyBtaW4uelxuICAgIH0pO1xuICB9XG59KTtcblxuLyoqXG4gKiBTZXQgcmFuZG9tIHBvc2l0aW9uIHdpdGhpbiBzcGhlcmljYWwgYm91bmRzLlxuICovXG5BRlJBTUUucmVnaXN0ZXJDb21wb25lbnQoJ3JhbmRvbS1zcGhlcmljYWwtcG9zaXRpb24nLCB7XG4gIHNjaGVtYToge1xuICAgIHJhZGl1czoge2RlZmF1bHQ6IDEwfSxcbiAgICBzdGFydFg6IHtkZWZhdWx0OiAwfSxcbiAgICBsZW5ndGhYOiB7ZGVmYXVsdDogMzYwfSxcbiAgICBzdGFydFk6IHtkZWZhdWx0OiAwfSxcbiAgICBsZW5ndGhZOiB7ZGVmYXVsdDogMzYwfVxuICB9LFxuXG4gIHVwZGF0ZTogZnVuY3Rpb24gKCkge1xuICAgIHZhciBkYXRhID0gdGhpcy5kYXRhO1xuXG4gICAgdmFyIHhBbmdsZSA9IFRIUkVFLk1hdGguZGVnVG9SYWQoTWF0aC5yYW5kb20oKSAqIGRhdGEubGVuZ3RoWCArIGRhdGEuc3RhcnRYKTtcbiAgICB2YXIgeUFuZ2xlID0gVEhSRUUuTWF0aC5kZWdUb1JhZChNYXRoLnJhbmRvbSgpICogZGF0YS5sZW5ndGhZICsgZGF0YS5zdGFydFkpO1xuXG4gICAgdGhpcy5lbC5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJywge1xuICAgICAgeDogZGF0YS5yYWRpdXMgKiBNYXRoLmNvcyh4QW5nbGUpICogTWF0aC5zaW4oeUFuZ2xlKSxcbiAgICAgIHk6IGRhdGEucmFkaXVzICogTWF0aC5zaW4oeEFuZ2xlKSAqIE1hdGguc2luKHlBbmdsZSksXG4gICAgICB6OiBkYXRhLnJhZGl1cyAqIE1hdGguY29zKHlBbmdsZSlcbiAgICB9KTtcbiAgfVxufSk7XG5cbi8qKlxuICogU2V0IHJhbmRvbSByb3RhdGlvbiB3aXRoaW4gYm91bmRzLlxuICovXG5BRlJBTUUucmVnaXN0ZXJDb21wb25lbnQoJ3JhbmRvbS1yb3RhdGlvbicsIHtcbiAgc2NoZW1hOiB7XG4gICAgbWluOiB7ZGVmYXVsdDoge3g6IDAsIHk6IDAsIHo6IDB9LCB0eXBlOiAndmVjMyd9LFxuICAgIG1heDoge2RlZmF1bHQ6IHt4OiAzNjAsIHk6IDM2MCwgejogMzYwfSwgdHlwZTogJ3ZlYzMnfVxuICB9LFxuXG4gIHVwZGF0ZTogZnVuY3Rpb24gKCkge1xuICAgIHZhciBkYXRhID0gdGhpcy5kYXRhO1xuICAgIHZhciBtYXggPSBkYXRhLm1heDtcbiAgICB2YXIgbWluID0gZGF0YS5taW47XG4gICAgdGhpcy5lbC5zZXRBdHRyaWJ1dGUoJ3JvdGF0aW9uJywge1xuICAgICAgeDogTWF0aC5yYW5kb20oKSAqIG1heC54ICsgbWluLngsXG4gICAgICB5OiBNYXRoLnJhbmRvbSgpICogbWF4LnkgKyBtaW4ueSxcbiAgICAgIHo6IE1hdGgucmFuZG9tKCkgKiBtYXgueiArIG1pbi56XG4gICAgfSk7XG4gIH1cbn0pO1xuXG4vKipcbiAqIFNldCByYW5kb20gc2NhbGUgd2l0aGluIGJvdW5kcy5cbiAqL1xuQUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCdyYW5kb20tc2NhbGUnLCB7XG4gIHNjaGVtYToge1xuICAgIG1pbjoge2RlZmF1bHQ6IHt4OiAwLCB5OiAwLCB6OiAwfSwgdHlwZTogJ3ZlYzMnfSxcbiAgICBtYXg6IHtkZWZhdWx0OiB7eDogMiwgeTogMiwgejogMn0sIHR5cGU6ICd2ZWMzJ31cbiAgfSxcblxuICB1cGRhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICB2YXIgbWF4ID0gZGF0YS5tYXg7XG4gICAgdmFyIG1pbiA9IGRhdGEubWluO1xuICAgIHRoaXMuZWwuc2V0QXR0cmlidXRlKCdzY2FsZScsIHtcbiAgICAgIHg6IE1hdGgucmFuZG9tKCkgKiBtYXgueCArIG1pbi54LFxuICAgICAgeTogTWF0aC5yYW5kb20oKSAqIG1heC55ICsgbWluLnksXG4gICAgICB6OiBNYXRoLnJhbmRvbSgpICogbWF4LnogKyBtaW4uelxuICAgIH0pO1xuICB9XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9hZnJhbWUtcmFuZG9taXplci1jb21wb25lbnRzL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qIGdsb2JhbCBBRlJBTUUgKi9cblxuaWYgKHR5cGVvZiBBRlJBTUUgPT09ICd1bmRlZmluZWQnKSB7XG4gIHRocm93IG5ldyBFcnJvcignQ29tcG9uZW50IGF0dGVtcHRlZCB0byByZWdpc3RlciBiZWZvcmUgQUZSQU1FIHdhcyBhdmFpbGFibGUuJyk7XG59XG5cbi8qKlxuICogU2xpY2U5IGNvbXBvbmVudCBmb3IgQS1GcmFtZS5cbiAqL1xuQUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCdzbGljZTknLCB7XG4gIHNjaGVtYToge1xuICAgIGJvdHRvbToge2RlZmF1bHQ6IDAsIG1pbjogMH0sXG4gICAgY29sb3I6IHt0eXBlOiAnY29sb3InLCBkZWZhdWx0OiAnI2ZmZid9LFxuICAgIGRlYnVnOiB7ZGVmYXVsdDogZmFsc2V9LFxuICAgIGhlaWdodDoge2RlZmF1bHQ6IDEsIG1pbjogMH0sXG4gICAgbGVmdDoge2RlZmF1bHQ6IDAsIG1pbjogMH0sXG4gICAgb3BhY2l0eToge2RlZmF1bHQ6IDEuMCwgbWluOiAwLCBtYXg6IDF9LFxuICAgIHBhZGRpbmc6IHtkZWZhdWx0OiAwLjEsIG1pbjogMC4wMX0sXG4gICAgcmlnaHQ6IHtkZWZhdWx0OiAwLCBtaW46IDB9LFxuICAgIHNpZGU6IHtkZWZhdWx0OiAnZnJvbnQnLCBvbmVPZjogWydmcm9udCcsICdiYWNrJywgJ2RvdWJsZSddfSxcbiAgICBzcmM6IHt0eXBlOiAnbWFwJ30sXG4gICAgdG9wOiB7ZGVmYXVsdDogMCwgbWluOiAwfSxcbiAgICB0cmFuc3BhcmVudDoge2RlZmF1bHQ6IHRydWV9LFxuICAgIHdpZHRoOiB7ZGVmYXVsdDogMSwgbWluOiAwfSxcbiAgICB1c2luZ0N1c3RvbU1hdGVyaWFsOiB7ZGVmYXVsdDogZmFsc2V9LFxuICAgIHVzaW5nQXRsYXM6IHtkZWZhdWx0OiBmYWxzZX0sXG4gICAgdXZBdGxhc01pbjoge3R5cGU6ICd2ZWMyJ30sXG4gICAgdXZBdGxhc01heDoge3R5cGU6ICd2ZWMyJ31cbiAgfSxcblxuICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgdmFyIGdlb21ldHJ5O1xuICAgIHZhciBtYXRlcmlhbDtcblxuICAgIHRoaXMudGV4dHVyZVNyYyA9IG51bGw7XG5cbiAgICBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnkgPSBuZXcgVEhSRUUuUGxhbmVCdWZmZXJHZW9tZXRyeShkYXRhLndpZHRoLCBkYXRhLmhlaWdodCwgMywgMyk7XG5cbiAgICAvLyBDcmVhdGUgbWVzaC5cbiAgICBpZiAoZGF0YS51c2luZ0N1c3RvbU1hdGVyaWFsKSB7XG4gICAgICB0aGlzLnBsYW5lID0gbmV3IFRIUkVFLk1lc2goZ2VvbWV0cnkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtYXRlcmlhbCA9IHRoaXMubWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xuICAgICAgICBjb2xvcjogZGF0YS5jb2xvciwgb3BhY2l0eTogZGF0YS5vcGFjaXR5LCB0cmFuc3BhcmVudDogZGF0YS50cmFuc3BhcmVudCxcbiAgICAgICAgd2lyZWZyYW1lOiBkYXRhLmRlYnVnXG4gICAgICB9KTtcbiAgICAgIHRoaXMucGxhbmUgPSBuZXcgVEhSRUUuTWVzaChnZW9tZXRyeSwgbWF0ZXJpYWwpO1xuICAgIH1cbiAgICB0aGlzLmVsLnNldE9iamVjdDNEKCdtZXNoJywgdGhpcy5wbGFuZSk7XG4gIH0sXG5cbiAgcmVnZW5lcmF0ZU1lc2g6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICB2YXIgaGVpZ2h0O1xuICAgIHZhciBwb3MgPSB0aGlzLmdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb24uYXJyYXk7XG4gICAgdmFyIHV2O1xuICAgIHZhciB1dnMgPSB0aGlzLmdlb21ldHJ5LmF0dHJpYnV0ZXMudXYuYXJyYXk7XG4gICAgdmFyIHdpZHRoO1xuXG4gICAgaWYgKHRoaXMubWF0ZXJpYWwgJiYgIXRoaXMubWF0ZXJpYWwubWFwKSB7IHJldHVybjsgfVxuXG4gICAgLypcbiAgICAgIDAtLTEtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0yLS0zXG4gICAgICB8ICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgfFxuICAgICAgNC0tNS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLTYtLTdcbiAgICAgIHwgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICB8XG4gICAgICB8ICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgfFxuICAgICAgfCAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgIHxcbiAgICAgIDgtLTktLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLTEwLS0xMVxuICAgICAgfCAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgIHxcbiAgICAgIDEyLTEzLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLTE0LS0xNVxuICAgICovXG4gICAgZnVuY3Rpb24gc2V0UG9zKGlkLCB4LCB5KSB7XG4gICAgICBwb3NbMyAqIGlkXSA9IHg7XG4gICAgICBwb3NbMyAqIGlkICsgMV0gPSB5O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFVWIChpZCwgdSwgdikge1xuICAgICAgaWYgKGRhdGEudXNpbmdBdGxhcykge1xuICAgICAgICB1ID0gZGF0YS51dkF0bGFzTWluLnggKyAodSAqIChkYXRhLnV2QXRsYXNNYXgueCAtIGRhdGEudXZBdGxhc01pbi54KSk7XG4gICAgICAgIHYgPSBkYXRhLnV2QXRsYXNNaW4ueSArICh2ICogKGRhdGEudXZBdGxhc01heC55IC0gZGF0YS51dkF0bGFzTWluLnkpKTtcbiAgICAgIH1cbiAgICAgIHV2c1syICogaWRdID0gdTtcbiAgICAgIHV2c1syICogaWQgKyAxXSA9IHY7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIFVWU1xuICAgIGlmIChkYXRhLnVzaW5nQ3VzdG9tTWF0ZXJpYWwpIHtcbiAgICAgIGhlaWdodCA9IDE7XG4gICAgICB3aWR0aCA9IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhlaWdodCA9IHRoaXMubWF0ZXJpYWwubWFwLmltYWdlLndpZHRoO1xuICAgICAgd2lkdGggPSB0aGlzLm1hdGVyaWFsLm1hcC5pbWFnZS53aWR0aDtcbiAgICB9XG4gICAgdXYgPSB7XG4gICAgICBsZWZ0OiBkYXRhLmxlZnQgLyB3aWR0aCxcbiAgICAgIHJpZ2h0OiBkYXRhLnJpZ2h0IC8gd2lkdGgsXG4gICAgICB0b3A6IGRhdGEudG9wIC8gaGVpZ2h0LFxuICAgICAgYm90dG9tOiBkYXRhLmJvdHRvbSAvIGhlaWdodFxuICAgIH07XG5cbiAgICBzZXRVVigxLCAgdXYubGVmdCwgIDEpO1xuICAgIHNldFVWKDIsICB1di5yaWdodCwgMSk7XG5cbiAgICBzZXRVVig0LCAgMCwgICAgICAgIHV2LmJvdHRvbSk7XG4gICAgc2V0VVYoNSwgIHV2LmxlZnQsICB1di5ib3R0b20pO1xuICAgIHNldFVWKDYsICB1di5yaWdodCwgdXYuYm90dG9tKTtcbiAgICBzZXRVVig3LCAgMSwgICAgICAgIHV2LmJvdHRvbSk7XG5cbiAgICBzZXRVVig4LCAgMCwgICAgICAgIHV2LnRvcCk7XG4gICAgc2V0VVYoOSwgIHV2LmxlZnQsICB1di50b3ApO1xuICAgIHNldFVWKDEwLCB1di5yaWdodCwgdXYudG9wKTtcbiAgICBzZXRVVigxMSwgMSwgICAgICAgIHV2LnRvcCk7XG5cbiAgICBzZXRVVigxMywgdXYubGVmdCwgIDApO1xuICAgIHNldFVWKDE0LCB1di5yaWdodCwgMCk7XG5cbiAgICBpZiAoZGF0YS51c2luZ0F0bGFzKSB7XG4gICAgICBzZXRVVigwLCAwLCAxKTtcbiAgICAgIHNldFVWKDMsIDEsIDEpO1xuICAgICAgc2V0VVYoMTIsIDAsIDApO1xuICAgICAgc2V0VVYoMTUsIDEsIDApO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSB2ZXJ0ZXggcG9zaXRpb25zXG4gICAgdmFyIHcyID0gZGF0YS53aWR0aCAvIDI7XG4gICAgdmFyIGgyID0gZGF0YS5oZWlnaHQgLyAyO1xuICAgIHZhciBsZWZ0ID0gLXcyICsgZGF0YS5wYWRkaW5nO1xuICAgIHZhciByaWdodCA9IHcyIC0gZGF0YS5wYWRkaW5nO1xuICAgIHZhciB0b3AgPSBoMiAtIGRhdGEucGFkZGluZztcbiAgICB2YXIgYm90dG9tID0gLWgyICsgZGF0YS5wYWRkaW5nO1xuXG4gICAgc2V0UG9zKDAsIC13MiwgICAgaDIpO1xuICAgIHNldFBvcygxLCBsZWZ0LCAgIGgyKTtcbiAgICBzZXRQb3MoMiwgcmlnaHQsICBoMik7XG4gICAgc2V0UG9zKDMsIHcyLCAgICAgaDIpO1xuXG4gICAgc2V0UG9zKDQsIC13MiwgICAgdG9wKTtcbiAgICBzZXRQb3MoNSwgbGVmdCwgICB0b3ApO1xuICAgIHNldFBvcyg2LCByaWdodCwgIHRvcCk7XG4gICAgc2V0UG9zKDcsIHcyLCAgICAgdG9wKTtcblxuICAgIHNldFBvcyg4LCAtdzIsICAgIGJvdHRvbSk7XG4gICAgc2V0UG9zKDksIGxlZnQsICAgYm90dG9tKTtcbiAgICBzZXRQb3MoMTAsIHJpZ2h0LCBib3R0b20pO1xuICAgIHNldFBvcygxMSwgdzIsICAgIGJvdHRvbSk7XG5cbiAgICBzZXRQb3MoMTMsIGxlZnQsICAtaDIpO1xuICAgIHNldFBvcygxNCwgcmlnaHQsIC1oMik7XG4gICAgc2V0UG9zKDEyLCAtdzIsICAgLWgyKTtcbiAgICBzZXRQb3MoMTUsIHcyLCAgICAtaDIpO1xuXG4gICAgdGhpcy5nZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICB0aGlzLmdlb21ldHJ5LmF0dHJpYnV0ZXMudXYubmVlZHNVcGRhdGUgPSB0cnVlO1xuICB9LFxuXG4gIHVwZGF0ZTogZnVuY3Rpb24gKG9sZERhdGEpIHtcbiAgICB2YXIgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICB2YXIgZGlmZjtcblxuICAgIGRpZmYgPSBBRlJBTUUudXRpbHMuZGlmZihkYXRhLCBvbGREYXRhKTtcblxuICAgIC8vIFVwZGF0ZSBtYXRlcmlhbCBpZiB1c2luZyBidWlsdC1pbiBtYXRlcmlhbC5cbiAgICBpZiAoIWRhdGEudXNpbmdDdXN0b21NYXRlcmlhbCkge1xuICAgICAgdGhpcy5tYXRlcmlhbC5jb2xvci5zZXRTdHlsZShkYXRhLmNvbG9yKTtcbiAgICAgIHRoaXMubWF0ZXJpYWwub3BhY2l0eSA9IGRhdGEub3BhY2l0eTtcbiAgICAgIHRoaXMubWF0ZXJpYWwudHJhbnNwYXJlbnQgPSBkYXRhLnRyYW5zcGFyZW50O1xuICAgICAgdGhpcy5tYXRlcmlhbC53aXJlZnJhbWUgPSBkYXRhLmRlYnVnO1xuICAgICAgdGhpcy5tYXRlcmlhbC5zaWRlID0gcGFyc2VTaWRlKGRhdGEuc2lkZSk7XG4gICAgICBpZiAoJ3NyYycgaW4gZGlmZikgeyB0aGlzLnVwZGF0ZU1hcCgpOyB9XG4gICAgfVxuXG4gICAgaWYgKCd3aWR0aCcgaW4gZGlmZiB8fCAnaGVpZ2h0JyBpbiBkaWZmIHx8ICdwYWRkaW5nJyBpbiBkaWZmIHx8ICdsZWZ0JyBpbiBkaWZmIHx8XG4gICAgICAgICd0b3AnIGluIGRpZmYgfHwgJ2JvdHRvbScgaW4gZGlmZiB8fCAncmlnaHQnIGluIGRpZmYpIHtcbiAgICAgIHRoaXMucmVnZW5lcmF0ZU1lc2goKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBgc3JjYCBpZiB1c2luZyBidWlsdC1pbiBtYXRlcmlhbC5cbiAgICovXG4gIHVwZGF0ZU1hcDogZnVuY3Rpb24gKCkge1xuICAgIHZhciBzcmMgPSB0aGlzLmRhdGEuc3JjO1xuXG4gICAgaWYgKHNyYykge1xuICAgICAgaWYgKHNyYyA9PT0gdGhpcy50ZXh0dXJlU3JjKSB7IHJldHVybjsgfVxuICAgICAgLy8gVGV4dHVyZSBhZGRlZCBvciBjaGFuZ2VkLlxuICAgICAgdGhpcy50ZXh0dXJlU3JjID0gc3JjO1xuICAgICAgdGhpcy5lbC5zY2VuZUVsLnN5c3RlbXMubWF0ZXJpYWwubG9hZFRleHR1cmUoc3JjLCB7c3JjOiBzcmN9LCBzZXRNYXAuYmluZCh0aGlzKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gVGV4dHVyZSByZW1vdmVkLlxuICAgIGlmICghdGhpcy5tYXRlcmlhbC5tYXApIHsgcmV0dXJuOyB9XG4gICAgc2V0TWFwKG51bGwpO1xuXG4gICAgZnVuY3Rpb24gc2V0TWFwICh0ZXh0dXJlKSB7XG4gICAgICB0aGlzLm1hdGVyaWFsLm1hcCA9IHRleHR1cmU7XG4gICAgICB0aGlzLm1hdGVyaWFsLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgIHRoaXMucmVnZW5lcmF0ZU1lc2goKTtcbiAgICB9XG4gIH0sXG5cbn0pO1xuXG5mdW5jdGlvbiBwYXJzZVNpZGUgKHNpZGUpIHtcbiAgc3dpdGNoIChzaWRlKSB7XG4gICAgY2FzZSAnYmFjayc6IHtcbiAgICAgIHJldHVybiBUSFJFRS5CYWNrU2lkZTtcbiAgICB9XG4gICAgY2FzZSAnZG91YmxlJzoge1xuICAgICAgcmV0dXJuIFRIUkVFLkRvdWJsZVNpZGU7XG4gICAgfVxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIC8vIEluY2x1ZGluZyBjYXNlIGBmcm9udGAuXG4gICAgICByZXR1cm4gVEhSRUUuRnJvbnRTaWRlO1xuICAgIH1cbiAgfVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2FmcmFtZS1zbGljZTktY29tcG9uZW50L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qIGdsb2JhbCBUSFJFRSwgQUZSQU1FLCBFbGVtZW50ICAqL1xudmFyIGN5bGluZGVyVGV4dHVyZSA9IHJlcXVpcmUoJy4vbGliL2N5bGluZGVyVGV4dHVyZScpO1xudmFyIHBhcmFib2xpY0N1cnZlID0gcmVxdWlyZSgnLi9saWIvUGFyYWJvbGljQ3VydmUnKTtcbnZhciBSYXlDdXJ2ZSA9IHJlcXVpcmUoJy4vbGliL1JheUN1cnZlJyk7XG5cbmlmICh0eXBlb2YgQUZSQU1FID09PSAndW5kZWZpbmVkJykge1xuICB0aHJvdyBuZXcgRXJyb3IoJ0NvbXBvbmVudCBhdHRlbXB0ZWQgdG8gcmVnaXN0ZXIgYmVmb3JlIEFGUkFNRSB3YXMgYXZhaWxhYmxlLicpO1xufVxuXG5pZiAoIUVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMpIHtcbiAgRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcyA9XG4gICAgRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgRWxlbWVudC5wcm90b3R5cGUubW96TWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgRWxlbWVudC5wcm90b3R5cGUubXNNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICBFbGVtZW50LnByb3RvdHlwZS5vTWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgRWxlbWVudC5wcm90b3R5cGUud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgZnVuY3Rpb24gKHMpIHtcbiAgICAgIHZhciBtYXRjaGVzID0gKHRoaXMuZG9jdW1lbnQgfHwgdGhpcy5vd25lckRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKHMpO1xuICAgICAgdmFyIGkgPSBtYXRjaGVzLmxlbmd0aDtcbiAgICAgIHdoaWxlICgtLWkgPj0gMCAmJiBtYXRjaGVzLml0ZW0oaSkgIT09IHRoaXMpIHsgLyogbm8tb3AgKi8gfVxuICAgICAgcmV0dXJuIGkgPiAtMTtcbiAgICB9O1xufVxuXG5BRlJBTUUucmVnaXN0ZXJDb21wb25lbnQoJ3RlbGVwb3J0LWNvbnRyb2xzJywge1xuICBzY2hlbWE6IHtcbiAgICB0eXBlOiB7ZGVmYXVsdDogJ3BhcmFib2xpYycsIG9uZU9mOiBbJ3BhcmFib2xpYycsICdsaW5lJ119LFxuICAgIGJ1dHRvbjoge2RlZmF1bHQ6ICd0cmFja3BhZCcsIG9uZU9mOiBbJ3RyYWNrcGFkJywgJ3RyaWdnZXInLCAnZ3JpcCcsICdtZW51J119LFxuICAgIHN0YXJ0RXZlbnRzOiB7dHlwZTogJ2FycmF5J30sXG4gICAgZW5kRXZlbnRzOiB7dHlwZTogJ2FycmF5J30sXG4gICAgY29sbGlzaW9uRW50aXRpZXM6IHtkZWZhdWx0OiAnJ30sXG4gICAgY2hlY2tDb2xsaXNpb25DaGlsZHJlbjoge2RlZmF1bHQ6IHRydWV9LFxuICAgIGhpdEVudGl0eToge3R5cGU6ICdzZWxlY3Rvcid9LFxuICAgIGhpdEVudGl0eUFsaWduTm9ybWFsOiB7ZGVmYXVsdDogdHJ1ZX0sXG4gICAgY2FtZXJhUmlnOiB7dHlwZTogJ3NlbGVjdG9yJ30sXG4gICAgdGVsZXBvcnRPcmlnaW46IHt0eXBlOiAnc2VsZWN0b3InfSxcbiAgICBoaXRDeWxpbmRlckNvbG9yOiB7dHlwZTogJ2NvbG9yJywgZGVmYXVsdDogJyM5OWZmOTknfSxcbiAgICBoaXRDeWxpbmRlclJhZGl1czoge2RlZmF1bHQ6IDAuMjUsIG1pbjogMH0sXG4gICAgaGl0Q3lsaW5kZXJIZWlnaHQ6IHtkZWZhdWx0OiAwLjMsIG1pbjogMH0sXG4gICAgaW50ZXJ2YWw6IHtkZWZhdWx0OiAwfSxcbiAgICBtYXhMZW5ndGg6IHtkZWZhdWx0OiAxMCwgbWluOiAwLCBpZjoge3R5cGU6IFsnbGluZSddfX0sXG4gICAgY3VydmVOdW1iZXJQb2ludHM6IHtkZWZhdWx0OiAzMCwgbWluOiAyLCBpZjoge3R5cGU6IFsncGFyYWJvbGljJ119fSxcbiAgICBjdXJ2ZUxpbmVXaWR0aDoge2RlZmF1bHQ6IDAuMDI1fSxcbiAgICBjdXJ2ZUhpdENvbG9yOiB7dHlwZTogJ2NvbG9yJywgZGVmYXVsdDogJyM5OWZmOTknfSxcbiAgICBjdXJ2ZU1pc3NDb2xvcjoge3R5cGU6ICdjb2xvcicsIGRlZmF1bHQ6ICcjZmYwMDAwJ30sXG4gICAgY3VydmVTaG9vdGluZ1NwZWVkOiB7ZGVmYXVsdDogNSwgbWluOiAwLCBpZjoge3R5cGU6IFsncGFyYWJvbGljJ119fSxcbiAgICBkZWZhdWx0UGxhbmVTaXplOiB7IGRlZmF1bHQ6IDEwMCB9LFxuICAgIGxhbmRpbmdOb3JtYWw6IHt0eXBlOiAndmVjMycsIGRlZmF1bHQ6ICcwIDEgMCd9LFxuICAgIGxhbmRpbmdNYXhBbmdsZToge2RlZmF1bHQ6ICc0NScsIG1pbjogMCwgbWF4OiAzNjB9XG4gIH0sXG5cbiAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgIHZhciBkYXRhID0gdGhpcy5kYXRhO1xuICAgIHZhciBlbCA9IHRoaXMuZWw7XG4gICAgdmFyIHRlbGVwb3J0RW50aXR5O1xuICAgIHZhciBpO1xuXG4gICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICB0aGlzLm9iaiA9IGVsLm9iamVjdDNEO1xuICAgIHRoaXMuaGl0UG9pbnQgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgIHRoaXMucmlnV29ybGRQb3NpdGlvbiA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG4gICAgdGhpcy5uZXdSaWdXb3JsZFBvc2l0aW9uID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgICB0aGlzLnRlbGVwb3J0RXZlbnREZXRhaWwgPSB7XG4gICAgICBvbGRQb3NpdGlvbjogdGhpcy5yaWdXb3JsZFBvc2l0aW9uLFxuICAgICAgbmV3UG9zaXRpb246IHRoaXMubmV3UmlnV29ybGRQb3NpdGlvbixcbiAgICAgIGhpdFBvaW50OiB0aGlzLmhpdFBvaW50XG4gICAgfTtcbiAgICB0aGlzLmludGVyc2VjdGlvbnMgPSBbXTtcbiAgICB0aGlzLm1lc2hlcyA9IFtdO1xuXG4gICAgdGhpcy5oaXQgPSBmYWxzZTtcbiAgICB0aGlzLnByZXZDaGVja1RpbWUgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5wcmV2SGl0SGVpZ2h0ID0gMDtcbiAgICB0aGlzLnJlZmVyZW5jZU5vcm1hbCA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG4gICAgdGhpcy5jdXJ2ZU1pc3NDb2xvciA9IG5ldyBUSFJFRS5Db2xvcigpO1xuICAgIHRoaXMuY3VydmVIaXRDb2xvciA9IG5ldyBUSFJFRS5Db2xvcigpO1xuICAgIHRoaXMucmF5Y2FzdGVyID0gbmV3IFRIUkVFLlJheWNhc3RlcigpO1xuXG4gICAgdGhpcy5kZWZhdWx0UGxhbmUgPSBjcmVhdGVEZWZhdWx0UGxhbmUodGhpcy5kYXRhLmRlZmF1bHRQbGFuZVNpemUpO1xuICAgIHRoaXMuZGVmYXVsdENvbGxpc2lvbk1lc2hlcyA9IFt0aGlzLmRlZmF1bHRQbGFuZV07XG5cbiAgICB0ZWxlcG9ydEVudGl0eSA9IHRoaXMudGVsZXBvcnRFbnRpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhLWVudGl0eScpO1xuICAgIHRlbGVwb3J0RW50aXR5LmNsYXNzTGlzdC5hZGQoJ3RlbGVwb3J0UmF5Jyk7XG4gICAgdGVsZXBvcnRFbnRpdHkub2JqZWN0M0QudmlzaWJsZSA9IGZhbHNlO1xuICAgIGVsLnNjZW5lRWwuYXBwZW5kQ2hpbGQodGhpcy50ZWxlcG9ydEVudGl0eSk7XG5cbiAgICB0aGlzLm9uQnV0dG9uRG93biA9IHRoaXMub25CdXR0b25Eb3duLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkJ1dHRvblVwID0gdGhpcy5vbkJ1dHRvblVwLmJpbmQodGhpcyk7XG4gICAgaWYgKHRoaXMuZGF0YS5zdGFydEV2ZW50cy5sZW5ndGggJiYgdGhpcy5kYXRhLmVuZEV2ZW50cy5sZW5ndGgpIHtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMuZGF0YS5zdGFydEV2ZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKHRoaXMuZGF0YS5zdGFydEV2ZW50c1tpXSwgdGhpcy5vbkJ1dHRvbkRvd24pO1xuICAgICAgfVxuICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMuZGF0YS5lbmRFdmVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmRhdGEuZW5kRXZlbnRzW2ldLCB0aGlzLm9uQnV0dG9uVXApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBlbC5hZGRFdmVudExpc3RlbmVyKGRhdGEuYnV0dG9uICsgJ2Rvd24nLCB0aGlzLm9uQnV0dG9uRG93bik7XG4gICAgICBlbC5hZGRFdmVudExpc3RlbmVyKGRhdGEuYnV0dG9uICsgJ3VwJywgdGhpcy5vbkJ1dHRvblVwKTtcbiAgICB9XG5cbiAgICB0aGlzLnJlZnJlc2hNZXNoZXMoKTtcbiAgfSxcblxuICB1cGRhdGU6IGZ1bmN0aW9uIChvbGREYXRhKSB7XG4gICAgdmFyIGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgdmFyIGRpZmYgPSBBRlJBTUUudXRpbHMuZGlmZihkYXRhLCBvbGREYXRhKTtcblxuICAgIC8vIFVwZGF0ZSBub3JtYWwuXG4gICAgdGhpcy5yZWZlcmVuY2VOb3JtYWwuY29weShkYXRhLmxhbmRpbmdOb3JtYWwpO1xuXG4gICAgLy8gVXBkYXRlIGNvbG9ycy5cbiAgICB0aGlzLmN1cnZlTWlzc0NvbG9yLnNldChkYXRhLmN1cnZlTWlzc0NvbG9yKTtcbiAgICB0aGlzLmN1cnZlSGl0Q29sb3Iuc2V0KGRhdGEuY3VydmVIaXRDb2xvcik7XG5cbiAgICAvLyBDcmVhdGUgb3IgdXBkYXRlIGxpbmUgbWVzaC5cbiAgICBpZiAoIXRoaXMubGluZSB8fFxuICAgICAgICAnY3VydmVMaW5lV2lkdGgnIGluIGRpZmYgfHwgJ2N1cnZlTnVtYmVyUG9pbnRzJyBpbiBkaWZmIHx8ICd0eXBlJyBpbiBkaWZmKSB7XG4gICAgICB0aGlzLmxpbmUgPSBjcmVhdGVMaW5lKGRhdGEpO1xuICAgICAgdGhpcy50ZWxlcG9ydEVudGl0eS5zZXRPYmplY3QzRCgnbWVzaCcsIHRoaXMubGluZS5tZXNoKTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgb3IgdXBkYXRlIGhpdCBlbnRpdHkuXG4gICAgaWYgKGRhdGEuaGl0RW50aXR5KSB7XG4gICAgICB0aGlzLmhpdEVudGl0eSA9IGRhdGEuaGl0RW50aXR5O1xuICAgIH0gZWxzZSBpZiAoIXRoaXMuaGl0RW50aXR5IHx8ICdoaXRDeWxpbmRlckNvbG9yJyBpbiBkaWZmIHx8ICdoaXRDeWxpbmRlckhlaWdodCcgaW4gZGlmZiB8fFxuICAgICAgICAgICAgICAgJ2hpdEN5bGluZGVyUmFkaXVzJyBpbiBkaWZmKSB7XG4gICAgICAvLyBSZW1vdmUgcHJldmlvdXMgZW50aXR5LCBjcmVhdGUgbmV3IGVudGl0eSAoY291bGQgYmUgbW9yZSBwZXJmb3JtYW50KS5cbiAgICAgIGlmICh0aGlzLmhpdEVudGl0eSkgeyB0aGlzLmhpdEVudGl0eS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuaGl0RW50aXR5KTsgfVxuICAgICAgdGhpcy5oaXRFbnRpdHkgPSBjcmVhdGVIaXRFbnRpdHkoZGF0YSk7XG4gICAgICB0aGlzLmVsLnNjZW5lRWwuYXBwZW5kQ2hpbGQodGhpcy5oaXRFbnRpdHkpO1xuICAgIH1cbiAgICB0aGlzLmhpdEVudGl0eS5vYmplY3QzRC52aXNpYmxlID0gZmFsc2U7XG5cbiAgICBpZiAoJ2NvbGxpc2lvbkVudGl0aWVzJyBpbiBkaWZmKSB7IHRoaXMucmVmcmVzaE1lc2hlcygpOyB9XG4gIH0sXG5cbiAgcmVtb3ZlOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGVsID0gdGhpcy5lbDtcbiAgICB2YXIgaGl0RW50aXR5ID0gdGhpcy5oaXRFbnRpdHk7XG4gICAgdmFyIHRlbGVwb3J0RW50aXR5ID0gdGhpcy50ZWxlcG9ydEVudGl0eTtcblxuICAgIGlmIChoaXRFbnRpdHkpIHsgaGl0RW50aXR5LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaGl0RW50aXR5KTsgfVxuICAgIGlmICh0ZWxlcG9ydEVudGl0eSkgeyB0ZWxlcG9ydEVudGl0eS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRlbGVwb3J0RW50aXR5KTsgfVxuXG4gICAgZWwuc2NlbmVFbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGlsZC1hdHRhY2hlZCcsIHRoaXMuY2hpbGRBdHRhY2hIYW5kbGVyKTtcbiAgICBlbC5zY2VuZUVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoaWxkLWRldGFjaGVkJywgdGhpcy5jaGlsZERldGFjaEhhbmRsZXIpO1xuICB9LFxuXG4gIHRpY2s6IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHAwID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgICB2YXIgdjAgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgIHZhciBnID0gLTkuODtcbiAgICB2YXIgYSA9IG5ldyBUSFJFRS5WZWN0b3IzKDAsIGcsIDApO1xuICAgIHZhciBuZXh0ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgICB2YXIgbGFzdCA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG4gICAgdmFyIHF1YXRlcm5pb24gPSBuZXcgVEhSRUUuUXVhdGVybmlvbigpO1xuICAgIHZhciB0cmFuc2xhdGlvbiA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG4gICAgdmFyIHNjYWxlID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgICB2YXIgc2hvb3RBbmdsZSA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG4gICAgdmFyIGxhc3ROZXh0ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgICB2YXIgYXV4RGlyZWN0aW9uID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAodGltZSwgZGVsdGEpIHtcbiAgICAgIGlmICghdGhpcy5hY3RpdmUpIHsgcmV0dXJuOyB9XG5cbiAgICAgIC8vIE9ubHkgY2hlY2sgZm9yIGludGVyc2VjdGlvbiBpZiBpbnRlcnZhbCB0aW1lIGhhcyBwYXNzZWQuXG4gICAgICBpZiAodGhpcy5wcmV2Q2hlY2tUaW1lICYmICh0aW1lIC0gdGhpcy5wcmV2Q2hlY2tUaW1lIDwgdGhpcy5kYXRhLmludGVydmFsKSkgeyByZXR1cm47IH1cbiAgICAgIC8vIFVwZGF0ZSBjaGVjayB0aW1lLlxuICAgICAgdGhpcy5wcmV2Q2hlY2tUaW1lID0gdGltZTtcblxuICAgICAgdmFyIG1hdHJpeFdvcmxkID0gdGhpcy5vYmoubWF0cml4V29ybGQ7XG4gICAgICBtYXRyaXhXb3JsZC5kZWNvbXBvc2UodHJhbnNsYXRpb24sIHF1YXRlcm5pb24sIHNjYWxlKTtcblxuICAgICAgdmFyIGRpcmVjdGlvbiA9IHNob290QW5nbGUuc2V0KDAsIDAsIC0xKVxuICAgICAgICAuYXBwbHlRdWF0ZXJuaW9uKHF1YXRlcm5pb24pLm5vcm1hbGl6ZSgpO1xuICAgICAgdGhpcy5saW5lLnNldERpcmVjdGlvbihhdXhEaXJlY3Rpb24uY29weShkaXJlY3Rpb24pKTtcbiAgICAgIHRoaXMub2JqLmdldFdvcmxkUG9zaXRpb24ocDApO1xuXG4gICAgICBsYXN0LmNvcHkocDApO1xuXG4gICAgICAvLyBTZXQgZGVmYXVsdCBzdGF0dXMgYXMgbm9uLWhpdFxuICAgICAgdGhpcy50ZWxlcG9ydEVudGl0eS5vYmplY3QzRC52aXNpYmxlID0gdHJ1ZTtcbiAgICAgIHRoaXMubGluZS5tYXRlcmlhbC5jb2xvci5zZXQodGhpcy5jdXJ2ZU1pc3NDb2xvcik7XG4gICAgICB0aGlzLmhpdEVudGl0eS5vYmplY3QzRC52aXNpYmxlID0gZmFsc2U7XG4gICAgICB0aGlzLmhpdCA9IGZhbHNlO1xuXG4gICAgICBpZiAodGhpcy5kYXRhLnR5cGUgPT09ICdwYXJhYm9saWMnKSB7XG4gICAgICAgIHYwLmNvcHkoZGlyZWN0aW9uKS5tdWx0aXBseVNjYWxhcih0aGlzLmRhdGEuY3VydmVTaG9vdGluZ1NwZWVkKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGluZS5udW1Qb2ludHM7IGkrKykge1xuICAgICAgICAgIHZhciB0ID0gaSAvICh0aGlzLmxpbmUubnVtUG9pbnRzIC0gMSk7XG4gICAgICAgICAgcGFyYWJvbGljQ3VydmUocDAsIHYwLCBhLCB0LCBuZXh0KTtcbiAgICAgICAgICAvLyBVcGRhdGUgdGhlIHJheWNhc3RlciB3aXRoIHRoZSBsZW5ndGggb2YgdGhlIGN1cnJlbnQgc2VnbWVudCBsYXN0LT5uZXh0XG4gICAgICAgICAgdmFyIGRpckxhc3ROZXh0ID0gbGFzdE5leHQuY29weShuZXh0KS5zdWIobGFzdCkubm9ybWFsaXplKCk7XG4gICAgICAgICAgdGhpcy5yYXljYXN0ZXIuZmFyID0gZGlyTGFzdE5leHQubGVuZ3RoKCk7XG4gICAgICAgICAgdGhpcy5yYXljYXN0ZXIuc2V0KGxhc3QsIGRpckxhc3ROZXh0KTtcblxuICAgICAgICAgIGlmICh0aGlzLmNoZWNrTWVzaENvbGxpc2lvbnMoaSwgbmV4dCkpIHsgYnJlYWs7IH1cbiAgICAgICAgICBsYXN0LmNvcHkobmV4dCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhLnR5cGUgPT09ICdsaW5lJykge1xuICAgICAgICBuZXh0LmNvcHkobGFzdCkuYWRkKGF1eERpcmVjdGlvbi5jb3B5KGRpcmVjdGlvbikubXVsdGlwbHlTY2FsYXIodGhpcy5kYXRhLm1heExlbmd0aCkpO1xuICAgICAgICB0aGlzLnJheWNhc3Rlci5mYXIgPSB0aGlzLmRhdGEubWF4TGVuZ3RoO1xuICAgICAgICB0aGlzLnJheWNhc3Rlci5zZXQocDAsIGRpcmVjdGlvbik7XG4gICAgICAgIHRoaXMubGluZS5zZXRQb2ludCgwLCBwMCk7XG5cbiAgICAgICAgdGhpcy5jaGVja01lc2hDb2xsaXNpb25zKDEsIG5leHQpO1xuICAgICAgfVxuICAgIH07XG4gIH0pKCksXG5cbiAgLyoqXG4gICAqIFJ1biBgcXVlcnlTZWxlY3RvckFsbGAgZm9yIGBjb2xsaXNpb25FbnRpdGllc2AgYW5kIG1haW50YWluIGl0IHdpdGggYGNoaWxkLWF0dGFjaGVkYFxuICAgKiBhbmQgYGNoaWxkLWRldGFjaGVkYCBldmVudHMuXG4gICAqL1xuICByZWZyZXNoTWVzaGVzOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNvbGxpc2lvbkVudGl0aWVzO1xuICAgIHZhciBkYXRhID0gdGhpcy5kYXRhO1xuICAgIHZhciBlbCA9IHRoaXMuZWw7XG4gICAgdmFyIGk7XG4gICAgdmFyIG1lc2hlcztcblxuICAgIGlmICghZGF0YS5jb2xsaXNpb25FbnRpdGllcykge1xuICAgICAgdGhpcy5jb2xsaXNpb25FbnRpdGllcyA9IFtdO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbGxpc2lvbkVudGl0aWVzID0gW10uc2xpY2UuY2FsbChlbC5zY2VuZUVsLnF1ZXJ5U2VsZWN0b3JBbGwoZGF0YS5jb2xsaXNpb25FbnRpdGllcykpO1xuICAgIHRoaXMuY29sbGlzaW9uRW50aXRpZXMgPSBjb2xsaXNpb25FbnRpdGllcztcblxuICAgIC8vIFVwZGF0ZSBlbnRpdHkgbGlzdCBvbiBhdHRhY2guXG4gICAgaWYgKHRoaXMuZGF0YS5jaGVja0NvbGxpc2lvbkNoaWxkcmVuKSB7XG4gICAgICBlbC5zY2VuZUVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoaWxkLWF0dGFjaGVkJywgdGhpcy5jaGlsZEF0dGFjaEhhbmRsZXIpO1xuICAgICAgdGhpcy5jaGlsZEF0dGFjaEhhbmRsZXIgPSBmdW5jdGlvbiBjaGlsZEF0dGFjaEhhbmRsZXIgKGV2dCkge1xuICAgICAgICBpZiAoIWV2dC5kZXRhaWwuZWwubWF0Y2hlcyhkYXRhLmNvbGxpc2lvbkVudGl0aWVzKSkgeyByZXR1cm47IH1cbiAgICAgICAgY29sbGlzaW9uRW50aXRpZXMucHVzaChldnQuZGV0YWlsLmVsKTtcbiAgICAgIH07XG4gICAgICBlbC5zY2VuZUVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoaWxkLWF0dGFjaGVkJywgdGhpcy5jaGlsZEF0dGFjaEhhbmRsZXIpO1xuXG4gICAgICAvLyBVcGRhdGUgZW50aXR5IGxpc3Qgb24gZGV0YWNoLlxuICAgICAgZWwuc2NlbmVFbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGlsZC1kZXRhY2hlZCcsIHRoaXMuY2hpbGREZXRhY2hIYW5kbGVyKTtcbiAgICAgIHRoaXMuY2hpbGREZXRhY2hIYW5kbGVyID0gZnVuY3Rpb24gY2hpbGREZXRhY2hIYW5kbGVyIChldnQpIHtcbiAgICAgICAgdmFyIGluZGV4O1xuICAgICAgICBpZiAoIWV2dC5kZXRhaWwuZWwubWF0Y2hlcyhkYXRhLmNvbGxpc2lvbkVudGl0aWVzKSkgeyByZXR1cm47IH1cbiAgICAgICAgaW5kZXggPSBjb2xsaXNpb25FbnRpdGllcy5pbmRleE9mKGV2dC5kZXRhaWwuZWwpO1xuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7IHJldHVybjsgfVxuICAgICAgICBjb2xsaXNpb25FbnRpdGllcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfTtcbiAgICAgIGVsLnNjZW5lRWwuYWRkRXZlbnRMaXN0ZW5lcignY2hpbGQtZGV0YWNoZWQnLCB0aGlzLmNoaWxkRGV0YWNoSGFuZGxlcik7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZGF0YS5jb2xsaXNpb25FbnRpdGllcykge1xuICAgICAgLy8gR2V0IG1lc2hlcy5cbiAgICAgIHZhciBtZXNoZXMgPSB0aGlzLm1lc2hlcyA9IFtdO1xuICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMuY29sbGlzaW9uRW50aXRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIG1lc2ggPSB0aGlzLmNvbGxpc2lvbkVudGl0aWVzW2ldLmdldE9iamVjdDNEKCdtZXNoJyk7XG4gICAgICAgIGlmIChtZXNoKSB7XG4gICAgICAgICAgdGhpcy5tZXNoZXMucHVzaChtZXNoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBMaXN0ZW4gZm9yIG5ldyBtZXNoZXMuXG4gICAgICAgICAgdGhpcy5jb2xsaXNpb25FbnRpdGllc1tpXS5hZGRFdmVudExpc3RlbmVyKCdvYmplY3QzZHNldCcsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgIGlmIChldnQudGFyZ2V0ICE9PSB0aGlzIHx8IGV2dC5kZXRhaWwudHlwZSAhPT0gJ21lc2gnKSB7IHJldHVybjsgfVxuICAgICAgICAgICAgbWVzaGVzLnB1c2goZXZ0LmRldGFpbC5vYmplY3QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubWVzaGVzID0gdGhpcy5kZWZhdWx0Q29sbGlzaW9uTWVzaGVzO1xuICAgIH1cbiAgfSxcblxuICBvbkJ1dHRvbkRvd246IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XG4gICAgdGhpcy5lbC5lbWl0KCd0ZWxlcG9ydHN0YXJ0Jyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEp1bXAhXG4gICAqL1xuICBvbkJ1dHRvblVwOiAoZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHRlbGVwb3J0T3JpZ2luV29ybGRQb3NpdGlvbiA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG4gICAgY29uc3QgbmV3UmlnTG9jYWxQb3NpdGlvbiA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG4gICAgY29uc3QgbmV3SGFuZFBvc2l0aW9uID0gW25ldyBUSFJFRS5WZWN0b3IzKCksIG5ldyBUSFJFRS5WZWN0b3IzKCldOyAvLyBMZWZ0IGFuZCByaWdodFxuICAgIGNvbnN0IGhhbmRQb3NpdGlvbiA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgaWYgKCF0aGlzLmFjdGl2ZSkgeyByZXR1cm47IH1cblxuICAgICAgLy8gSGlkZSB0aGUgaGl0IHBvaW50IGFuZCB0aGUgY3VydmVcbiAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICB0aGlzLmhpdEVudGl0eS5vYmplY3QzRC52aXNpYmxlID0gZmFsc2U7XG4gICAgICB0aGlzLnRlbGVwb3J0RW50aXR5Lm9iamVjdDNELnZpc2libGUgPSBmYWxzZTtcblxuICAgICAgaWYgKCF0aGlzLmhpdCkge1xuICAgICAgICAvLyBCdXR0b24gcmVsZWFzZWQgYnV0IG5vdCBoaXQgcG9pbnRcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByaWcgPSB0aGlzLmRhdGEuY2FtZXJhUmlnIHx8IHRoaXMuZWwuc2NlbmVFbC5jYW1lcmEuZWw7XG4gICAgICByaWcub2JqZWN0M0QuZ2V0V29ybGRQb3NpdGlvbih0aGlzLnJpZ1dvcmxkUG9zaXRpb24pO1xuICAgICAgdGhpcy5uZXdSaWdXb3JsZFBvc2l0aW9uLmNvcHkodGhpcy5oaXRQb2ludCk7XG5cbiAgICAgIC8vIElmIGEgdGVsZXBvcnRPcmlnaW4gZXhpc3RzLCBvZmZzZXQgdGhlIHJpZyBzdWNoIHRoYXQgdGhlIHRlbGVwb3J0T3JpZ2luIGlzIGFib3ZlIHRoZSBoaXRQb2ludFxuICAgICAgY29uc3QgdGVsZXBvcnRPcmlnaW4gPSB0aGlzLmRhdGEudGVsZXBvcnRPcmlnaW47XG4gICAgICBpZiAodGVsZXBvcnRPcmlnaW4pIHtcbiAgICAgICAgdGVsZXBvcnRPcmlnaW4ub2JqZWN0M0QuZ2V0V29ybGRQb3NpdGlvbih0ZWxlcG9ydE9yaWdpbldvcmxkUG9zaXRpb24pO1xuICAgICAgICB0aGlzLm5ld1JpZ1dvcmxkUG9zaXRpb24uc3ViKHRlbGVwb3J0T3JpZ2luV29ybGRQb3NpdGlvbikuYWRkKHRoaXMucmlnV29ybGRQb3NpdGlvbik7XG4gICAgICB9XG5cbiAgICAgIC8vIEFsd2F5cyBrZWVwIHRoZSByaWcgYXQgdGhlIHNhbWUgb2Zmc2V0IG9mZiB0aGUgZ3JvdW5kIGFmdGVyIHRlbGVwb3J0aW5nXG4gICAgICB0aGlzLm5ld1JpZ1dvcmxkUG9zaXRpb24ueSA9IHRoaXMucmlnV29ybGRQb3NpdGlvbi55ICsgdGhpcy5oaXRQb2ludC55IC0gdGhpcy5wcmV2SGl0SGVpZ2h0O1xuICAgICAgdGhpcy5wcmV2SGl0SGVpZ2h0ID0gdGhpcy5oaXRQb2ludC55O1xuXG4gICAgICAvLyBGaW5hbGx5IHVwZGF0ZSB0aGUgcmlncyBwb3NpdGlvblxuICAgICAgbmV3UmlnTG9jYWxQb3NpdGlvbi5jb3B5KHRoaXMubmV3UmlnV29ybGRQb3NpdGlvbik7XG4gICAgICBpZiAocmlnLm9iamVjdDNELnBhcmVudCkge1xuICAgICAgICByaWcub2JqZWN0M0QucGFyZW50LndvcmxkVG9Mb2NhbChuZXdSaWdMb2NhbFBvc2l0aW9uKTtcbiAgICAgIH1cbiAgICAgIHJpZy5vYmplY3QzRC5wb3NpdGlvbi5jb3B5KG5ld1JpZ0xvY2FsUG9zaXRpb24pO1xuXG4gICAgICAvLyBJZiBhIHJpZyB3YXMgbm90IGV4cGxpY2l0bHkgZGVjbGFyZWQsIGxvb2sgZm9yIGhhbmRzIGFuZCBtdm9lIHRoZW0gcHJvcG9ydGlvbmFsbHkgYXMgd2VsbFxuICAgICAgaWYgKCF0aGlzLmRhdGEuY2FtZXJhUmlnKSB7XG4gICAgICAgIHZhciBoYW5kcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2EtZW50aXR5W3RyYWNrZWQtY29udHJvbHNdJyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGFuZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBoYW5kc1tpXS5vYmplY3QzRC5nZXRXb3JsZFBvc2l0aW9uKGhhbmRQb3NpdGlvbik7XG5cbiAgICAgICAgICAvLyBkaWZmID0gcmlnV29ybGRQb3NpdGlvbiAtIGhhbmRQb3NpdGlvblxuICAgICAgICAgIC8vIG5ld1BvcyA9IG5ld1JpZ1dvcmxkUG9zaXRpb24gLSBkaWZmXG4gICAgICAgICAgbmV3SGFuZFBvc2l0aW9uW2ldLmNvcHkodGhpcy5uZXdSaWdXb3JsZFBvc2l0aW9uKS5zdWIodGhpcy5yaWdXb3JsZFBvc2l0aW9uKS5hZGQoaGFuZFBvc2l0aW9uKTtcbiAgICAgICAgICBoYW5kc1tpXS5vYmplY3QzRC5wb3NpdGlvbi5jb3B5KG5ld0hhbmRQb3NpdGlvbltpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5lbC5lbWl0KCd0ZWxlcG9ydGVkJywgdGhpcy50ZWxlcG9ydEV2ZW50RGV0YWlsKTtcbiAgICB9O1xuICB9KSgpLFxuXG4gIC8qKlxuICAgKiBDaGVjayBmb3IgcmF5Y2FzdGVyIGludGVyc2VjdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IExpbmUgZnJhZ21lbnQgcG9pbnQgaW5kZXguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBOZXh0IGxpbmUgZnJhZ21lbnQgcG9pbnQgaW5kZXguXG4gICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHRoZXJlJ3MgYW4gaW50ZXJzZWN0aW9uLlxuICAgKi9cbiAgY2hlY2tNZXNoQ29sbGlzaW9uczogKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbG9va0F0VmVjMyA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKGksIG5leHQpIHtcbiAgICAgIHZhciBpO1xuICAgICAgdmFyIGludGVyc2VjdHMgPSB0aGlzLmludGVyc2VjdGlvbnM7XG5cbiAgICAgIGludGVyc2VjdHMubGVuZ3RoID0gMDtcbiAgICAgIHRoaXMucmF5Y2FzdGVyLmludGVyc2VjdE9iamVjdHModGhpcy5tZXNoZXMsIHRydWUsIGludGVyc2VjdHMpO1xuXG4gICAgICBpZiAoaW50ZXJzZWN0cy5sZW5ndGggPiAwICYmICF0aGlzLmhpdCAmJlxuICAgICAgICAgIHRoaXMuaXNWYWxpZE5vcm1hbHNBbmdsZShpbnRlcnNlY3RzWzBdLmZhY2Uubm9ybWFsKSkge1xuICAgICAgICB2YXIgcG9pbnQgPSBpbnRlcnNlY3RzWzBdLnBvaW50O1xuXG4gICAgICAgIHRoaXMubGluZS5tYXRlcmlhbC5jb2xvci5zZXQodGhpcy5jdXJ2ZUhpdENvbG9yKTtcbiAgICAgICAgdGhpcy5oaXRFbnRpdHkub2JqZWN0M0QucG9zaXRpb24uY29weShwb2ludCk7XG4gICAgICAgIHRoaXMuaGl0RW50aXR5Lm9iamVjdDNELnZpc2libGUgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMuaGl0ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5oaXRQb2ludC5jb3B5KGludGVyc2VjdHNbMF0ucG9pbnQpO1xuXG4gICAgICAgIC8vIEFsaWduIGhpdCBjeWxpbmRlciB0byBpbnRlcnNlY3Rpb24gbm9ybWFsLlxuICAgICAgICBpZiAodGhpcy5kYXRhLmhpdEVudGl0eUFsaWduTm9ybWFsKSB7XG4gICAgICAgICAgbG9va0F0VmVjMy5jb3B5KGludGVyc2VjdHNbMF0ucG9pbnQpLmFkZChpbnRlcnNlY3RzWzBdLmZhY2Uubm9ybWFsKTtcbiAgICAgICAgICBpbnRlcnNlY3RzWzBdLm9iamVjdC5sb2NhbFRvV29ybGQobG9va0F0VmVjMyk7XG4gICAgICAgICAgdGhpcy5oaXRFbnRpdHkub2JqZWN0M0QubG9va0F0KGxvb2tBdFZlYzMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgaGl0LCBqdXN0IGZpbGwgdGhlIHJlc3Qgb2YgdGhlIHBvaW50cyB3aXRoIHRoZSBoaXQgcG9pbnQgYW5kIGJyZWFrIHRoZSBsb29wXG4gICAgICAgIGZvciAodmFyIGogPSBpOyBqIDwgdGhpcy5saW5lLm51bVBvaW50czsgaisrKSB7XG4gICAgICAgICAgdGhpcy5saW5lLnNldFBvaW50KGosIHRoaXMuaGl0UG9pbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5saW5lLnNldFBvaW50KGksIG5leHQpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfTtcbiAgfSkoKSxcblxuICBpc1ZhbGlkTm9ybWFsc0FuZ2xlOiBmdW5jdGlvbiAoY29sbGlzaW9uTm9ybWFsKSB7XG4gICAgdmFyIGFuZ2xlTm9ybWFscyA9IHRoaXMucmVmZXJlbmNlTm9ybWFsLmFuZ2xlVG8oY29sbGlzaW9uTm9ybWFsKTtcbiAgICByZXR1cm4gKFRIUkVFLk1hdGguUkFEMkRFRyAqIGFuZ2xlTm9ybWFscyA8PSB0aGlzLmRhdGEubGFuZGluZ01heEFuZ2xlKTtcbiAgfSxcbn0pO1xuXG5cbmZ1bmN0aW9uIGNyZWF0ZUxpbmUgKGRhdGEpIHtcbiAgdmFyIG51bVBvaW50cyA9IGRhdGEudHlwZSA9PT0gJ2xpbmUnID8gMiA6IGRhdGEuY3VydmVOdW1iZXJQb2ludHM7XG4gIHJldHVybiBuZXcgUmF5Q3VydmUobnVtUG9pbnRzLCBkYXRhLmN1cnZlTGluZVdpZHRoKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgbWVzaCB0byByZXByZXNlbnQgdGhlIGFyZWEgb2YgaW50ZXJzZWN0aW9uLlxuICogRGVmYXVsdCB0byBhIGNvbWJpbmF0aW9uIG9mIHRvcnVzIGFuZCBjeWxpbmRlci5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlSGl0RW50aXR5IChkYXRhKSB7XG4gIHZhciBjeWxpbmRlcjtcbiAgdmFyIGhpdEVudGl0eTtcbiAgdmFyIHRvcnVzO1xuXG4gIC8vIFBhcmVudC5cbiAgaGl0RW50aXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYS1lbnRpdHknKTtcbiAgaGl0RW50aXR5LmNsYXNzTmFtZSA9ICdoaXRFbnRpdHknO1xuICBoaXRFbnRpdHkuc2V0QXR0cmlidXRlKCd2aXNpYmxlJywgZmFsc2UpO1xuXG4gIC8vIFRvcnVzLlxuICB0b3J1cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EtZW50aXR5Jyk7XG4gIHRvcnVzLnNldEF0dHJpYnV0ZSgnZ2VvbWV0cnknLCB7XG4gICAgcHJpbWl0aXZlOiAndG9ydXMnLFxuICAgIHJhZGl1czogZGF0YS5oaXRDeWxpbmRlclJhZGl1cyxcbiAgICByYWRpdXNUdWJ1bGFyOiAwLjAxXG4gIH0pO1xuICB0b3J1cy5zZXRBdHRyaWJ1dGUoJ21hdGVyaWFsJywge1xuICAgIHNoYWRlcjogJ2ZsYXQnLFxuICAgIGNvbG9yOiBkYXRhLmhpdEN5bGluZGVyQ29sb3IsXG4gICAgc2lkZTogJ2RvdWJsZScsXG4gICAgZGVwdGhUZXN0OiBmYWxzZVxuICB9KTtcbiAgdG9ydXMuc2V0QXR0cmlidXRlKCdyb3RhdGlvbicsICctOTAgMCAwJyk7XG4gIGhpdEVudGl0eS5hcHBlbmRDaGlsZCh0b3J1cyk7XG5cbiAgLy8gQ3lsaW5kZXIuXG4gIGN5bGluZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYS1lbnRpdHknKTtcbiAgY3lsaW5kZXIuc2V0QXR0cmlidXRlKCdwb3NpdGlvbicsIHt4OiAwLCB5OiBkYXRhLmhpdEN5bGluZGVySGVpZ2h0IC8gMiwgejogMH0pO1xuICBjeWxpbmRlci5zZXRBdHRyaWJ1dGUoJ2dlb21ldHJ5Jywge1xuICAgIHByaW1pdGl2ZTogJ2N5bGluZGVyJyxcbiAgICBzZWdtZW50c0hlaWdodDogMSxcbiAgICByYWRpdXM6IGRhdGEuaGl0Q3lsaW5kZXJSYWRpdXMsXG4gICAgaGVpZ2h0OiBkYXRhLmhpdEN5bGluZGVySGVpZ2h0LFxuICAgIG9wZW5FbmRlZDogdHJ1ZVxuICB9KTtcbiAgY3lsaW5kZXIuc2V0QXR0cmlidXRlKCdtYXRlcmlhbCcsIHtcbiAgICBzaGFkZXI6ICdmbGF0JyxcbiAgICBjb2xvcjogZGF0YS5oaXRDeWxpbmRlckNvbG9yLFxuICAgIHNpZGU6ICdkb3VibGUnLFxuICAgIHNyYzogY3lsaW5kZXJUZXh0dXJlLFxuICAgIHRyYW5zcGFyZW50OiB0cnVlLFxuICAgIGRlcHRoVGVzdDogZmFsc2VcbiAgfSk7XG4gIGhpdEVudGl0eS5hcHBlbmRDaGlsZChjeWxpbmRlcik7XG5cbiAgcmV0dXJuIGhpdEVudGl0eTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRGVmYXVsdFBsYW5lIChzaXplKSB7XG4gIHZhciBnZW9tZXRyeTtcbiAgdmFyIG1hdGVyaWFsO1xuXG4gIGdlb21ldHJ5ID0gbmV3IFRIUkVFLlBsYW5lQnVmZmVyR2VvbWV0cnkoMTAwLCAxMDApO1xuICBnZW9tZXRyeS5yb3RhdGVYKC1NYXRoLlBJIC8gMik7XG4gIG1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtjb2xvcjogMHhmZmZmMDB9KTtcbiAgcmV0dXJuIG5ldyBUSFJFRS5NZXNoKGdlb21ldHJ5LCBtYXRlcmlhbCk7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi4vYWZyYW1lLXRlbGVwb3J0LWNvbnRyb2xzL2luZGV4LmpzIiwid2luZG93LnV0aWxzID0ge307XG5cbi8qKlxuICogSGVscGVyIHRvIHZpc3VhbGl6ZSBsaW5lcy5cbiAqL1xud2luZG93LnV0aWxzLmRyYXdMaW5lID0gKGZ1bmN0aW9uICgpIHtcbiAgdmFyIGVscyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gKG5hbWUsIHZlYzEsIHZlYzIsIGNvbG9yKSB7XG4gICAgaWYgKCFlbHNbbmFtZV0pIHtcbiAgICAgIGVsc1tuYW1lXSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EtZW50aXR5Jyk7XG4gICAgICBlbHNbbmFtZV0uc2V0QXR0cmlidXRlKCdsaW5lJywgJ2NvbG9yJywgY29sb3IgfHwgJyNGRkYnKTtcbiAgICAgIGVsc1tuYW1lXS5zZXRBdHRyaWJ1dGUoJ2lkJywgbmFtZSk7XG4gICAgICBBRlJBTUUuc2NlbmVzWzBdLmFwcGVuZENoaWxkKGVsc1tuYW1lXSk7XG4gICAgfVxuICAgIGVsc1tuYW1lXS5zZXRBdHRyaWJ1dGUoJ2xpbmUnLCAnc3RhcnQnLCB2ZWMxLmNsb25lKCkpO1xuICAgIGVsc1tuYW1lXS5zZXRBdHRyaWJ1dGUoJ2xpbmUnLCAnZW5kJywgdmVjMi5jbG9uZSgpKTtcbiAgfTtcbn0pKCk7XG5cbi8qKlxuICogSGVscGVyIHRvIHZpc3VhbGl6ZSB2ZWN0b3JzLlxuICovXG53aW5kb3cudXRpbHMuZHJhd1ZlYzMgPSAoZnVuY3Rpb24gKCkge1xuICB2YXIgZWxzID0ge307XG4gIHJldHVybiBmdW5jdGlvbiAobmFtZSwgdmVjMywgY29sb3IpIHtcbiAgICBpZiAoIWVsc1tuYW1lXSkge1xuICAgICAgZWxzW25hbWVdID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYS1zcGhlcmUnKTtcbiAgICAgIGVsc1tuYW1lXS5zZXRBdHRyaWJ1dGUoJ2NvbG9yJywgY29sb3IgfHwgJyNGRkYnKTtcbiAgICAgIGVsc1tuYW1lXS5zZXRBdHRyaWJ1dGUoJ3JhZGl1cycsIDAuMDIpO1xuICAgICAgZWxzW25hbWVdLnNldEF0dHJpYnV0ZSgnaWQnLCBuYW1lKTtcbiAgICAgIGVsc1tuYW1lXS5zZXRBdHRyaWJ1dGUoJ3RleHQnLCB7YWxpZ246ICdjZW50ZXInLCB2YWx1ZTogbmFtZSwgc2lkZTogJ2RvdWJsZSd9KTtcbiAgICAgIEFGUkFNRS5zY2VuZXNbMF0uYXBwZW5kQ2hpbGQoZWxzW25hbWVdKTtcbiAgICB9XG4gICAgZWxzW25hbWVdLnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLCB2ZWMzLmNsb25lKCkpO1xuICB9O1xufSkoKTtcblxuLyoqXG4gKiBIZWxwZXIgdG8gZ2V0IGNlbnRlciBwb2ludCBvZiBmYWNlLlxuICovXG53aW5kb3cudXRpbHMuZ2V0RmFjZUNlbnRlciA9IChmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBmdW5jdGlvbiAobWVzaCwgZmFjZSwgdGFyZ2V0VmVjMykge1xuICAgIHRhcmdldFZlYzMgPSB0YXJnZXRWZWMzIHx8IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG4gICAgcmV0dXJuIHRhcmdldFZlYzNcbiAgICAgIC5jb3B5KG1lc2guZ2VvbWV0cnkudmVydGljZXNbZmFjZS5hXSlcbiAgICAgIC5hZGQobWVzaC5nZW9tZXRyeS52ZXJ0aWNlc1tmYWNlLmJdKVxuICAgICAgLmFkZChtZXNoLmdlb21ldHJ5LnZlcnRpY2VzW2ZhY2UuY10pXG4gICAgICAuZGl2aWRlU2NhbGFyKDMpO1xuICB9O1xufSkoKTtcblxud2luZG93LnV0aWxzLmFzc2V0UGF0aCA9IGZ1bmN0aW9uIChhc3NldCkge1xuICByZXR1cm4gQUZSQU1FLnNjZW5lc1swXS5kYXRhc2V0LmlzSG9tZSA9PT0gJ3RydWUnID8gYXNzZXQgOiBgLi4vJHthc3NldH1gO1xufVxuXG53aW5kb3cudXRpbHMucmFuZG9tID0gZnVuY3Rpb24gKHgpIHtcbiAgdmFyIGk7XG4gIHZhciBzZWVkO1xuICBzZWVkID0gMDtcbiAgZm9yIChpID0gMDsgaSA8IHdpbmRvdy5sb2NhdGlvbi5ocmVmLmxlbmd0aDsgaSsrKSB7XG4gICAgc2VlZCArPSB3aW5kb3cubG9jYXRpb24uaHJlZi5jaGFyQ29kZUF0KGkpO1xuICB9XG4gIHJldHVybiBwYXJzZUZsb2F0KCcwLicgKyBNYXRoLnNpbihzZWVkICogOTk5OSAqIHgpLnRvU3RyaW5nKCkuc3Vic3RyKDcpKTtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy91dGlscy5qcyIsIi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9LFxuLyoqKioqKi8gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bG9hZGVkOiBmYWxzZVxuLyoqKioqKi8gXHRcdH07XG5cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG5cblxuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdC8vIERlcGVuZGVuY2llc1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDQ1KTtcblxuXHQvLyBHbG9iYWwgdmFycyBhbmQgZnVuY3Rpb25zXG5cdF9fd2VicGFja19yZXF1aXJlX18oNDcpO1xuXG5cdC8vIE5ldHdvcmsgY29tcG9uZW50c1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDU4KTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg1OSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18oNjUpO1xuXG4vKioqLyB9KSxcbi8qIDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIHRlbXBsYXRlU3RyaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblxuXHR2YXIgZGVidWcgPSBBRlJBTUUudXRpbHMuZGVidWc7XG5cdHZhciBleHRlbmQgPSBBRlJBTUUudXRpbHMuZXh0ZW5kO1xuXHR2YXIgdGVtcGxhdGVDYWNoZSA9IHt9OyAvLyBUZW1wbGF0ZSBjYWNoZS5cblx0dmFyIGVycm9yID0gZGVidWcoJ3RlbXBsYXRlLWNvbXBvbmVudDplcnJvcicpO1xuXHR2YXIgbG9nID0gZGVidWcoJ3RlbXBsYXRlLWNvbXBvbmVudDppbmZvJyk7XG5cblx0dmFyIEhBTkRMRUJBUlMgPSAnaGFuZGxlYmFycyc7XG5cdHZhciBKQURFID0gJ2phZGUnO1xuXHR2YXIgTVVTVEFDSEUgPSAnbXVzdGFjaGUnO1xuXHR2YXIgTlVOSlVDS1MgPSAnbnVuanVja3MnO1xuXHR2YXIgSFRNTCA9ICdodG1sJztcblxuXHR2YXIgTElCX0xPQURFRCA9IHt9O1xuXHRMSUJfTE9BREVEW0hBTkRMRUJBUlNdID0gISF3aW5kb3cuSGFuZGxlYmFycztcblx0TElCX0xPQURFRFtKQURFXSA9ICEhd2luZG93LmphZGU7XG5cdExJQl9MT0FERURbTVVTVEFDSEVdID0gISF3aW5kb3cuTXVzdGFjaGU7XG5cdExJQl9MT0FERURbTlVOSlVDS1NdID0gISF3aW5kb3cubnVuanVja3M7XG5cblx0dmFyIExJQl9TUkMgPSB7fTtcblx0TElCX1NSQ1tIQU5ETEVCQVJTXSA9ICdodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9oYW5kbGViYXJzLmpzLzQuMC41L2hhbmRsZWJhcnMubWluLmpzJztcblx0TElCX1NSQ1tKQURFXSA9ICdodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9qYWRlLzEuMTEuMC9qYWRlLm1pbi5qcyc7XG5cdExJQl9TUkNbTVVTVEFDSEVdID0gJ2h0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL211c3RhY2hlLmpzLzIuMi4xL211c3RhY2hlLm1pbi5qcyc7XG5cdExJQl9TUkNbTlVOSlVDS1NdID0gJ2h0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL251bmp1Y2tzLzIuMy4wL251bmp1Y2tzLm1pbi5qcyc7XG5cblx0QUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCd0ZW1wbGF0ZScsIHtcblx0ICBzY2hlbWE6IHtcblx0ICAgIGluc2VydDoge1xuXHQgICAgICAvLyBpbnNlcnRBZGphY2VudEhUTUwuXG5cdCAgICAgIGRlZmF1bHQ6ICdiZWZvcmVlbmQnXG5cdCAgICB9LFxuXHQgICAgdHlwZToge1xuXHQgICAgICBkZWZhdWx0OiAnJ1xuXHQgICAgfSxcblx0ICAgIHNyYzoge1xuXHQgICAgICAvLyBTZWxlY3RvciBvciBVUkwuXG5cdCAgICAgIGRlZmF1bHQ6ICcnXG5cdCAgICB9LFxuXHQgICAgZGF0YToge1xuXHQgICAgICBkZWZhdWx0OiAnJ1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShvbGREYXRhKSB7XG5cdCAgICB2YXIgZGF0YSA9IHRoaXMuZGF0YTtcblx0ICAgIHZhciBlbCA9IHRoaXMuZWw7XG5cdCAgICB2YXIgZmV0Y2hlciA9IGRhdGEuc3JjWzBdID09PSAnIycgPyBmZXRjaFRlbXBsYXRlRnJvbVNjcmlwdFRhZyA6IGZldGNoVGVtcGxhdGVGcm9tWEhSO1xuXHQgICAgdmFyIHRlbXBsYXRlQ2FjaGVJdGVtID0gdGVtcGxhdGVDYWNoZVtkYXRhLnNyY107XG5cblx0ICAgIC8vIFJlcGxhY2UgY2hpbGRyZW4gaWYgc3dhcHBpbmcgdGVtcGxhdGVzLlxuXHQgICAgaWYgKG9sZERhdGEgJiYgb2xkRGF0YS5zcmMgIT09IGRhdGEuc3JjKSB7XG5cdCAgICAgIHdoaWxlIChlbC5maXJzdENoaWxkKSB7XG5cdCAgICAgICAgZWwucmVtb3ZlQ2hpbGQoZWwuZmlyc3RDaGlsZCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgaWYgKHRlbXBsYXRlQ2FjaGVJdGVtKSB7XG5cdCAgICAgIHRoaXMucmVuZGVyVGVtcGxhdGUodGVtcGxhdGVDYWNoZUl0ZW0pO1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cblx0ICAgIGZldGNoZXIoZGF0YS5zcmMsIGRhdGEudHlwZSkudGhlbih0aGlzLnJlbmRlclRlbXBsYXRlLmJpbmQodGhpcykpO1xuXHQgIH0sXG5cblx0ICByZW5kZXJUZW1wbGF0ZTogZnVuY3Rpb24gcmVuZGVyVGVtcGxhdGUodGVtcGxhdGVDYWNoZUl0ZW0pIHtcblx0ICAgIHZhciBlbCA9IHRoaXMuZWw7XG5cdCAgICB2YXIgZGF0YSA9IHRoaXMuZGF0YTtcblx0ICAgIHZhciB0ZW1wbGF0ZURhdGEgPSB7fTtcblxuXHQgICAgT2JqZWN0LmtleXMoZWwuZGF0YXNldCkuZm9yRWFjaChmdW5jdGlvbiBjb252ZXJ0VG9EYXRhKGtleSkge1xuXHQgICAgICB0ZW1wbGF0ZURhdGFba2V5XSA9IGVsLmRhdGFzZXRba2V5XTtcblx0ICAgIH0pO1xuXHQgICAgaWYgKGRhdGEuZGF0YSkge1xuXHQgICAgICB0ZW1wbGF0ZURhdGEgPSBleHRlbmQodGVtcGxhdGVEYXRhLCBlbC5nZXRBdHRyaWJ1dGUoZGF0YS5kYXRhKSk7XG5cdCAgICB9XG5cblx0ICAgIHZhciByZW5kZXJlZFRlbXBsYXRlID0gX3JlbmRlclRlbXBsYXRlKHRlbXBsYXRlQ2FjaGVJdGVtLnRlbXBsYXRlLCB0ZW1wbGF0ZUNhY2hlSXRlbS50eXBlLCB0ZW1wbGF0ZURhdGEpO1xuXHQgICAgZWwuaW5zZXJ0QWRqYWNlbnRIVE1MKGRhdGEuaW5zZXJ0LCByZW5kZXJlZFRlbXBsYXRlKTtcblx0ICAgIGVsLmVtaXQoJ3RlbXBsYXRlcmVuZGVyZWQnKTtcblx0ICB9XG5cdH0pO1xuXG5cdC8qKlxuXHQgKiBIZWxwZXIgdG8gY29tcGlsZSB0ZW1wbGF0ZSwgbGF6eS1sb2FkaW5nIHRoZSB0ZW1wbGF0ZSBlbmdpbmUgaWYgbmVlZGVkLlxuXHQgKi9cblx0ZnVuY3Rpb24gY29tcGlsZVRlbXBsYXRlKHNyYywgdHlwZSwgdGVtcGxhdGVTdHIpIHtcblx0ICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcblx0ICAgIGluamVjdFRlbXBsYXRlTGliKHR5cGUpLnRoZW4oZnVuY3Rpb24gKCkge1xuXHQgICAgICB0ZW1wbGF0ZUNhY2hlW3NyY10gPSB7XG5cdCAgICAgICAgdGVtcGxhdGU6IGdldENvbXBpbGVyKHR5cGUpKHRlbXBsYXRlU3RyLnRyaW0oKSksXG5cdCAgICAgICAgdHlwZTogdHlwZVxuXHQgICAgICB9O1xuXHQgICAgICByZXNvbHZlKHRlbXBsYXRlQ2FjaGVbc3JjXSk7XG5cdCAgICB9KTtcblx0ICB9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIF9yZW5kZXJUZW1wbGF0ZSh0ZW1wbGF0ZSwgdHlwZSwgY29udGV4dCkge1xuXHQgIHN3aXRjaCAodHlwZSkge1xuXHQgICAgY2FzZSBIQU5ETEVCQVJTOlxuXHQgICAgICB7XG5cdCAgICAgICAgcmV0dXJuIHRlbXBsYXRlKGNvbnRleHQpO1xuXHQgICAgICB9XG5cdCAgICBjYXNlIEpBREU6XG5cdCAgICAgIHtcblx0ICAgICAgICByZXR1cm4gdGVtcGxhdGUoY29udGV4dCk7XG5cdCAgICAgIH1cblx0ICAgIGNhc2UgTVVTVEFDSEU6XG5cdCAgICAgIHtcblx0ICAgICAgICByZXR1cm4gTXVzdGFjaGUucmVuZGVyKHRlbXBsYXRlLCBjb250ZXh0KTtcblx0ICAgICAgfVxuXHQgICAgY2FzZSBOVU5KVUNLUzpcblx0ICAgICAge1xuXHQgICAgICAgIHJldHVybiB0ZW1wbGF0ZS5yZW5kZXIoY29udGV4dCk7XG5cdCAgICAgIH1cblx0ICAgIGRlZmF1bHQ6XG5cdCAgICAgIHtcblx0ICAgICAgICAvLyBJZiB0eXBlIG5vdCBzcGVjaWZpZWQsIGFzc3VtZSBIVE1MLiBBZGQgc29tZSBFUzYgdGVtcGxhdGUgc3RyaW5nIHN1Z2FyLlxuXHQgICAgICAgIHJldHVybiB0ZW1wbGF0ZVN0cmluZyh0ZW1wbGF0ZSwgY29udGV4dCk7XG5cdCAgICAgIH1cblx0ICB9XG5cdH1cblxuXHQvKipcblx0ICogQ2FjaGUgYW5kIGNvbXBpbGUgdGVtcGxhdGVzLlxuXHQgKi9cblx0ZnVuY3Rpb24gZmV0Y2hUZW1wbGF0ZUZyb21TY3JpcHRUYWcoc3JjLCB0eXBlKSB7XG5cdCAgdmFyIGNvbXBpbGVyO1xuXHQgIHZhciBzY3JpcHRFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc3JjKTtcblx0ICB2YXIgc2NyaXB0VHlwZSA9IHNjcmlwdEVsLmdldEF0dHJpYnV0ZSgndHlwZScpO1xuXHQgIHZhciB0ZW1wbGF0ZVN0ciA9IHNjcmlwdEVsLmlubmVySFRNTDtcblxuXHQgIC8vIFRyeSB0byBpbmZlciB0ZW1wbGF0ZSB0eXBlIGZyb20gPHNjcmlwdCB0eXBlPiBpZiB0eXBlIG5vdCBzcGVjaWZpZWQuXG5cdCAgaWYgKCF0eXBlKSB7XG5cdCAgICBpZiAoIXNjcmlwdFR5cGUpIHtcblx0ICAgICAgdGhyb3cgbmV3IEVycm9yKCdNdXN0IHByb3ZpZGUgYHR5cGVgIGF0dHJpYnV0ZSBmb3IgPHNjcmlwdD4gdGVtcGxhdGVzIChlLmcuLCBoYW5kbGViYXJzLCBqYWRlLCBudW5qdWNrcywgaHRtbCknKTtcblx0ICAgIH1cblx0ICAgIGlmIChzY3JpcHRUeXBlLmluZGV4T2YoJ2hhbmRsZWJhcnMnKSAhPT0gLTEpIHtcblx0ICAgICAgdHlwZSA9IEhBTkRMRUJBUlM7XG5cdCAgICB9IGVsc2UgaWYgKHNjcmlwdFR5cGUuaW5kZXhPZignamFkZScpICE9PSAtMSkge1xuXHQgICAgICB0eXBlID0gSkFERTtcblx0ICAgIH0gZWxzZSBpZiAoc2NyaXB0VHlwZS5pbmRleE9mKCdtdXN0YWNoZScpICE9PSAtMSkge1xuXHQgICAgICB0eXBlID0gTVVTVEFDSEU7XG5cdCAgICB9IGVsc2UgaWYgKHNjcmlwdFR5cGUuaW5kZXhPZignbnVuanVja3MnKSAhPT0gLTEpIHtcblx0ICAgICAgdHlwZSA9IE5VTkpVQ0tTO1xuXHQgICAgfSBlbHNlIGlmIChzY3JpcHRUeXBlLmluZGV4T2YoJ2h0bWwnKSAhPT0gLTEpIHtcblx0ICAgICAgdHlwZSA9IEhUTUw7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBlcnJvcignVGVtcGxhdGUgdHlwZSBjb3VsZCBub3QgYmUgaW5mZXJyZWQgZnJvbSB0aGUgc2NyaXB0IHRhZy4gUGxlYXNlIGFkZCBhIHR5cGUuJyk7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICB9XG5cblx0ICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcblx0ICAgIGNvbXBpbGVUZW1wbGF0ZShzcmMsIHR5cGUsIHRlbXBsYXRlU3RyKS50aGVuKGZ1bmN0aW9uICh0ZW1wbGF0ZSkge1xuXHQgICAgICByZXNvbHZlKHRlbXBsYXRlLCB0eXBlKTtcblx0ICAgIH0pO1xuXHQgIH0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gZmV0Y2hUZW1wbGF0ZUZyb21YSFIoc3JjLCB0eXBlKSB7XG5cdCAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG5cdCAgICB2YXIgcmVxdWVzdDtcblx0ICAgIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblx0ICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgLy8gVGVtcGxhdGUgZmV0Y2hlZC4gVXNlIHRlbXBsYXRlLlxuXHQgICAgICBjb21waWxlVGVtcGxhdGUoc3JjLCB0eXBlLCByZXF1ZXN0LnJlc3BvbnNlKS50aGVuKGZ1bmN0aW9uICh0ZW1wbGF0ZSkge1xuXHQgICAgICAgIHJlc29sdmUodGVtcGxhdGUsIHR5cGUpO1xuXHQgICAgICB9KTtcblx0ICAgIH0pO1xuXHQgICAgcmVxdWVzdC5vcGVuKCdHRVQnLCBzcmMpO1xuXHQgICAgcmVxdWVzdC5zZW5kKCk7XG5cdCAgfSk7XG5cdH1cblxuXHQvKipcblx0ICogR2V0IGNvbXBpbGVyIGdpdmVuIHR5cGUuXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXRDb21waWxlcih0eXBlKSB7XG5cdCAgc3dpdGNoICh0eXBlKSB7XG5cdCAgICBjYXNlIEhBTkRMRUJBUlM6XG5cdCAgICAgIHtcblx0ICAgICAgICByZXR1cm4gY29tcGlsZUhhbmRsZWJhcnNUZW1wbGF0ZTtcblx0ICAgICAgfVxuXHQgICAgY2FzZSBKQURFOlxuXHQgICAgICB7XG5cdCAgICAgICAgcmV0dXJuIGNvbXBpbGVKYWRlVGVtcGxhdGU7XG5cdCAgICAgIH1cblx0ICAgIGNhc2UgTVVTVEFDSEU6XG5cdCAgICAgIHtcblx0ICAgICAgICByZXR1cm4gY29tcGlsZUhhbmRsZWJhcnNUZW1wbGF0ZTtcblx0ICAgICAgfVxuXHQgICAgY2FzZSBOVU5KVUNLUzpcblx0ICAgICAge1xuXHQgICAgICAgIHJldHVybiBjb21waWxlTnVuanVja3NUZW1wbGF0ZTtcblx0ICAgICAgfVxuXHQgICAgZGVmYXVsdDpcblx0ICAgICAge1xuXHQgICAgICAgIC8vIElmIHR5cGUgbm90IHNwZWNpZmllZCwgYXNzdW1lIHJhdyBIVE1MIGFuZCBubyB0ZW1wbGF0aW5nIG5lZWRlZC5cblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHN0cikge1xuXHQgICAgICAgICAgcmV0dXJuIHN0cjtcblx0ICAgICAgICB9O1xuXHQgICAgICB9XG5cdCAgfVxuXHR9XG5cblx0ZnVuY3Rpb24gY29tcGlsZUhhbmRsZWJhcnNUZW1wbGF0ZSh0ZW1wbGF0ZVN0cikge1xuXHQgIHJldHVybiBIYW5kbGViYXJzLmNvbXBpbGUodGVtcGxhdGVTdHIpO1xuXHR9XG5cblx0ZnVuY3Rpb24gY29tcGlsZUphZGVUZW1wbGF0ZSh0ZW1wbGF0ZVN0cikge1xuXHQgIHJldHVybiBqYWRlLmNvbXBpbGUodGVtcGxhdGVTdHIpO1xuXHR9XG5cblx0ZnVuY3Rpb24gY29tcGlsZU11c3RhY2hlVGVtcGxhdGUodGVtcGxhdGVTdHIpIHtcblx0ICBNdXN0YWNoZS5wYXJzZSh0ZW1wbGF0ZVN0cik7XG5cdCAgcmV0dXJuIHRlbXBsYXRlU3RyO1xuXHR9XG5cblx0ZnVuY3Rpb24gY29tcGlsZU51bmp1Y2tzVGVtcGxhdGUodGVtcGxhdGVTdHIpIHtcblx0ICByZXR1cm4gbnVuanVja3MuY29tcGlsZSh0ZW1wbGF0ZVN0cik7XG5cdH1cblxuXHRmdW5jdGlvbiBpbmplY3RUZW1wbGF0ZUxpYih0eXBlKSB7XG5cdCAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG5cdCAgICAvLyBObyBsaWIgaW5qZWN0aW9uIHJlcXVpcmVkLlxuXHQgICAgaWYgKCF0eXBlIHx8IHR5cGUgPT09ICdodG1sJykge1xuXHQgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xuXHQgICAgfVxuXG5cdCAgICB2YXIgc2NyaXB0RWwgPSBMSUJfTE9BREVEW3R5cGVdO1xuXG5cdCAgICAvLyBFbmdpbmUgbG9hZGVkLlxuXHQgICAgaWYgKExJQl9MT0FERURbdHlwZV0gPT09IHRydWUpIHtcblx0ICAgICAgcmV0dXJuIHJlc29sdmUoKTtcblx0ICAgIH1cblxuXHQgICAgLy8gU3RhcnQgbGF6eS1sb2FkaW5nLlxuXHQgICAgaWYgKCFzY3JpcHRFbCkge1xuXHQgICAgICBzY3JpcHRFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuXHQgICAgICBMSUJfTE9BREVEW3R5cGVdID0gc2NyaXB0RWw7XG5cdCAgICAgIHNjcmlwdEVsLnNldEF0dHJpYnV0ZSgnc3JjJywgTElCX1NSQ1t0eXBlXSk7XG5cdCAgICAgIGxvZygnTGF6eS1sb2FkaW5nICVzIGVuZ2luZS4gUGxlYXNlIGFkZCA8c2NyaXB0IHNyYz1cIiVzXCI+IHRvIHlvdXIgcGFnZS4nLCB0eXBlLCBMSUJfU1JDW3R5cGVdKTtcblx0ICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHRFbCk7XG5cdCAgICB9XG5cblx0ICAgIC8vIFdhaXQgZm9yIG9ubG9hZCwgd2hldGhlciBqdXN0IGluamVjdGVkIG9yIGFscmVhZHkgbGF6eS1sb2FkaW5nLlxuXHQgICAgdmFyIHByZXZPbmxvYWQgPSBzY3JpcHRFbC5vbmxvYWQgfHwgZnVuY3Rpb24gKCkge307XG5cdCAgICBzY3JpcHRFbC5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHByZXZPbmxvYWQoKTtcblx0ICAgICAgTElCX0xPQURFRFt0eXBlXSA9IHRydWU7XG5cdCAgICAgIHJlc29sdmUoKTtcblx0ICAgIH07XG5cdCAgfSk7XG5cdH07XG5cblx0QUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCd0ZW1wbGF0ZS1zZXQnLCB7XG5cdCAgc2NoZW1hOiB7XG5cdCAgICBvbjogeyB0eXBlOiAnc3RyaW5nJyB9LFxuXHQgICAgc3JjOiB7IHR5cGU6ICdzdHJpbmcnIH0sXG5cdCAgICBkYXRhOiB7IHR5cGU6ICdzdHJpbmcnIH1cblx0ICB9LFxuXG5cdCAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHtcblx0ICAgIHZhciBkYXRhID0gdGhpcy5kYXRhO1xuXHQgICAgdmFyIGVsID0gdGhpcy5lbDtcblx0ICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoZGF0YS5vbiwgZnVuY3Rpb24gKCkge1xuXHQgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3RlbXBsYXRlJywgeyBzcmM6IGRhdGEuc3JjLCBkYXRhOiBkYXRhLmRhdGEgfSk7XG5cdCAgICB9KTtcblx0ICB9XG5cdH0pO1xuXG4vKioqLyB9KSxcbi8qIDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGNvbXBpbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpLFxuXHQgICAgcmVzb2x2ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHRlbXBsYXRlLCBjb250ZXh0IC8qLCBvcHRpb25zKi8pIHtcblx0ICByZXR1cm4gcmVzb2x2ZShjb21waWxlKHRlbXBsYXRlKSwgY29udGV4dCwgYXJndW1lbnRzWzJdKTtcblx0fTtcblxuLyoqKi8gfSksXG4vKiAzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBlc25pZmYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpLFxuXHQgICAgaSxcblx0ICAgIGN1cnJlbnQsXG5cdCAgICBsaXRlcmFscyxcblx0ICAgIHN1YnN0aXR1dGlvbnMsXG5cdCAgICBfc091dCxcblx0ICAgIHNFc2NhcGUsXG5cdCAgICBfc0FoZWFkLFxuXHQgICAgX3NJbixcblx0ICAgIHNJbkVzY2FwZSxcblx0ICAgIHRlbXBsYXRlO1xuXG5cdF9zT3V0ID0gZnVuY3Rpb24gc091dChjaGFyKSB7XG5cdFx0aWYgKGNoYXIgPT09ICdcXFxcJykgcmV0dXJuIHNFc2NhcGU7XG5cdFx0aWYgKGNoYXIgPT09ICckJykgcmV0dXJuIF9zQWhlYWQ7XG5cdFx0Y3VycmVudCArPSBjaGFyO1xuXHRcdHJldHVybiBfc091dDtcblx0fTtcblx0c0VzY2FwZSA9IGZ1bmN0aW9uIHNFc2NhcGUoY2hhcikge1xuXHRcdGlmIChjaGFyICE9PSAnXFxcXCcgJiYgY2hhciAhPT0gJyQnKSBjdXJyZW50ICs9ICdcXFxcJztcblx0XHRjdXJyZW50ICs9IGNoYXI7XG5cdFx0cmV0dXJuIF9zT3V0O1xuXHR9O1xuXHRfc0FoZWFkID0gZnVuY3Rpb24gc0FoZWFkKGNoYXIpIHtcblx0XHRpZiAoY2hhciA9PT0gJ3snKSB7XG5cdFx0XHRsaXRlcmFscy5wdXNoKGN1cnJlbnQpO1xuXHRcdFx0Y3VycmVudCA9ICcnO1xuXHRcdFx0cmV0dXJuIF9zSW47XG5cdFx0fVxuXHRcdGlmIChjaGFyID09PSAnJCcpIHtcblx0XHRcdGN1cnJlbnQgKz0gJyQnO1xuXHRcdFx0cmV0dXJuIF9zQWhlYWQ7XG5cdFx0fVxuXHRcdGN1cnJlbnQgKz0gJyQnICsgY2hhcjtcblx0XHRyZXR1cm4gX3NPdXQ7XG5cdH07XG5cdF9zSW4gPSBmdW5jdGlvbiBzSW4oY2hhcikge1xuXHRcdHZhciBjb2RlID0gdGVtcGxhdGUuc2xpY2UoaSksXG5cdFx0ICAgIGVuZDtcblx0XHRlc25pZmYoY29kZSwgJ30nLCBmdW5jdGlvbiAoaikge1xuXHRcdFx0aWYgKGVzbmlmZi5uZXN0ID49IDApIHJldHVybiBlc25pZmYubmV4dCgpO1xuXHRcdFx0ZW5kID0gajtcblx0XHR9KTtcblx0XHRpZiAoZW5kICE9IG51bGwpIHtcblx0XHRcdHN1YnN0aXR1dGlvbnMucHVzaCh0ZW1wbGF0ZS5zbGljZShpLCBpICsgZW5kKSk7XG5cdFx0XHRpICs9IGVuZDtcblx0XHRcdGN1cnJlbnQgPSAnJztcblx0XHRcdHJldHVybiBfc091dDtcblx0XHR9XG5cdFx0ZW5kID0gY29kZS5sZW5ndGg7XG5cdFx0aSArPSBlbmQ7XG5cdFx0Y3VycmVudCArPSBjb2RlO1xuXHRcdHJldHVybiBfc0luO1xuXHR9O1xuXHRzSW5Fc2NhcGUgPSBmdW5jdGlvbiBzSW5Fc2NhcGUoY2hhcikge1xuXHRcdGlmIChjaGFyICE9PSAnXFxcXCcgJiYgY2hhciAhPT0gJ30nKSBjdXJyZW50ICs9ICdcXFxcJztcblx0XHRjdXJyZW50ICs9IGNoYXI7XG5cdFx0cmV0dXJuIF9zSW47XG5cdH07XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc3RyKSB7XG5cdFx0dmFyIGxlbmd0aCwgc3RhdGUsIHJlc3VsdDtcblx0XHRjdXJyZW50ID0gJyc7XG5cdFx0bGl0ZXJhbHMgPSBbXTtcblx0XHRzdWJzdGl0dXRpb25zID0gW107XG5cblx0XHR0ZW1wbGF0ZSA9IFN0cmluZyhzdHIpO1xuXHRcdGxlbmd0aCA9IHRlbXBsYXRlLmxlbmd0aDtcblxuXHRcdHN0YXRlID0gX3NPdXQ7XG5cdFx0Zm9yIChpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG5cdFx0XHRzdGF0ZSA9IHN0YXRlKHRlbXBsYXRlW2ldKTtcblx0XHR9aWYgKHN0YXRlID09PSBfc091dCkge1xuXHRcdFx0bGl0ZXJhbHMucHVzaChjdXJyZW50KTtcblx0XHR9IGVsc2UgaWYgKHN0YXRlID09PSBzRXNjYXBlKSB7XG5cdFx0XHRsaXRlcmFscy5wdXNoKGN1cnJlbnQgKyAnXFxcXCcpO1xuXHRcdH0gZWxzZSBpZiAoc3RhdGUgPT09IF9zQWhlYWQpIHtcblx0XHRcdGxpdGVyYWxzLnB1c2goY3VycmVudCArICckJyk7XG5cdFx0fSBlbHNlIGlmIChzdGF0ZSA9PT0gX3NJbikge1xuXHRcdFx0bGl0ZXJhbHNbbGl0ZXJhbHMubGVuZ3RoIC0gMV0gKz0gJyR7JyArIGN1cnJlbnQ7XG5cdFx0fSBlbHNlIGlmIChzdGF0ZSA9PT0gc0luRXNjYXBlKSB7XG5cdFx0XHRsaXRlcmFsc1tsaXRlcmFscy5sZW5ndGggLSAxXSArPSAnJHsnICsgY3VycmVudCArICdcXFxcJztcblx0XHR9XG5cdFx0cmVzdWx0ID0geyBsaXRlcmFsczogbGl0ZXJhbHMsIHN1YnN0aXR1dGlvbnM6IHN1YnN0aXR1dGlvbnMgfTtcblx0XHRsaXRlcmFscyA9IHN1YnN0aXR1dGlvbnMgPSBudWxsO1xuXHRcdHJldHVybiByZXN1bHQ7XG5cdH07XG5cbi8qKiovIH0pLFxuLyogNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgZnJvbSA9IF9fd2VicGFja19yZXF1aXJlX18oNSksXG5cdCAgICBwcmltaXRpdmVTZXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3KSxcblx0ICAgIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCksXG5cdCAgICBjYWxsYWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzUpLFxuXHQgICAgZCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpLFxuXHQgICAgZW9sU2V0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOCksXG5cdCAgICB3c1NldCA9IF9fd2VicGFja19yZXF1aXJlX18oMzkpLFxuXHQgICAgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFxuXHQgICAgcHJlUmVnRXhwU2V0ID0gcHJpbWl0aXZlU2V0LmFwcGx5KG51bGwsIGZyb20oJzt7PShbLDw+Ky0qLyUmfF4hfj86fScpKSxcblx0ICAgIG5vbk5hbWVTZXQgPSBwcmltaXRpdmVTZXQuYXBwbHkobnVsbCwgZnJvbSgnO3s9KFssPD4rLSovJSZ8XiF+Pzp9KV0uJykpLFxuXHQgICAgbW92ZSxcblx0ICAgIHN0YXJ0Q29sbGVjdCxcblx0ICAgIGVuZENvbGxlY3QsXG5cdCAgICBjb2xsZWN0TmVzdCxcblx0ICAgICR3cyxcblx0ICAgICRjb21tb24sXG5cdCAgICAkc3RyaW5nLFxuXHQgICAgJGNvbW1lbnQsXG5cdCAgICAkbXVsdGlDb21tZW50LFxuXHQgICAgJHJlZ0V4cCxcblx0ICAgIGksXG5cdCAgICBjaGFyLFxuXHQgICAgbGluZSxcblx0ICAgIGNvbHVtbkluZGV4LFxuXHQgICAgYWZ0ZXJXcyxcblx0ICAgIHByZXZpb3VzQ2hhcixcblx0ICAgIG5lc3QsXG5cdCAgICBuZXN0ZWRUb2tlbnMsXG5cdCAgICByZXN1bHRzLFxuXHQgICAgdXNlckNvZGUsXG5cdCAgICB1c2VyVHJpZ2dlckNoYXIsXG5cdCAgICBpc1VzZXJUcmlnZ2VyT3BlcmF0b3JDaGFyLFxuXHQgICAgdXNlckNhbGxiYWNrLFxuXHQgICAgcXVvdGUsXG5cdCAgICBjb2xsZWN0SW5kZXgsXG5cdCAgICBkYXRhLFxuXHQgICAgbmVzdFJlbGVhc2U7XG5cblx0bW92ZSA9IGZ1bmN0aW9uIG1vdmUoaikge1xuXHRcdGlmICghY2hhcikgcmV0dXJuO1xuXHRcdGlmIChpID49IGopIHJldHVybjtcblx0XHR3aGlsZSAoaSAhPT0gaikge1xuXHRcdFx0aWYgKCFjaGFyKSByZXR1cm47XG5cdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbCh3c1NldCwgY2hhcikpIHtcblx0XHRcdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwoZW9sU2V0LCBjaGFyKSkge1xuXHRcdFx0XHRcdGNvbHVtbkluZGV4ID0gaTtcblx0XHRcdFx0XHQrK2xpbmU7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHByZXZpb3VzQ2hhciA9IGNoYXI7XG5cdFx0XHR9XG5cdFx0XHRjaGFyID0gdXNlckNvZGVbKytpXTtcblx0XHR9XG5cdH07XG5cblx0c3RhcnRDb2xsZWN0ID0gZnVuY3Rpb24gc3RhcnRDb2xsZWN0KG9sZE5lc3RSZWxlYXNlKSB7XG5cdFx0aWYgKGNvbGxlY3RJbmRleCAhPSBudWxsKSBuZXN0ZWRUb2tlbnMucHVzaChbZGF0YSwgY29sbGVjdEluZGV4LCBvbGROZXN0UmVsZWFzZV0pO1xuXHRcdGRhdGEgPSB7IHBvaW50OiBpICsgMSwgbGluZTogbGluZSwgY29sdW1uOiBpICsgMSAtIGNvbHVtbkluZGV4IH07XG5cdFx0Y29sbGVjdEluZGV4ID0gaTtcblx0fTtcblxuXHRlbmRDb2xsZWN0ID0gZnVuY3Rpb24gZW5kQ29sbGVjdCgpIHtcblx0XHR2YXIgcHJldmlvdXM7XG5cdFx0ZGF0YS5yYXcgPSB1c2VyQ29kZS5zbGljZShjb2xsZWN0SW5kZXgsIGkpO1xuXHRcdHJlc3VsdHMucHVzaChkYXRhKTtcblx0XHRpZiAobmVzdGVkVG9rZW5zLmxlbmd0aCkge1xuXHRcdFx0cHJldmlvdXMgPSBuZXN0ZWRUb2tlbnMucG9wKCk7XG5cdFx0XHRkYXRhID0gcHJldmlvdXNbMF07XG5cdFx0XHRjb2xsZWN0SW5kZXggPSBwcmV2aW91c1sxXTtcblx0XHRcdG5lc3RSZWxlYXNlID0gcHJldmlvdXNbMl07XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGRhdGEgPSBudWxsO1xuXHRcdGNvbGxlY3RJbmRleCA9IG51bGw7XG5cdFx0bmVzdFJlbGVhc2UgPSBudWxsO1xuXHR9O1xuXG5cdGNvbGxlY3ROZXN0ID0gZnVuY3Rpb24gY29sbGVjdE5lc3QoKSB7XG5cdFx0dmFyIG9sZCA9IG5lc3RSZWxlYXNlO1xuXHRcdG5lc3RSZWxlYXNlID0gbmVzdDtcblx0XHQrK25lc3Q7XG5cdFx0bW92ZShpICsgMSk7XG5cdFx0c3RhcnRDb2xsZWN0KG9sZCk7XG5cdFx0cmV0dXJuICR3cztcblx0fTtcblxuXHQkY29tbW9uID0gZnVuY3Rpb24gJGNvbW1vbigpIHtcblx0XHRpZiAoY2hhciA9PT0gJ1xcJycgfHwgY2hhciA9PT0gJ1wiJykge1xuXHRcdFx0cXVvdGUgPSBjaGFyO1xuXHRcdFx0Y2hhciA9IHVzZXJDb2RlWysraV07XG5cdFx0XHRyZXR1cm4gJHN0cmluZztcblx0XHR9XG5cdFx0aWYgKGNoYXIgPT09ICcoJyB8fCBjaGFyID09PSAneycgfHwgY2hhciA9PT0gJ1snKSB7XG5cdFx0XHQrK25lc3Q7XG5cdFx0fSBlbHNlIGlmIChjaGFyID09PSAnKScgfHwgY2hhciA9PT0gJ30nIHx8IGNoYXIgPT09ICddJykge1xuXHRcdFx0aWYgKG5lc3RSZWxlYXNlID09PSAtLW5lc3QpIGVuZENvbGxlY3QoKTtcblx0XHR9IGVsc2UgaWYgKGNoYXIgPT09ICcvJykge1xuXHRcdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwocHJlUmVnRXhwU2V0LCBwcmV2aW91c0NoYXIpKSB7XG5cdFx0XHRcdGNoYXIgPSB1c2VyQ29kZVsrK2ldO1xuXHRcdFx0XHRyZXR1cm4gJHJlZ0V4cDtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKGNoYXIgIT09IHVzZXJUcmlnZ2VyQ2hhciB8fCAhaXNVc2VyVHJpZ2dlck9wZXJhdG9yQ2hhciAmJiBwcmV2aW91c0NoYXIgJiYgIWFmdGVyV3MgJiYgIWhhc093blByb3BlcnR5LmNhbGwobm9uTmFtZVNldCwgcHJldmlvdXNDaGFyKSkge1xuXHRcdFx0cHJldmlvdXNDaGFyID0gY2hhcjtcblx0XHRcdGNoYXIgPSB1c2VyQ29kZVsrK2ldO1xuXHRcdFx0cmV0dXJuICR3cztcblx0XHR9XG5cblx0XHRyZXR1cm4gdXNlckNhbGxiYWNrKGksIHByZXZpb3VzQ2hhciwgbmVzdCk7XG5cdH07XG5cblx0JGNvbW1lbnQgPSBmdW5jdGlvbiAkY29tbWVudCgpIHtcblx0XHR3aGlsZSAodHJ1ZSkge1xuXHRcdFx0aWYgKCFjaGFyKSByZXR1cm47XG5cdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChlb2xTZXQsIGNoYXIpKSB7XG5cdFx0XHRcdGNvbHVtbkluZGV4ID0gaSArIDE7XG5cdFx0XHRcdCsrbGluZTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0Y2hhciA9IHVzZXJDb2RlWysraV07XG5cdFx0fVxuXHR9O1xuXG5cdCRtdWx0aUNvbW1lbnQgPSBmdW5jdGlvbiAkbXVsdGlDb21tZW50KCkge1xuXHRcdHdoaWxlICh0cnVlKSB7XG5cdFx0XHRpZiAoIWNoYXIpIHJldHVybjtcblx0XHRcdGlmIChjaGFyID09PSAnKicpIHtcblx0XHRcdFx0Y2hhciA9IHVzZXJDb2RlWysraV07XG5cdFx0XHRcdGlmIChjaGFyID09PSAnLycpIHJldHVybjtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChlb2xTZXQsIGNoYXIpKSB7XG5cdFx0XHRcdGNvbHVtbkluZGV4ID0gaSArIDE7XG5cdFx0XHRcdCsrbGluZTtcblx0XHRcdH1cblx0XHRcdGNoYXIgPSB1c2VyQ29kZVsrK2ldO1xuXHRcdH1cblx0fTtcblxuXHQkd3MgPSBmdW5jdGlvbiAkd3MoKSB7XG5cdFx0dmFyIG5leHQ7XG5cdFx0YWZ0ZXJXcyA9IGZhbHNlO1xuXHRcdHdoaWxlICh0cnVlKSB7XG5cdFx0XHRpZiAoIWNoYXIpIHJldHVybjtcblx0XHRcdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHdzU2V0LCBjaGFyKSkge1xuXHRcdFx0XHRhZnRlcldzID0gdHJ1ZTtcblx0XHRcdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwoZW9sU2V0LCBjaGFyKSkge1xuXHRcdFx0XHRcdGNvbHVtbkluZGV4ID0gaSArIDE7XG5cdFx0XHRcdFx0KytsaW5lO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGNoYXIgPT09ICcvJykge1xuXHRcdFx0XHRuZXh0ID0gdXNlckNvZGVbaSArIDFdO1xuXHRcdFx0XHRpZiAobmV4dCA9PT0gJy8nKSB7XG5cdFx0XHRcdFx0Y2hhciA9IHVzZXJDb2RlW2kgKz0gMl07XG5cdFx0XHRcdFx0YWZ0ZXJXcyA9IHRydWU7XG5cdFx0XHRcdFx0JGNvbW1lbnQoKTtcblx0XHRcdFx0fSBlbHNlIGlmIChuZXh0ID09PSAnKicpIHtcblx0XHRcdFx0XHRjaGFyID0gdXNlckNvZGVbaSArPSAyXTtcblx0XHRcdFx0XHRhZnRlcldzID0gdHJ1ZTtcblx0XHRcdFx0XHQkbXVsdGlDb21tZW50KCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0Y2hhciA9IHVzZXJDb2RlWysraV07XG5cdFx0fVxuXHRcdHJldHVybiAkY29tbW9uO1xuXHR9O1xuXG5cdCRzdHJpbmcgPSBmdW5jdGlvbiAkc3RyaW5nKCkge1xuXHRcdHdoaWxlICh0cnVlKSB7XG5cdFx0XHRpZiAoIWNoYXIpIHJldHVybjtcblx0XHRcdGlmIChjaGFyID09PSBxdW90ZSkge1xuXHRcdFx0XHRjaGFyID0gdXNlckNvZGVbKytpXTtcblx0XHRcdFx0cHJldmlvdXNDaGFyID0gcXVvdGU7XG5cdFx0XHRcdHJldHVybiAkd3M7XG5cdFx0XHR9XG5cdFx0XHRpZiAoY2hhciA9PT0gJ1xcXFwnKSB7XG5cdFx0XHRcdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGVvbFNldCwgdXNlckNvZGVbKytpXSkpIHtcblx0XHRcdFx0XHRjb2x1bW5JbmRleCA9IGkgKyAxO1xuXHRcdFx0XHRcdCsrbGluZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0Y2hhciA9IHVzZXJDb2RlWysraV07XG5cdFx0fVxuXHR9O1xuXG5cdCRyZWdFeHAgPSBmdW5jdGlvbiAkcmVnRXhwKCkge1xuXHRcdHdoaWxlICh0cnVlKSB7XG5cdFx0XHRpZiAoIWNoYXIpIHJldHVybjtcblx0XHRcdGlmIChjaGFyID09PSAnLycpIHtcblx0XHRcdFx0cHJldmlvdXNDaGFyID0gJy8nO1xuXHRcdFx0XHRjaGFyID0gdXNlckNvZGVbKytpXTtcblx0XHRcdFx0cmV0dXJuICR3cztcblx0XHRcdH1cblx0XHRcdGlmIChjaGFyID09PSAnXFxcXCcpICsraTtcblx0XHRcdGNoYXIgPSB1c2VyQ29kZVsrK2ldO1xuXHRcdH1cblx0fTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBmdW5jdGlvbiAoX2V4cG9ydHMpIHtcblx0XHRmdW5jdGlvbiBleHBvcnRzKF94LCBfeDIsIF94Mykge1xuXHRcdFx0cmV0dXJuIF9leHBvcnRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0fVxuXG5cdFx0ZXhwb3J0cy50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBfZXhwb3J0cy50b1N0cmluZygpO1xuXHRcdH07XG5cblx0XHRyZXR1cm4gZXhwb3J0cztcblx0fShmdW5jdGlvbiAoY29kZSwgdHJpZ2dlckNoYXIsIGNhbGxiYWNrKSB7XG5cdFx0dmFyIHN0YXRlO1xuXG5cdFx0dXNlckNvZGUgPSBTdHJpbmcodmFsdWUoY29kZSkpO1xuXHRcdHVzZXJUcmlnZ2VyQ2hhciA9IFN0cmluZyh2YWx1ZSh0cmlnZ2VyQ2hhcikpO1xuXHRcdGlmICh1c2VyVHJpZ2dlckNoYXIubGVuZ3RoICE9PSAxKSB7XG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKHVzZXJUcmlnZ2VyQ2hhciArIFwiIHNob3VsZCBiZSBvbmUgY2hhcmFjdGVyIGxvbmcgc3RyaW5nXCIpO1xuXHRcdH1cblx0XHR1c2VyQ2FsbGJhY2sgPSBjYWxsYWJsZShjYWxsYmFjayk7XG5cdFx0aXNVc2VyVHJpZ2dlck9wZXJhdG9yQ2hhciA9IGhhc093blByb3BlcnR5LmNhbGwobm9uTmFtZVNldCwgdXNlclRyaWdnZXJDaGFyKTtcblx0XHRpID0gMDtcblx0XHRjaGFyID0gdXNlckNvZGVbaV07XG5cdFx0bGluZSA9IDE7XG5cdFx0Y29sdW1uSW5kZXggPSAwO1xuXHRcdGFmdGVyV3MgPSBmYWxzZTtcblx0XHRwcmV2aW91c0NoYXIgPSBudWxsO1xuXHRcdG5lc3QgPSAwO1xuXHRcdG5lc3RlZFRva2VucyA9IFtdO1xuXHRcdHJlc3VsdHMgPSBbXTtcblx0XHRleHBvcnRzLmZvcmNlU3RvcCA9IGZhbHNlO1xuXHRcdHN0YXRlID0gJHdzO1xuXHRcdHdoaWxlIChzdGF0ZSkge1xuXHRcdFx0c3RhdGUgPSBzdGF0ZSgpO1xuXHRcdH1yZXR1cm4gcmVzdWx0cztcblx0fSk7XG5cblx0T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZXhwb3J0cywge1xuXHRcdCR3czogZCgkd3MpLFxuXHRcdCRjb21tb246IGQoJGNvbW1vbiksXG5cdFx0Y29sbGVjdE5lc3Q6IGQoY29sbGVjdE5lc3QpLFxuXHRcdG1vdmU6IGQobW92ZSksXG5cdFx0aW5kZXg6IGQuZ3MoZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGk7XG5cdFx0fSksXG5cdFx0bGluZTogZC5ncyhmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gbGluZTtcblx0XHR9KSxcblx0XHRuZXN0OiBkLmdzKGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBuZXN0O1xuXHRcdH0pLFxuXHRcdGNvbHVtbkluZGV4OiBkLmdzKGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBjb2x1bW5JbmRleDtcblx0XHR9KSxcblx0XHRuZXh0OiBkKGZ1bmN0aW9uIChzdGVwKSB7XG5cdFx0XHRpZiAoIWNoYXIpIHJldHVybjtcblx0XHRcdG1vdmUoaSArIChzdGVwIHx8IDEpKTtcblx0XHRcdHJldHVybiAkd3MoKTtcblx0XHR9KSxcblx0XHRyZXN1bWU6IGQoZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuICRjb21tb247XG5cdFx0fSlcblx0fSk7XG5cbi8qKiovIH0pLFxuLyogNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KSgpID8gQXJyYXkuZnJvbSA6IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cbi8qKiovIH0pLFxuLyogNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuXHRcdHZhciBmcm9tID0gQXJyYXkuZnJvbSxcblx0XHQgICAgYXJyLFxuXHRcdCAgICByZXN1bHQ7XG5cdFx0aWYgKHR5cGVvZiBmcm9tICE9PSBcImZ1bmN0aW9uXCIpIHJldHVybiBmYWxzZTtcblx0XHRhcnIgPSBbXCJyYXpcIiwgXCJkd2FcIl07XG5cdFx0cmVzdWx0ID0gZnJvbShhcnIpO1xuXHRcdHJldHVybiBCb29sZWFuKHJlc3VsdCAmJiByZXN1bHQgIT09IGFyciAmJiByZXN1bHRbMV0gPT09IFwiZHdhXCIpO1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHR2YXIgaXRlcmF0b3JTeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpLml0ZXJhdG9yLFxuXHQgICAgaXNBcmd1bWVudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KSxcblx0ICAgIGlzRnVuY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI5KSxcblx0ICAgIHRvUG9zSW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMCksXG5cdCAgICBjYWxsYWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzUpLFxuXHQgICAgdmFsaWRWYWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjApLFxuXHQgICAgaXNWYWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpLFxuXHQgICAgaXNTdHJpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM2KSxcblx0ICAgIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5LFxuXHQgICAgY2FsbCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsLFxuXHQgICAgZGVzYyA9IHsgY29uZmlndXJhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWU6IG51bGwgfSxcblx0ICAgIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFycmF5TGlrZSAvKiwgbWFwRm4sIHRoaXNBcmcqLykge1xuXHRcdHZhciBtYXBGbiA9IGFyZ3VtZW50c1sxXSxcblx0XHQgICAgdGhpc0FyZyA9IGFyZ3VtZW50c1syXSxcblx0XHQgICAgQ29udGV4dCxcblx0XHQgICAgaSxcblx0XHQgICAgaixcblx0XHQgICAgYXJyLFxuXHRcdCAgICBsZW5ndGgsXG5cdFx0ICAgIGNvZGUsXG5cdFx0ICAgIGl0ZXJhdG9yLFxuXHRcdCAgICByZXN1bHQsXG5cdFx0ICAgIGdldEl0ZXJhdG9yLFxuXHRcdCAgICB2YWx1ZTtcblxuXHRcdGFycmF5TGlrZSA9IE9iamVjdCh2YWxpZFZhbHVlKGFycmF5TGlrZSkpO1xuXG5cdFx0aWYgKGlzVmFsdWUobWFwRm4pKSBjYWxsYWJsZShtYXBGbik7XG5cdFx0aWYgKCF0aGlzIHx8IHRoaXMgPT09IEFycmF5IHx8ICFpc0Z1bmN0aW9uKHRoaXMpKSB7XG5cdFx0XHQvLyBSZXN1bHQ6IFBsYWluIGFycmF5XG5cdFx0XHRpZiAoIW1hcEZuKSB7XG5cdFx0XHRcdGlmIChpc0FyZ3VtZW50cyhhcnJheUxpa2UpKSB7XG5cdFx0XHRcdFx0Ly8gU291cmNlOiBBcmd1bWVudHNcblx0XHRcdFx0XHRsZW5ndGggPSBhcnJheUxpa2UubGVuZ3RoO1xuXHRcdFx0XHRcdGlmIChsZW5ndGggIT09IDEpIHJldHVybiBBcnJheS5hcHBseShudWxsLCBhcnJheUxpa2UpO1xuXHRcdFx0XHRcdGFyciA9IG5ldyBBcnJheSgxKTtcblx0XHRcdFx0XHRhcnJbMF0gPSBhcnJheUxpa2VbMF07XG5cdFx0XHRcdFx0cmV0dXJuIGFycjtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoaXNBcnJheShhcnJheUxpa2UpKSB7XG5cdFx0XHRcdFx0Ly8gU291cmNlOiBBcnJheVxuXHRcdFx0XHRcdGFyciA9IG5ldyBBcnJheShsZW5ndGggPSBhcnJheUxpa2UubGVuZ3RoKTtcblx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcblx0XHRcdFx0XHRcdGFycltpXSA9IGFycmF5TGlrZVtpXTtcblx0XHRcdFx0XHR9cmV0dXJuIGFycjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0YXJyID0gW107XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIFJlc3VsdDogTm9uIHBsYWluIGFycmF5XG5cdFx0XHRDb250ZXh0ID0gdGhpcztcblx0XHR9XG5cblx0XHRpZiAoIWlzQXJyYXkoYXJyYXlMaWtlKSkge1xuXHRcdFx0aWYgKChnZXRJdGVyYXRvciA9IGFycmF5TGlrZVtpdGVyYXRvclN5bWJvbF0pICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Ly8gU291cmNlOiBJdGVyYXRvclxuXHRcdFx0XHRpdGVyYXRvciA9IGNhbGxhYmxlKGdldEl0ZXJhdG9yKS5jYWxsKGFycmF5TGlrZSk7XG5cdFx0XHRcdGlmIChDb250ZXh0KSBhcnIgPSBuZXcgQ29udGV4dCgpO1xuXHRcdFx0XHRyZXN1bHQgPSBpdGVyYXRvci5uZXh0KCk7XG5cdFx0XHRcdGkgPSAwO1xuXHRcdFx0XHR3aGlsZSAoIXJlc3VsdC5kb25lKSB7XG5cdFx0XHRcdFx0dmFsdWUgPSBtYXBGbiA/IGNhbGwuY2FsbChtYXBGbiwgdGhpc0FyZywgcmVzdWx0LnZhbHVlLCBpKSA6IHJlc3VsdC52YWx1ZTtcblx0XHRcdFx0XHRpZiAoQ29udGV4dCkge1xuXHRcdFx0XHRcdFx0ZGVzYy52YWx1ZSA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0ZGVmaW5lUHJvcGVydHkoYXJyLCBpLCBkZXNjKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0YXJyW2ldID0gdmFsdWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJlc3VsdCA9IGl0ZXJhdG9yLm5leHQoKTtcblx0XHRcdFx0XHQrK2k7XG5cdFx0XHRcdH1cblx0XHRcdFx0bGVuZ3RoID0gaTtcblx0XHRcdH0gZWxzZSBpZiAoaXNTdHJpbmcoYXJyYXlMaWtlKSkge1xuXHRcdFx0XHQvLyBTb3VyY2U6IFN0cmluZ1xuXHRcdFx0XHRsZW5ndGggPSBhcnJheUxpa2UubGVuZ3RoO1xuXHRcdFx0XHRpZiAoQ29udGV4dCkgYXJyID0gbmV3IENvbnRleHQoKTtcblx0XHRcdFx0Zm9yIChpID0gMCwgaiA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuXHRcdFx0XHRcdHZhbHVlID0gYXJyYXlMaWtlW2ldO1xuXHRcdFx0XHRcdGlmIChpICsgMSA8IGxlbmd0aCkge1xuXHRcdFx0XHRcdFx0Y29kZSA9IHZhbHVlLmNoYXJDb2RlQXQoMCk7XG5cdFx0XHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWRlcHRoXG5cdFx0XHRcdFx0XHRpZiAoY29kZSA+PSAweGQ4MDAgJiYgY29kZSA8PSAweGRiZmYpIHZhbHVlICs9IGFycmF5TGlrZVsrK2ldO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR2YWx1ZSA9IG1hcEZuID8gY2FsbC5jYWxsKG1hcEZuLCB0aGlzQXJnLCB2YWx1ZSwgaikgOiB2YWx1ZTtcblx0XHRcdFx0XHRpZiAoQ29udGV4dCkge1xuXHRcdFx0XHRcdFx0ZGVzYy52YWx1ZSA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0ZGVmaW5lUHJvcGVydHkoYXJyLCBqLCBkZXNjKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0YXJyW2pdID0gdmFsdWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdCsrajtcblx0XHRcdFx0fVxuXHRcdFx0XHRsZW5ndGggPSBqO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcblx0XHRcdC8vIFNvdXJjZTogYXJyYXkgb3IgYXJyYXktbGlrZVxuXHRcdFx0bGVuZ3RoID0gdG9Qb3NJbnQoYXJyYXlMaWtlLmxlbmd0aCk7XG5cdFx0XHRpZiAoQ29udGV4dCkgYXJyID0gbmV3IENvbnRleHQobGVuZ3RoKTtcblx0XHRcdGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuXHRcdFx0XHR2YWx1ZSA9IG1hcEZuID8gY2FsbC5jYWxsKG1hcEZuLCB0aGlzQXJnLCBhcnJheUxpa2VbaV0sIGkpIDogYXJyYXlMaWtlW2ldO1xuXHRcdFx0XHRpZiAoQ29udGV4dCkge1xuXHRcdFx0XHRcdGRlc2MudmFsdWUgPSB2YWx1ZTtcblx0XHRcdFx0XHRkZWZpbmVQcm9wZXJ0eShhcnIsIGksIGRlc2MpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGFycltpXSA9IHZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChDb250ZXh0KSB7XG5cdFx0XHRkZXNjLnZhbHVlID0gbnVsbDtcblx0XHRcdGFyci5sZW5ndGggPSBsZW5ndGg7XG5cdFx0fVxuXHRcdHJldHVybiBhcnI7XG5cdH07XG5cbi8qKiovIH0pLFxuLyogOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oOSkoKSA/IFN5bWJvbCA6IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXG4vKioqLyB9KSxcbi8qIDkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG5cdHZhciB2YWxpZFR5cGVzID0geyBvYmplY3Q6IHRydWUsIHN5bWJvbDogdHJ1ZSB9O1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuXHRcdHZhciBzeW1ib2w7XG5cdFx0aWYgKHR5cGVvZiBTeW1ib2wgIT09ICdmdW5jdGlvbicpIHJldHVybiBmYWxzZTtcblx0XHRzeW1ib2wgPSBTeW1ib2woJ3Rlc3Qgc3ltYm9sJyk7XG5cdFx0dHJ5IHtcblx0XHRcdFN0cmluZyhzeW1ib2wpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBSZXR1cm4gJ3RydWUnIGFsc28gZm9yIHBvbHlmaWxsc1xuXHRcdGlmICghdmFsaWRUeXBlc1tfdHlwZW9mKFN5bWJvbC5pdGVyYXRvcildKSByZXR1cm4gZmFsc2U7XG5cdFx0aWYgKCF2YWxpZFR5cGVzW190eXBlb2YoU3ltYm9sLnRvUHJpbWl0aXZlKV0pIHJldHVybiBmYWxzZTtcblx0XHRpZiAoIXZhbGlkVHlwZXNbX3R5cGVvZihTeW1ib2wudG9TdHJpbmdUYWcpXSkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH07XG5cbi8qKiovIH0pLFxuLyogMTAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvLyBFUzIwMTUgU3ltYm9sIHBvbHlmaWxsIGZvciBlbnZpcm9ubWVudHMgdGhhdCBkbyBub3QgKG9yIHBhcnRpYWxseSkgc3VwcG9ydCBpdFxuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cblx0dmFyIGQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKSxcblx0ICAgIHZhbGlkYXRlU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNiksXG5cdCAgICBjcmVhdGUgPSBPYmplY3QuY3JlYXRlLFxuXHQgICAgZGVmaW5lUHJvcGVydGllcyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLFxuXHQgICAgZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHksXG5cdCAgICBvYmpQcm90b3R5cGUgPSBPYmplY3QucHJvdG90eXBlLFxuXHQgICAgTmF0aXZlU3ltYm9sLFxuXHQgICAgU3ltYm9sUG9seWZpbGwsXG5cdCAgICBIaWRkZW5TeW1ib2wsXG5cdCAgICBnbG9iYWxTeW1ib2xzID0gY3JlYXRlKG51bGwpLFxuXHQgICAgaXNOYXRpdmVTYWZlO1xuXG5cdGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0TmF0aXZlU3ltYm9sID0gU3ltYm9sO1xuXHRcdHRyeSB7XG5cdFx0XHRTdHJpbmcoTmF0aXZlU3ltYm9sKCkpO1xuXHRcdFx0aXNOYXRpdmVTYWZlID0gdHJ1ZTtcblx0XHR9IGNhdGNoIChpZ25vcmUpIHt9XG5cdH1cblxuXHR2YXIgZ2VuZXJhdGVOYW1lID0gZnVuY3Rpb24gKCkge1xuXHRcdHZhciBjcmVhdGVkID0gY3JlYXRlKG51bGwpO1xuXHRcdHJldHVybiBmdW5jdGlvbiAoZGVzYykge1xuXHRcdFx0dmFyIHBvc3RmaXggPSAwLFxuXHRcdFx0ICAgIG5hbWUsXG5cdFx0XHQgICAgaWUxMUJ1Z1dvcmthcm91bmQ7XG5cdFx0XHR3aGlsZSAoY3JlYXRlZFtkZXNjICsgKHBvc3RmaXggfHwgJycpXSkge1xuXHRcdFx0XHQrK3Bvc3RmaXg7XG5cdFx0XHR9ZGVzYyArPSBwb3N0Zml4IHx8ICcnO1xuXHRcdFx0Y3JlYXRlZFtkZXNjXSA9IHRydWU7XG5cdFx0XHRuYW1lID0gJ0BAJyArIGRlc2M7XG5cdFx0XHRkZWZpbmVQcm9wZXJ0eShvYmpQcm90b3R5cGUsIG5hbWUsIGQuZ3MobnVsbCwgZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0XHRcdC8vIEZvciBJRTExIGlzc3VlIHNlZTpcblx0XHRcdFx0Ly8gaHR0cHM6Ly9jb25uZWN0Lm1pY3Jvc29mdC5jb20vSUUvZmVlZGJhY2tkZXRhaWwvdmlldy8xOTI4NTA4L1xuXHRcdFx0XHQvLyAgICBpZTExLWJyb2tlbi1nZXR0ZXJzLW9uLWRvbS1vYmplY3RzXG5cdFx0XHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpa29vL2VzNi1zeW1ib2wvaXNzdWVzLzEyXG5cdFx0XHRcdGlmIChpZTExQnVnV29ya2Fyb3VuZCkgcmV0dXJuO1xuXHRcdFx0XHRpZTExQnVnV29ya2Fyb3VuZCA9IHRydWU7XG5cdFx0XHRcdGRlZmluZVByb3BlcnR5KHRoaXMsIG5hbWUsIGQodmFsdWUpKTtcblx0XHRcdFx0aWUxMUJ1Z1dvcmthcm91bmQgPSBmYWxzZTtcblx0XHRcdH0pKTtcblx0XHRcdHJldHVybiBuYW1lO1xuXHRcdH07XG5cdH0oKTtcblxuXHQvLyBJbnRlcm5hbCBjb25zdHJ1Y3RvciAobm90IG9uZSBleHBvc2VkKSBmb3IgY3JlYXRpbmcgU3ltYm9sIGluc3RhbmNlcy5cblx0Ly8gVGhpcyBvbmUgaXMgdXNlZCB0byBlbnN1cmUgdGhhdCBgc29tZVN5bWJvbCBpbnN0YW5jZW9mIFN5bWJvbGAgYWx3YXlzIHJldHVybiBmYWxzZVxuXHRIaWRkZW5TeW1ib2wgPSBmdW5jdGlvbiBfU3ltYm9sKGRlc2NyaXB0aW9uKSB7XG5cdFx0aWYgKHRoaXMgaW5zdGFuY2VvZiBIaWRkZW5TeW1ib2wpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1N5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvcicpO1xuXHRcdHJldHVybiBTeW1ib2xQb2x5ZmlsbChkZXNjcmlwdGlvbik7XG5cdH07XG5cblx0Ly8gRXhwb3NlZCBgU3ltYm9sYCBjb25zdHJ1Y3RvclxuXHQvLyAocmV0dXJucyBpbnN0YW5jZXMgb2YgSGlkZGVuU3ltYm9sKVxuXHRtb2R1bGUuZXhwb3J0cyA9IFN5bWJvbFBvbHlmaWxsID0gZnVuY3Rpb24gX1N5bWJvbDIoZGVzY3JpcHRpb24pIHtcblx0XHR2YXIgc3ltYm9sO1xuXHRcdGlmICh0aGlzIGluc3RhbmNlb2YgX1N5bWJvbDIpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1N5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvcicpO1xuXHRcdGlmIChpc05hdGl2ZVNhZmUpIHJldHVybiBOYXRpdmVTeW1ib2woZGVzY3JpcHRpb24pO1xuXHRcdHN5bWJvbCA9IGNyZWF0ZShIaWRkZW5TeW1ib2wucHJvdG90eXBlKTtcblx0XHRkZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uID09PSB1bmRlZmluZWQgPyAnJyA6IFN0cmluZyhkZXNjcmlwdGlvbik7XG5cdFx0cmV0dXJuIGRlZmluZVByb3BlcnRpZXMoc3ltYm9sLCB7XG5cdFx0XHRfX2Rlc2NyaXB0aW9uX186IGQoJycsIGRlc2NyaXB0aW9uKSxcblx0XHRcdF9fbmFtZV9fOiBkKCcnLCBnZW5lcmF0ZU5hbWUoZGVzY3JpcHRpb24pKVxuXHRcdH0pO1xuXHR9O1xuXHRkZWZpbmVQcm9wZXJ0aWVzKFN5bWJvbFBvbHlmaWxsLCB7XG5cdFx0Zm9yOiBkKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRcdGlmIChnbG9iYWxTeW1ib2xzW2tleV0pIHJldHVybiBnbG9iYWxTeW1ib2xzW2tleV07XG5cdFx0XHRyZXR1cm4gZ2xvYmFsU3ltYm9sc1trZXldID0gU3ltYm9sUG9seWZpbGwoU3RyaW5nKGtleSkpO1xuXHRcdH0pLFxuXHRcdGtleUZvcjogZChmdW5jdGlvbiAocykge1xuXHRcdFx0dmFyIGtleTtcblx0XHRcdHZhbGlkYXRlU3ltYm9sKHMpO1xuXHRcdFx0Zm9yIChrZXkgaW4gZ2xvYmFsU3ltYm9scykge1xuXHRcdFx0XHRpZiAoZ2xvYmFsU3ltYm9sc1trZXldID09PSBzKSByZXR1cm4ga2V5O1xuXHRcdFx0fVxuXHRcdH0pLFxuXG5cdFx0Ly8gVG8gZW5zdXJlIHByb3BlciBpbnRlcm9wZXJhYmlsaXR5IHdpdGggb3RoZXIgbmF0aXZlIGZ1bmN0aW9ucyAoZS5nLiBBcnJheS5mcm9tKVxuXHRcdC8vIGZhbGxiYWNrIHRvIGV2ZW50dWFsIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbiBvZiBnaXZlbiBzeW1ib2xcblx0XHRoYXNJbnN0YW5jZTogZCgnJywgTmF0aXZlU3ltYm9sICYmIE5hdGl2ZVN5bWJvbC5oYXNJbnN0YW5jZSB8fCBTeW1ib2xQb2x5ZmlsbCgnaGFzSW5zdGFuY2UnKSksXG5cdFx0aXNDb25jYXRTcHJlYWRhYmxlOiBkKCcnLCBOYXRpdmVTeW1ib2wgJiYgTmF0aXZlU3ltYm9sLmlzQ29uY2F0U3ByZWFkYWJsZSB8fCBTeW1ib2xQb2x5ZmlsbCgnaXNDb25jYXRTcHJlYWRhYmxlJykpLFxuXHRcdGl0ZXJhdG9yOiBkKCcnLCBOYXRpdmVTeW1ib2wgJiYgTmF0aXZlU3ltYm9sLml0ZXJhdG9yIHx8IFN5bWJvbFBvbHlmaWxsKCdpdGVyYXRvcicpKSxcblx0XHRtYXRjaDogZCgnJywgTmF0aXZlU3ltYm9sICYmIE5hdGl2ZVN5bWJvbC5tYXRjaCB8fCBTeW1ib2xQb2x5ZmlsbCgnbWF0Y2gnKSksXG5cdFx0cmVwbGFjZTogZCgnJywgTmF0aXZlU3ltYm9sICYmIE5hdGl2ZVN5bWJvbC5yZXBsYWNlIHx8IFN5bWJvbFBvbHlmaWxsKCdyZXBsYWNlJykpLFxuXHRcdHNlYXJjaDogZCgnJywgTmF0aXZlU3ltYm9sICYmIE5hdGl2ZVN5bWJvbC5zZWFyY2ggfHwgU3ltYm9sUG9seWZpbGwoJ3NlYXJjaCcpKSxcblx0XHRzcGVjaWVzOiBkKCcnLCBOYXRpdmVTeW1ib2wgJiYgTmF0aXZlU3ltYm9sLnNwZWNpZXMgfHwgU3ltYm9sUG9seWZpbGwoJ3NwZWNpZXMnKSksXG5cdFx0c3BsaXQ6IGQoJycsIE5hdGl2ZVN5bWJvbCAmJiBOYXRpdmVTeW1ib2wuc3BsaXQgfHwgU3ltYm9sUG9seWZpbGwoJ3NwbGl0JykpLFxuXHRcdHRvUHJpbWl0aXZlOiBkKCcnLCBOYXRpdmVTeW1ib2wgJiYgTmF0aXZlU3ltYm9sLnRvUHJpbWl0aXZlIHx8IFN5bWJvbFBvbHlmaWxsKCd0b1ByaW1pdGl2ZScpKSxcblx0XHR0b1N0cmluZ1RhZzogZCgnJywgTmF0aXZlU3ltYm9sICYmIE5hdGl2ZVN5bWJvbC50b1N0cmluZ1RhZyB8fCBTeW1ib2xQb2x5ZmlsbCgndG9TdHJpbmdUYWcnKSksXG5cdFx0dW5zY29wYWJsZXM6IGQoJycsIE5hdGl2ZVN5bWJvbCAmJiBOYXRpdmVTeW1ib2wudW5zY29wYWJsZXMgfHwgU3ltYm9sUG9seWZpbGwoJ3Vuc2NvcGFibGVzJykpXG5cdH0pO1xuXG5cdC8vIEludGVybmFsIHR3ZWFrcyBmb3IgcmVhbCBzeW1ib2wgcHJvZHVjZXJcblx0ZGVmaW5lUHJvcGVydGllcyhIaWRkZW5TeW1ib2wucHJvdG90eXBlLCB7XG5cdFx0Y29uc3RydWN0b3I6IGQoU3ltYm9sUG9seWZpbGwpLFxuXHRcdHRvU3RyaW5nOiBkKCcnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fX25hbWVfXztcblx0XHR9KVxuXHR9KTtcblxuXHQvLyBQcm9wZXIgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBleHBvc2VkIG9uIFN5bWJvbC5wcm90b3R5cGVcblx0Ly8gVGhleSB3b24ndCBiZSBhY2Nlc3NpYmxlIG9uIHByb2R1Y2VkIHN5bWJvbCBpbnN0YW5jZXMgYXMgdGhleSBkZXJpdmUgZnJvbSBIaWRkZW5TeW1ib2wucHJvdG90eXBlXG5cdGRlZmluZVByb3BlcnRpZXMoU3ltYm9sUG9seWZpbGwucHJvdG90eXBlLCB7XG5cdFx0dG9TdHJpbmc6IGQoZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuICdTeW1ib2wgKCcgKyB2YWxpZGF0ZVN5bWJvbCh0aGlzKS5fX2Rlc2NyaXB0aW9uX18gKyAnKSc7XG5cdFx0fSksXG5cdFx0dmFsdWVPZjogZChmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gdmFsaWRhdGVTeW1ib2wodGhpcyk7XG5cdFx0fSlcblx0fSk7XG5cdGRlZmluZVByb3BlcnR5KFN5bWJvbFBvbHlmaWxsLnByb3RvdHlwZSwgU3ltYm9sUG9seWZpbGwudG9QcmltaXRpdmUsIGQoJycsIGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgc3ltYm9sID0gdmFsaWRhdGVTeW1ib2wodGhpcyk7XG5cdFx0aWYgKCh0eXBlb2Ygc3ltYm9sID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihzeW1ib2wpKSA9PT0gJ3N5bWJvbCcpIHJldHVybiBzeW1ib2w7XG5cdFx0cmV0dXJuIHN5bWJvbC50b1N0cmluZygpO1xuXHR9KSk7XG5cdGRlZmluZVByb3BlcnR5KFN5bWJvbFBvbHlmaWxsLnByb3RvdHlwZSwgU3ltYm9sUG9seWZpbGwudG9TdHJpbmdUYWcsIGQoJ2MnLCAnU3ltYm9sJykpO1xuXG5cdC8vIFByb3BlciBpbXBsZW1lbnRhdG9uIG9mIHRvUHJpbWl0aXZlIGFuZCB0b1N0cmluZ1RhZyBmb3IgcmV0dXJuZWQgc3ltYm9sIGluc3RhbmNlc1xuXHRkZWZpbmVQcm9wZXJ0eShIaWRkZW5TeW1ib2wucHJvdG90eXBlLCBTeW1ib2xQb2x5ZmlsbC50b1N0cmluZ1RhZywgZCgnYycsIFN5bWJvbFBvbHlmaWxsLnByb3RvdHlwZVtTeW1ib2xQb2x5ZmlsbC50b1N0cmluZ1RhZ10pKTtcblxuXHQvLyBOb3RlOiBJdCdzIGltcG9ydGFudCB0byBkZWZpbmUgYHRvUHJpbWl0aXZlYCBhcyBsYXN0IG9uZSwgYXMgc29tZSBpbXBsZW1lbnRhdGlvbnNcblx0Ly8gaW1wbGVtZW50IGB0b1ByaW1pdGl2ZWAgbmF0aXZlbHkgd2l0aG91dCBpbXBsZW1lbnRpbmcgYHRvU3RyaW5nVGFnYCAob3Igb3RoZXIgc3BlY2lmaWVkIHN5bWJvbHMpXG5cdC8vIEFuZCB0aGF0IG1heSBpbnZva2UgZXJyb3IgaW4gZGVmaW5pdGlvbiBmbG93OlxuXHQvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpa29vL2VzNi1zeW1ib2wvaXNzdWVzLzEzI2lzc3VlY29tbWVudC0xNjQxNDYxNDlcblx0ZGVmaW5lUHJvcGVydHkoSGlkZGVuU3ltYm9sLnByb3RvdHlwZSwgU3ltYm9sUG9seWZpbGwudG9QcmltaXRpdmUsIGQoJ2MnLCBTeW1ib2xQb2x5ZmlsbC5wcm90b3R5cGVbU3ltYm9sUG9seWZpbGwudG9QcmltaXRpdmVdKSk7XG5cbi8qKiovIH0pLFxuLyogMTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGFzc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpLFxuXHQgICAgbm9ybWFsaXplT3B0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpLFxuXHQgICAgaXNDYWxsYWJsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpLFxuXHQgICAgY29udGFpbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKSxcblx0ICAgIGQ7XG5cblx0ZCA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGRzY3IsIHZhbHVlIC8qLCBvcHRpb25zKi8pIHtcblx0XHR2YXIgYywgZSwgdywgb3B0aW9ucywgZGVzYztcblx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIgfHwgdHlwZW9mIGRzY3IgIT09ICdzdHJpbmcnKSB7XG5cdFx0XHRvcHRpb25zID0gdmFsdWU7XG5cdFx0XHR2YWx1ZSA9IGRzY3I7XG5cdFx0XHRkc2NyID0gbnVsbDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0b3B0aW9ucyA9IGFyZ3VtZW50c1syXTtcblx0XHR9XG5cdFx0aWYgKGRzY3IgPT0gbnVsbCkge1xuXHRcdFx0YyA9IHcgPSB0cnVlO1xuXHRcdFx0ZSA9IGZhbHNlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjID0gY29udGFpbnMuY2FsbChkc2NyLCAnYycpO1xuXHRcdFx0ZSA9IGNvbnRhaW5zLmNhbGwoZHNjciwgJ2UnKTtcblx0XHRcdHcgPSBjb250YWlucy5jYWxsKGRzY3IsICd3Jyk7XG5cdFx0fVxuXG5cdFx0ZGVzYyA9IHsgdmFsdWU6IHZhbHVlLCBjb25maWd1cmFibGU6IGMsIGVudW1lcmFibGU6IGUsIHdyaXRhYmxlOiB3IH07XG5cdFx0cmV0dXJuICFvcHRpb25zID8gZGVzYyA6IGFzc2lnbihub3JtYWxpemVPcHRzKG9wdGlvbnMpLCBkZXNjKTtcblx0fTtcblxuXHRkLmdzID0gZnVuY3Rpb24gKGRzY3IsIGdldCwgc2V0IC8qLCBvcHRpb25zKi8pIHtcblx0XHR2YXIgYywgZSwgb3B0aW9ucywgZGVzYztcblx0XHRpZiAodHlwZW9mIGRzY3IgIT09ICdzdHJpbmcnKSB7XG5cdFx0XHRvcHRpb25zID0gc2V0O1xuXHRcdFx0c2V0ID0gZ2V0O1xuXHRcdFx0Z2V0ID0gZHNjcjtcblx0XHRcdGRzY3IgPSBudWxsO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRvcHRpb25zID0gYXJndW1lbnRzWzNdO1xuXHRcdH1cblx0XHRpZiAoZ2V0ID09IG51bGwpIHtcblx0XHRcdGdldCA9IHVuZGVmaW5lZDtcblx0XHR9IGVsc2UgaWYgKCFpc0NhbGxhYmxlKGdldCkpIHtcblx0XHRcdG9wdGlvbnMgPSBnZXQ7XG5cdFx0XHRnZXQgPSBzZXQgPSB1bmRlZmluZWQ7XG5cdFx0fSBlbHNlIGlmIChzZXQgPT0gbnVsbCkge1xuXHRcdFx0c2V0ID0gdW5kZWZpbmVkO1xuXHRcdH0gZWxzZSBpZiAoIWlzQ2FsbGFibGUoc2V0KSkge1xuXHRcdFx0b3B0aW9ucyA9IHNldDtcblx0XHRcdHNldCA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdFx0aWYgKGRzY3IgPT0gbnVsbCkge1xuXHRcdFx0YyA9IHRydWU7XG5cdFx0XHRlID0gZmFsc2U7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGMgPSBjb250YWlucy5jYWxsKGRzY3IsICdjJyk7XG5cdFx0XHRlID0gY29udGFpbnMuY2FsbChkc2NyLCAnZScpO1xuXHRcdH1cblxuXHRcdGRlc2MgPSB7IGdldDogZ2V0LCBzZXQ6IHNldCwgY29uZmlndXJhYmxlOiBjLCBlbnVtZXJhYmxlOiBlIH07XG5cdFx0cmV0dXJuICFvcHRpb25zID8gZGVzYyA6IGFzc2lnbihub3JtYWxpemVPcHRzKG9wdGlvbnMpLCBkZXNjKTtcblx0fTtcblxuLyoqKi8gfSksXG4vKiAxMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMykoKSA/IE9iamVjdC5hc3NpZ24gOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTtcblxuLyoqKi8gfSksXG4vKiAxMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuXHRcdHZhciBhc3NpZ24gPSBPYmplY3QuYXNzaWduLFxuXHRcdCAgICBvYmo7XG5cdFx0aWYgKHR5cGVvZiBhc3NpZ24gIT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIGZhbHNlO1xuXHRcdG9iaiA9IHsgZm9vOiBcInJhelwiIH07XG5cdFx0YXNzaWduKG9iaiwgeyBiYXI6IFwiZHdhXCIgfSwgeyB0cnp5OiBcInRyenlcIiB9KTtcblx0XHRyZXR1cm4gb2JqLmZvbyArIG9iai5iYXIgKyBvYmoudHJ6eSA9PT0gXCJyYXpkd2F0cnp5XCI7XG5cdH07XG5cbi8qKiovIH0pLFxuLyogMTQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHR2YXIga2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpLFxuXHQgICAgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKSxcblx0ICAgIG1heCA9IE1hdGgubWF4O1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGRlc3QsIHNyYyAvKiwg4oCmc3JjbiovKSB7XG5cdFx0dmFyIGVycm9yLFxuXHRcdCAgICBpLFxuXHRcdCAgICBsZW5ndGggPSBtYXgoYXJndW1lbnRzLmxlbmd0aCwgMiksXG5cdFx0ICAgIGFzc2lnbjtcblx0XHRkZXN0ID0gT2JqZWN0KHZhbHVlKGRlc3QpKTtcblx0XHRhc3NpZ24gPSBmdW5jdGlvbiBhc3NpZ24oa2V5KSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRkZXN0W2tleV0gPSBzcmNba2V5XTtcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlO1xuXHRcdFx0fVxuXHRcdH07XG5cdFx0Zm9yIChpID0gMTsgaSA8IGxlbmd0aDsgKytpKSB7XG5cdFx0XHRzcmMgPSBhcmd1bWVudHNbaV07XG5cdFx0XHRrZXlzKHNyYykuZm9yRWFjaChhc3NpZ24pO1xuXHRcdH1cblx0XHRpZiAoZXJyb3IgIT09IHVuZGVmaW5lZCkgdGhyb3cgZXJyb3I7XG5cdFx0cmV0dXJuIGRlc3Q7XG5cdH07XG5cbi8qKiovIH0pLFxuLyogMTUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpKCkgPyBPYmplY3Qua2V5cyA6IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xuXG4vKioqLyB9KSxcbi8qIDE2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG5cdFx0dHJ5IHtcblx0XHRcdE9iamVjdC5rZXlzKFwicHJpbWl0aXZlXCIpO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fTtcblxuLyoqKi8gfSksXG4vKiAxNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdHZhciBpc1ZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG5cblx0dmFyIGtleXMgPSBPYmplY3Qua2V5cztcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmplY3QpIHtcblx0XHRyZXR1cm4ga2V5cyhpc1ZhbHVlKG9iamVjdCkgPyBPYmplY3Qob2JqZWN0KSA6IG9iamVjdCk7XG5cdH07XG5cbi8qKiovIH0pLFxuLyogMTggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHR2YXIgX3VuZGVmaW5lZCA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpKCk7IC8vIFN1cHBvcnQgRVMzIGVuZ2luZXNcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh2YWwpIHtcblx0ICByZXR1cm4gdmFsICE9PSBfdW5kZWZpbmVkICYmIHZhbCAhPT0gbnVsbDtcblx0fTtcblxuLyoqKi8gfSksXG4vKiAxOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lbXB0eS1mdW5jdGlvblxuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge307XG5cbi8qKiovIH0pLFxuLyogMjAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHR2YXIgaXNWYWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0aWYgKCFpc1ZhbHVlKHZhbHVlKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB1c2UgbnVsbCBvciB1bmRlZmluZWRcIik7XG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDIxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0dmFyIGlzVmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcblxuXHR2YXIgZm9yRWFjaCA9IEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLFxuXHQgICAgY3JlYXRlID0gT2JqZWN0LmNyZWF0ZTtcblxuXHR2YXIgcHJvY2VzcyA9IGZ1bmN0aW9uIHByb2Nlc3Moc3JjLCBvYmopIHtcblx0XHR2YXIga2V5O1xuXHRcdGZvciAoa2V5IGluIHNyYykge1xuXHRcdFx0b2JqW2tleV0gPSBzcmNba2V5XTtcblx0XHR9XG5cdH07XG5cblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9wdHMxIC8qLCDigKZvcHRpb25zKi8pIHtcblx0XHR2YXIgcmVzdWx0ID0gY3JlYXRlKG51bGwpO1xuXHRcdGZvckVhY2guY2FsbChhcmd1bWVudHMsIGZ1bmN0aW9uIChvcHRpb25zKSB7XG5cdFx0XHRpZiAoIWlzVmFsdWUob3B0aW9ucykpIHJldHVybjtcblx0XHRcdHByb2Nlc3MoT2JqZWN0KG9wdGlvbnMpLCByZXN1bHQpO1xuXHRcdH0pO1xuXHRcdHJldHVybiByZXN1bHQ7XG5cdH07XG5cbi8qKiovIH0pLFxuLyogMjIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyBEZXByZWNhdGVkXG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqKSB7XG5cdCAgcmV0dXJuIHR5cGVvZiBvYmogPT09IFwiZnVuY3Rpb25cIjtcblx0fTtcblxuLyoqKi8gfSksXG4vKiAyMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCkoKSA/IFN0cmluZy5wcm90b3R5cGUuY29udGFpbnMgOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcblxuLyoqKi8gfSksXG4vKiAyNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdHZhciBzdHIgPSBcInJhemR3YXRyenlcIjtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodHlwZW9mIHN0ci5jb250YWlucyAhPT0gXCJmdW5jdGlvblwiKSByZXR1cm4gZmFsc2U7XG5cdFx0cmV0dXJuIHN0ci5jb250YWlucyhcImR3YVwiKSA9PT0gdHJ1ZSAmJiBzdHIuY29udGFpbnMoXCJmb29cIikgPT09IGZhbHNlO1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDI1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0dmFyIGluZGV4T2YgPSBTdHJpbmcucHJvdG90eXBlLmluZGV4T2Y7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc2VhcmNoU3RyaW5nIC8qLCBwb3NpdGlvbiovKSB7XG5cdFx0cmV0dXJuIGluZGV4T2YuY2FsbCh0aGlzLCBzZWFyY2hTdHJpbmcsIGFyZ3VtZW50c1sxXSkgPiAtMTtcblx0fTtcblxuLyoqKi8gfSksXG4vKiAyNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgaXNTeW1ib2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdGlmICghaXNTeW1ib2wodmFsdWUpKSB0aHJvdyBuZXcgVHlwZUVycm9yKHZhbHVlICsgXCIgaXMgbm90IGEgc3ltYm9sXCIpO1xuXHRcdHJldHVybiB2YWx1ZTtcblx0fTtcblxuLyoqKi8gfSksXG4vKiAyNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoeCkge1xuXHRcdGlmICgheCkgcmV0dXJuIGZhbHNlO1xuXHRcdGlmICgodHlwZW9mIHggPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHgpKSA9PT0gJ3N5bWJvbCcpIHJldHVybiB0cnVlO1xuXHRcdGlmICgheC5jb25zdHJ1Y3RvcikgcmV0dXJuIGZhbHNlO1xuXHRcdGlmICh4LmNvbnN0cnVjdG9yLm5hbWUgIT09ICdTeW1ib2wnKSByZXR1cm4gZmFsc2U7XG5cdFx0cmV0dXJuIHhbeC5jb25zdHJ1Y3Rvci50b1N0cmluZ1RhZ10gPT09ICdTeW1ib2wnO1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDI4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0dmFyIG9ialRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxcblx0ICAgIGlkID0gb2JqVG9TdHJpbmcuY2FsbChmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIGFyZ3VtZW50cztcblx0fSgpKTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdHJldHVybiBvYmpUb1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gaWQ7XG5cdH07XG5cbi8qKiovIH0pLFxuLyogMjkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHR2YXIgb2JqVG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLFxuXHQgICAgaWQgPSBvYmpUb1N0cmluZy5jYWxsKF9fd2VicGFja19yZXF1aXJlX18oMTkpKTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmpUb1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gaWQ7XG5cdH07XG5cbi8qKiovIH0pLFxuLyogMzAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHR2YXIgdG9JbnRlZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMSksXG5cdCAgICBtYXggPSBNYXRoLm1heDtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgIHJldHVybiBtYXgoMCwgdG9JbnRlZ2VyKHZhbHVlKSk7XG5cdH07XG5cbi8qKiovIH0pLFxuLyogMzEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHR2YXIgc2lnbiA9IF9fd2VicGFja19yZXF1aXJlX18oMzIpLFxuXHQgICAgYWJzID0gTWF0aC5hYnMsXG5cdCAgICBmbG9vciA9IE1hdGguZmxvb3I7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRpZiAoaXNOYU4odmFsdWUpKSByZXR1cm4gMDtcblx0XHR2YWx1ZSA9IE51bWJlcih2YWx1ZSk7XG5cdFx0aWYgKHZhbHVlID09PSAwIHx8ICFpc0Zpbml0ZSh2YWx1ZSkpIHJldHVybiB2YWx1ZTtcblx0XHRyZXR1cm4gc2lnbih2YWx1ZSkgKiBmbG9vcihhYnModmFsdWUpKTtcblx0fTtcblxuLyoqKi8gfSksXG4vKiAzMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMykoKSA/IE1hdGguc2lnbiA6IF9fd2VicGFja19yZXF1aXJlX18oMzQpO1xuXG4vKioqLyB9KSxcbi8qIDMzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIHNpZ24gPSBNYXRoLnNpZ247XG5cdFx0aWYgKHR5cGVvZiBzaWduICE9PSBcImZ1bmN0aW9uXCIpIHJldHVybiBmYWxzZTtcblx0XHRyZXR1cm4gc2lnbigxMCkgPT09IDEgJiYgc2lnbigtMjApID09PSAtMTtcblx0fTtcblxuLyoqKi8gfSksXG4vKiAzNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0dmFsdWUgPSBOdW1iZXIodmFsdWUpO1xuXHRcdGlmIChpc05hTih2YWx1ZSkgfHwgdmFsdWUgPT09IDApIHJldHVybiB2YWx1ZTtcblx0XHRyZXR1cm4gdmFsdWUgPiAwID8gMSA6IC0xO1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDM1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZm4pIHtcblx0XHRpZiAodHlwZW9mIGZuICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoZm4gKyBcIiBpcyBub3QgYSBmdW5jdGlvblwiKTtcblx0XHRyZXR1cm4gZm47XG5cdH07XG5cbi8qKiovIH0pLFxuLyogMzYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cblx0dmFyIG9ialRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxcblx0ICAgIGlkID0gb2JqVG9TdHJpbmcuY2FsbChcIlwiKTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgfHwgdmFsdWUgJiYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKHZhbHVlKSkgPT09IFwib2JqZWN0XCIgJiYgKHZhbHVlIGluc3RhbmNlb2YgU3RyaW5nIHx8IG9ialRvU3RyaW5nLmNhbGwodmFsdWUpID09PSBpZCkgfHwgZmFsc2U7XG5cdH07XG5cbi8qKiovIH0pLFxuLyogMzcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHR2YXIgZm9yRWFjaCA9IEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLFxuXHQgICAgY3JlYXRlID0gT2JqZWN0LmNyZWF0ZTtcblxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXJnIC8qLCDigKZhcmdzKi8pIHtcblx0XHR2YXIgc2V0ID0gY3JlYXRlKG51bGwpO1xuXHRcdGZvckVhY2guY2FsbChhcmd1bWVudHMsIGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0XHRzZXRbbmFtZV0gPSB0cnVlO1xuXHRcdH0pO1xuXHRcdHJldHVybiBzZXQ7XG5cdH07XG5cbi8qKiovIH0pLFxuLyogMzggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGZyb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpLFxuXHQgICAgcHJpbWl0aXZlU2V0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNyk7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBwcmltaXRpdmVTZXQuYXBwbHkobnVsbCwgZnJvbSgnXFxuXFxyXFx1MjAyOFxcdTIwMjknKSk7XG5cbi8qKiovIH0pLFxuLyogMzkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIHByaW1pdGl2ZVNldCA9IF9fd2VicGFja19yZXF1aXJlX18oMzcpLFxuXHQgICAgZW9sID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOCksXG5cdCAgICBpbmxpbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHByaW1pdGl2ZVNldC5hcHBseShudWxsLCBPYmplY3Qua2V5cyhlb2wpLmNvbmNhdChPYmplY3Qua2V5cyhpbmxpbmUpKSk7XG5cbi8qKiovIH0pLFxuLyogNDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGZyb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpLFxuXHQgICAgcHJpbWl0aXZlU2V0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNyk7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBwcmltaXRpdmVTZXQuYXBwbHkobnVsbCwgZnJvbSgnIFxcZlxcdFxceDBCXFx1MjAwQlxceEEwXFx1MTY4MFxcdTIwMEJcXHUxODBFJyArICdcXHUyMDAwXFx1MjAwQlxcdTIwMDFcXHUyMDAyXFx1MjAwQlxcdTIwMDNcXHUyMDA0XFx1MjAwQlxcdTIwMDVcXHUyMDA2XFx1MjAwQlxcdTIwMDdcXHUyMDA4XFx1MjAwQlxcdTIwMDlcXHUyMDBBJyArICdcXHUyMDBCXFx1MjAwQlxcdTIwMEJcXHUyMDJGXFx1MjA1RlxcdTIwMEJcXHUzMDAwJykpO1xuXG4vKioqLyB9KSxcbi8qIDQxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciByZXNvbHZlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MiksXG5cdCAgICBwYXNzdGhydSA9IF9fd2VicGFja19yZXF1aXJlX18oNDQpO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGRhdGEsIGNvbnRleHQgLyosIG9wdGlvbnMqLykge1xuXHQgIHJldHVybiBwYXNzdGhydS5hcHBseShudWxsLCByZXNvbHZlKGRhdGEsIGNvbnRleHQsIGFyZ3VtZW50c1syXSkpO1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDQyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjApLFxuXHQgICAgbm9ybWFsaXplID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMSksXG5cdCAgICBpc1Zhck5hbWVWYWxpZCA9IF9fd2VicGFja19yZXF1aXJlX18oNDMpLFxuXHQgICAgbWFwID0gQXJyYXkucHJvdG90eXBlLm1hcCxcblx0ICAgIGtleXMgPSBPYmplY3Qua2V5cyxcblx0ICAgIHN0cmluZ2lmeSA9IEpTT04uc3RyaW5naWZ5O1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGRhdGEsIGNvbnRleHQgLyosIG9wdGlvbnMqLykge1xuXHRcdHZhciBuYW1lcyxcblx0XHQgICAgYXJnTmFtZXMsXG5cdFx0ICAgIGFyZ1ZhbHVlcyxcblx0XHQgICAgb3B0aW9ucyA9IE9iamVjdChhcmd1bWVudHNbMl0pO1xuXG5cdFx0dmFsdWUoZGF0YSkgJiYgdmFsdWUoZGF0YS5saXRlcmFscykgJiYgdmFsdWUoZGF0YS5zdWJzdGl0dXRpb25zKTtcblx0XHRjb250ZXh0ID0gbm9ybWFsaXplKGNvbnRleHQpO1xuXHRcdG5hbWVzID0ga2V5cyhjb250ZXh0KS5maWx0ZXIoaXNWYXJOYW1lVmFsaWQpO1xuXHRcdGFyZ05hbWVzID0gbmFtZXMuam9pbignLCAnKTtcblx0XHRhcmdWYWx1ZXMgPSBuYW1lcy5tYXAoZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRcdHJldHVybiBjb250ZXh0W25hbWVdO1xuXHRcdH0pO1xuXHRcdHJldHVybiBbZGF0YS5saXRlcmFsc10uY29uY2F0KG1hcC5jYWxsKGRhdGEuc3Vic3RpdHV0aW9ucywgZnVuY3Rpb24gKGV4cHIpIHtcblx0XHRcdHZhciByZXNvbHZlcjtcblx0XHRcdGlmICghZXhwcikgcmV0dXJuIHVuZGVmaW5lZDtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHJlc29sdmVyID0gbmV3IEZ1bmN0aW9uKGFyZ05hbWVzLCAncmV0dXJuICgnICsgZXhwciArICcpJyk7XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmFibGUgdG8gY29tcGlsZSBleHByZXNzaW9uOlxcblxcdGFyZ3M6IFwiICsgc3RyaW5naWZ5KGFyZ05hbWVzKSArIFwiXFxuXFx0Ym9keTogXCIgKyBzdHJpbmdpZnkoZXhwcikgKyBcIlxcblxcdGVycm9yOiBcIiArIGUuc3RhY2spO1xuXHRcdFx0fVxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0cmV0dXJuIHJlc29sdmVyLmFwcGx5KG51bGwsIGFyZ1ZhbHVlcyk7XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdGlmIChvcHRpb25zLnBhcnRpYWwpIHJldHVybiAnJHsnICsgZXhwciArICd9Jztcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcIlVuYWJsZSB0byByZXNvbHZlIGV4cHJlc3Npb246XFxuXFx0YXJnczogXCIgKyBzdHJpbmdpZnkoYXJnTmFtZXMpICsgXCJcXG5cXHRib2R5OiBcIiArIHN0cmluZ2lmeShleHByKSArIFwiXFxuXFx0ZXJyb3I6IFwiICsgZS5zdGFjayk7XG5cdFx0XHR9XG5cdFx0fSkpO1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDQzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gQ3JlZGl0OiBNYXRoaWFzIEJ5bmVucyAtPiBodHRwczovL21hdGhpYXNieW5lbnMuYmUvZGVtby9qYXZhc2NyaXB0LWlkZW50aWZpZXItcmVnZXhcblxuXHQndXNlIHN0cmljdCc7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBSZWdFeHAucHJvdG90eXBlLnRlc3QuYmluZCgvXig/ISg/OmRvfGlmfGlufGZvcnxsZXR8bmV3fHRyeXx2YXJ8Y2FzZXxlbHNlfGVudW18ZXZhbHxudWxsfHRoaXN8dHJ1ZXx2b2lkfHdpdGh8YXdhaXR8YnJlYWt8Y2F0Y2h8Y2xhc3N8Y29uc3R8ZmFsc2V8c3VwZXJ8dGhyb3d8d2hpbGV8eWllbGR8ZGVsZXRlfGV4cG9ydHxpbXBvcnR8cHVibGljfHJldHVybnxzdGF0aWN8c3dpdGNofHR5cGVvZnxkZWZhdWx0fGV4dGVuZHN8ZmluYWxseXxwYWNrYWdlfHByaXZhdGV8Y29udGludWV8ZGVidWdnZXJ8ZnVuY3Rpb258YXJndW1lbnRzfGludGVyZmFjZXxwcm90ZWN0ZWR8aW1wbGVtZW50c3xpbnN0YW5jZW9mKSQpKD86W1xcJEEtWl9hLXpcXHhBQVxceEI1XFx4QkFcXHhDMC1cXHhENlxceEQ4LVxceEY2XFx4RjgtXFx1MDJDMVxcdTAyQzYtXFx1MDJEMVxcdTAyRTAtXFx1MDJFNFxcdTAyRUNcXHUwMkVFXFx1MDM3MC1cXHUwMzc0XFx1MDM3NlxcdTAzNzdcXHUwMzdBLVxcdTAzN0RcXHUwMzdGXFx1MDM4NlxcdTAzODgtXFx1MDM4QVxcdTAzOENcXHUwMzhFLVxcdTAzQTFcXHUwM0EzLVxcdTAzRjVcXHUwM0Y3LVxcdTA0ODFcXHUwNDhBLVxcdTA1MkZcXHUwNTMxLVxcdTA1NTZcXHUwNTU5XFx1MDU2MS1cXHUwNTg3XFx1MDVEMC1cXHUwNUVBXFx1MDVGMC1cXHUwNUYyXFx1MDYyMC1cXHUwNjRBXFx1MDY2RVxcdTA2NkZcXHUwNjcxLVxcdTA2RDNcXHUwNkQ1XFx1MDZFNVxcdTA2RTZcXHUwNkVFXFx1MDZFRlxcdTA2RkEtXFx1MDZGQ1xcdTA2RkZcXHUwNzEwXFx1MDcxMi1cXHUwNzJGXFx1MDc0RC1cXHUwN0E1XFx1MDdCMVxcdTA3Q0EtXFx1MDdFQVxcdTA3RjRcXHUwN0Y1XFx1MDdGQVxcdTA4MDAtXFx1MDgxNVxcdTA4MUFcXHUwODI0XFx1MDgyOFxcdTA4NDAtXFx1MDg1OFxcdTA4QTAtXFx1MDhCNFxcdTA4QjYtXFx1MDhCRFxcdTA5MDQtXFx1MDkzOVxcdTA5M0RcXHUwOTUwXFx1MDk1OC1cXHUwOTYxXFx1MDk3MS1cXHUwOTgwXFx1MDk4NS1cXHUwOThDXFx1MDk4RlxcdTA5OTBcXHUwOTkzLVxcdTA5QThcXHUwOUFBLVxcdTA5QjBcXHUwOUIyXFx1MDlCNi1cXHUwOUI5XFx1MDlCRFxcdTA5Q0VcXHUwOURDXFx1MDlERFxcdTA5REYtXFx1MDlFMVxcdTA5RjBcXHUwOUYxXFx1MEEwNS1cXHUwQTBBXFx1MEEwRlxcdTBBMTBcXHUwQTEzLVxcdTBBMjhcXHUwQTJBLVxcdTBBMzBcXHUwQTMyXFx1MEEzM1xcdTBBMzVcXHUwQTM2XFx1MEEzOFxcdTBBMzlcXHUwQTU5LVxcdTBBNUNcXHUwQTVFXFx1MEE3Mi1cXHUwQTc0XFx1MEE4NS1cXHUwQThEXFx1MEE4Ri1cXHUwQTkxXFx1MEE5My1cXHUwQUE4XFx1MEFBQS1cXHUwQUIwXFx1MEFCMlxcdTBBQjNcXHUwQUI1LVxcdTBBQjlcXHUwQUJEXFx1MEFEMFxcdTBBRTBcXHUwQUUxXFx1MEFGOVxcdTBCMDUtXFx1MEIwQ1xcdTBCMEZcXHUwQjEwXFx1MEIxMy1cXHUwQjI4XFx1MEIyQS1cXHUwQjMwXFx1MEIzMlxcdTBCMzNcXHUwQjM1LVxcdTBCMzlcXHUwQjNEXFx1MEI1Q1xcdTBCNURcXHUwQjVGLVxcdTBCNjFcXHUwQjcxXFx1MEI4M1xcdTBCODUtXFx1MEI4QVxcdTBCOEUtXFx1MEI5MFxcdTBCOTItXFx1MEI5NVxcdTBCOTlcXHUwQjlBXFx1MEI5Q1xcdTBCOUVcXHUwQjlGXFx1MEJBM1xcdTBCQTRcXHUwQkE4LVxcdTBCQUFcXHUwQkFFLVxcdTBCQjlcXHUwQkQwXFx1MEMwNS1cXHUwQzBDXFx1MEMwRS1cXHUwQzEwXFx1MEMxMi1cXHUwQzI4XFx1MEMyQS1cXHUwQzM5XFx1MEMzRFxcdTBDNTgtXFx1MEM1QVxcdTBDNjBcXHUwQzYxXFx1MEM4MFxcdTBDODUtXFx1MEM4Q1xcdTBDOEUtXFx1MEM5MFxcdTBDOTItXFx1MENBOFxcdTBDQUEtXFx1MENCM1xcdTBDQjUtXFx1MENCOVxcdTBDQkRcXHUwQ0RFXFx1MENFMFxcdTBDRTFcXHUwQ0YxXFx1MENGMlxcdTBEMDUtXFx1MEQwQ1xcdTBEMEUtXFx1MEQxMFxcdTBEMTItXFx1MEQzQVxcdTBEM0RcXHUwRDRFXFx1MEQ1NC1cXHUwRDU2XFx1MEQ1Ri1cXHUwRDYxXFx1MEQ3QS1cXHUwRDdGXFx1MEQ4NS1cXHUwRDk2XFx1MEQ5QS1cXHUwREIxXFx1MERCMy1cXHUwREJCXFx1MERCRFxcdTBEQzAtXFx1MERDNlxcdTBFMDEtXFx1MEUzMFxcdTBFMzJcXHUwRTMzXFx1MEU0MC1cXHUwRTQ2XFx1MEU4MVxcdTBFODJcXHUwRTg0XFx1MEU4N1xcdTBFODhcXHUwRThBXFx1MEU4RFxcdTBFOTQtXFx1MEU5N1xcdTBFOTktXFx1MEU5RlxcdTBFQTEtXFx1MEVBM1xcdTBFQTVcXHUwRUE3XFx1MEVBQVxcdTBFQUJcXHUwRUFELVxcdTBFQjBcXHUwRUIyXFx1MEVCM1xcdTBFQkRcXHUwRUMwLVxcdTBFQzRcXHUwRUM2XFx1MEVEQy1cXHUwRURGXFx1MEYwMFxcdTBGNDAtXFx1MEY0N1xcdTBGNDktXFx1MEY2Q1xcdTBGODgtXFx1MEY4Q1xcdTEwMDAtXFx1MTAyQVxcdTEwM0ZcXHUxMDUwLVxcdTEwNTVcXHUxMDVBLVxcdTEwNURcXHUxMDYxXFx1MTA2NVxcdTEwNjZcXHUxMDZFLVxcdTEwNzBcXHUxMDc1LVxcdTEwODFcXHUxMDhFXFx1MTBBMC1cXHUxMEM1XFx1MTBDN1xcdTEwQ0RcXHUxMEQwLVxcdTEwRkFcXHUxMEZDLVxcdTEyNDhcXHUxMjRBLVxcdTEyNERcXHUxMjUwLVxcdTEyNTZcXHUxMjU4XFx1MTI1QS1cXHUxMjVEXFx1MTI2MC1cXHUxMjg4XFx1MTI4QS1cXHUxMjhEXFx1MTI5MC1cXHUxMkIwXFx1MTJCMi1cXHUxMkI1XFx1MTJCOC1cXHUxMkJFXFx1MTJDMFxcdTEyQzItXFx1MTJDNVxcdTEyQzgtXFx1MTJENlxcdTEyRDgtXFx1MTMxMFxcdTEzMTItXFx1MTMxNVxcdTEzMTgtXFx1MTM1QVxcdTEzODAtXFx1MTM4RlxcdTEzQTAtXFx1MTNGNVxcdTEzRjgtXFx1MTNGRFxcdTE0MDEtXFx1MTY2Q1xcdTE2NkYtXFx1MTY3RlxcdTE2ODEtXFx1MTY5QVxcdTE2QTAtXFx1MTZFQVxcdTE2RUUtXFx1MTZGOFxcdTE3MDAtXFx1MTcwQ1xcdTE3MEUtXFx1MTcxMVxcdTE3MjAtXFx1MTczMVxcdTE3NDAtXFx1MTc1MVxcdTE3NjAtXFx1MTc2Q1xcdTE3NkUtXFx1MTc3MFxcdTE3ODAtXFx1MTdCM1xcdTE3RDdcXHUxN0RDXFx1MTgyMC1cXHUxODc3XFx1MTg4MC1cXHUxOEE4XFx1MThBQVxcdTE4QjAtXFx1MThGNVxcdTE5MDAtXFx1MTkxRVxcdTE5NTAtXFx1MTk2RFxcdTE5NzAtXFx1MTk3NFxcdTE5ODAtXFx1MTlBQlxcdTE5QjAtXFx1MTlDOVxcdTFBMDAtXFx1MUExNlxcdTFBMjAtXFx1MUE1NFxcdTFBQTdcXHUxQjA1LVxcdTFCMzNcXHUxQjQ1LVxcdTFCNEJcXHUxQjgzLVxcdTFCQTBcXHUxQkFFXFx1MUJBRlxcdTFCQkEtXFx1MUJFNVxcdTFDMDAtXFx1MUMyM1xcdTFDNEQtXFx1MUM0RlxcdTFDNUEtXFx1MUM3RFxcdTFDODAtXFx1MUM4OFxcdTFDRTktXFx1MUNFQ1xcdTFDRUUtXFx1MUNGMVxcdTFDRjVcXHUxQ0Y2XFx1MUQwMC1cXHUxREJGXFx1MUUwMC1cXHUxRjE1XFx1MUYxOC1cXHUxRjFEXFx1MUYyMC1cXHUxRjQ1XFx1MUY0OC1cXHUxRjREXFx1MUY1MC1cXHUxRjU3XFx1MUY1OVxcdTFGNUJcXHUxRjVEXFx1MUY1Ri1cXHUxRjdEXFx1MUY4MC1cXHUxRkI0XFx1MUZCNi1cXHUxRkJDXFx1MUZCRVxcdTFGQzItXFx1MUZDNFxcdTFGQzYtXFx1MUZDQ1xcdTFGRDAtXFx1MUZEM1xcdTFGRDYtXFx1MUZEQlxcdTFGRTAtXFx1MUZFQ1xcdTFGRjItXFx1MUZGNFxcdTFGRjYtXFx1MUZGQ1xcdTIwNzFcXHUyMDdGXFx1MjA5MC1cXHUyMDlDXFx1MjEwMlxcdTIxMDdcXHUyMTBBLVxcdTIxMTNcXHUyMTE1XFx1MjExOC1cXHUyMTFEXFx1MjEyNFxcdTIxMjZcXHUyMTI4XFx1MjEyQS1cXHUyMTM5XFx1MjEzQy1cXHUyMTNGXFx1MjE0NS1cXHUyMTQ5XFx1MjE0RVxcdTIxNjAtXFx1MjE4OFxcdTJDMDAtXFx1MkMyRVxcdTJDMzAtXFx1MkM1RVxcdTJDNjAtXFx1MkNFNFxcdTJDRUItXFx1MkNFRVxcdTJDRjJcXHUyQ0YzXFx1MkQwMC1cXHUyRDI1XFx1MkQyN1xcdTJEMkRcXHUyRDMwLVxcdTJENjdcXHUyRDZGXFx1MkQ4MC1cXHUyRDk2XFx1MkRBMC1cXHUyREE2XFx1MkRBOC1cXHUyREFFXFx1MkRCMC1cXHUyREI2XFx1MkRCOC1cXHUyREJFXFx1MkRDMC1cXHUyREM2XFx1MkRDOC1cXHUyRENFXFx1MkREMC1cXHUyREQ2XFx1MkREOC1cXHUyRERFXFx1MzAwNS1cXHUzMDA3XFx1MzAyMS1cXHUzMDI5XFx1MzAzMS1cXHUzMDM1XFx1MzAzOC1cXHUzMDNDXFx1MzA0MS1cXHUzMDk2XFx1MzA5Qi1cXHUzMDlGXFx1MzBBMS1cXHUzMEZBXFx1MzBGQy1cXHUzMEZGXFx1MzEwNS1cXHUzMTJEXFx1MzEzMS1cXHUzMThFXFx1MzFBMC1cXHUzMUJBXFx1MzFGMC1cXHUzMUZGXFx1MzQwMC1cXHU0REI1XFx1NEUwMC1cXHU5RkQ1XFx1QTAwMC1cXHVBNDhDXFx1QTREMC1cXHVBNEZEXFx1QTUwMC1cXHVBNjBDXFx1QTYxMC1cXHVBNjFGXFx1QTYyQVxcdUE2MkJcXHVBNjQwLVxcdUE2NkVcXHVBNjdGLVxcdUE2OURcXHVBNkEwLVxcdUE2RUZcXHVBNzE3LVxcdUE3MUZcXHVBNzIyLVxcdUE3ODhcXHVBNzhCLVxcdUE3QUVcXHVBN0IwLVxcdUE3QjdcXHVBN0Y3LVxcdUE4MDFcXHVBODAzLVxcdUE4MDVcXHVBODA3LVxcdUE4MEFcXHVBODBDLVxcdUE4MjJcXHVBODQwLVxcdUE4NzNcXHVBODgyLVxcdUE4QjNcXHVBOEYyLVxcdUE4RjdcXHVBOEZCXFx1QThGRFxcdUE5MEEtXFx1QTkyNVxcdUE5MzAtXFx1QTk0NlxcdUE5NjAtXFx1QTk3Q1xcdUE5ODQtXFx1QTlCMlxcdUE5Q0ZcXHVBOUUwLVxcdUE5RTRcXHVBOUU2LVxcdUE5RUZcXHVBOUZBLVxcdUE5RkVcXHVBQTAwLVxcdUFBMjhcXHVBQTQwLVxcdUFBNDJcXHVBQTQ0LVxcdUFBNEJcXHVBQTYwLVxcdUFBNzZcXHVBQTdBXFx1QUE3RS1cXHVBQUFGXFx1QUFCMVxcdUFBQjVcXHVBQUI2XFx1QUFCOS1cXHVBQUJEXFx1QUFDMFxcdUFBQzJcXHVBQURCLVxcdUFBRERcXHVBQUUwLVxcdUFBRUFcXHVBQUYyLVxcdUFBRjRcXHVBQjAxLVxcdUFCMDZcXHVBQjA5LVxcdUFCMEVcXHVBQjExLVxcdUFCMTZcXHVBQjIwLVxcdUFCMjZcXHVBQjI4LVxcdUFCMkVcXHVBQjMwLVxcdUFCNUFcXHVBQjVDLVxcdUFCNjVcXHVBQjcwLVxcdUFCRTJcXHVBQzAwLVxcdUQ3QTNcXHVEN0IwLVxcdUQ3QzZcXHVEN0NCLVxcdUQ3RkJcXHVGOTAwLVxcdUZBNkRcXHVGQTcwLVxcdUZBRDlcXHVGQjAwLVxcdUZCMDZcXHVGQjEzLVxcdUZCMTdcXHVGQjFEXFx1RkIxRi1cXHVGQjI4XFx1RkIyQS1cXHVGQjM2XFx1RkIzOC1cXHVGQjNDXFx1RkIzRVxcdUZCNDBcXHVGQjQxXFx1RkI0M1xcdUZCNDRcXHVGQjQ2LVxcdUZCQjFcXHVGQkQzLVxcdUZEM0RcXHVGRDUwLVxcdUZEOEZcXHVGRDkyLVxcdUZEQzdcXHVGREYwLVxcdUZERkJcXHVGRTcwLVxcdUZFNzRcXHVGRTc2LVxcdUZFRkNcXHVGRjIxLVxcdUZGM0FcXHVGRjQxLVxcdUZGNUFcXHVGRjY2LVxcdUZGQkVcXHVGRkMyLVxcdUZGQzdcXHVGRkNBLVxcdUZGQ0ZcXHVGRkQyLVxcdUZGRDdcXHVGRkRBLVxcdUZGRENdfFxcdUQ4MDBbXFx1REMwMC1cXHVEQzBCXFx1REMwRC1cXHVEQzI2XFx1REMyOC1cXHVEQzNBXFx1REMzQ1xcdURDM0RcXHVEQzNGLVxcdURDNERcXHVEQzUwLVxcdURDNURcXHVEQzgwLVxcdURDRkFcXHVERDQwLVxcdURENzRcXHVERTgwLVxcdURFOUNcXHVERUEwLVxcdURFRDBcXHVERjAwLVxcdURGMUZcXHVERjMwLVxcdURGNEFcXHVERjUwLVxcdURGNzVcXHVERjgwLVxcdURGOURcXHVERkEwLVxcdURGQzNcXHVERkM4LVxcdURGQ0ZcXHVERkQxLVxcdURGRDVdfFxcdUQ4MDFbXFx1REMwMC1cXHVEQzlEXFx1RENCMC1cXHVEQ0QzXFx1RENEOC1cXHVEQ0ZCXFx1REQwMC1cXHVERDI3XFx1REQzMC1cXHVERDYzXFx1REUwMC1cXHVERjM2XFx1REY0MC1cXHVERjU1XFx1REY2MC1cXHVERjY3XXxcXHVEODAyW1xcdURDMDAtXFx1REMwNVxcdURDMDhcXHVEQzBBLVxcdURDMzVcXHVEQzM3XFx1REMzOFxcdURDM0NcXHVEQzNGLVxcdURDNTVcXHVEQzYwLVxcdURDNzZcXHVEQzgwLVxcdURDOUVcXHVEQ0UwLVxcdURDRjJcXHVEQ0Y0XFx1RENGNVxcdUREMDAtXFx1REQxNVxcdUREMjAtXFx1REQzOVxcdUREODAtXFx1RERCN1xcdUREQkVcXHVEREJGXFx1REUwMFxcdURFMTAtXFx1REUxM1xcdURFMTUtXFx1REUxN1xcdURFMTktXFx1REUzM1xcdURFNjAtXFx1REU3Q1xcdURFODAtXFx1REU5Q1xcdURFQzAtXFx1REVDN1xcdURFQzktXFx1REVFNFxcdURGMDAtXFx1REYzNVxcdURGNDAtXFx1REY1NVxcdURGNjAtXFx1REY3MlxcdURGODAtXFx1REY5MV18XFx1RDgwM1tcXHVEQzAwLVxcdURDNDhcXHVEQzgwLVxcdURDQjJcXHVEQ0MwLVxcdURDRjJdfFxcdUQ4MDRbXFx1REMwMy1cXHVEQzM3XFx1REM4My1cXHVEQ0FGXFx1RENEMC1cXHVEQ0U4XFx1REQwMy1cXHVERDI2XFx1REQ1MC1cXHVERDcyXFx1REQ3NlxcdUREODMtXFx1RERCMlxcdUREQzEtXFx1RERDNFxcdUREREFcXHVERERDXFx1REUwMC1cXHVERTExXFx1REUxMy1cXHVERTJCXFx1REU4MC1cXHVERTg2XFx1REU4OFxcdURFOEEtXFx1REU4RFxcdURFOEYtXFx1REU5RFxcdURFOUYtXFx1REVBOFxcdURFQjAtXFx1REVERVxcdURGMDUtXFx1REYwQ1xcdURGMEZcXHVERjEwXFx1REYxMy1cXHVERjI4XFx1REYyQS1cXHVERjMwXFx1REYzMlxcdURGMzNcXHVERjM1LVxcdURGMzlcXHVERjNEXFx1REY1MFxcdURGNUQtXFx1REY2MV18XFx1RDgwNVtcXHVEQzAwLVxcdURDMzRcXHVEQzQ3LVxcdURDNEFcXHVEQzgwLVxcdURDQUZcXHVEQ0M0XFx1RENDNVxcdURDQzdcXHVERDgwLVxcdUREQUVcXHVEREQ4LVxcdUREREJcXHVERTAwLVxcdURFMkZcXHVERTQ0XFx1REU4MC1cXHVERUFBXFx1REYwMC1cXHVERjE5XXxcXHVEODA2W1xcdURDQTAtXFx1RENERlxcdURDRkZcXHVERUMwLVxcdURFRjhdfFxcdUQ4MDdbXFx1REMwMC1cXHVEQzA4XFx1REMwQS1cXHVEQzJFXFx1REM0MFxcdURDNzItXFx1REM4Rl18XFx1RDgwOFtcXHVEQzAwLVxcdURGOTldfFxcdUQ4MDlbXFx1REMwMC1cXHVEQzZFXFx1REM4MC1cXHVERDQzXXxbXFx1RDgwQ1xcdUQ4MUMtXFx1RDgyMFxcdUQ4NDAtXFx1RDg2OFxcdUQ4NkEtXFx1RDg2Q1xcdUQ4NkYtXFx1RDg3Ml1bXFx1REMwMC1cXHVERkZGXXxcXHVEODBEW1xcdURDMDAtXFx1REMyRV18XFx1RDgxMVtcXHVEQzAwLVxcdURFNDZdfFxcdUQ4MUFbXFx1REMwMC1cXHVERTM4XFx1REU0MC1cXHVERTVFXFx1REVEMC1cXHVERUVEXFx1REYwMC1cXHVERjJGXFx1REY0MC1cXHVERjQzXFx1REY2My1cXHVERjc3XFx1REY3RC1cXHVERjhGXXxcXHVEODFCW1xcdURGMDAtXFx1REY0NFxcdURGNTBcXHVERjkzLVxcdURGOUZcXHVERkUwXXxcXHVEODIxW1xcdURDMDAtXFx1REZFQ118XFx1RDgyMltcXHVEQzAwLVxcdURFRjJdfFxcdUQ4MkNbXFx1REMwMFxcdURDMDFdfFxcdUQ4MkZbXFx1REMwMC1cXHVEQzZBXFx1REM3MC1cXHVEQzdDXFx1REM4MC1cXHVEQzg4XFx1REM5MC1cXHVEQzk5XXxcXHVEODM1W1xcdURDMDAtXFx1REM1NFxcdURDNTYtXFx1REM5Q1xcdURDOUVcXHVEQzlGXFx1RENBMlxcdURDQTVcXHVEQ0E2XFx1RENBOS1cXHVEQ0FDXFx1RENBRS1cXHVEQ0I5XFx1RENCQlxcdURDQkQtXFx1RENDM1xcdURDQzUtXFx1REQwNVxcdUREMDctXFx1REQwQVxcdUREMEQtXFx1REQxNFxcdUREMTYtXFx1REQxQ1xcdUREMUUtXFx1REQzOVxcdUREM0ItXFx1REQzRVxcdURENDAtXFx1REQ0NFxcdURENDZcXHVERDRBLVxcdURENTBcXHVERDUyLVxcdURFQTVcXHVERUE4LVxcdURFQzBcXHVERUMyLVxcdURFREFcXHVERURDLVxcdURFRkFcXHVERUZDLVxcdURGMTRcXHVERjE2LVxcdURGMzRcXHVERjM2LVxcdURGNEVcXHVERjUwLVxcdURGNkVcXHVERjcwLVxcdURGODhcXHVERjhBLVxcdURGQThcXHVERkFBLVxcdURGQzJcXHVERkM0LVxcdURGQ0JdfFxcdUQ4M0FbXFx1REMwMC1cXHVEQ0M0XFx1REQwMC1cXHVERDQzXXxcXHVEODNCW1xcdURFMDAtXFx1REUwM1xcdURFMDUtXFx1REUxRlxcdURFMjFcXHVERTIyXFx1REUyNFxcdURFMjdcXHVERTI5LVxcdURFMzJcXHVERTM0LVxcdURFMzdcXHVERTM5XFx1REUzQlxcdURFNDJcXHVERTQ3XFx1REU0OVxcdURFNEJcXHVERTRELVxcdURFNEZcXHVERTUxXFx1REU1MlxcdURFNTRcXHVERTU3XFx1REU1OVxcdURFNUJcXHVERTVEXFx1REU1RlxcdURFNjFcXHVERTYyXFx1REU2NFxcdURFNjctXFx1REU2QVxcdURFNkMtXFx1REU3MlxcdURFNzQtXFx1REU3N1xcdURFNzktXFx1REU3Q1xcdURFN0VcXHVERTgwLVxcdURFODlcXHVERThCLVxcdURFOUJcXHVERUExLVxcdURFQTNcXHVERUE1LVxcdURFQTlcXHVERUFCLVxcdURFQkJdfFxcdUQ4NjlbXFx1REMwMC1cXHVERUQ2XFx1REYwMC1cXHVERkZGXXxcXHVEODZEW1xcdURDMDAtXFx1REYzNFxcdURGNDAtXFx1REZGRl18XFx1RDg2RVtcXHVEQzAwLVxcdURDMURcXHVEQzIwLVxcdURGRkZdfFxcdUQ4NzNbXFx1REMwMC1cXHVERUExXXxcXHVEODdFW1xcdURDMDAtXFx1REUxRF0pKD86W1xcJDAtOUEtWl9hLXpcXHhBQVxceEI1XFx4QjdcXHhCQVxceEMwLVxceEQ2XFx4RDgtXFx4RjZcXHhGOC1cXHUwMkMxXFx1MDJDNi1cXHUwMkQxXFx1MDJFMC1cXHUwMkU0XFx1MDJFQ1xcdTAyRUVcXHUwMzAwLVxcdTAzNzRcXHUwMzc2XFx1MDM3N1xcdTAzN0EtXFx1MDM3RFxcdTAzN0ZcXHUwMzg2LVxcdTAzOEFcXHUwMzhDXFx1MDM4RS1cXHUwM0ExXFx1MDNBMy1cXHUwM0Y1XFx1MDNGNy1cXHUwNDgxXFx1MDQ4My1cXHUwNDg3XFx1MDQ4QS1cXHUwNTJGXFx1MDUzMS1cXHUwNTU2XFx1MDU1OVxcdTA1NjEtXFx1MDU4N1xcdTA1OTEtXFx1MDVCRFxcdTA1QkZcXHUwNUMxXFx1MDVDMlxcdTA1QzRcXHUwNUM1XFx1MDVDN1xcdTA1RDAtXFx1MDVFQVxcdTA1RjAtXFx1MDVGMlxcdTA2MTAtXFx1MDYxQVxcdTA2MjAtXFx1MDY2OVxcdTA2NkUtXFx1MDZEM1xcdTA2RDUtXFx1MDZEQ1xcdTA2REYtXFx1MDZFOFxcdTA2RUEtXFx1MDZGQ1xcdTA2RkZcXHUwNzEwLVxcdTA3NEFcXHUwNzRELVxcdTA3QjFcXHUwN0MwLVxcdTA3RjVcXHUwN0ZBXFx1MDgwMC1cXHUwODJEXFx1MDg0MC1cXHUwODVCXFx1MDhBMC1cXHUwOEI0XFx1MDhCNi1cXHUwOEJEXFx1MDhENC1cXHUwOEUxXFx1MDhFMy1cXHUwOTYzXFx1MDk2Ni1cXHUwOTZGXFx1MDk3MS1cXHUwOTgzXFx1MDk4NS1cXHUwOThDXFx1MDk4RlxcdTA5OTBcXHUwOTkzLVxcdTA5QThcXHUwOUFBLVxcdTA5QjBcXHUwOUIyXFx1MDlCNi1cXHUwOUI5XFx1MDlCQy1cXHUwOUM0XFx1MDlDN1xcdTA5QzhcXHUwOUNCLVxcdTA5Q0VcXHUwOUQ3XFx1MDlEQ1xcdTA5RERcXHUwOURGLVxcdTA5RTNcXHUwOUU2LVxcdTA5RjFcXHUwQTAxLVxcdTBBMDNcXHUwQTA1LVxcdTBBMEFcXHUwQTBGXFx1MEExMFxcdTBBMTMtXFx1MEEyOFxcdTBBMkEtXFx1MEEzMFxcdTBBMzJcXHUwQTMzXFx1MEEzNVxcdTBBMzZcXHUwQTM4XFx1MEEzOVxcdTBBM0NcXHUwQTNFLVxcdTBBNDJcXHUwQTQ3XFx1MEE0OFxcdTBBNEItXFx1MEE0RFxcdTBBNTFcXHUwQTU5LVxcdTBBNUNcXHUwQTVFXFx1MEE2Ni1cXHUwQTc1XFx1MEE4MS1cXHUwQTgzXFx1MEE4NS1cXHUwQThEXFx1MEE4Ri1cXHUwQTkxXFx1MEE5My1cXHUwQUE4XFx1MEFBQS1cXHUwQUIwXFx1MEFCMlxcdTBBQjNcXHUwQUI1LVxcdTBBQjlcXHUwQUJDLVxcdTBBQzVcXHUwQUM3LVxcdTBBQzlcXHUwQUNCLVxcdTBBQ0RcXHUwQUQwXFx1MEFFMC1cXHUwQUUzXFx1MEFFNi1cXHUwQUVGXFx1MEFGOVxcdTBCMDEtXFx1MEIwM1xcdTBCMDUtXFx1MEIwQ1xcdTBCMEZcXHUwQjEwXFx1MEIxMy1cXHUwQjI4XFx1MEIyQS1cXHUwQjMwXFx1MEIzMlxcdTBCMzNcXHUwQjM1LVxcdTBCMzlcXHUwQjNDLVxcdTBCNDRcXHUwQjQ3XFx1MEI0OFxcdTBCNEItXFx1MEI0RFxcdTBCNTZcXHUwQjU3XFx1MEI1Q1xcdTBCNURcXHUwQjVGLVxcdTBCNjNcXHUwQjY2LVxcdTBCNkZcXHUwQjcxXFx1MEI4MlxcdTBCODNcXHUwQjg1LVxcdTBCOEFcXHUwQjhFLVxcdTBCOTBcXHUwQjkyLVxcdTBCOTVcXHUwQjk5XFx1MEI5QVxcdTBCOUNcXHUwQjlFXFx1MEI5RlxcdTBCQTNcXHUwQkE0XFx1MEJBOC1cXHUwQkFBXFx1MEJBRS1cXHUwQkI5XFx1MEJCRS1cXHUwQkMyXFx1MEJDNi1cXHUwQkM4XFx1MEJDQS1cXHUwQkNEXFx1MEJEMFxcdTBCRDdcXHUwQkU2LVxcdTBCRUZcXHUwQzAwLVxcdTBDMDNcXHUwQzA1LVxcdTBDMENcXHUwQzBFLVxcdTBDMTBcXHUwQzEyLVxcdTBDMjhcXHUwQzJBLVxcdTBDMzlcXHUwQzNELVxcdTBDNDRcXHUwQzQ2LVxcdTBDNDhcXHUwQzRBLVxcdTBDNERcXHUwQzU1XFx1MEM1NlxcdTBDNTgtXFx1MEM1QVxcdTBDNjAtXFx1MEM2M1xcdTBDNjYtXFx1MEM2RlxcdTBDODAtXFx1MEM4M1xcdTBDODUtXFx1MEM4Q1xcdTBDOEUtXFx1MEM5MFxcdTBDOTItXFx1MENBOFxcdTBDQUEtXFx1MENCM1xcdTBDQjUtXFx1MENCOVxcdTBDQkMtXFx1MENDNFxcdTBDQzYtXFx1MENDOFxcdTBDQ0EtXFx1MENDRFxcdTBDRDVcXHUwQ0Q2XFx1MENERVxcdTBDRTAtXFx1MENFM1xcdTBDRTYtXFx1MENFRlxcdTBDRjFcXHUwQ0YyXFx1MEQwMS1cXHUwRDAzXFx1MEQwNS1cXHUwRDBDXFx1MEQwRS1cXHUwRDEwXFx1MEQxMi1cXHUwRDNBXFx1MEQzRC1cXHUwRDQ0XFx1MEQ0Ni1cXHUwRDQ4XFx1MEQ0QS1cXHUwRDRFXFx1MEQ1NC1cXHUwRDU3XFx1MEQ1Ri1cXHUwRDYzXFx1MEQ2Ni1cXHUwRDZGXFx1MEQ3QS1cXHUwRDdGXFx1MEQ4MlxcdTBEODNcXHUwRDg1LVxcdTBEOTZcXHUwRDlBLVxcdTBEQjFcXHUwREIzLVxcdTBEQkJcXHUwREJEXFx1MERDMC1cXHUwREM2XFx1MERDQVxcdTBEQ0YtXFx1MERENFxcdTBERDZcXHUwREQ4LVxcdTBEREZcXHUwREU2LVxcdTBERUZcXHUwREYyXFx1MERGM1xcdTBFMDEtXFx1MEUzQVxcdTBFNDAtXFx1MEU0RVxcdTBFNTAtXFx1MEU1OVxcdTBFODFcXHUwRTgyXFx1MEU4NFxcdTBFODdcXHUwRTg4XFx1MEU4QVxcdTBFOERcXHUwRTk0LVxcdTBFOTdcXHUwRTk5LVxcdTBFOUZcXHUwRUExLVxcdTBFQTNcXHUwRUE1XFx1MEVBN1xcdTBFQUFcXHUwRUFCXFx1MEVBRC1cXHUwRUI5XFx1MEVCQi1cXHUwRUJEXFx1MEVDMC1cXHUwRUM0XFx1MEVDNlxcdTBFQzgtXFx1MEVDRFxcdTBFRDAtXFx1MEVEOVxcdTBFREMtXFx1MEVERlxcdTBGMDBcXHUwRjE4XFx1MEYxOVxcdTBGMjAtXFx1MEYyOVxcdTBGMzVcXHUwRjM3XFx1MEYzOVxcdTBGM0UtXFx1MEY0N1xcdTBGNDktXFx1MEY2Q1xcdTBGNzEtXFx1MEY4NFxcdTBGODYtXFx1MEY5N1xcdTBGOTktXFx1MEZCQ1xcdTBGQzZcXHUxMDAwLVxcdTEwNDlcXHUxMDUwLVxcdTEwOURcXHUxMEEwLVxcdTEwQzVcXHUxMEM3XFx1MTBDRFxcdTEwRDAtXFx1MTBGQVxcdTEwRkMtXFx1MTI0OFxcdTEyNEEtXFx1MTI0RFxcdTEyNTAtXFx1MTI1NlxcdTEyNThcXHUxMjVBLVxcdTEyNURcXHUxMjYwLVxcdTEyODhcXHUxMjhBLVxcdTEyOERcXHUxMjkwLVxcdTEyQjBcXHUxMkIyLVxcdTEyQjVcXHUxMkI4LVxcdTEyQkVcXHUxMkMwXFx1MTJDMi1cXHUxMkM1XFx1MTJDOC1cXHUxMkQ2XFx1MTJEOC1cXHUxMzEwXFx1MTMxMi1cXHUxMzE1XFx1MTMxOC1cXHUxMzVBXFx1MTM1RC1cXHUxMzVGXFx1MTM2OS1cXHUxMzcxXFx1MTM4MC1cXHUxMzhGXFx1MTNBMC1cXHUxM0Y1XFx1MTNGOC1cXHUxM0ZEXFx1MTQwMS1cXHUxNjZDXFx1MTY2Ri1cXHUxNjdGXFx1MTY4MS1cXHUxNjlBXFx1MTZBMC1cXHUxNkVBXFx1MTZFRS1cXHUxNkY4XFx1MTcwMC1cXHUxNzBDXFx1MTcwRS1cXHUxNzE0XFx1MTcyMC1cXHUxNzM0XFx1MTc0MC1cXHUxNzUzXFx1MTc2MC1cXHUxNzZDXFx1MTc2RS1cXHUxNzcwXFx1MTc3MlxcdTE3NzNcXHUxNzgwLVxcdTE3RDNcXHUxN0Q3XFx1MTdEQ1xcdTE3RERcXHUxN0UwLVxcdTE3RTlcXHUxODBCLVxcdTE4MERcXHUxODEwLVxcdTE4MTlcXHUxODIwLVxcdTE4NzdcXHUxODgwLVxcdTE4QUFcXHUxOEIwLVxcdTE4RjVcXHUxOTAwLVxcdTE5MUVcXHUxOTIwLVxcdTE5MkJcXHUxOTMwLVxcdTE5M0JcXHUxOTQ2LVxcdTE5NkRcXHUxOTcwLVxcdTE5NzRcXHUxOTgwLVxcdTE5QUJcXHUxOUIwLVxcdTE5QzlcXHUxOUQwLVxcdTE5REFcXHUxQTAwLVxcdTFBMUJcXHUxQTIwLVxcdTFBNUVcXHUxQTYwLVxcdTFBN0NcXHUxQTdGLVxcdTFBODlcXHUxQTkwLVxcdTFBOTlcXHUxQUE3XFx1MUFCMC1cXHUxQUJEXFx1MUIwMC1cXHUxQjRCXFx1MUI1MC1cXHUxQjU5XFx1MUI2Qi1cXHUxQjczXFx1MUI4MC1cXHUxQkYzXFx1MUMwMC1cXHUxQzM3XFx1MUM0MC1cXHUxQzQ5XFx1MUM0RC1cXHUxQzdEXFx1MUM4MC1cXHUxQzg4XFx1MUNEMC1cXHUxQ0QyXFx1MUNENC1cXHUxQ0Y2XFx1MUNGOFxcdTFDRjlcXHUxRDAwLVxcdTFERjVcXHUxREZCLVxcdTFGMTVcXHUxRjE4LVxcdTFGMURcXHUxRjIwLVxcdTFGNDVcXHUxRjQ4LVxcdTFGNERcXHUxRjUwLVxcdTFGNTdcXHUxRjU5XFx1MUY1QlxcdTFGNURcXHUxRjVGLVxcdTFGN0RcXHUxRjgwLVxcdTFGQjRcXHUxRkI2LVxcdTFGQkNcXHUxRkJFXFx1MUZDMi1cXHUxRkM0XFx1MUZDNi1cXHUxRkNDXFx1MUZEMC1cXHUxRkQzXFx1MUZENi1cXHUxRkRCXFx1MUZFMC1cXHUxRkVDXFx1MUZGMi1cXHUxRkY0XFx1MUZGNi1cXHUxRkZDXFx1MjAwQ1xcdTIwMERcXHUyMDNGXFx1MjA0MFxcdTIwNTRcXHUyMDcxXFx1MjA3RlxcdTIwOTAtXFx1MjA5Q1xcdTIwRDAtXFx1MjBEQ1xcdTIwRTFcXHUyMEU1LVxcdTIwRjBcXHUyMTAyXFx1MjEwN1xcdTIxMEEtXFx1MjExM1xcdTIxMTVcXHUyMTE4LVxcdTIxMURcXHUyMTI0XFx1MjEyNlxcdTIxMjhcXHUyMTJBLVxcdTIxMzlcXHUyMTNDLVxcdTIxM0ZcXHUyMTQ1LVxcdTIxNDlcXHUyMTRFXFx1MjE2MC1cXHUyMTg4XFx1MkMwMC1cXHUyQzJFXFx1MkMzMC1cXHUyQzVFXFx1MkM2MC1cXHUyQ0U0XFx1MkNFQi1cXHUyQ0YzXFx1MkQwMC1cXHUyRDI1XFx1MkQyN1xcdTJEMkRcXHUyRDMwLVxcdTJENjdcXHUyRDZGXFx1MkQ3Ri1cXHUyRDk2XFx1MkRBMC1cXHUyREE2XFx1MkRBOC1cXHUyREFFXFx1MkRCMC1cXHUyREI2XFx1MkRCOC1cXHUyREJFXFx1MkRDMC1cXHUyREM2XFx1MkRDOC1cXHUyRENFXFx1MkREMC1cXHUyREQ2XFx1MkREOC1cXHUyRERFXFx1MkRFMC1cXHUyREZGXFx1MzAwNS1cXHUzMDA3XFx1MzAyMS1cXHUzMDJGXFx1MzAzMS1cXHUzMDM1XFx1MzAzOC1cXHUzMDNDXFx1MzA0MS1cXHUzMDk2XFx1MzA5OS1cXHUzMDlGXFx1MzBBMS1cXHUzMEZBXFx1MzBGQy1cXHUzMEZGXFx1MzEwNS1cXHUzMTJEXFx1MzEzMS1cXHUzMThFXFx1MzFBMC1cXHUzMUJBXFx1MzFGMC1cXHUzMUZGXFx1MzQwMC1cXHU0REI1XFx1NEUwMC1cXHU5RkQ1XFx1QTAwMC1cXHVBNDhDXFx1QTREMC1cXHVBNEZEXFx1QTUwMC1cXHVBNjBDXFx1QTYxMC1cXHVBNjJCXFx1QTY0MC1cXHVBNjZGXFx1QTY3NC1cXHVBNjdEXFx1QTY3Ri1cXHVBNkYxXFx1QTcxNy1cXHVBNzFGXFx1QTcyMi1cXHVBNzg4XFx1QTc4Qi1cXHVBN0FFXFx1QTdCMC1cXHVBN0I3XFx1QTdGNy1cXHVBODI3XFx1QTg0MC1cXHVBODczXFx1QTg4MC1cXHVBOEM1XFx1QThEMC1cXHVBOEQ5XFx1QThFMC1cXHVBOEY3XFx1QThGQlxcdUE4RkRcXHVBOTAwLVxcdUE5MkRcXHVBOTMwLVxcdUE5NTNcXHVBOTYwLVxcdUE5N0NcXHVBOTgwLVxcdUE5QzBcXHVBOUNGLVxcdUE5RDlcXHVBOUUwLVxcdUE5RkVcXHVBQTAwLVxcdUFBMzZcXHVBQTQwLVxcdUFBNERcXHVBQTUwLVxcdUFBNTlcXHVBQTYwLVxcdUFBNzZcXHVBQTdBLVxcdUFBQzJcXHVBQURCLVxcdUFBRERcXHVBQUUwLVxcdUFBRUZcXHVBQUYyLVxcdUFBRjZcXHVBQjAxLVxcdUFCMDZcXHVBQjA5LVxcdUFCMEVcXHVBQjExLVxcdUFCMTZcXHVBQjIwLVxcdUFCMjZcXHVBQjI4LVxcdUFCMkVcXHVBQjMwLVxcdUFCNUFcXHVBQjVDLVxcdUFCNjVcXHVBQjcwLVxcdUFCRUFcXHVBQkVDXFx1QUJFRFxcdUFCRjAtXFx1QUJGOVxcdUFDMDAtXFx1RDdBM1xcdUQ3QjAtXFx1RDdDNlxcdUQ3Q0ItXFx1RDdGQlxcdUY5MDAtXFx1RkE2RFxcdUZBNzAtXFx1RkFEOVxcdUZCMDAtXFx1RkIwNlxcdUZCMTMtXFx1RkIxN1xcdUZCMUQtXFx1RkIyOFxcdUZCMkEtXFx1RkIzNlxcdUZCMzgtXFx1RkIzQ1xcdUZCM0VcXHVGQjQwXFx1RkI0MVxcdUZCNDNcXHVGQjQ0XFx1RkI0Ni1cXHVGQkIxXFx1RkJEMy1cXHVGRDNEXFx1RkQ1MC1cXHVGRDhGXFx1RkQ5Mi1cXHVGREM3XFx1RkRGMC1cXHVGREZCXFx1RkUwMC1cXHVGRTBGXFx1RkUyMC1cXHVGRTJGXFx1RkUzM1xcdUZFMzRcXHVGRTRELVxcdUZFNEZcXHVGRTcwLVxcdUZFNzRcXHVGRTc2LVxcdUZFRkNcXHVGRjEwLVxcdUZGMTlcXHVGRjIxLVxcdUZGM0FcXHVGRjNGXFx1RkY0MS1cXHVGRjVBXFx1RkY2Ni1cXHVGRkJFXFx1RkZDMi1cXHVGRkM3XFx1RkZDQS1cXHVGRkNGXFx1RkZEMi1cXHVGRkQ3XFx1RkZEQS1cXHVGRkRDXXxcXHVEODAwW1xcdURDMDAtXFx1REMwQlxcdURDMEQtXFx1REMyNlxcdURDMjgtXFx1REMzQVxcdURDM0NcXHVEQzNEXFx1REMzRi1cXHVEQzREXFx1REM1MC1cXHVEQzVEXFx1REM4MC1cXHVEQ0ZBXFx1REQ0MC1cXHVERDc0XFx1RERGRFxcdURFODAtXFx1REU5Q1xcdURFQTAtXFx1REVEMFxcdURFRTBcXHVERjAwLVxcdURGMUZcXHVERjMwLVxcdURGNEFcXHVERjUwLVxcdURGN0FcXHVERjgwLVxcdURGOURcXHVERkEwLVxcdURGQzNcXHVERkM4LVxcdURGQ0ZcXHVERkQxLVxcdURGRDVdfFxcdUQ4MDFbXFx1REMwMC1cXHVEQzlEXFx1RENBMC1cXHVEQ0E5XFx1RENCMC1cXHVEQ0QzXFx1RENEOC1cXHVEQ0ZCXFx1REQwMC1cXHVERDI3XFx1REQzMC1cXHVERDYzXFx1REUwMC1cXHVERjM2XFx1REY0MC1cXHVERjU1XFx1REY2MC1cXHVERjY3XXxcXHVEODAyW1xcdURDMDAtXFx1REMwNVxcdURDMDhcXHVEQzBBLVxcdURDMzVcXHVEQzM3XFx1REMzOFxcdURDM0NcXHVEQzNGLVxcdURDNTVcXHVEQzYwLVxcdURDNzZcXHVEQzgwLVxcdURDOUVcXHVEQ0UwLVxcdURDRjJcXHVEQ0Y0XFx1RENGNVxcdUREMDAtXFx1REQxNVxcdUREMjAtXFx1REQzOVxcdUREODAtXFx1RERCN1xcdUREQkVcXHVEREJGXFx1REUwMC1cXHVERTAzXFx1REUwNVxcdURFMDZcXHVERTBDLVxcdURFMTNcXHVERTE1LVxcdURFMTdcXHVERTE5LVxcdURFMzNcXHVERTM4LVxcdURFM0FcXHVERTNGXFx1REU2MC1cXHVERTdDXFx1REU4MC1cXHVERTlDXFx1REVDMC1cXHVERUM3XFx1REVDOS1cXHVERUU2XFx1REYwMC1cXHVERjM1XFx1REY0MC1cXHVERjU1XFx1REY2MC1cXHVERjcyXFx1REY4MC1cXHVERjkxXXxcXHVEODAzW1xcdURDMDAtXFx1REM0OFxcdURDODAtXFx1RENCMlxcdURDQzAtXFx1RENGMl18XFx1RDgwNFtcXHVEQzAwLVxcdURDNDZcXHVEQzY2LVxcdURDNkZcXHVEQzdGLVxcdURDQkFcXHVEQ0QwLVxcdURDRThcXHVEQ0YwLVxcdURDRjlcXHVERDAwLVxcdUREMzRcXHVERDM2LVxcdUREM0ZcXHVERDUwLVxcdURENzNcXHVERDc2XFx1REQ4MC1cXHVEREM0XFx1RERDQS1cXHVERENDXFx1REREMC1cXHVERERBXFx1REREQ1xcdURFMDAtXFx1REUxMVxcdURFMTMtXFx1REUzN1xcdURFM0VcXHVERTgwLVxcdURFODZcXHVERTg4XFx1REU4QS1cXHVERThEXFx1REU4Ri1cXHVERTlEXFx1REU5Ri1cXHVERUE4XFx1REVCMC1cXHVERUVBXFx1REVGMC1cXHVERUY5XFx1REYwMC1cXHVERjAzXFx1REYwNS1cXHVERjBDXFx1REYwRlxcdURGMTBcXHVERjEzLVxcdURGMjhcXHVERjJBLVxcdURGMzBcXHVERjMyXFx1REYzM1xcdURGMzUtXFx1REYzOVxcdURGM0MtXFx1REY0NFxcdURGNDdcXHVERjQ4XFx1REY0Qi1cXHVERjREXFx1REY1MFxcdURGNTdcXHVERjVELVxcdURGNjNcXHVERjY2LVxcdURGNkNcXHVERjcwLVxcdURGNzRdfFxcdUQ4MDVbXFx1REMwMC1cXHVEQzRBXFx1REM1MC1cXHVEQzU5XFx1REM4MC1cXHVEQ0M1XFx1RENDN1xcdURDRDAtXFx1RENEOVxcdUREODAtXFx1RERCNVxcdUREQjgtXFx1RERDMFxcdURERDgtXFx1RERERFxcdURFMDAtXFx1REU0MFxcdURFNDRcXHVERTUwLVxcdURFNTlcXHVERTgwLVxcdURFQjdcXHVERUMwLVxcdURFQzlcXHVERjAwLVxcdURGMTlcXHVERjFELVxcdURGMkJcXHVERjMwLVxcdURGMzldfFxcdUQ4MDZbXFx1RENBMC1cXHVEQ0U5XFx1RENGRlxcdURFQzAtXFx1REVGOF18XFx1RDgwN1tcXHVEQzAwLVxcdURDMDhcXHVEQzBBLVxcdURDMzZcXHVEQzM4LVxcdURDNDBcXHVEQzUwLVxcdURDNTlcXHVEQzcyLVxcdURDOEZcXHVEQzkyLVxcdURDQTdcXHVEQ0E5LVxcdURDQjZdfFxcdUQ4MDhbXFx1REMwMC1cXHVERjk5XXxcXHVEODA5W1xcdURDMDAtXFx1REM2RVxcdURDODAtXFx1REQ0M118W1xcdUQ4MENcXHVEODFDLVxcdUQ4MjBcXHVEODQwLVxcdUQ4NjhcXHVEODZBLVxcdUQ4NkNcXHVEODZGLVxcdUQ4NzJdW1xcdURDMDAtXFx1REZGRl18XFx1RDgwRFtcXHVEQzAwLVxcdURDMkVdfFxcdUQ4MTFbXFx1REMwMC1cXHVERTQ2XXxcXHVEODFBW1xcdURDMDAtXFx1REUzOFxcdURFNDAtXFx1REU1RVxcdURFNjAtXFx1REU2OVxcdURFRDAtXFx1REVFRFxcdURFRjAtXFx1REVGNFxcdURGMDAtXFx1REYzNlxcdURGNDAtXFx1REY0M1xcdURGNTAtXFx1REY1OVxcdURGNjMtXFx1REY3N1xcdURGN0QtXFx1REY4Rl18XFx1RDgxQltcXHVERjAwLVxcdURGNDRcXHVERjUwLVxcdURGN0VcXHVERjhGLVxcdURGOUZcXHVERkUwXXxcXHVEODIxW1xcdURDMDAtXFx1REZFQ118XFx1RDgyMltcXHVEQzAwLVxcdURFRjJdfFxcdUQ4MkNbXFx1REMwMFxcdURDMDFdfFxcdUQ4MkZbXFx1REMwMC1cXHVEQzZBXFx1REM3MC1cXHVEQzdDXFx1REM4MC1cXHVEQzg4XFx1REM5MC1cXHVEQzk5XFx1REM5RFxcdURDOUVdfFxcdUQ4MzRbXFx1REQ2NS1cXHVERDY5XFx1REQ2RC1cXHVERDcyXFx1REQ3Qi1cXHVERDgyXFx1REQ4NS1cXHVERDhCXFx1RERBQS1cXHVEREFEXFx1REU0Mi1cXHVERTQ0XXxcXHVEODM1W1xcdURDMDAtXFx1REM1NFxcdURDNTYtXFx1REM5Q1xcdURDOUVcXHVEQzlGXFx1RENBMlxcdURDQTVcXHVEQ0E2XFx1RENBOS1cXHVEQ0FDXFx1RENBRS1cXHVEQ0I5XFx1RENCQlxcdURDQkQtXFx1RENDM1xcdURDQzUtXFx1REQwNVxcdUREMDctXFx1REQwQVxcdUREMEQtXFx1REQxNFxcdUREMTYtXFx1REQxQ1xcdUREMUUtXFx1REQzOVxcdUREM0ItXFx1REQzRVxcdURENDAtXFx1REQ0NFxcdURENDZcXHVERDRBLVxcdURENTBcXHVERDUyLVxcdURFQTVcXHVERUE4LVxcdURFQzBcXHVERUMyLVxcdURFREFcXHVERURDLVxcdURFRkFcXHVERUZDLVxcdURGMTRcXHVERjE2LVxcdURGMzRcXHVERjM2LVxcdURGNEVcXHVERjUwLVxcdURGNkVcXHVERjcwLVxcdURGODhcXHVERjhBLVxcdURGQThcXHVERkFBLVxcdURGQzJcXHVERkM0LVxcdURGQ0JcXHVERkNFLVxcdURGRkZdfFxcdUQ4MzZbXFx1REUwMC1cXHVERTM2XFx1REUzQi1cXHVERTZDXFx1REU3NVxcdURFODRcXHVERTlCLVxcdURFOUZcXHVERUExLVxcdURFQUZdfFxcdUQ4MzhbXFx1REMwMC1cXHVEQzA2XFx1REMwOC1cXHVEQzE4XFx1REMxQi1cXHVEQzIxXFx1REMyM1xcdURDMjRcXHVEQzI2LVxcdURDMkFdfFxcdUQ4M0FbXFx1REMwMC1cXHVEQ0M0XFx1RENEMC1cXHVEQ0Q2XFx1REQwMC1cXHVERDRBXFx1REQ1MC1cXHVERDU5XXxcXHVEODNCW1xcdURFMDAtXFx1REUwM1xcdURFMDUtXFx1REUxRlxcdURFMjFcXHVERTIyXFx1REUyNFxcdURFMjdcXHVERTI5LVxcdURFMzJcXHVERTM0LVxcdURFMzdcXHVERTM5XFx1REUzQlxcdURFNDJcXHVERTQ3XFx1REU0OVxcdURFNEJcXHVERTRELVxcdURFNEZcXHVERTUxXFx1REU1MlxcdURFNTRcXHVERTU3XFx1REU1OVxcdURFNUJcXHVERTVEXFx1REU1RlxcdURFNjFcXHVERTYyXFx1REU2NFxcdURFNjctXFx1REU2QVxcdURFNkMtXFx1REU3MlxcdURFNzQtXFx1REU3N1xcdURFNzktXFx1REU3Q1xcdURFN0VcXHVERTgwLVxcdURFODlcXHVERThCLVxcdURFOUJcXHVERUExLVxcdURFQTNcXHVERUE1LVxcdURFQTlcXHVERUFCLVxcdURFQkJdfFxcdUQ4NjlbXFx1REMwMC1cXHVERUQ2XFx1REYwMC1cXHVERkZGXXxcXHVEODZEW1xcdURDMDAtXFx1REYzNFxcdURGNDAtXFx1REZGRl18XFx1RDg2RVtcXHVEQzAwLVxcdURDMURcXHVEQzIwLVxcdURGRkZdfFxcdUQ4NzNbXFx1REMwMC1cXHVERUExXXxcXHVEODdFW1xcdURDMDAtXFx1REUxRF18XFx1REI0MFtcXHVERDAwLVxcdURERUZdKSokLyk7XG5cbi8qKiovIH0pLFxuLyogNDQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIHJlZHVjZSA9IEFycmF5LnByb3RvdHlwZS5yZWR1Y2U7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGl0ZXJhbHMgLyosIOKApnN1YnN0aXR1dGlvbnMqLykge1xuXHRcdHZhciBhcmdzID0gYXJndW1lbnRzO1xuXHRcdHJldHVybiByZWR1Y2UuY2FsbChsaXRlcmFscywgZnVuY3Rpb24gKGEsIGIsIGkpIHtcblx0XHRcdHJldHVybiBhICsgKGFyZ3NbaV0gPT09IHVuZGVmaW5lZCA/ICcnIDogU3RyaW5nKGFyZ3NbaV0pKSArIGI7XG5cdFx0fSk7XG5cdH07XG5cbi8qKiovIH0pLFxuLyogNDUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0LyogZ2xvYmFsIEFGUkFNRSBUSFJFRSAqL1xuXG5cdGlmICh0eXBlb2YgQUZSQU1FID09PSAndW5kZWZpbmVkJykge1xuXHQgIHRocm93IG5ldyBFcnJvcignQ29tcG9uZW50IGF0dGVtcHRlZCB0byByZWdpc3RlciBiZWZvcmUgQUZSQU1FIHdhcyBhdmFpbGFibGUuJyk7XG5cdH1cblxuXHR2YXIgZGVnVG9SYWQgPSBUSFJFRS5NYXRoLmRlZ1RvUmFkO1xuXHR2YXIgYWxtb3N0RXF1YWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KTtcblx0LyoqXHJcblx0ICogTGluZWFyIEludGVycG9sYXRpb24gY29tcG9uZW50IGZvciBBLUZyYW1lLlxyXG5cdCAqL1xuXHRBRlJBTUUucmVnaXN0ZXJDb21wb25lbnQoJ2xlcnAnLCB7XG5cdCAgc2NoZW1hOiB7XG5cdCAgICBwcm9wZXJ0aWVzOiB7IGRlZmF1bHQ6IFsncG9zaXRpb24nLCAncm90YXRpb24nLCAnc2NhbGUnXSB9XG5cdCAgfSxcblxuXHQgIC8qKlxyXG5cdCAgICogQ2FsbGVkIG9uY2Ugd2hlbiBjb21wb25lbnQgaXMgYXR0YWNoZWQuIEdlbmVyYWxseSBmb3IgaW5pdGlhbCBzZXR1cC5cclxuXHQgICAqL1xuXHQgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7XG5cdCAgICB2YXIgZWwgPSB0aGlzLmVsO1xuXHQgICAgdGhpcy5sYXN0UG9zaXRpb24gPSBlbC5nZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyk7XG5cdCAgICB0aGlzLmxhc3RSb3RhdGlvbiA9IGVsLmdldEF0dHJpYnV0ZSgncm90YXRpb24nKTtcblx0ICAgIHRoaXMubGFzdFNjYWxlID0gZWwuZ2V0QXR0cmlidXRlKCdzY2FsZScpO1xuXG5cdCAgICB0aGlzLmxlcnBpbmdQb3NpdGlvbiA9IGZhbHNlO1xuXHQgICAgdGhpcy5sZXJwaW5nUm90YXRpb24gPSBmYWxzZTtcblx0ICAgIHRoaXMubGVycGluZ1NjYWxlID0gZmFsc2U7XG5cblx0ICAgIHRoaXMudGltZU9mTGFzdFVwZGF0ZSA9IDA7XG5cdCAgfSxcblxuXHQgIC8qKlxyXG5cdCAgICogQ2FsbGVkIG9uIGVhY2ggc2NlbmUgdGljay5cclxuXHQgICAqL1xuXHQgIHRpY2s6IGZ1bmN0aW9uIHRpY2sodGltZSwgZGVsdGFUaW1lKSB7XG5cdCAgICB2YXIgcHJvZ3Jlc3M7XG5cdCAgICB2YXIgbm93ID0gdGhpcy5ub3coKTtcblx0ICAgIHZhciBvYmozZCA9IHRoaXMuZWwub2JqZWN0M0Q7XG5cblx0ICAgIHRoaXMuY2hlY2tGb3JDb21wb25lbnRDaGFuZ2VkKCk7XG5cblx0ICAgIC8vIExlcnAgcG9zaXRpb25cblx0ICAgIGlmICh0aGlzLmxlcnBpbmdQb3NpdGlvbikge1xuXHQgICAgICBwcm9ncmVzcyA9IChub3cgLSB0aGlzLnN0YXJ0TGVycFRpbWVQb3NpdGlvbikgLyB0aGlzLmR1cmF0aW9uO1xuXHQgICAgICBvYmozZC5wb3NpdGlvbi5sZXJwVmVjdG9ycyh0aGlzLnN0YXJ0UG9zaXRpb24sIHRoaXMudGFyZ2V0UG9zaXRpb24sIHByb2dyZXNzKTtcblx0ICAgICAgLy8gY29uc29sZS5sb2coXCJuZXcgcG9zaXRpb25cIiwgb2JqM2QucG9zaXRpb24pO1xuXHQgICAgICBpZiAocHJvZ3Jlc3MgPj0gMSkge1xuXHQgICAgICAgIHRoaXMubGVycGluZ1Bvc2l0aW9uID0gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgLy8gU2xlcnAgcm90YXRpb25cblx0ICAgIGlmICh0aGlzLmxlcnBpbmdSb3RhdGlvbikge1xuXHQgICAgICBwcm9ncmVzcyA9IChub3cgLSB0aGlzLnN0YXJ0TGVycFRpbWVSb3RhdGlvbikgLyB0aGlzLmR1cmF0aW9uO1xuXHQgICAgICBUSFJFRS5RdWF0ZXJuaW9uLnNsZXJwKHRoaXMuc3RhcnRSb3RhdGlvbiwgdGhpcy50YXJnZXRSb3RhdGlvbiwgb2JqM2QucXVhdGVybmlvbiwgcHJvZ3Jlc3MpO1xuXHQgICAgICBpZiAocHJvZ3Jlc3MgPj0gMSkge1xuXHQgICAgICAgIHRoaXMubGVycGluZ1JvdGF0aW9uID0gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgLy8gTGVycCBzY2FsZVxuXHQgICAgaWYgKHRoaXMubGVycGluZ1NjYWxlKSB7XG5cdCAgICAgIHByb2dyZXNzID0gKG5vdyAtIHRoaXMuc3RhcnRMZXJwVGltZVNjYWxlKSAvIHRoaXMuZHVyYXRpb247XG5cdCAgICAgIG9iajNkLnNjYWxlLmxlcnBWZWN0b3JzKHRoaXMuc3RhcnRTY2FsZSwgdGhpcy50YXJnZXRTY2FsZSwgcHJvZ3Jlc3MpO1xuXHQgICAgICBpZiAocHJvZ3Jlc3MgPj0gMSkge1xuXHQgICAgICAgIHRoaXMubGVycGluZ1NjYWxlID0gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgY2hlY2tGb3JDb21wb25lbnRDaGFuZ2VkOiBmdW5jdGlvbiBjaGVja0ZvckNvbXBvbmVudENoYW5nZWQoKSB7XG5cdCAgICB2YXIgZWwgPSB0aGlzLmVsO1xuXG5cdCAgICB2YXIgaGFzQ2hhbmdlZCA9IGZhbHNlO1xuXG5cdCAgICB2YXIgbmV3UG9zaXRpb24gPSBlbC5nZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyk7XG5cdCAgICBpZiAodGhpcy5pc0xlcnBhYmxlKCdwb3NpdGlvbicpICYmICF0aGlzLmFsbW9zdEVxdWFsVmVjMyh0aGlzLmxhc3RQb3NpdGlvbiwgbmV3UG9zaXRpb24pKSB7XG5cdCAgICAgIHRoaXMudG9Qb3NpdGlvbih0aGlzLmxhc3RQb3NpdGlvbiwgbmV3UG9zaXRpb24pO1xuXHQgICAgICB0aGlzLmxhc3RQb3NpdGlvbiA9IG5ld1Bvc2l0aW9uO1xuXHQgICAgICBoYXNDaGFuZ2VkID0gdHJ1ZTtcblx0ICAgIH1cblxuXHQgICAgdmFyIG5ld1JvdGF0aW9uID0gZWwuZ2V0QXR0cmlidXRlKCdyb3RhdGlvbicpO1xuXHQgICAgaWYgKHRoaXMuaXNMZXJwYWJsZSgncm90YXRpb24nKSAmJiAhdGhpcy5hbG1vc3RFcXVhbFZlYzModGhpcy5sYXN0Um90YXRpb24sIG5ld1JvdGF0aW9uKSkge1xuXHQgICAgICB0aGlzLnRvUm90YXRpb24odGhpcy5sYXN0Um90YXRpb24sIG5ld1JvdGF0aW9uKTtcblx0ICAgICAgdGhpcy5sYXN0Um90YXRpb24gPSBuZXdSb3RhdGlvbjtcblx0ICAgICAgaGFzQ2hhbmdlZCA9IHRydWU7XG5cdCAgICB9XG5cblx0ICAgIHZhciBuZXdTY2FsZSA9IGVsLmdldEF0dHJpYnV0ZSgnc2NhbGUnKTtcblx0ICAgIGlmICh0aGlzLmlzTGVycGFibGUoJ3NjYWxlJykgJiYgIXRoaXMuYWxtb3N0RXF1YWxWZWMzKHRoaXMubGFzdFNjYWxlLCBuZXdTY2FsZSkpIHtcblx0ICAgICAgdGhpcy50b1NjYWxlKHRoaXMubGFzdFNjYWxlLCBuZXdTY2FsZSk7XG5cdCAgICAgIHRoaXMubGFzdFNjYWxlID0gbmV3U2NhbGU7XG5cdCAgICAgIGhhc0NoYW5nZWQgPSB0cnVlO1xuXHQgICAgfVxuXG5cdCAgICBpZiAoaGFzQ2hhbmdlZCkge1xuXHQgICAgICB0aGlzLnVwZGF0ZUR1cmF0aW9uKCk7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIGlzTGVycGFibGU6IGZ1bmN0aW9uIGlzTGVycGFibGUobmFtZSkge1xuXHQgICAgcmV0dXJuIHRoaXMuZGF0YS5wcm9wZXJ0aWVzLmluZGV4T2YobmFtZSkgIT0gLTE7XG5cdCAgfSxcblxuXHQgIHVwZGF0ZUR1cmF0aW9uOiBmdW5jdGlvbiB1cGRhdGVEdXJhdGlvbigpIHtcblx0ICAgIHZhciBub3cgPSB0aGlzLm5vdygpO1xuXHQgICAgdGhpcy5kdXJhdGlvbiA9IG5vdyAtIHRoaXMudGltZU9mTGFzdFVwZGF0ZTtcblx0ICAgIHRoaXMudGltZU9mTGFzdFVwZGF0ZSA9IG5vdztcblx0ICB9LFxuXG5cdCAgLyoqXHJcblx0ICAgKiBTdGFydCBsZXJwIHRvIHBvc2l0aW9uICh2ZWMzKVxyXG5cdCAgICovXG5cdCAgdG9Qb3NpdGlvbjogZnVuY3Rpb24gdG9Qb3NpdGlvbihmcm9tLCB0bykge1xuXHQgICAgdGhpcy5sZXJwaW5nUG9zaXRpb24gPSB0cnVlO1xuXHQgICAgdGhpcy5zdGFydExlcnBUaW1lUG9zaXRpb24gPSB0aGlzLm5vdygpO1xuXHQgICAgdGhpcy5zdGFydFBvc2l0aW9uID0gbmV3IFRIUkVFLlZlY3RvcjMoZnJvbS54LCBmcm9tLnksIGZyb20ueik7XG5cdCAgICB0aGlzLnRhcmdldFBvc2l0aW9uID0gbmV3IFRIUkVFLlZlY3RvcjModG8ueCwgdG8ueSwgdG8ueik7XG5cdCAgfSxcblxuXHQgIC8qKlxyXG5cdCAgICogU3RhcnQgbGVycCB0byBldWxlciByb3RhdGlvbiAodmVjMywnWVhaJylcclxuXHQgICAqL1xuXHQgIHRvUm90YXRpb246IGZ1bmN0aW9uIHRvUm90YXRpb24oZnJvbSwgdG8pIHtcblx0ICAgIHRoaXMubGVycGluZ1JvdGF0aW9uID0gdHJ1ZTtcblx0ICAgIHRoaXMuc3RhcnRMZXJwVGltZVJvdGF0aW9uID0gdGhpcy5ub3coKTtcblx0ICAgIHRoaXMuc3RhcnRSb3RhdGlvbiA9IG5ldyBUSFJFRS5RdWF0ZXJuaW9uKCk7XG5cdCAgICB0aGlzLnN0YXJ0Um90YXRpb24uc2V0RnJvbUV1bGVyKG5ldyBUSFJFRS5FdWxlcihkZWdUb1JhZChmcm9tLngpLCBkZWdUb1JhZChmcm9tLnkpLCBkZWdUb1JhZChmcm9tLnopLCAnWVhaJykpO1xuXHQgICAgdGhpcy50YXJnZXRSb3RhdGlvbiA9IG5ldyBUSFJFRS5RdWF0ZXJuaW9uKCk7XG5cdCAgICB0aGlzLnRhcmdldFJvdGF0aW9uLnNldEZyb21FdWxlcihuZXcgVEhSRUUuRXVsZXIoZGVnVG9SYWQodG8ueCksIGRlZ1RvUmFkKHRvLnkpLCBkZWdUb1JhZCh0by56KSwgJ1lYWicpKTtcblx0ICB9LFxuXG5cdCAgLyoqXHJcblx0ICAgKiBTdGFydCBsZXJwIHRvIHNjYWxlICh2ZWMzKVxyXG5cdCAgICovXG5cdCAgdG9TY2FsZTogZnVuY3Rpb24gdG9TY2FsZShmcm9tLCB0bykge1xuXHQgICAgdGhpcy5sZXJwaW5nU2NhbGUgPSB0cnVlO1xuXHQgICAgdGhpcy5zdGFydExlcnBUaW1lU2NhbGUgPSB0aGlzLm5vdygpO1xuXHQgICAgdGhpcy5zdGFydFNjYWxlID0gbmV3IFRIUkVFLlZlY3RvcjMoZnJvbS54LCBmcm9tLnksIGZyb20ueik7XG5cdCAgICB0aGlzLnRhcmdldFNjYWxlID0gbmV3IFRIUkVFLlZlY3RvcjModG8ueCwgdG8ueSwgdG8ueik7XG5cdCAgfSxcblxuXHQgIGFsbW9zdEVxdWFsVmVjMzogZnVuY3Rpb24gYWxtb3N0RXF1YWxWZWMzKGEsIGIpIHtcblx0ICAgIHJldHVybiBhbG1vc3RFcXVhbChhLngsIGIueCkgJiYgYWxtb3N0RXF1YWwoYS55LCBiLnkpICYmIGFsbW9zdEVxdWFsKGEueiwgYi56KTtcblx0ICB9LFxuXG5cdCAgLyoqXHJcblx0ICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IHRpbWUgaW4gbWlsbGlzZWNvbmRzIChtcylcclxuXHQgICAqL1xuXHQgIG5vdzogZnVuY3Rpb24gbm93KCkge1xuXHQgICAgcmV0dXJuIERhdGUubm93KCk7XG5cdCAgfVxuXHR9KTtcblxuLyoqKi8gfSksXG4vKiA0NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdHZhciBhYnMgPSBNYXRoLmFicyxcblx0ICAgIG1pbiA9IE1hdGgubWluO1xuXG5cdGZ1bmN0aW9uIGFsbW9zdEVxdWFsKGEsIGIsIGFic29sdXRlRXJyb3IsIHJlbGF0aXZlRXJyb3IpIHtcblx0ICB2YXIgZCA9IGFicyhhIC0gYik7XG5cblx0ICBpZiAoYWJzb2x1dGVFcnJvciA9PSBudWxsKSBhYnNvbHV0ZUVycm9yID0gYWxtb3N0RXF1YWwuREJMX0VQU0lMT047XG5cdCAgaWYgKHJlbGF0aXZlRXJyb3IgPT0gbnVsbCkgcmVsYXRpdmVFcnJvciA9IGFic29sdXRlRXJyb3I7XG5cblx0ICBpZiAoZCA8PSBhYnNvbHV0ZUVycm9yKSB7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9XG5cdCAgaWYgKGQgPD0gcmVsYXRpdmVFcnJvciAqIG1pbihhYnMoYSksIGFicyhiKSkpIHtcblx0ICAgIHJldHVybiB0cnVlO1xuXHQgIH1cblx0ICByZXR1cm4gYSA9PT0gYjtcblx0fVxuXG5cdGFsbW9zdEVxdWFsLkZMVF9FUFNJTE9OID0gMS4xOTIwOTI5MGUtNztcblx0YWxtb3N0RXF1YWwuREJMX0VQU0lMT04gPSAyLjIyMDQ0NjA0OTI1MDMxMzFlLTE2O1xuXG5cdG1vZHVsZS5leHBvcnRzID0gYWxtb3N0RXF1YWw7XG5cbi8qKiovIH0pLFxuLyogNDcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIG9wdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTtcblx0dmFyIHV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OSk7XG5cdHZhciBOYWZMb2dnZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUwKTtcblx0dmFyIFNjaGVtYXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUxKTtcblx0dmFyIE5ldHdvcmtFbnRpdGllcyA9IF9fd2VicGFja19yZXF1aXJlX18oNTIpO1xuXHR2YXIgTmV0d29ya0Nvbm5lY3Rpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU0KTtcblx0dmFyIEFkYXB0ZXJGYWN0b3J5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NSk7XG5cblx0dmFyIG5hZiA9IHt9O1xuXHRuYWYuYXBwID0gJyc7XG5cdG5hZi5yb29tID0gJyc7XG5cdG5hZi5jbGllbnRJZCA9ICcnO1xuXHRuYWYub3B0aW9ucyA9IG9wdGlvbnM7XG5cdG5hZi51dGlscyA9IHV0aWxzO1xuXHRuYWYubG9nID0gbmV3IE5hZkxvZ2dlcigpO1xuXHRuYWYuc2NoZW1hcyA9IG5ldyBTY2hlbWFzKCk7XG5cdG5hZi52ZXJzaW9uID0gXCIwLjUuMlwiO1xuXG5cdG5hZi5hZGFwdGVycyA9IG5ldyBBZGFwdGVyRmFjdG9yeSgpO1xuXHR2YXIgZW50aXRpZXMgPSBuZXcgTmV0d29ya0VudGl0aWVzKCk7XG5cdHZhciBjb25uZWN0aW9uID0gbmV3IE5ldHdvcmtDb25uZWN0aW9uKGVudGl0aWVzKTtcblx0bmFmLmNvbm5lY3Rpb24gPSBjb25uZWN0aW9uO1xuXHRuYWYuZW50aXRpZXMgPSBlbnRpdGllcztcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHdpbmRvdy5OQUYgPSBuYWY7XG5cbi8qKiovIH0pLFxuLyogNDggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHR2YXIgb3B0aW9ucyA9IHtcblx0ICBkZWJ1ZzogZmFsc2UsXG5cdCAgdXBkYXRlUmF0ZTogMTUsIC8vIEhvdyBvZnRlbiBuZXR3b3JrIGNvbXBvbmVudHMgY2FsbCBgc3luY2Bcblx0ICBjb21wcmVzc1N5bmNQYWNrZXRzOiBmYWxzZSwgLy8gY29tcHJlc3MgbmV0d29yayBjb21wb25lbnQgc3luYyBwYWNrZXQganNvblxuXHQgIHVzZUxlcnA6IHRydWUgLy8gd2hlbiBuZXR3b3JrZWQgZW50aXRpZXMgYXJlIGNyZWF0ZWQgdGhlIGFmcmFtZS1sZXJwLWNvbXBvbmVudCBpcyBhdHRhY2hlZCB0byB0aGUgcm9vdFxuXHR9O1xuXHRtb2R1bGUuZXhwb3J0cyA9IG9wdGlvbnM7XG5cbi8qKiovIH0pLFxuLyogNDkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0bW9kdWxlLmV4cG9ydHMud2hlbkVudGl0eUxvYWRlZCA9IGZ1bmN0aW9uIChlbnRpdHksIGNhbGxiYWNrKSB7XG5cdCAgaWYgKGVudGl0eS5oYXNMb2FkZWQpIHtcblx0ICAgIGNhbGxiYWNrKCk7XG5cdCAgfVxuXHQgIGVudGl0eS5hZGRFdmVudExpc3RlbmVyKCdsb2FkZWQnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICBjYWxsYmFjaygpO1xuXHQgIH0pO1xuXHR9O1xuXG5cdG1vZHVsZS5leHBvcnRzLmNyZWF0ZUh0bWxOb2RlRnJvbVN0cmluZyA9IGZ1bmN0aW9uIChzdHIpIHtcblx0ICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdCAgZGl2LmlubmVySFRNTCA9IHN0cjtcblx0ICB2YXIgY2hpbGQgPSBkaXYuZmlyc3RDaGlsZDtcblx0ICByZXR1cm4gY2hpbGQ7XG5cdH07XG5cblx0bW9kdWxlLmV4cG9ydHMuZ2V0TmV0d29ya093bmVyID0gZnVuY3Rpb24gKGVsKSB7XG5cdCAgdmFyIGNvbXBvbmVudHMgPSBlbC5jb21wb25lbnRzO1xuXHQgIGlmIChjb21wb25lbnRzLmhhc093blByb3BlcnR5KCduZXR3b3JrZWQnKSkge1xuXHQgICAgcmV0dXJuIGNvbXBvbmVudHNbJ25ldHdvcmtlZCddLmRhdGEub3duZXI7XG5cdCAgfVxuXHQgIHJldHVybiBudWxsO1xuXHR9O1xuXG5cdG1vZHVsZS5leHBvcnRzLmdldE5ldHdvcmtJZCA9IGZ1bmN0aW9uIChlbCkge1xuXHQgIHZhciBjb21wb25lbnRzID0gZWwuY29tcG9uZW50cztcblx0ICBpZiAoY29tcG9uZW50cy5oYXNPd25Qcm9wZXJ0eSgnbmV0d29ya2VkJykpIHtcblx0ICAgIHJldHVybiBjb21wb25lbnRzWyduZXR3b3JrZWQnXS5uZXR3b3JrSWQ7XG5cdCAgfVxuXHQgIHJldHVybiBudWxsO1xuXHR9O1xuXG5cdG1vZHVsZS5leHBvcnRzLm5vdyA9IGZ1bmN0aW9uICgpIHtcblx0ICByZXR1cm4gRGF0ZS5ub3coKTtcblx0fTtcblxuXHRtb2R1bGUuZXhwb3J0cy5jcmVhdGVOZXR3b3JrSWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgcmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCA5KTtcblx0fTtcblxuXHRtb2R1bGUuZXhwb3J0cy5kZWxpbWl0ZXIgPSAnLS0tJztcblxuXHRtb2R1bGUuZXhwb3J0cy5jaGlsZFNjaGVtYVRvS2V5ID0gZnVuY3Rpb24gKHNjaGVtYSkge1xuXHQgIHZhciBrZXkgPSAoc2NoZW1hLnNlbGVjdG9yIHx8ICcnKSArIG1vZHVsZS5leHBvcnRzLmRlbGltaXRlciArIChzY2hlbWEuY29tcG9uZW50IHx8ICcnKSArIG1vZHVsZS5leHBvcnRzLmRlbGltaXRlciArIChzY2hlbWEucHJvcGVydHkgfHwgJycpO1xuXHQgIHJldHVybiBrZXk7XG5cdH07XG5cblx0bW9kdWxlLmV4cG9ydHMua2V5VG9DaGlsZFNjaGVtYSA9IGZ1bmN0aW9uIChrZXkpIHtcblx0ICB2YXIgc3BsaXRLZXkgPSBrZXkuc3BsaXQobW9kdWxlLmV4cG9ydHMuZGVsaW1pdGVyLCAzKTtcblx0ICByZXR1cm4geyBzZWxlY3Rvcjogc3BsaXRLZXlbMF0gfHwgdW5kZWZpbmVkLCBjb21wb25lbnQ6IHNwbGl0S2V5WzFdLCBwcm9wZXJ0eTogc3BsaXRLZXlbMl0gfHwgdW5kZWZpbmVkIH07XG5cdH07XG5cblx0bW9kdWxlLmV4cG9ydHMuaXNDaGlsZFNjaGVtYUtleSA9IGZ1bmN0aW9uIChrZXkpIHtcblx0ICByZXR1cm4ga2V5LmluZGV4T2YobW9kdWxlLmV4cG9ydHMuZGVsaW1pdGVyKSAhPSAtMTtcblx0fTtcblxuXHRtb2R1bGUuZXhwb3J0cy5jaGlsZFNjaGVtYUVxdWFsID0gZnVuY3Rpb24gKGEsIGIpIHtcblx0ICByZXR1cm4gYS5zZWxlY3RvciA9PSBiLnNlbGVjdG9yICYmIGEuY29tcG9uZW50ID09IGIuY29tcG9uZW50ICYmIGEucHJvcGVydHkgPT0gYi5wcm9wZXJ0eTtcblx0fTtcblxuXHQvKipcblx0ICogRmluZCB0aGUgY2xvc2VzdCBhbmNlc3RvciAoaW5jbHVkaW5nIHRoZSBwYXNzZWQgaW4gZW50aXR5KSB0aGF0IGhhcyBhIGBuZXR3b3JrZWRgIGNvbXBvbmVudFxuXHQgKiBAcGFyYW0ge0FOb2RlfSBlbnRpdHkgLSBFbnRpdHkgdG8gYmVnaW4gdGhlIHNlYXJjaCBvblxuXHQgKiBAcmV0dXJucyB7QU5vZGV9IEFuIGVudGl0eSB3aXRoIGEgYG5ldHdvcmtlZGAgY29tcG9uZW50IG9yIG51bGxcblx0ICovXG5cdGZ1bmN0aW9uIGdldE5ldHdvcmtlZEVudGl0eShlbnRpdHkpIHtcblx0ICB3aGlsZSAoZW50aXR5ICYmICEoZW50aXR5LmNvbXBvbmVudHMgJiYgZW50aXR5LmNvbXBvbmVudHMubmV0d29ya2VkKSkge1xuXHQgICAgZW50aXR5ID0gZW50aXR5LnBhcmVudE5vZGU7XG5cdCAgfVxuXHQgIHJldHVybiBlbnRpdHk7XG5cdH07XG5cblx0bW9kdWxlLmV4cG9ydHMuZ2V0TmV0d29ya2VkRW50aXR5ID0gZ2V0TmV0d29ya2VkRW50aXR5O1xuXG5cdG1vZHVsZS5leHBvcnRzLnRha2VPd25lcnNoaXAgPSBmdW5jdGlvbiAoZW50aXR5KSB7XG5cdCAgdmFyIG5ldHdvcmtlZEVudGl0eSA9IGdldE5ldHdvcmtlZEVudGl0eShlbnRpdHkpO1xuXG5cdCAgaWYgKCFuZXR3b3JrZWRFbnRpdHkpIHtcblx0ICAgIHJldHVybiBOQUYubG9nLmVycm9yKFwidGFrZU93bmVyc2hpcCgpIG11c3QgYmUgY2FsbGVkIG9uIGFuIGVudGl0eSBvciBjaGlsZCBvZiBhbiBlbnRpdHkgd2l0aCB0aGUgW25ldHdvcmtlZF0gY29tcG9uZW50LlwiKTtcblx0ICB9XG5cblx0ICByZXR1cm4gbmV0d29ya2VkRW50aXR5LmNvbXBvbmVudHNbJ25ldHdvcmtlZCddLnRha2VPd25lcnNoaXAoKTtcblx0fTtcblxuXHRtb2R1bGUuZXhwb3J0cy5pc01pbmUgPSBmdW5jdGlvbiAoZW50aXR5KSB7XG5cdCAgcmV0dXJuIGdldE5ldHdvcmtlZEVudGl0eShlbnRpdHkpLmNvbXBvbmVudHNbJ25ldHdvcmtlZCddLmlzTWluZSgpO1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDUwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5cdHZhciBOYWZMb2dnZXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gTmFmTG9nZ2VyKCkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5hZkxvZ2dlcik7XG5cblx0ICAgIHRoaXMuZGVidWcgPSBmYWxzZTtcblx0ICB9XG5cblx0ICBfY3JlYXRlQ2xhc3MoTmFmTG9nZ2VyLCBbe1xuXHQgICAga2V5OiBcInNldERlYnVnXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RGVidWcoZGVidWcpIHtcblx0ICAgICAgdGhpcy5kZWJ1ZyA9IGRlYnVnO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJ3cml0ZVwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHdyaXRlKCkge1xuXHQgICAgICBpZiAodGhpcy5kZWJ1Zykge1xuXHQgICAgICAgIGNvbnNvbGUubG9nLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiZXJyb3JcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBlcnJvcigpIHtcblx0ICAgICAgY29uc29sZS5lcnJvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgfVxuXHQgIH1dKTtcblxuXHQgIHJldHVybiBOYWZMb2dnZXI7XG5cdH0oKTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IE5hZkxvZ2dlcjtcblxuLyoqKi8gfSksXG4vKiA1MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cblx0dmFyIFNjaGVtYXMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gU2NoZW1hcygpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTY2hlbWFzKTtcblxuXHQgICAgdGhpcy5kaWN0ID0ge307XG5cdCAgfVxuXG5cdCAgX2NyZWF0ZUNsYXNzKFNjaGVtYXMsIFt7XG5cdCAgICBrZXk6ICdhZGQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZChzY2hlbWEpIHtcblx0ICAgICAgaWYgKHRoaXMudmFsaWRhdGUoc2NoZW1hKSkge1xuXHQgICAgICAgIHRoaXMuZGljdFtzY2hlbWEudGVtcGxhdGVdID0gc2NoZW1hO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIE5BRi5sb2cuZXJyb3IoJ1NjaGVtYSBub3QgdmFsaWQ6ICcsIHNjaGVtYSk7XG5cdCAgICAgICAgTkFGLmxvZy5lcnJvcignU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9oYXlkZW5qYW1lc2xlZS9uZXR3b3JrZWQtYWZyYW1lI3N5bmNpbmctY3VzdG9tLWNvbXBvbmVudHMnKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2hhc1RlbXBsYXRlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBoYXNUZW1wbGF0ZSh0ZW1wbGF0ZSkge1xuXHQgICAgICByZXR1cm4gdGhpcy5kaWN0Lmhhc093blByb3BlcnR5KHRlbXBsYXRlKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRDb21wb25lbnRzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb21wb25lbnRzKHRlbXBsYXRlKSB7XG5cdCAgICAgIHZhciBjb21wb25lbnRzID0gWydwb3NpdGlvbicsICdyb3RhdGlvbiddO1xuXHQgICAgICBpZiAodGhpcy5oYXNUZW1wbGF0ZSh0ZW1wbGF0ZSkpIHtcblx0ICAgICAgICBjb21wb25lbnRzID0gdGhpcy5kaWN0W3RlbXBsYXRlXS5jb21wb25lbnRzO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBjb21wb25lbnRzO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3ZhbGlkYXRlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiB2YWxpZGF0ZShzY2hlbWEpIHtcblx0ICAgICAgcmV0dXJuIHNjaGVtYS5oYXNPd25Qcm9wZXJ0eSgndGVtcGxhdGUnKSAmJiBzY2hlbWEuaGFzT3duUHJvcGVydHkoJ2NvbXBvbmVudHMnKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdyZW1vdmUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZSh0ZW1wbGF0ZSkge1xuXHQgICAgICBkZWxldGUgdGhpcy5kaWN0W3RlbXBsYXRlXTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjbGVhcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXIoKSB7XG5cdCAgICAgIHRoaXMuZGljdCA9IHt9O1xuXHQgICAgfVxuXHQgIH1dKTtcblxuXHQgIHJldHVybiBTY2hlbWFzO1xuXHR9KCk7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBTY2hlbWFzO1xuXG4vKioqLyB9KSxcbi8qIDUyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuXHR2YXIgQ2hpbGRFbnRpdHlDYWNoZSA9IF9fd2VicGFja19yZXF1aXJlX18oNTMpO1xuXG5cdHZhciBOZXR3b3JrRW50aXRpZXMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gTmV0d29ya0VudGl0aWVzKCkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5ldHdvcmtFbnRpdGllcyk7XG5cblx0ICAgIHRoaXMuZW50aXRpZXMgPSB7fTtcblx0ICAgIHRoaXMuY2hpbGRDYWNoZSA9IG5ldyBDaGlsZEVudGl0eUNhY2hlKCk7XG5cblx0ICAgIHRoaXMub25SZW1vdGVFbnRpdHlDcmVhdGVkRXZlbnQgPSBuZXcgRXZlbnQoJ3JlbW90ZUVudGl0eUNyZWF0ZWQnKTtcblx0ICB9XG5cblx0ICBfY3JlYXRlQ2xhc3MoTmV0d29ya0VudGl0aWVzLCBbe1xuXHQgICAga2V5OiAncmVnaXN0ZXJFbnRpdHknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlZ2lzdGVyRW50aXR5KG5ldHdvcmtJZCwgZW50aXR5KSB7XG5cdCAgICAgIHRoaXMuZW50aXRpZXNbbmV0d29ya0lkXSA9IGVudGl0eTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjcmVhdGVSZW1vdGVFbnRpdHknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVJlbW90ZUVudGl0eShlbnRpdHlEYXRhKSB7XG5cdCAgICAgIE5BRi5sb2cud3JpdGUoJ0NyZWF0aW5nIHJlbW90ZSBlbnRpdHknLCBlbnRpdHlEYXRhKTtcblxuXHQgICAgICB2YXIgbmV0d29ya0lkID0gZW50aXR5RGF0YS5uZXR3b3JrSWQ7XG5cblx0ICAgICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYS1lbnRpdHknKTtcblx0ICAgICAgZWwuc2V0QXR0cmlidXRlKCdpZCcsICduYWYtJyArIG5ldHdvcmtJZCk7XG5cblx0ICAgICAgdGhpcy5pbml0UG9zaXRpb24oZWwsIGVudGl0eURhdGEuY29tcG9uZW50cyk7XG5cdCAgICAgIHRoaXMuaW5pdFJvdGF0aW9uKGVsLCBlbnRpdHlEYXRhLmNvbXBvbmVudHMpO1xuXHQgICAgICB0aGlzLmFkZE5ldHdvcmtDb21wb25lbnQoZWwsIGVudGl0eURhdGEpO1xuXG5cdCAgICAgIHRoaXMucmVnaXN0ZXJFbnRpdHkobmV0d29ya0lkLCBlbCk7XG5cblx0ICAgICAgcmV0dXJuIGVsO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2luaXRQb3NpdGlvbicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdFBvc2l0aW9uKGVudGl0eSwgY29tcG9uZW50RGF0YSkge1xuXHQgICAgICB2YXIgaGFzUG9zaXRpb24gPSBjb21wb25lbnREYXRhLmhhc093blByb3BlcnR5KCdwb3NpdGlvbicpO1xuXHQgICAgICBpZiAoaGFzUG9zaXRpb24pIHtcblx0ICAgICAgICB2YXIgcG9zaXRpb24gPSBjb21wb25lbnREYXRhLnBvc2l0aW9uO1xuXHQgICAgICAgIGVudGl0eS5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJywgcG9zaXRpb24pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnaW5pdFJvdGF0aW9uJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0Um90YXRpb24oZW50aXR5LCBjb21wb25lbnREYXRhKSB7XG5cdCAgICAgIHZhciBoYXNSb3RhdGlvbiA9IGNvbXBvbmVudERhdGEuaGFzT3duUHJvcGVydHkoJ3JvdGF0aW9uJyk7XG5cdCAgICAgIGlmIChoYXNSb3RhdGlvbikge1xuXHQgICAgICAgIHZhciByb3RhdGlvbiA9IGNvbXBvbmVudERhdGEucm90YXRpb247XG5cdCAgICAgICAgZW50aXR5LnNldEF0dHJpYnV0ZSgncm90YXRpb24nLCByb3RhdGlvbik7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdhZGROZXR3b3JrQ29tcG9uZW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBhZGROZXR3b3JrQ29tcG9uZW50KGVudGl0eSwgZW50aXR5RGF0YSkge1xuXHQgICAgICB2YXIgbmV0d29ya0RhdGEgPSB7XG5cdCAgICAgICAgdGVtcGxhdGU6IGVudGl0eURhdGEudGVtcGxhdGUsXG5cdCAgICAgICAgb3duZXI6IGVudGl0eURhdGEub3duZXIsXG5cdCAgICAgICAgbmV0d29ya0lkOiBlbnRpdHlEYXRhLm5ldHdvcmtJZFxuXHQgICAgICB9O1xuXG5cdCAgICAgIGVudGl0eS5zZXRBdHRyaWJ1dGUoJ25ldHdvcmtlZCcsIG5ldHdvcmtEYXRhKTtcblx0ICAgICAgZW50aXR5LmZpcnN0VXBkYXRlRGF0YSA9IGVudGl0eURhdGE7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAndXBkYXRlRW50aXR5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVFbnRpdHkoY2xpZW50LCBkYXRhVHlwZSwgZW50aXR5RGF0YSkge1xuXHQgICAgICB2YXIgaXNDb21wcmVzc2VkID0gZW50aXR5RGF0YVswXSA9PSAxO1xuXHQgICAgICB2YXIgbmV0d29ya0lkID0gaXNDb21wcmVzc2VkID8gZW50aXR5RGF0YVsxXSA6IGVudGl0eURhdGEubmV0d29ya0lkO1xuXG5cdCAgICAgIGlmICh0aGlzLmhhc0VudGl0eShuZXR3b3JrSWQpKSB7XG5cdCAgICAgICAgdGhpcy5lbnRpdGllc1tuZXR3b3JrSWRdLmVtaXQoJ25ldHdvcmtVcGRhdGUnLCB7IGVudGl0eURhdGE6IGVudGl0eURhdGEgfSwgZmFsc2UpO1xuXHQgICAgICB9IGVsc2UgaWYgKCFpc0NvbXByZXNzZWQgJiYgdGhpcy5pc0Z1bGxTeW5jKGVudGl0eURhdGEpKSB7XG5cdCAgICAgICAgdGhpcy5yZWNlaXZlRmlyc3RVcGRhdGVGcm9tRW50aXR5KGVudGl0eURhdGEpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnaXNGdWxsU3luYycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaXNGdWxsU3luYyhlbnRpdHlEYXRhKSB7XG5cdCAgICAgIHZhciBudW1TZW50Q29tcHMgPSBPYmplY3Qua2V5cyhlbnRpdHlEYXRhLmNvbXBvbmVudHMpLmxlbmd0aDtcblx0ICAgICAgdmFyIG51bVRlbXBsYXRlQ29tcHMgPSBOQUYuc2NoZW1hcy5nZXRDb21wb25lbnRzKGVudGl0eURhdGEudGVtcGxhdGUpLmxlbmd0aDtcblx0ICAgICAgcmV0dXJuIG51bVNlbnRDb21wcyA9PT0gbnVtVGVtcGxhdGVDb21wcztcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdyZWNlaXZlRmlyc3RVcGRhdGVGcm9tRW50aXR5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZWNlaXZlRmlyc3RVcGRhdGVGcm9tRW50aXR5KGVudGl0eURhdGEpIHtcblx0ICAgICAgdmFyIHBhcmVudCA9IGVudGl0eURhdGEucGFyZW50O1xuXHQgICAgICB2YXIgbmV0d29ya0lkID0gZW50aXR5RGF0YS5uZXR3b3JrSWQ7XG5cblx0ICAgICAgdmFyIHBhcmVudE5vdENyZWF0ZWRZZXQgPSBwYXJlbnQgJiYgIXRoaXMuaGFzRW50aXR5KHBhcmVudCk7XG5cdCAgICAgIGlmIChwYXJlbnROb3RDcmVhdGVkWWV0KSB7XG5cdCAgICAgICAgdGhpcy5jaGlsZENhY2hlLmFkZENoaWxkKHBhcmVudCwgZW50aXR5RGF0YSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdmFyIHJlbW90ZUVudGl0eSA9IHRoaXMuY3JlYXRlUmVtb3RlRW50aXR5KGVudGl0eURhdGEpO1xuXHQgICAgICAgIHRoaXMuY3JlYXRlQW5kQXBwZW5kQ2hpbGRyZW4obmV0d29ya0lkLCByZW1vdGVFbnRpdHkpO1xuXHQgICAgICAgIHRoaXMuYWRkRW50aXR5VG9QYWdlKHJlbW90ZUVudGl0eSwgcGFyZW50KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NyZWF0ZUFuZEFwcGVuZENoaWxkcmVuJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVBbmRBcHBlbmRDaGlsZHJlbihwYXJlbnRJZCwgcGFyZW50RW50aXR5KSB7XG5cdCAgICAgIHZhciBjaGlsZHJlbiA9IHRoaXMuY2hpbGRDYWNoZS5nZXRDaGlsZHJlbihwYXJlbnRJZCk7XG5cdCAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgY2hpbGRFbnRpdHlEYXRhID0gY2hpbGRyZW5baV07XG5cdCAgICAgICAgdmFyIGNoaWxkSWQgPSBjaGlsZEVudGl0eURhdGEubmV0d29ya0lkO1xuXHQgICAgICAgIGlmICh0aGlzLmhhc0VudGl0eShjaGlsZElkKSkge1xuXHQgICAgICAgICAgY29uc29sZS53YXJuKCdUcmllZCB0byBpbnN0YW50aWF0ZSBlbnRpdHkgbXVsdGlwbGUgdGltZXMnLCBjaGlsZElkLCBjaGlsZEVudGl0eURhdGEsICdFeGlzdGluZyBlbnRpdHk6JywgdGhpcy5nZXRFbnRpdHkoY2hpbGRJZCkpO1xuXHQgICAgICAgICAgY29udGludWU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBjaGlsZEVudGl0eSA9IHRoaXMuY3JlYXRlUmVtb3RlRW50aXR5KGNoaWxkRW50aXR5RGF0YSk7XG5cdCAgICAgICAgdGhpcy5jcmVhdGVBbmRBcHBlbmRDaGlsZHJlbihjaGlsZElkLCBjaGlsZEVudGl0eSk7XG5cdCAgICAgICAgcGFyZW50RW50aXR5LmFwcGVuZENoaWxkKGNoaWxkRW50aXR5KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2FkZEVudGl0eVRvUGFnZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gYWRkRW50aXR5VG9QYWdlKGVudGl0eSwgcGFyZW50SWQpIHtcblx0ICAgICAgaWYgKHRoaXMuaGFzRW50aXR5KHBhcmVudElkKSkge1xuXHQgICAgICAgIHRoaXMuYWRkRW50aXR5VG9QYXJlbnQoZW50aXR5LCBwYXJlbnRJZCk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy5hZGRFbnRpdHlUb1NjZW5lUm9vdChlbnRpdHkpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnYWRkRW50aXR5VG9QYXJlbnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEVudGl0eVRvUGFyZW50KGVudGl0eSwgcGFyZW50SWQpIHtcblx0ICAgICAgdmFyIHBhcmVudEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hZi0nICsgcGFyZW50SWQpO1xuXHQgICAgICBwYXJlbnRFbC5hcHBlbmRDaGlsZChlbnRpdHkpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2FkZEVudGl0eVRvU2NlbmVSb290Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRFbnRpdHlUb1NjZW5lUm9vdChlbCkge1xuXHQgICAgICB2YXIgc2NlbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdhLXNjZW5lJyk7XG5cdCAgICAgIHNjZW5lLmFwcGVuZENoaWxkKGVsKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb21wbGV0ZVN5bmMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBsZXRlU3luYyh0YXJnZXRDbGllbnRJZCkge1xuXHQgICAgICBmb3IgKHZhciBpZCBpbiB0aGlzLmVudGl0aWVzKSB7XG5cdCAgICAgICAgaWYgKHRoaXMuZW50aXRpZXMuaGFzT3duUHJvcGVydHkoaWQpKSB7XG5cdCAgICAgICAgICB0aGlzLmVudGl0aWVzW2lkXS5lbWl0KCdzeW5jQWxsJywgeyB0YXJnZXRDbGllbnRJZDogdGFyZ2V0Q2xpZW50SWQgfSwgZmFsc2UpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlbW92ZVJlbW90ZUVudGl0eScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlUmVtb3RlRW50aXR5KHRvQ2xpZW50LCBkYXRhVHlwZSwgZGF0YSkge1xuXHQgICAgICB2YXIgaWQgPSBkYXRhLm5ldHdvcmtJZDtcblx0ICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlRW50aXR5KGlkKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdyZW1vdmVFbnRpdGllc09mQ2xpZW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVFbnRpdGllc09mQ2xpZW50KGNsaWVudElkKSB7XG5cdCAgICAgIHZhciBlbnRpdHlMaXN0ID0gW107XG5cdCAgICAgIGZvciAodmFyIGlkIGluIHRoaXMuZW50aXRpZXMpIHtcblx0ICAgICAgICB2YXIgZW50aXR5T3duZXIgPSBOQUYudXRpbHMuZ2V0TmV0d29ya093bmVyKHRoaXMuZW50aXRpZXNbaWRdKTtcblx0ICAgICAgICBpZiAoZW50aXR5T3duZXIgPT0gY2xpZW50SWQpIHtcblx0ICAgICAgICAgIHZhciBlbnRpdHkgPSB0aGlzLnJlbW92ZUVudGl0eShpZCk7XG5cdCAgICAgICAgICBlbnRpdHlMaXN0LnB1c2goZW50aXR5KTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIGVudGl0eUxpc3Q7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVtb3ZlRW50aXR5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVFbnRpdHkoaWQpIHtcblx0ICAgICAgaWYgKHRoaXMuaGFzRW50aXR5KGlkKSkge1xuXHQgICAgICAgIHZhciBlbnRpdHkgPSB0aGlzLmVudGl0aWVzW2lkXTtcblx0ICAgICAgICBkZWxldGUgdGhpcy5lbnRpdGllc1tpZF07XG5cdCAgICAgICAgZW50aXR5LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZW50aXR5KTtcblx0ICAgICAgICByZXR1cm4gZW50aXR5O1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0RW50aXR5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRFbnRpdHkoaWQpIHtcblx0ICAgICAgaWYgKHRoaXMuZW50aXRpZXMuaGFzT3duUHJvcGVydHkoaWQpKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuZW50aXRpZXNbaWRdO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2hhc0VudGl0eScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaGFzRW50aXR5KGlkKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLmVudGl0aWVzLmhhc093blByb3BlcnR5KGlkKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdyZW1vdmVSZW1vdGVFbnRpdGllcycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlUmVtb3RlRW50aXRpZXMoKSB7XG5cdCAgICAgIHRoaXMuY2hpbGRDYWNoZSA9IG5ldyBDaGlsZEVudGl0eUNhY2hlKCk7XG5cblx0ICAgICAgZm9yICh2YXIgaWQgaW4gdGhpcy5lbnRpdGllcykge1xuXHQgICAgICAgIHZhciBvd25lciA9IHRoaXMuZW50aXRpZXNbaWRdLmdldEF0dHJpYnV0ZSgnbmV0d29ya2VkJykub3duZXI7XG5cdCAgICAgICAgaWYgKG93bmVyICE9IE5BRi5jbGllbnRJZCkge1xuXHQgICAgICAgICAgdGhpcy5yZW1vdmVFbnRpdHkoaWQpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1dKTtcblxuXHQgIHJldHVybiBOZXR3b3JrRW50aXRpZXM7XG5cdH0oKTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IE5ldHdvcmtFbnRpdGllcztcblxuLyoqKi8gfSksXG4vKiA1MyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuXHR2YXIgQ2hpbGRFbnRpdHlDYWNoZSA9IGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBDaGlsZEVudGl0eUNhY2hlKCkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENoaWxkRW50aXR5Q2FjaGUpO1xuXG5cdCAgICB0aGlzLmRpY3QgPSB7fTtcblx0ICB9XG5cblx0ICBfY3JlYXRlQ2xhc3MoQ2hpbGRFbnRpdHlDYWNoZSwgW3tcblx0ICAgIGtleTogXCJhZGRDaGlsZFwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZENoaWxkKHBhcmVudE5ldHdvcmtJZCwgY2hpbGREYXRhKSB7XG5cdCAgICAgIGlmICghdGhpcy5oYXNQYXJlbnQocGFyZW50TmV0d29ya0lkKSkge1xuXHQgICAgICAgIHRoaXMuZGljdFtwYXJlbnROZXR3b3JrSWRdID0gW107XG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy5kaWN0W3BhcmVudE5ldHdvcmtJZF0ucHVzaChjaGlsZERhdGEpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJnZXRDaGlsZHJlblwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldENoaWxkcmVuKHBhcmVudE5ldHdvcmtJZCkge1xuXHQgICAgICBpZiAoIXRoaXMuaGFzUGFyZW50KHBhcmVudE5ldHdvcmtJZCkpIHtcblx0ICAgICAgICByZXR1cm4gW107XG5cdCAgICAgIH1cblx0ICAgICAgdmFyIGNoaWxkcmVuID0gdGhpcy5kaWN0W3BhcmVudE5ldHdvcmtJZF07XG5cdCAgICAgIGRlbGV0ZSB0aGlzLmRpY3RbcGFyZW50TmV0d29ya0lkXTtcblx0ICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuXHQgICAgfVxuXG5cdCAgICAvKiBQcml2YXRlICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiaGFzUGFyZW50XCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaGFzUGFyZW50KHBhcmVudElkKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLmRpY3QuaGFzT3duUHJvcGVydHkocGFyZW50SWQpO1xuXHQgICAgfVxuXHQgIH1dKTtcblxuXHQgIHJldHVybiBDaGlsZEVudGl0eUNhY2hlO1xuXHR9KCk7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBDaGlsZEVudGl0eUNhY2hlO1xuXG4vKioqLyB9KSxcbi8qIDU0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuXHR2YXIgUmVzZXJ2ZWREYXRhVHlwZSA9IHsgVXBkYXRlOiAndScsIFJlbW92ZTogJ3InIH07XG5cblx0dmFyIE5ldHdvcmtDb25uZWN0aW9uID0gZnVuY3Rpb24gKCkge1xuXHQgIGZ1bmN0aW9uIE5ldHdvcmtDb25uZWN0aW9uKG5ldHdvcmtFbnRpdGllcykge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5ldHdvcmtDb25uZWN0aW9uKTtcblxuXHQgICAgdGhpcy5lbnRpdGllcyA9IG5ldHdvcmtFbnRpdGllcztcblx0ICAgIHRoaXMuc2V0dXBEZWZhdWx0RGF0YVN1YnNjcmlwdGlvbnMoKTtcblxuXHQgICAgdGhpcy5jb25uZWN0ZWRDbGllbnRzID0ge307XG5cdCAgICB0aGlzLmFjdGl2ZURhdGFDaGFubmVscyA9IHt9O1xuXHQgIH1cblxuXHQgIF9jcmVhdGVDbGFzcyhOZXR3b3JrQ29ubmVjdGlvbiwgW3tcblx0ICAgIGtleTogJ3NldE5ldHdvcmtBZGFwdGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXROZXR3b3JrQWRhcHRlcihhZGFwdGVyKSB7XG5cdCAgICAgIHRoaXMuYWRhcHRlciA9IGFkYXB0ZXI7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2V0dXBEZWZhdWx0RGF0YVN1YnNjcmlwdGlvbnMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldHVwRGVmYXVsdERhdGFTdWJzY3JpcHRpb25zKCkge1xuXHQgICAgICB0aGlzLmRhdGFDaGFubmVsU3VicyA9IHt9O1xuXG5cdCAgICAgIHRoaXMuZGF0YUNoYW5uZWxTdWJzW1Jlc2VydmVkRGF0YVR5cGUuVXBkYXRlXSA9IHRoaXMuZW50aXRpZXMudXBkYXRlRW50aXR5LmJpbmQodGhpcy5lbnRpdGllcyk7XG5cblx0ICAgICAgdGhpcy5kYXRhQ2hhbm5lbFN1YnNbUmVzZXJ2ZWREYXRhVHlwZS5SZW1vdmVdID0gdGhpcy5lbnRpdGllcy5yZW1vdmVSZW1vdGVFbnRpdHkuYmluZCh0aGlzLmVudGl0aWVzKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb25uZWN0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb25uZWN0KHNlcnZlclVybCwgYXBwTmFtZSwgcm9vbU5hbWUpIHtcblx0ICAgICAgdmFyIGVuYWJsZUF1ZGlvID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBmYWxzZTtcblxuXHQgICAgICBOQUYuYXBwID0gYXBwTmFtZTtcblx0ICAgICAgTkFGLnJvb20gPSByb29tTmFtZTtcblxuXHQgICAgICB0aGlzLmFkYXB0ZXIuc2V0U2VydmVyVXJsKHNlcnZlclVybCk7XG5cdCAgICAgIHRoaXMuYWRhcHRlci5zZXRBcHAoYXBwTmFtZSk7XG5cdCAgICAgIHRoaXMuYWRhcHRlci5zZXRSb29tKHJvb21OYW1lKTtcblxuXHQgICAgICB2YXIgd2VicnRjT3B0aW9ucyA9IHtcblx0ICAgICAgICBhdWRpbzogZW5hYmxlQXVkaW8sXG5cdCAgICAgICAgdmlkZW86IGZhbHNlLFxuXHQgICAgICAgIGRhdGFjaGFubmVsOiB0cnVlXG5cdCAgICAgIH07XG5cdCAgICAgIHRoaXMuYWRhcHRlci5zZXRXZWJSdGNPcHRpb25zKHdlYnJ0Y09wdGlvbnMpO1xuXG5cdCAgICAgIHRoaXMuYWRhcHRlci5zZXRTZXJ2ZXJDb25uZWN0TGlzdGVuZXJzKHRoaXMuY29ubmVjdFN1Y2Nlc3MuYmluZCh0aGlzKSwgdGhpcy5jb25uZWN0RmFpbHVyZS5iaW5kKHRoaXMpKTtcblx0ICAgICAgdGhpcy5hZGFwdGVyLnNldERhdGFDaGFubmVsTGlzdGVuZXJzKHRoaXMuZGF0YUNoYW5uZWxPcGVuLmJpbmQodGhpcyksIHRoaXMuZGF0YUNoYW5uZWxDbG9zZWQuYmluZCh0aGlzKSwgdGhpcy5yZWNlaXZlZERhdGEuYmluZCh0aGlzKSk7XG5cdCAgICAgIHRoaXMuYWRhcHRlci5zZXRSb29tT2NjdXBhbnRMaXN0ZW5lcih0aGlzLm9jY3VwYW50c1JlY2VpdmVkLmJpbmQodGhpcykpO1xuXG5cdCAgICAgIHRoaXMuYWRhcHRlci5jb25uZWN0KCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnb25Db25uZWN0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNvbm5lY3QoY2FsbGJhY2spIHtcblx0ICAgICAgdGhpcy5vbkNvbm5lY3RDYWxsYmFjayA9IGNhbGxiYWNrO1xuXG5cdCAgICAgIGlmICh0aGlzLmlzQ29ubmVjdGVkKCkpIHtcblx0ICAgICAgICBjYWxsYmFjaygpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY29ubmVjdGVkJywgY2FsbGJhY2ssIGZhbHNlKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2Nvbm5lY3RTdWNjZXNzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb25uZWN0U3VjY2VzcyhjbGllbnRJZCkge1xuXHQgICAgICBOQUYubG9nLndyaXRlKCdOZXR3b3JrZWQtQWZyYW1lIENsaWVudCBJRDonLCBjbGllbnRJZCk7XG5cdCAgICAgIE5BRi5jbGllbnRJZCA9IGNsaWVudElkO1xuXG5cdCAgICAgIHZhciBldnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2Nvbm5lY3RlZCcsIHsgJ2RldGFpbCc6IHsgY2xpZW50SWQ6IGNsaWVudElkIH0gfSk7XG5cdCAgICAgIGRvY3VtZW50LmJvZHkuZGlzcGF0Y2hFdmVudChldnQpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2Nvbm5lY3RGYWlsdXJlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb25uZWN0RmFpbHVyZShlcnJvckNvZGUsIG1lc3NhZ2UpIHtcblx0ICAgICAgTkFGLmxvZy5lcnJvcihlcnJvckNvZGUsIFwiZmFpbHVyZSB0byBjb25uZWN0XCIpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ29jY3VwYW50c1JlY2VpdmVkJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBvY2N1cGFudHNSZWNlaXZlZChvY2N1cGFudExpc3QpIHtcblx0ICAgICAgdmFyIHByZXZDb25uZWN0ZWRDbGllbnRzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5jb25uZWN0ZWRDbGllbnRzKTtcblx0ICAgICAgdGhpcy5jb25uZWN0ZWRDbGllbnRzID0gb2NjdXBhbnRMaXN0O1xuXHQgICAgICB0aGlzLmNoZWNrRm9yRGlzY29ubmVjdGluZ0NsaWVudHMocHJldkNvbm5lY3RlZENsaWVudHMsIG9jY3VwYW50TGlzdCk7XG5cdCAgICAgIHRoaXMuY2hlY2tGb3JDb25uZWN0aW5nQ2xpZW50cyhvY2N1cGFudExpc3QpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NoZWNrRm9yRGlzY29ubmVjdGluZ0NsaWVudHMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNoZWNrRm9yRGlzY29ubmVjdGluZ0NsaWVudHMob2xkT2NjdXBhbnRMaXN0LCBuZXdPY2N1cGFudExpc3QpIHtcblx0ICAgICAgZm9yICh2YXIgaWQgaW4gb2xkT2NjdXBhbnRMaXN0KSB7XG5cdCAgICAgICAgdmFyIGNsaWVudEZvdW5kID0gbmV3T2NjdXBhbnRMaXN0Lmhhc093blByb3BlcnR5KGlkKTtcblx0ICAgICAgICBpZiAoIWNsaWVudEZvdW5kKSB7XG5cdCAgICAgICAgICBOQUYubG9nLndyaXRlKCdDbG9zaW5nIHN0cmVhbSB0byAnLCBpZCk7XG5cdCAgICAgICAgICB0aGlzLmFkYXB0ZXIuY2xvc2VTdHJlYW1Db25uZWN0aW9uKGlkKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgLy8gU29tZSBhZGFwdGVycyB3aWxsIGhhbmRsZSB0aGlzIGludGVybmFsbHlcblxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2NoZWNrRm9yQ29ubmVjdGluZ0NsaWVudHMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNoZWNrRm9yQ29ubmVjdGluZ0NsaWVudHMob2NjdXBhbnRMaXN0KSB7XG5cdCAgICAgIGZvciAodmFyIGlkIGluIG9jY3VwYW50TGlzdCkge1xuXHQgICAgICAgIHZhciBzdGFydENvbm5lY3Rpb24gPSB0aGlzLmlzTmV3Q2xpZW50KGlkKSAmJiB0aGlzLmFkYXB0ZXIuc2hvdWxkU3RhcnRDb25uZWN0aW9uVG8ob2NjdXBhbnRMaXN0W2lkXSk7XG5cdCAgICAgICAgaWYgKHN0YXJ0Q29ubmVjdGlvbikge1xuXHQgICAgICAgICAgTkFGLmxvZy53cml0ZSgnT3BlbmluZyBkYXRhY2hhbm5lbCB0byAnLCBpZCk7XG5cdCAgICAgICAgICB0aGlzLmFkYXB0ZXIuc3RhcnRTdHJlYW1Db25uZWN0aW9uKGlkKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRDb25uZWN0ZWRDbGllbnRzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb25uZWN0ZWRDbGllbnRzKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5jb25uZWN0ZWRDbGllbnRzO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2lzQ29ubmVjdGVkJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBpc0Nvbm5lY3RlZCgpIHtcblx0ICAgICAgcmV0dXJuICEhTkFGLmNsaWVudElkO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2lzTWluZUFuZENvbm5lY3RlZCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaXNNaW5lQW5kQ29ubmVjdGVkKGNsaWVudElkKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLmlzQ29ubmVjdGVkKCkgJiYgTkFGLmNsaWVudElkID09PSBjbGllbnRJZDtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdpc05ld0NsaWVudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaXNOZXdDbGllbnQoY2xpZW50SWQpIHtcblx0ICAgICAgcmV0dXJuICF0aGlzLmlzQ29ubmVjdGVkVG8oY2xpZW50SWQpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2lzQ29ubmVjdGVkVG8nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGlzQ29ubmVjdGVkVG8oY2xpZW50SWQpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuYWRhcHRlci5nZXRDb25uZWN0U3RhdHVzKGNsaWVudElkKSA9PT0gTkFGLmFkYXB0ZXJzLklTX0NPTk5FQ1RFRDtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdkYXRhQ2hhbm5lbE9wZW4nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGRhdGFDaGFubmVsT3BlbihjbGllbnRJZCkge1xuXHQgICAgICBOQUYubG9nLndyaXRlKCdPcGVuZWQgZGF0YSBjaGFubmVsIGZyb20gJyArIGNsaWVudElkKTtcblx0ICAgICAgdGhpcy5hY3RpdmVEYXRhQ2hhbm5lbHNbY2xpZW50SWRdID0gdHJ1ZTtcblx0ICAgICAgdGhpcy5lbnRpdGllcy5jb21wbGV0ZVN5bmMoY2xpZW50SWQpO1xuXG5cdCAgICAgIHZhciBldnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2NsaWVudENvbm5lY3RlZCcsIHsgZGV0YWlsOiB7IGNsaWVudElkOiBjbGllbnRJZCB9IH0pO1xuXHQgICAgICBkb2N1bWVudC5ib2R5LmRpc3BhdGNoRXZlbnQoZXZ0KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdkYXRhQ2hhbm5lbENsb3NlZCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZGF0YUNoYW5uZWxDbG9zZWQoY2xpZW50SWQpIHtcblx0ICAgICAgTkFGLmxvZy53cml0ZSgnQ2xvc2VkIGRhdGEgY2hhbm5lbCBmcm9tICcgKyBjbGllbnRJZCk7XG5cdCAgICAgIHRoaXMuYWN0aXZlRGF0YUNoYW5uZWxzW2NsaWVudElkXSA9IGZhbHNlO1xuXHQgICAgICB0aGlzLmVudGl0aWVzLnJlbW92ZUVudGl0aWVzT2ZDbGllbnQoY2xpZW50SWQpO1xuXG5cdCAgICAgIHZhciBldnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2NsaWVudERpc2Nvbm5lY3RlZCcsIHsgZGV0YWlsOiB7IGNsaWVudElkOiBjbGllbnRJZCB9IH0pO1xuXHQgICAgICBkb2N1bWVudC5ib2R5LmRpc3BhdGNoRXZlbnQoZXZ0KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdoYXNBY3RpdmVEYXRhQ2hhbm5lbCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaGFzQWN0aXZlRGF0YUNoYW5uZWwoY2xpZW50SWQpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlRGF0YUNoYW5uZWxzLmhhc093blByb3BlcnR5KGNsaWVudElkKSAmJiB0aGlzLmFjdGl2ZURhdGFDaGFubmVsc1tjbGllbnRJZF07XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnYnJvYWRjYXN0RGF0YScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gYnJvYWRjYXN0RGF0YShkYXRhVHlwZSwgZGF0YSkge1xuXHQgICAgICB0aGlzLmFkYXB0ZXIuYnJvYWRjYXN0RGF0YShkYXRhVHlwZSwgZGF0YSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnYnJvYWRjYXN0RGF0YUd1YXJhbnRlZWQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGJyb2FkY2FzdERhdGFHdWFyYW50ZWVkKGRhdGFUeXBlLCBkYXRhKSB7XG5cdCAgICAgIHRoaXMuYWRhcHRlci5icm9hZGNhc3REYXRhR3VhcmFudGVlZChkYXRhVHlwZSwgZGF0YSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2VuZERhdGEnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNlbmREYXRhKHRvQ2xpZW50SWQsIGRhdGFUeXBlLCBkYXRhLCBndWFyYW50ZWVkKSB7XG5cdCAgICAgIGlmICh0aGlzLmhhc0FjdGl2ZURhdGFDaGFubmVsKHRvQ2xpZW50SWQpKSB7XG5cdCAgICAgICAgaWYgKGd1YXJhbnRlZWQpIHtcblx0ICAgICAgICAgIHRoaXMuYWRhcHRlci5zZW5kRGF0YUd1YXJhbnRlZWQodG9DbGllbnRJZCwgZGF0YVR5cGUsIGRhdGEpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICB0aGlzLmFkYXB0ZXIuc2VuZERhdGEodG9DbGllbnRJZCwgZGF0YVR5cGUsIGRhdGEpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAvLyBjb25zb2xlLmVycm9yKFwiTk9ULUNPTk5FQ1RFRFwiLCBcIm5vdCBjb25uZWN0ZWQgdG8gXCIgKyB0b0NsaWVudCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZW5kRGF0YUd1YXJhbnRlZWQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNlbmREYXRhR3VhcmFudGVlZCh0b0NsaWVudElkLCBkYXRhVHlwZSwgZGF0YSkge1xuXHQgICAgICB0aGlzLnNlbmREYXRhKHRvQ2xpZW50SWQsIGRhdGFUeXBlLCBkYXRhLCB0cnVlKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzdWJzY3JpYmVUb0RhdGFDaGFubmVsJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzdWJzY3JpYmVUb0RhdGFDaGFubmVsKGRhdGFUeXBlLCBjYWxsYmFjaykge1xuXHQgICAgICBpZiAodGhpcy5pc1Jlc2VydmVkRGF0YVR5cGUoZGF0YVR5cGUpKSB7XG5cdCAgICAgICAgTkFGLmxvZy5lcnJvcignTmV0d29ya0Nvbm5lY3Rpb25Ac3Vic2NyaWJlVG9EYXRhQ2hhbm5lbDogJyArIGRhdGFUeXBlICsgJyBpcyBhIHJlc2VydmVkIGRhdGFUeXBlLiBDaG9vc2UgYW5vdGhlcicpO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICB0aGlzLmRhdGFDaGFubmVsU3Vic1tkYXRhVHlwZV0gPSBjYWxsYmFjaztcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICd1bnN1YnNjcmliZVRvRGF0YUNoYW5uZWwnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHVuc3Vic2NyaWJlVG9EYXRhQ2hhbm5lbChkYXRhVHlwZSkge1xuXHQgICAgICBpZiAodGhpcy5pc1Jlc2VydmVkRGF0YVR5cGUoZGF0YVR5cGUpKSB7XG5cdCAgICAgICAgTkFGLmxvZy5lcnJvcignTmV0d29ya0Nvbm5lY3Rpb25AdW5zdWJzY3JpYmVUb0RhdGFDaGFubmVsOiAnICsgZGF0YVR5cGUgKyAnIGlzIGEgcmVzZXJ2ZWQgZGF0YVR5cGUuIENob29zZSBhbm90aGVyJyk7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIGRlbGV0ZSB0aGlzLmRhdGFDaGFubmVsU3Vic1tkYXRhVHlwZV07XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnaXNSZXNlcnZlZERhdGFUeXBlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBpc1Jlc2VydmVkRGF0YVR5cGUoZGF0YVR5cGUpIHtcblx0ICAgICAgcmV0dXJuIGRhdGFUeXBlID09IFJlc2VydmVkRGF0YVR5cGUuVXBkYXRlIHx8IGRhdGFUeXBlID09IFJlc2VydmVkRGF0YVR5cGUuUmVtb3ZlO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlY2VpdmVkRGF0YScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVjZWl2ZWREYXRhKGZyb21DbGllbnRJZCwgZGF0YVR5cGUsIGRhdGEpIHtcblx0ICAgICAgaWYgKHRoaXMuZGF0YUNoYW5uZWxTdWJzLmhhc093blByb3BlcnR5KGRhdGFUeXBlKSkge1xuXHQgICAgICAgIHRoaXMuZGF0YUNoYW5uZWxTdWJzW2RhdGFUeXBlXShmcm9tQ2xpZW50SWQsIGRhdGFUeXBlLCBkYXRhKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBOQUYubG9nLmVycm9yKCdOZXR3b3JrQ29ubmVjdGlvbkByZWNlaXZlZERhdGE6ICcgKyBkYXRhVHlwZSArICcgaGFzIG5vdCBiZWVuIHN1YnNjcmliZWQgdG8geWV0LiBDYWxsIHN1YnNjcmliZVRvRGF0YUNoYW5uZWwoKScpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0U2VydmVyVGltZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2VydmVyVGltZSgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuYWRhcHRlci5nZXRTZXJ2ZXJUaW1lKCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZGlzY29ubmVjdCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZGlzY29ubmVjdCgpIHtcblx0ICAgICAgdGhpcy5lbnRpdGllcy5yZW1vdmVSZW1vdGVFbnRpdGllcygpO1xuXHQgICAgICB0aGlzLmFkYXB0ZXIuZGlzY29ubmVjdCgpO1xuXG5cdCAgICAgIE5BRi5hcHAgPSAnJztcblx0ICAgICAgTkFGLnJvb20gPSAnJztcblx0ICAgICAgTkFGLmNsaWVudElkID0gJyc7XG5cdCAgICAgIHRoaXMuY29ubmVjdGVkQ2xpZW50cyA9IHt9O1xuXHQgICAgICB0aGlzLmFjdGl2ZURhdGFDaGFubmVscyA9IHt9O1xuXHQgICAgICB0aGlzLmFkYXB0ZXIgPSBudWxsO1xuXG5cdCAgICAgIHRoaXMuc2V0dXBEZWZhdWx0RGF0YVN1YnNjcmlwdGlvbnMoKTtcblxuXHQgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Nvbm5lY3RlZCcsIHRoaXMub25Db25uZWN0Q2FsbGJhY2spO1xuXHQgICAgfVxuXHQgIH1dKTtcblxuXHQgIHJldHVybiBOZXR3b3JrQ29ubmVjdGlvbjtcblx0fSgpO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gTmV0d29ya0Nvbm5lY3Rpb247XG5cbi8qKiovIH0pLFxuLyogNTUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cblx0dmFyIFdzRWFzeVJ0Y0FkYXB0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU2KTtcblx0dmFyIEVhc3lSdGNBZGFwdGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nyk7XG5cblx0dmFyIEFkYXB0ZXJGYWN0b3J5ID0gZnVuY3Rpb24gKCkge1xuXHQgIGZ1bmN0aW9uIEFkYXB0ZXJGYWN0b3J5KCkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFkYXB0ZXJGYWN0b3J5KTtcblxuXHQgICAgdGhpcy5hZGFwdGVycyA9IHtcblx0ICAgICAgXCJ3c2Vhc3lydGNcIjogV3NFYXN5UnRjQWRhcHRlcixcblx0ICAgICAgXCJlYXN5cnRjXCI6IEVhc3lSdGNBZGFwdGVyXG5cdCAgICB9O1xuXG5cdCAgICB0aGlzLklTX0NPTk5FQ1RFRCA9IEFkYXB0ZXJGYWN0b3J5LklTX0NPTk5FQ1RFRDtcblx0ICAgIHRoaXMuQ09OTkVDVElORyA9IEFkYXB0ZXJGYWN0b3J5LkNPTk5FQ1RJTkc7XG5cdCAgICB0aGlzLk5PVF9DT05ORUNURUQgPSBBZGFwdGVyRmFjdG9yeS5OT1RfQ09OTkVDVEVEO1xuXHQgIH1cblxuXHQgIF9jcmVhdGVDbGFzcyhBZGFwdGVyRmFjdG9yeSwgW3tcblx0ICAgIGtleTogXCJyZWdpc3RlclwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlZ2lzdGVyKGFkYXB0ZXJOYW1lLCBBZGFwdGVyQ2xhc3MpIHtcblx0ICAgICAgdGhpcy5hZGFwdGVyc1thZGFwdGVyTmFtZV0gPSBBZGFwdGVyQ2xhc3M7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcIm1ha2VcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBtYWtlKGFkYXB0ZXJOYW1lKSB7XG5cdCAgICAgIHZhciBuYW1lID0gYWRhcHRlck5hbWUudG9Mb3dlckNhc2UoKTtcblx0ICAgICAgaWYgKHRoaXMuYWRhcHRlcnNbbmFtZV0pIHtcblx0ICAgICAgICB2YXIgQWRhcHRlckNsYXNzID0gdGhpcy5hZGFwdGVyc1tuYW1lXTtcblx0ICAgICAgICByZXR1cm4gbmV3IEFkYXB0ZXJDbGFzcygpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFkYXB0ZXI6IFwiICsgYWRhcHRlck5hbWUgKyBcIiBub3QgcmVnaXN0ZXJlZC4gUGxlYXNlIHVzZSBOQUYuYWRhcHRlcnMucmVnaXN0ZXIoKSB0byByZWdpc3RlciB0aGlzIGFkYXB0ZXIuXCIpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfV0pO1xuXG5cdCAgcmV0dXJuIEFkYXB0ZXJGYWN0b3J5O1xuXHR9KCk7XG5cblx0QWRhcHRlckZhY3RvcnkuSVNfQ09OTkVDVEVEID0gXCJJU19DT05ORUNURURcIjtcblx0QWRhcHRlckZhY3RvcnkuQ09OTkVDVElORyA9IFwiQ09OTkVDVElOR1wiO1xuXHRBZGFwdGVyRmFjdG9yeS5OT1RfQ09OTkVDVEVEID0gXCJOT1RfQ09OTkVDVEVEXCI7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBBZGFwdGVyRmFjdG9yeTtcblxuLyoqKi8gfSksXG4vKiA1NiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3NsaWNlZFRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIHNsaWNlSXRlcmF0b3IoYXJyLCBpKSB7IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0gcmV0dXJuIGZ1bmN0aW9uIChhcnIsIGkpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyByZXR1cm4gYXJyOyB9IGVsc2UgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkgeyByZXR1cm4gc2xpY2VJdGVyYXRvcihhcnIsIGkpOyB9IGVsc2UgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTsgfSB9OyB9KCk7XG5cblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5cdHZhciBXc0Vhc3lSdGNJbnRlcmZhY2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gV3NFYXN5UnRjSW50ZXJmYWNlKGVhc3lydGMpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBXc0Vhc3lSdGNJbnRlcmZhY2UpO1xuXG5cdCAgICB0aGlzLmVhc3lydGMgPSBlYXN5cnRjIHx8IHdpbmRvdy5lYXN5cnRjO1xuXHQgICAgdGhpcy5hcHAgPSAnZGVmYXVsdCc7XG5cdCAgICB0aGlzLnJvb20gPSAnZGVmYXVsdCc7XG5cblx0ICAgIHRoaXMuY29ubmVjdGVkQ2xpZW50cyA9IFtdO1xuXG5cdCAgICB0aGlzLnNlcnZlclRpbWVSZXF1ZXN0cyA9IDA7XG5cdCAgICB0aGlzLnRpbWVPZmZzZXRzID0gW107XG5cdCAgICB0aGlzLmF2Z1RpbWVPZmZzZXQgPSAwO1xuXHQgIH1cblxuXHQgIF9jcmVhdGVDbGFzcyhXc0Vhc3lSdGNJbnRlcmZhY2UsIFt7XG5cdCAgICBrZXk6ICdzZXRTZXJ2ZXJVcmwnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFNlcnZlclVybCh1cmwpIHtcblx0ICAgICAgdGhpcy5zZXJ2ZXJVcmwgPSB1cmw7XG5cdCAgICAgIHRoaXMuZWFzeXJ0Yy5zZXRTb2NrZXRVcmwodXJsKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZXRBcHAnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldEFwcChhcHBOYW1lKSB7XG5cdCAgICAgIHRoaXMuYXBwID0gYXBwTmFtZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZXRSb29tJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRSb29tKHJvb21OYW1lKSB7XG5cdCAgICAgIHRoaXMucm9vbSA9IHJvb21OYW1lO1xuXHQgICAgICB0aGlzLmVhc3lydGMuam9pblJvb20ocm9vbU5hbWUsIG51bGwpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NldFdlYlJ0Y09wdGlvbnMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFdlYlJ0Y09wdGlvbnMob3B0aW9ucykge1xuXHQgICAgICAvLyBObyB3ZWJydGMgc3VwcG9ydFxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NldFNlcnZlckNvbm5lY3RMaXN0ZW5lcnMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFNlcnZlckNvbm5lY3RMaXN0ZW5lcnMoc3VjY2Vzc0xpc3RlbmVyLCBmYWlsdXJlTGlzdGVuZXIpIHtcblx0ICAgICAgdGhpcy5jb25uZWN0U3VjY2VzcyA9IHN1Y2Nlc3NMaXN0ZW5lcjtcblx0ICAgICAgdGhpcy5jb25uZWN0RmFpbHVyZSA9IGZhaWx1cmVMaXN0ZW5lcjtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZXRSb29tT2NjdXBhbnRMaXN0ZW5lcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Um9vbU9jY3VwYW50TGlzdGVuZXIob2NjdXBhbnRMaXN0ZW5lcikge1xuXHQgICAgICB0aGlzLmVhc3lydGMuc2V0Um9vbU9jY3VwYW50TGlzdGVuZXIoZnVuY3Rpb24gKHJvb21OYW1lLCBvY2N1cGFudHMsIHByaW1hcnkpIHtcblx0ICAgICAgICBvY2N1cGFudExpc3RlbmVyKG9jY3VwYW50cyk7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NldERhdGFDaGFubmVsTGlzdGVuZXJzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXREYXRhQ2hhbm5lbExpc3RlbmVycyhvcGVuTGlzdGVuZXIsIGNsb3NlZExpc3RlbmVyLCBtZXNzYWdlTGlzdGVuZXIpIHtcblx0ICAgICAgdGhpcy5vcGVuTGlzdGVuZXIgPSBvcGVuTGlzdGVuZXI7XG5cdCAgICAgIHRoaXMuY2xvc2VkTGlzdGVuZXIgPSBjbG9zZWRMaXN0ZW5lcjtcblx0ICAgICAgdGhpcy5lYXN5cnRjLnNldFBlZXJMaXN0ZW5lcihtZXNzYWdlTGlzdGVuZXIpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3VwZGF0ZVRpbWVPZmZzZXQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVRpbWVPZmZzZXQoKSB7XG5cdCAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cblx0ICAgICAgdmFyIGNsaWVudFNlbnRUaW1lID0gRGF0ZS5ub3coKSArIHRoaXMuYXZnVGltZU9mZnNldDtcblxuXHQgICAgICByZXR1cm4gZmV0Y2goZG9jdW1lbnQubG9jYXRpb24uaHJlZiwgeyBtZXRob2Q6IFwiSEVBRFwiLCBjYWNoZTogXCJuby1jYWNoZVwiIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuXHQgICAgICAgIHZhciBwcmVjaXNpb24gPSAxMDAwO1xuXHQgICAgICAgIHZhciBzZXJ2ZXJSZWNlaXZlZFRpbWUgPSBuZXcgRGF0ZShyZXMuaGVhZGVycy5nZXQoXCJEYXRlXCIpKS5nZXRUaW1lKCkgKyBwcmVjaXNpb24gLyAyO1xuXHQgICAgICAgIHZhciBjbGllbnRSZWNlaXZlZFRpbWUgPSBEYXRlLm5vdygpO1xuXHQgICAgICAgIHZhciBzZXJ2ZXJUaW1lID0gc2VydmVyUmVjZWl2ZWRUaW1lICsgKGNsaWVudFJlY2VpdmVkVGltZSAtIGNsaWVudFNlbnRUaW1lKSAvIDI7XG5cdCAgICAgICAgdmFyIHRpbWVPZmZzZXQgPSBzZXJ2ZXJUaW1lIC0gY2xpZW50UmVjZWl2ZWRUaW1lO1xuXG5cdCAgICAgICAgX3RoaXMuc2VydmVyVGltZVJlcXVlc3RzKys7XG5cblx0ICAgICAgICBpZiAoX3RoaXMuc2VydmVyVGltZVJlcXVlc3RzIDw9IDEwKSB7XG5cdCAgICAgICAgICBfdGhpcy50aW1lT2Zmc2V0cy5wdXNoKHRpbWVPZmZzZXQpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBfdGhpcy50aW1lT2Zmc2V0c1tfdGhpcy5zZXJ2ZXJUaW1lUmVxdWVzdHMgJSAxMF0gPSB0aW1lT2Zmc2V0O1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIF90aGlzLmF2Z1RpbWVPZmZzZXQgPSBfdGhpcy50aW1lT2Zmc2V0cy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgb2Zmc2V0KSB7XG5cdCAgICAgICAgICByZXR1cm4gYWNjICs9IG9mZnNldDtcblx0ICAgICAgICB9LCAwKSAvIF90aGlzLnRpbWVPZmZzZXRzLmxlbmd0aDtcblxuXHQgICAgICAgIGlmIChfdGhpcy5zZXJ2ZXJUaW1lUmVxdWVzdHMgPiAxMCkge1xuXHQgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBfdGhpcy51cGRhdGVUaW1lT2Zmc2V0KCk7XG5cdCAgICAgICAgICB9LCA1ICogNjAgKiAxMDAwKTsgLy8gU3luYyBjbG9jayBldmVyeSA1IG1pbnV0ZXMuXG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIF90aGlzLnVwZGF0ZVRpbWVPZmZzZXQoKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2Nvbm5lY3QnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbm5lY3QoKSB7XG5cdCAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG5cdCAgICAgIFByb21pc2UuYWxsKFt0aGlzLnVwZGF0ZVRpbWVPZmZzZXQoKSwgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgIF90aGlzMi5lYXN5cnRjLmNvbm5lY3QoX3RoaXMyLmFwcCwgcmVzb2x2ZSwgcmVqZWN0KTtcblx0ICAgICAgfSldKS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7XG5cdCAgICAgICAgdmFyIF9yZWYyID0gX3NsaWNlZFRvQXJyYXkoX3JlZiwgMiksXG5cdCAgICAgICAgICAgIF8gPSBfcmVmMlswXSxcblx0ICAgICAgICAgICAgY2xpZW50SWQgPSBfcmVmMlsxXTtcblxuXHQgICAgICAgIF90aGlzMi5jb25uZWN0U3VjY2VzcyhjbGllbnRJZCk7XG5cdCAgICAgIH0pLmNhdGNoKHRoaXMuY29ubmVjdEZhaWx1cmUpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3Nob3VsZFN0YXJ0Q29ubmVjdGlvblRvJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzaG91bGRTdGFydENvbm5lY3Rpb25UbyhjbGllbnRJZCkge1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzdGFydFN0cmVhbUNvbm5lY3Rpb24nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0U3RyZWFtQ29ubmVjdGlvbihjbGllbnRJZCkge1xuXHQgICAgICB0aGlzLmNvbm5lY3RlZENsaWVudHMucHVzaChjbGllbnRJZCk7XG5cdCAgICAgIHRoaXMub3Blbkxpc3RlbmVyKGNsaWVudElkKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjbG9zZVN0cmVhbUNvbm5lY3Rpb24nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNsb3NlU3RyZWFtQ29ubmVjdGlvbihjbGllbnRJZCkge1xuXHQgICAgICB2YXIgaW5kZXggPSB0aGlzLmNvbm5lY3RlZENsaWVudHMuaW5kZXhPZihjbGllbnRJZCk7XG5cdCAgICAgIGlmIChpbmRleCA+IC0xKSB7XG5cdCAgICAgICAgdGhpcy5jb25uZWN0ZWRDbGllbnRzLnNwbGljZShpbmRleCwgMSk7XG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy5jbG9zZWRMaXN0ZW5lcihjbGllbnRJZCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2VuZERhdGEnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNlbmREYXRhKGNsaWVudElkLCBkYXRhVHlwZSwgZGF0YSkge1xuXHQgICAgICB0aGlzLmVhc3lydGMuc2VuZERhdGFXUyhjbGllbnRJZCwgZGF0YVR5cGUsIGRhdGEpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NlbmREYXRhR3VhcmFudGVlZCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2VuZERhdGFHdWFyYW50ZWVkKGNsaWVudElkLCBkYXRhVHlwZSwgZGF0YSkge1xuXHQgICAgICB0aGlzLnNlbmREYXRhKGNsaWVudElkLCBkYXRhVHlwZSwgZGF0YSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnYnJvYWRjYXN0RGF0YScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gYnJvYWRjYXN0RGF0YShkYXRhVHlwZSwgZGF0YSkge1xuXHQgICAgICB2YXIgZGVzdGluYXRpb24gPSB7IHRhcmdldFJvb206IHRoaXMucm9vbSB9O1xuXHQgICAgICB0aGlzLmVhc3lydGMuc2VuZERhdGFXUyhkZXN0aW5hdGlvbiwgZGF0YVR5cGUsIGRhdGEpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2Jyb2FkY2FzdERhdGFHdWFyYW50ZWVkJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBicm9hZGNhc3REYXRhR3VhcmFudGVlZChkYXRhVHlwZSwgZGF0YSkge1xuXHQgICAgICB0aGlzLmJyb2FkY2FzdERhdGEoZGF0YVR5cGUsIGRhdGEpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldENvbm5lY3RTdGF0dXMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvbm5lY3RTdGF0dXMoY2xpZW50SWQpIHtcblx0ICAgICAgdmFyIGNvbm5lY3RlZCA9IHRoaXMuY29ubmVjdGVkQ2xpZW50cy5pbmRleE9mKGNsaWVudElkKSAhPSAtMTtcblxuXHQgICAgICBpZiAoY29ubmVjdGVkKSB7XG5cdCAgICAgICAgcmV0dXJuIE5BRi5hZGFwdGVycy5JU19DT05ORUNURUQ7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIE5BRi5hZGFwdGVycy5OT1RfQ09OTkVDVEVEO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0U2VydmVyVGltZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2VydmVyVGltZSgpIHtcblx0ICAgICAgcmV0dXJuIERhdGUubm93KCkgKyB0aGlzLmF2Z1RpbWVPZmZzZXQ7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZGlzY29ubmVjdCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZGlzY29ubmVjdCgpIHtcblx0ICAgICAgdGhpcy5lYXN5cnRjLmRpc2Nvbm5lY3QoKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cblx0ICByZXR1cm4gV3NFYXN5UnRjSW50ZXJmYWNlO1xuXHR9KCk7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBXc0Vhc3lSdGNJbnRlcmZhY2U7XG5cbi8qKiovIH0pLFxuLyogNTcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHR2YXIgX3NsaWNlZFRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIHNsaWNlSXRlcmF0b3IoYXJyLCBpKSB7IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0gcmV0dXJuIGZ1bmN0aW9uIChhcnIsIGkpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyByZXR1cm4gYXJyOyB9IGVsc2UgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkgeyByZXR1cm4gc2xpY2VJdGVyYXRvcihhcnIsIGkpOyB9IGVsc2UgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTsgfSB9OyB9KCk7XG5cblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5cdHZhciBFYXN5UnRjQWRhcHRlciA9IGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBFYXN5UnRjQWRhcHRlcihlYXN5cnRjKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRWFzeVJ0Y0FkYXB0ZXIpO1xuXG5cdCAgICB0aGlzLmVhc3lydGMgPSBlYXN5cnRjIHx8IHdpbmRvdy5lYXN5cnRjO1xuXHQgICAgdGhpcy5hcHAgPSBcImRlZmF1bHRcIjtcblx0ICAgIHRoaXMucm9vbSA9IFwiZGVmYXVsdFwiO1xuXG5cdCAgICB0aGlzLmF1ZGlvU3RyZWFtcyA9IHt9O1xuXHQgICAgdGhpcy5wZW5kaW5nQXVkaW9SZXF1ZXN0ID0ge307XG5cblx0ICAgIHRoaXMuc2VydmVyVGltZVJlcXVlc3RzID0gMDtcblx0ICAgIHRoaXMudGltZU9mZnNldHMgPSBbXTtcblx0ICAgIHRoaXMuYXZnVGltZU9mZnNldCA9IDA7XG5cdCAgfVxuXG5cdCAgX2NyZWF0ZUNsYXNzKEVhc3lSdGNBZGFwdGVyLCBbe1xuXHQgICAga2V5OiBcInNldFNlcnZlclVybFwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFNlcnZlclVybCh1cmwpIHtcblx0ICAgICAgdGhpcy5lYXN5cnRjLnNldFNvY2tldFVybCh1cmwpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJzZXRBcHBcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRBcHAoYXBwTmFtZSkge1xuXHQgICAgICB0aGlzLmFwcCA9IGFwcE5hbWU7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcInNldFJvb21cIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRSb29tKHJvb21OYW1lKSB7XG5cdCAgICAgIHRoaXMucm9vbSA9IHJvb21OYW1lO1xuXHQgICAgICB0aGlzLmVhc3lydGMuam9pblJvb20ocm9vbU5hbWUsIG51bGwpO1xuXHQgICAgfVxuXG5cdCAgICAvLyBvcHRpb25zOiB7IGRhdGFjaGFubmVsOiBib29sLCBhdWRpbzogYm9vbCB9XG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwic2V0V2ViUnRjT3B0aW9uc1wiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFdlYlJ0Y09wdGlvbnMob3B0aW9ucykge1xuXHQgICAgICAvLyB0aGlzLmVhc3lydGMuZW5hYmxlRGVidWcodHJ1ZSk7XG5cdCAgICAgIHRoaXMuZWFzeXJ0Yy5lbmFibGVEYXRhQ2hhbm5lbHMob3B0aW9ucy5kYXRhY2hhbm5lbCk7XG5cblx0ICAgICAgdGhpcy5lYXN5cnRjLmVuYWJsZVZpZGVvKGZhbHNlKTtcblx0ICAgICAgdGhpcy5lYXN5cnRjLmVuYWJsZUF1ZGlvKG9wdGlvbnMuYXVkaW8pO1xuXG5cdCAgICAgIHRoaXMuZWFzeXJ0Yy5lbmFibGVWaWRlb1JlY2VpdmUoZmFsc2UpO1xuXHQgICAgICB0aGlzLmVhc3lydGMuZW5hYmxlQXVkaW9SZWNlaXZlKG9wdGlvbnMuYXVkaW8pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJzZXRTZXJ2ZXJDb25uZWN0TGlzdGVuZXJzXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2V0U2VydmVyQ29ubmVjdExpc3RlbmVycyhzdWNjZXNzTGlzdGVuZXIsIGZhaWx1cmVMaXN0ZW5lcikge1xuXHQgICAgICB0aGlzLmNvbm5lY3RTdWNjZXNzID0gc3VjY2Vzc0xpc3RlbmVyO1xuXHQgICAgICB0aGlzLmNvbm5lY3RGYWlsdXJlID0gZmFpbHVyZUxpc3RlbmVyO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJzZXRSb29tT2NjdXBhbnRMaXN0ZW5lclwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFJvb21PY2N1cGFudExpc3RlbmVyKG9jY3VwYW50TGlzdGVuZXIpIHtcblx0ICAgICAgdGhpcy5lYXN5cnRjLnNldFJvb21PY2N1cGFudExpc3RlbmVyKGZ1bmN0aW9uIChyb29tTmFtZSwgb2NjdXBhbnRzLCBwcmltYXJ5KSB7XG5cdCAgICAgICAgb2NjdXBhbnRMaXN0ZW5lcihvY2N1cGFudHMpO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwic2V0RGF0YUNoYW5uZWxMaXN0ZW5lcnNcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXREYXRhQ2hhbm5lbExpc3RlbmVycyhvcGVuTGlzdGVuZXIsIGNsb3NlZExpc3RlbmVyLCBtZXNzYWdlTGlzdGVuZXIpIHtcblx0ICAgICAgdGhpcy5lYXN5cnRjLnNldERhdGFDaGFubmVsT3Blbkxpc3RlbmVyKG9wZW5MaXN0ZW5lcik7XG5cdCAgICAgIHRoaXMuZWFzeXJ0Yy5zZXREYXRhQ2hhbm5lbENsb3NlTGlzdGVuZXIoY2xvc2VkTGlzdGVuZXIpO1xuXHQgICAgICB0aGlzLmVhc3lydGMuc2V0UGVlckxpc3RlbmVyKG1lc3NhZ2VMaXN0ZW5lcik7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcInVwZGF0ZVRpbWVPZmZzZXRcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVUaW1lT2Zmc2V0KCkge1xuXHQgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG5cdCAgICAgIHZhciBjbGllbnRTZW50VGltZSA9IERhdGUubm93KCkgKyB0aGlzLmF2Z1RpbWVPZmZzZXQ7XG5cblx0ICAgICAgcmV0dXJuIGZldGNoKGRvY3VtZW50LmxvY2F0aW9uLmhyZWYsIHsgbWV0aG9kOiBcIkhFQURcIiwgY2FjaGU6IFwibm8tY2FjaGVcIiB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICB2YXIgcHJlY2lzaW9uID0gMTAwMDtcblx0ICAgICAgICB2YXIgc2VydmVyUmVjZWl2ZWRUaW1lID0gbmV3IERhdGUocmVzLmhlYWRlcnMuZ2V0KFwiRGF0ZVwiKSkuZ2V0VGltZSgpICsgcHJlY2lzaW9uIC8gMjtcblx0ICAgICAgICB2YXIgY2xpZW50UmVjZWl2ZWRUaW1lID0gRGF0ZS5ub3coKTtcblx0ICAgICAgICB2YXIgc2VydmVyVGltZSA9IHNlcnZlclJlY2VpdmVkVGltZSArIChjbGllbnRSZWNlaXZlZFRpbWUgLSBjbGllbnRTZW50VGltZSkgLyAyO1xuXHQgICAgICAgIHZhciB0aW1lT2Zmc2V0ID0gc2VydmVyVGltZSAtIGNsaWVudFJlY2VpdmVkVGltZTtcblxuXHQgICAgICAgIF90aGlzLnNlcnZlclRpbWVSZXF1ZXN0cysrO1xuXG5cdCAgICAgICAgaWYgKF90aGlzLnNlcnZlclRpbWVSZXF1ZXN0cyA8PSAxMCkge1xuXHQgICAgICAgICAgX3RoaXMudGltZU9mZnNldHMucHVzaCh0aW1lT2Zmc2V0KTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgX3RoaXMudGltZU9mZnNldHNbX3RoaXMuc2VydmVyVGltZVJlcXVlc3RzICUgMTBdID0gdGltZU9mZnNldDtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICBfdGhpcy5hdmdUaW1lT2Zmc2V0ID0gX3RoaXMudGltZU9mZnNldHMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIG9mZnNldCkge1xuXHQgICAgICAgICAgcmV0dXJuIGFjYyArPSBvZmZzZXQ7XG5cdCAgICAgICAgfSwgMCkgLyBfdGhpcy50aW1lT2Zmc2V0cy5sZW5ndGg7XG5cblx0ICAgICAgICBpZiAoX3RoaXMuc2VydmVyVGltZVJlcXVlc3RzID4gMTApIHtcblx0ICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gX3RoaXMudXBkYXRlVGltZU9mZnNldCgpO1xuXHQgICAgICAgICAgfSwgNSAqIDYwICogMTAwMCk7IC8vIFN5bmMgY2xvY2sgZXZlcnkgNSBtaW51dGVzLlxuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBfdGhpcy51cGRhdGVUaW1lT2Zmc2V0KCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiY29ubmVjdFwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbm5lY3QoKSB7XG5cdCAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG5cdCAgICAgIFByb21pc2UuYWxsKFt0aGlzLnVwZGF0ZVRpbWVPZmZzZXQoKSwgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgIGlmIChfdGhpczIuZWFzeXJ0Yy5hdWRpb0VuYWJsZWQpIHtcblx0ICAgICAgICAgIF90aGlzMi5fY29ubmVjdFdpdGhBdWRpbyhyZXNvbHZlLCByZWplY3QpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBfdGhpczIuZWFzeXJ0Yy5jb25uZWN0KF90aGlzMi5hcHAsIHJlc29sdmUsIHJlamVjdCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KV0pLnRoZW4oZnVuY3Rpb24gKF9yZWYpIHtcblx0ICAgICAgICB2YXIgX3JlZjIgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAyKSxcblx0ICAgICAgICAgICAgXyA9IF9yZWYyWzBdLFxuXHQgICAgICAgICAgICBjbGllbnRJZCA9IF9yZWYyWzFdO1xuXG5cdCAgICAgICAgX3RoaXMyLl9zdG9yZUF1ZGlvU3RyZWFtKF90aGlzMi5lYXN5cnRjLm15RWFzeXJ0Y2lkLCBfdGhpczIuZWFzeXJ0Yy5nZXRMb2NhbFN0cmVhbSgpKTtcblxuXHQgICAgICAgIF90aGlzMi5fbXlSb29tSm9pblRpbWUgPSBfdGhpczIuX2dldFJvb21Kb2luVGltZShjbGllbnRJZCk7XG5cdCAgICAgICAgX3RoaXMyLmNvbm5lY3RTdWNjZXNzKGNsaWVudElkKTtcblx0ICAgICAgfSkuY2F0Y2godGhpcy5jb25uZWN0RmFpbHVyZSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcInNob3VsZFN0YXJ0Q29ubmVjdGlvblRvXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdWxkU3RhcnRDb25uZWN0aW9uVG8oY2xpZW50KSB7XG5cdCAgICAgIHJldHVybiB0aGlzLl9teVJvb21Kb2luVGltZSA8PSBjbGllbnQucm9vbUpvaW5UaW1lO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJzdGFydFN0cmVhbUNvbm5lY3Rpb25cIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzdGFydFN0cmVhbUNvbm5lY3Rpb24oY2xpZW50SWQpIHtcblx0ICAgICAgdGhpcy5lYXN5cnRjLmNhbGwoY2xpZW50SWQsIGZ1bmN0aW9uIChjYWxsZXIsIG1lZGlhKSB7XG5cdCAgICAgICAgaWYgKG1lZGlhID09PSBcImRhdGFjaGFubmVsXCIpIHtcblx0ICAgICAgICAgIE5BRi5sb2cud3JpdGUoXCJTdWNjZXNzZnVsbHkgc3RhcnRlZCBkYXRhY2hhbm5lbCB0byBcIiwgY2FsbGVyKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0sIGZ1bmN0aW9uIChlcnJvckNvZGUsIGVycm9yVGV4dCkge1xuXHQgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3JDb2RlLCBlcnJvclRleHQpO1xuXHQgICAgICB9LCBmdW5jdGlvbiAod2FzQWNjZXB0ZWQpIHtcblx0ICAgICAgICAvLyBjb25zb2xlLmxvZyhcIndhcyBhY2NlcHRlZD1cIiArIHdhc0FjY2VwdGVkKTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcImNsb3NlU3RyZWFtQ29ubmVjdGlvblwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNsb3NlU3RyZWFtQ29ubmVjdGlvbihjbGllbnRJZCkge1xuXHQgICAgICAvLyBIYW5kbGVkIGJ5IGVhc3lydGNcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwic2VuZERhdGFcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZW5kRGF0YShjbGllbnRJZCwgZGF0YVR5cGUsIGRhdGEpIHtcblx0ICAgICAgLy8gc2VuZCB2aWEgd2VicnRjIG90aGVyd2lzZSBmYWxsYmFjayB0byB3ZWJzb2NrZXRzXG5cdCAgICAgIHRoaXMuZWFzeXJ0Yy5zZW5kRGF0YShjbGllbnRJZCwgZGF0YVR5cGUsIGRhdGEpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJzZW5kRGF0YUd1YXJhbnRlZWRcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZW5kRGF0YUd1YXJhbnRlZWQoY2xpZW50SWQsIGRhdGFUeXBlLCBkYXRhKSB7XG5cdCAgICAgIHRoaXMuZWFzeXJ0Yy5zZW5kRGF0YVdTKGNsaWVudElkLCBkYXRhVHlwZSwgZGF0YSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcImJyb2FkY2FzdERhdGFcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBicm9hZGNhc3REYXRhKGRhdGFUeXBlLCBkYXRhKSB7XG5cdCAgICAgIHZhciByb29tT2NjdXBhbnRzID0gdGhpcy5lYXN5cnRjLmdldFJvb21PY2N1cGFudHNBc01hcCh0aGlzLnJvb20pO1xuXG5cdCAgICAgIC8vIEl0ZXJhdGUgb3ZlciB0aGUga2V5cyBvZiB0aGUgZWFzeXJ0YyByb29tIG9jY3VwYW50cyBtYXAuXG5cdCAgICAgIC8vIGdldFJvb21PY2N1cGFudHNBc0FycmF5IHVzZXMgT2JqZWN0LmtleXMgd2hpY2ggYWxsb2NhdGVzIG1lbW9yeS5cblx0ICAgICAgZm9yICh2YXIgcm9vbU9jY3VwYW50IGluIHJvb21PY2N1cGFudHMpIHtcblx0ICAgICAgICBpZiAocm9vbU9jY3VwYW50cy5oYXNPd25Qcm9wZXJ0eShyb29tT2NjdXBhbnQpICYmIHJvb21PY2N1cGFudCAhPT0gdGhpcy5lYXN5cnRjLm15RWFzeXJ0Y2lkKSB7XG5cdCAgICAgICAgICAvLyBzZW5kIHZpYSB3ZWJydGMgb3RoZXJ3aXNlIGZhbGxiYWNrIHRvIHdlYnNvY2tldHNcblx0ICAgICAgICAgIHRoaXMuZWFzeXJ0Yy5zZW5kRGF0YShyb29tT2NjdXBhbnQsIGRhdGFUeXBlLCBkYXRhKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiYnJvYWRjYXN0RGF0YUd1YXJhbnRlZWRcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBicm9hZGNhc3REYXRhR3VhcmFudGVlZChkYXRhVHlwZSwgZGF0YSkge1xuXHQgICAgICB2YXIgZGVzdGluYXRpb24gPSB7IHRhcmdldFJvb206IHRoaXMucm9vbSB9O1xuXHQgICAgICB0aGlzLmVhc3lydGMuc2VuZERhdGFXUyhkZXN0aW5hdGlvbiwgZGF0YVR5cGUsIGRhdGEpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJnZXRDb25uZWN0U3RhdHVzXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q29ubmVjdFN0YXR1cyhjbGllbnRJZCkge1xuXHQgICAgICB2YXIgc3RhdHVzID0gdGhpcy5lYXN5cnRjLmdldENvbm5lY3RTdGF0dXMoY2xpZW50SWQpO1xuXG5cdCAgICAgIGlmIChzdGF0dXMgPT0gdGhpcy5lYXN5cnRjLklTX0NPTk5FQ1RFRCkge1xuXHQgICAgICAgIHJldHVybiBOQUYuYWRhcHRlcnMuSVNfQ09OTkVDVEVEO1xuXHQgICAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PSB0aGlzLmVhc3lydGMuTk9UX0NPTk5FQ1RFRCkge1xuXHQgICAgICAgIHJldHVybiBOQUYuYWRhcHRlcnMuTk9UX0NPTk5FQ1RFRDtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gTkFGLmFkYXB0ZXJzLkNPTk5FQ1RJTkc7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiZ2V0TWVkaWFTdHJlYW1cIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRNZWRpYVN0cmVhbShjbGllbnRJZCkge1xuXHQgICAgICBjb25zb2xlLmxvZygnZ2V0TWVkaWFTdHJlYW0nLCBjbGllbnRJZCk7XG5cdCAgICAgIHZhciB0aGF0ID0gdGhpcztcblx0ICAgICAgaWYgKHRoaXMuYXVkaW9TdHJlYW1zW2NsaWVudElkXSkge1xuXHQgICAgICAgIE5BRi5sb2cud3JpdGUoXCJBbHJlYWR5IGhhZCBhdWRpbyBmb3IgXCIgKyBjbGllbnRJZCk7XG5cdCAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmF1ZGlvU3RyZWFtc1tjbGllbnRJZF0pO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIE5BRi5sb2cud3JpdGUoXCJXYWl0aW5nIG9uIGF1ZGlvIGZvciBcIiArIGNsaWVudElkKTtcblx0ICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcblx0ICAgICAgICAgIHRoYXQucGVuZGluZ0F1ZGlvUmVxdWVzdFtjbGllbnRJZF0gPSByZXNvbHZlO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcImRpc2Nvbm5lY3RcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNjb25uZWN0KCkge1xuXHQgICAgICB0aGlzLmVhc3lydGMuZGlzY29ubmVjdCgpO1xuXHQgICAgfVxuXG5cdCAgICAvKipcblx0ICAgICAqIFByaXZhdGVzXG5cdCAgICAgKi9cblxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJfc3RvcmVBdWRpb1N0cmVhbVwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9zdG9yZUF1ZGlvU3RyZWFtKGVhc3lydGNpZCwgc3RyZWFtKSB7XG5cdCAgICAgIHRoaXMuYXVkaW9TdHJlYW1zW2Vhc3lydGNpZF0gPSBzdHJlYW07XG5cdCAgICAgIGlmICh0aGlzLnBlbmRpbmdBdWRpb1JlcXVlc3RbZWFzeXJ0Y2lkXSkge1xuXHQgICAgICAgIE5BRi5sb2cud3JpdGUoXCJnb3QgcGVuZGluZyBhdWRpbyBmb3IgXCIgKyBlYXN5cnRjaWQpO1xuXHQgICAgICAgIHRoaXMucGVuZGluZ0F1ZGlvUmVxdWVzdFtlYXN5cnRjaWRdKHN0cmVhbSk7XG5cdCAgICAgICAgZGVsZXRlIHRoaXMucGVuZGluZ0F1ZGlvUmVxdWVzdFtlYXN5cnRjaWRdKHN0cmVhbSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiX2Nvbm5lY3RXaXRoQXVkaW9cIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfY29ubmVjdFdpdGhBdWRpbyhjb25uZWN0U3VjY2VzcywgY29ubmVjdEZhaWx1cmUpIHtcblx0ICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG5cdCAgICAgIHRoaXMuZWFzeXJ0Yy5zZXRTdHJlYW1BY2NlcHRvcih0aGlzLl9zdG9yZUF1ZGlvU3RyZWFtLmJpbmQodGhpcykpO1xuXG5cdCAgICAgIHRoaXMuZWFzeXJ0Yy5zZXRPblN0cmVhbUNsb3NlZChmdW5jdGlvbiAoZWFzeXJ0Y2lkKSB7XG5cdCAgICAgICAgZGVsZXRlIHRoYXQuYXVkaW9TdHJlYW1zW2Vhc3lydGNpZF07XG5cdCAgICAgIH0pO1xuXG5cdCAgICAgIHRoaXMuZWFzeXJ0Yy5pbml0TWVkaWFTb3VyY2UoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHRoYXQuZWFzeXJ0Yy5jb25uZWN0KHRoYXQuYXBwLCBjb25uZWN0U3VjY2VzcywgY29ubmVjdEZhaWx1cmUpO1xuXHQgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JDb2RlLCBlcnJtZXNnKSB7XG5cdCAgICAgICAgY29uc29sZS5lcnJvcihlcnJvckNvZGUsIGVycm1lc2cpO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiX2dldFJvb21Kb2luVGltZVwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRSb29tSm9pblRpbWUoY2xpZW50SWQpIHtcblx0ICAgICAgdmFyIG15Um9vbUlkID0gTkFGLnJvb207XG5cdCAgICAgIHZhciBqb2luVGltZSA9IGVhc3lydGMuZ2V0Um9vbU9jY3VwYW50c0FzTWFwKG15Um9vbUlkKVtjbGllbnRJZF0ucm9vbUpvaW5UaW1lO1xuXHQgICAgICByZXR1cm4gam9pblRpbWU7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcImdldFNlcnZlclRpbWVcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTZXJ2ZXJUaW1lKCkge1xuXHQgICAgICByZXR1cm4gRGF0ZS5ub3coKSArIHRoaXMuYXZnVGltZU9mZnNldDtcblx0ICAgIH1cblx0ICB9XSk7XG5cblx0ICByZXR1cm4gRWFzeVJ0Y0FkYXB0ZXI7XG5cdH0oKTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IEVhc3lSdGNBZGFwdGVyO1xuXG4vKioqLyB9KSxcbi8qIDU4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBuYWYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KTtcblxuXHRBRlJBTUUucmVnaXN0ZXJDb21wb25lbnQoJ25ldHdvcmtlZC1zY2VuZScsIHtcblx0ICBzY2hlbWE6IHtcblx0ICAgIHNlcnZlclVSTDogeyBkZWZhdWx0OiAnLycgfSxcblx0ICAgIGFwcDogeyBkZWZhdWx0OiAnZGVmYXVsdCcgfSxcblx0ICAgIHJvb206IHsgZGVmYXVsdDogJ2RlZmF1bHQnIH0sXG5cdCAgICBjb25uZWN0T25Mb2FkOiB7IGRlZmF1bHQ6IHRydWUgfSxcblx0ICAgIG9uQ29ubmVjdDogeyBkZWZhdWx0OiAnb25Db25uZWN0JyB9LFxuXHQgICAgYWRhcHRlcjogeyBkZWZhdWx0OiAnd3NFYXN5UnRjJyB9LCAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL25ldHdvcmtlZC1hZnJhbWUvbmV0d29ya2VkLWFmcmFtZSNhZGFwdGVycyBmb3IgbGlzdCBvZiBhZGFwdGVyc1xuXHQgICAgYXVkaW86IHsgZGVmYXVsdDogZmFsc2UgfSwgLy8gT25seSBpZiBhZGFwdGVyIHN1cHBvcnRzIGF1ZGlvXG5cdCAgICBkZWJ1ZzogeyBkZWZhdWx0OiBmYWxzZSB9XG5cdCAgfSxcblxuXHQgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7XG5cdCAgICB2YXIgZWwgPSB0aGlzLmVsO1xuXHQgICAgdGhpcy5jb25uZWN0ID0gdGhpcy5jb25uZWN0LmJpbmQodGhpcyk7XG5cdCAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjb25uZWN0JywgdGhpcy5jb25uZWN0KTtcblx0ICAgIGlmICh0aGlzLmRhdGEuY29ubmVjdE9uTG9hZCkge1xuXHQgICAgICBlbC5lbWl0KCdjb25uZWN0JywgbnVsbCwgZmFsc2UpO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICAvKipcblx0ICAgKiBDb25uZWN0IHRvIHNpZ25hbGxpbmcgc2VydmVyIGFuZCBiZWdpbiBjb25uZWN0aW5nIHRvIG90aGVyIGNsaWVudHNcblx0ICAgKi9cblx0ICBjb25uZWN0OiBmdW5jdGlvbiBjb25uZWN0KCkge1xuXHQgICAgTkFGLmxvZy5zZXREZWJ1Zyh0aGlzLmRhdGEuZGVidWcpO1xuXHQgICAgTkFGLmxvZy53cml0ZSgnTmV0d29ya2VkLUFmcmFtZSBDb25uZWN0aW5nLi4uJyk7XG5cblx0ICAgIHRoaXMuY2hlY2tEZXByZWNhdGVkUHJvcGVydGllcygpO1xuXHQgICAgdGhpcy5zZXR1cE5ldHdvcmtBZGFwdGVyKCk7XG5cblx0ICAgIGlmICh0aGlzLmhhc09uQ29ubmVjdEZ1bmN0aW9uKCkpIHtcblx0ICAgICAgdGhpcy5jYWxsT25Db25uZWN0KCk7XG5cdCAgICB9XG5cdCAgICBOQUYuY29ubmVjdGlvbi5jb25uZWN0KHRoaXMuZGF0YS5zZXJ2ZXJVUkwsIHRoaXMuZGF0YS5hcHAsIHRoaXMuZGF0YS5yb29tLCB0aGlzLmRhdGEuYXVkaW8pO1xuXHQgIH0sXG5cblx0ICBjaGVja0RlcHJlY2F0ZWRQcm9wZXJ0aWVzOiBmdW5jdGlvbiBjaGVja0RlcHJlY2F0ZWRQcm9wZXJ0aWVzKCkge1xuXHQgICAgLy8gTm8gY3VycmVudFxuXHQgIH0sXG5cblx0ICBzZXR1cE5ldHdvcmtBZGFwdGVyOiBmdW5jdGlvbiBzZXR1cE5ldHdvcmtBZGFwdGVyKCkge1xuXHQgICAgdmFyIGFkYXB0ZXJOYW1lID0gdGhpcy5kYXRhLmFkYXB0ZXI7XG5cdCAgICB2YXIgYWRhcHRlciA9IE5BRi5hZGFwdGVycy5tYWtlKGFkYXB0ZXJOYW1lKTtcblx0ICAgIE5BRi5jb25uZWN0aW9uLnNldE5ldHdvcmtBZGFwdGVyKGFkYXB0ZXIpO1xuXHQgIH0sXG5cblx0ICBoYXNPbkNvbm5lY3RGdW5jdGlvbjogZnVuY3Rpb24gaGFzT25Db25uZWN0RnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gdGhpcy5kYXRhLm9uQ29ubmVjdCAhPSAnJyAmJiB3aW5kb3cuaGFzT3duUHJvcGVydHkodGhpcy5kYXRhLm9uQ29ubmVjdCk7XG5cdCAgfSxcblxuXHQgIGNhbGxPbkNvbm5lY3Q6IGZ1bmN0aW9uIGNhbGxPbkNvbm5lY3QoKSB7XG5cdCAgICBOQUYuY29ubmVjdGlvbi5vbkNvbm5lY3Qod2luZG93W3RoaXMuZGF0YS5vbkNvbm5lY3RdKTtcblx0ICB9LFxuXG5cdCAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG5cdCAgICBOQUYubG9nLndyaXRlKCduZXR3b3JrZWQtc2NlbmUgZGlzY29ubmVjdGVkJyk7XG5cdCAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Nvbm5lY3QnLCB0aGlzLmNvbm5lY3QpO1xuXHQgICAgTkFGLmNvbm5lY3Rpb24uZGlzY29ubmVjdCgpO1xuXHQgIH1cblx0fSk7XG5cbi8qKiovIH0pLFxuLyogNTkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIG5hZiA9IF9fd2VicGFja19yZXF1aXJlX18oNDcpO1xuXHR2YXIgY29tcG9uZW50SGVscGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MCk7XG5cdHZhciBDb21wcmVzc29yID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NCk7XG5cdHZhciBiaW5kID0gQUZSQU1FLnV0aWxzLmJpbmQ7XG5cblx0QUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCduZXR3b3JrZWQnLCB7XG5cdCAgc2NoZW1hOiB7XG5cdCAgICB0ZW1wbGF0ZTogeyBkZWZhdWx0OiAnJyB9LFxuXHQgICAgc2hvd0xvY2FsVGVtcGxhdGU6IHsgZGVmYXVsdDogdHJ1ZSB9LFxuXG5cdCAgICBuZXR3b3JrSWQ6IHsgZGVmYXVsdDogJycgfSxcblx0ICAgIG93bmVyOiB7IGRlZmF1bHQ6ICcnIH1cblx0ICB9LFxuXG5cdCAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHtcblx0ICAgIHRoaXMuT1dORVJTSElQX0dBSU5FRCA9ICdvd25lcnNoaXAtZ2FpbmVkJztcblx0ICAgIHRoaXMuT1dORVJTSElQX0NIQU5HRUQgPSAnb3duZXJzaGlwLWNoYW5nZWQnO1xuXHQgICAgdGhpcy5PV05FUlNISVBfTE9TVCA9ICdvd25lcnNoaXAtbG9zdCc7XG5cblx0ICAgIHZhciB3YXNDcmVhdGVkQnlOZXR3b3JrID0gdGhpcy53YXNDcmVhdGVkQnlOZXR3b3JrKCk7XG5cblx0ICAgIHRoaXMub25Db25uZWN0ZWQgPSBiaW5kKHRoaXMub25Db25uZWN0ZWQsIHRoaXMpO1xuXHQgICAgdGhpcy5vblN5bmNBbGwgPSBiaW5kKHRoaXMub25TeW5jQWxsLCB0aGlzKTtcblx0ICAgIHRoaXMuc3luY0RpcnR5ID0gYmluZCh0aGlzLnN5bmNEaXJ0eSwgdGhpcyk7XG5cdCAgICB0aGlzLm5ldHdvcmtVcGRhdGVIYW5kbGVyID0gYmluZCh0aGlzLm5ldHdvcmtVcGRhdGVIYW5kbGVyLCB0aGlzKTtcblxuXHQgICAgdGhpcy5jYWNoZWREYXRhID0ge307XG5cdCAgICB0aGlzLmluaXROZXR3b3JrUGFyZW50KCk7XG5cblx0ICAgIGlmICh0aGlzLmRhdGEubmV0d29ya0lkID09PSAnJykge1xuXHQgICAgICB0aGlzLmVsLnNldEF0dHJpYnV0ZSh0aGlzLm5hbWUsIHsgbmV0d29ya0lkOiBOQUYudXRpbHMuY3JlYXRlTmV0d29ya0lkKCkgfSk7XG5cdCAgICB9XG5cblx0ICAgIGlmICh0aGlzLmRhdGEudGVtcGxhdGUgIT0gJycpIHtcblx0ICAgICAgdGhpcy5pbml0VGVtcGxhdGUoKTtcblx0ICAgIH1cblxuXHQgICAgaWYgKHdhc0NyZWF0ZWRCeU5ldHdvcmspIHtcblx0ICAgICAgdGhpcy5maXJzdFVwZGF0ZSgpO1xuXHQgICAgICB0aGlzLmF0dGFjaExlcnAoKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHRoaXMucmVnaXN0ZXJFbnRpdHkodGhpcy5kYXRhLm5ldHdvcmtJZCk7XG5cdCAgICB9XG5cblx0ICAgIHRoaXMubGFzdE93bmVyVGltZSA9IC0xO1xuXG5cdCAgICBpZiAoTkFGLmNsaWVudElkKSB7XG5cdCAgICAgIHRoaXMub25Db25uZWN0ZWQoKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY29ubmVjdGVkJywgdGhpcy5vbkNvbm5lY3RlZCwgZmFsc2UpO1xuXHQgICAgfVxuXG5cdCAgICBkb2N1bWVudC5ib2R5LmRpc3BhdGNoRXZlbnQodGhpcy5lbnRpdHlDcmVhdGVkRXZlbnQoKSk7XG5cdCAgfSxcblxuXHQgIHRha2VPd25lcnNoaXA6IGZ1bmN0aW9uIHRha2VPd25lcnNoaXAoKSB7XG5cdCAgICB2YXIgb3duZXIgPSB0aGlzLmRhdGEub3duZXI7XG5cdCAgICB2YXIgbGFzdE93bmVyVGltZSA9IHRoaXMubGFzdE93bmVyVGltZTtcblx0ICAgIHZhciBub3cgPSBOQUYuY29ubmVjdGlvbi5nZXRTZXJ2ZXJUaW1lKCk7XG5cdCAgICBpZiAob3duZXIgJiYgIXRoaXMuaXNNaW5lKCkgJiYgbGFzdE93bmVyVGltZSA8IG5vdykge1xuXHQgICAgICB0aGlzLmxhc3RPd25lclRpbWUgPSBub3c7XG5cdCAgICAgIHRoaXMucmVtb3ZlTGVycCgpO1xuXHQgICAgICB0aGlzLmVsLnNldEF0dHJpYnV0ZSgnbmV0d29ya2VkJywgeyBvd25lcjogTkFGLmNsaWVudElkIH0pO1xuXHQgICAgICB0aGlzLnN5bmNBbGwoKTtcblx0ICAgICAgdGhpcy5lbC5lbWl0KHRoaXMuT1dORVJTSElQX0dBSU5FRCwgeyBlbDogdGhpcy5lbCwgb2xkT3duZXI6IG93bmVyIH0pO1xuXHQgICAgICB0aGlzLmVsLmVtaXQodGhpcy5PV05FUlNISVBfQ0hBTkdFRCwgeyBlbDogdGhpcy5lbCwgb2xkT3duZXI6IG93bmVyLCBuZXdPd25lcjogTkFGLmNsaWVudElkIH0pO1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICB9LFxuXG5cdCAgd2FzQ3JlYXRlZEJ5TmV0d29yazogZnVuY3Rpb24gd2FzQ3JlYXRlZEJ5TmV0d29yaygpIHtcblx0ICAgIHJldHVybiAhIXRoaXMuZWwuZmlyc3RVcGRhdGVEYXRhO1xuXHQgIH0sXG5cblx0ICBpbml0TmV0d29ya1BhcmVudDogZnVuY3Rpb24gaW5pdE5ldHdvcmtQYXJlbnQoKSB7XG5cdCAgICB2YXIgcGFyZW50RWwgPSB0aGlzLmVsLnBhcmVudEVsZW1lbnQ7XG5cdCAgICBpZiAocGFyZW50RWwuaGFzT3duUHJvcGVydHkoJ2NvbXBvbmVudHMnKSAmJiBwYXJlbnRFbC5jb21wb25lbnRzLmhhc093blByb3BlcnR5KCduZXR3b3JrZWQnKSkge1xuXHQgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudEVsO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBhdHRhY2hMZXJwOiBmdW5jdGlvbiBhdHRhY2hMZXJwKCkge1xuXHQgICAgaWYgKE5BRi5vcHRpb25zLnVzZUxlcnApIHtcblx0ICAgICAgdGhpcy5lbC5zZXRBdHRyaWJ1dGUoJ2xlcnAnLCAnJyk7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIHJlbW92ZUxlcnA6IGZ1bmN0aW9uIHJlbW92ZUxlcnAoKSB7XG5cdCAgICBpZiAoTkFGLm9wdGlvbnMudXNlTGVycCkge1xuXHQgICAgICB0aGlzLmVsLnJlbW92ZUF0dHJpYnV0ZSgnbGVycCcpO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICByZWdpc3RlckVudGl0eTogZnVuY3Rpb24gcmVnaXN0ZXJFbnRpdHkobmV0d29ya0lkKSB7XG5cdCAgICBOQUYuZW50aXRpZXMucmVnaXN0ZXJFbnRpdHkobmV0d29ya0lkLCB0aGlzLmVsKTtcblx0ICB9LFxuXG5cdCAgaW5pdFRlbXBsYXRlOiBmdW5jdGlvbiBpbml0VGVtcGxhdGUoKSB7XG5cdCAgICB2YXIgZGF0YSA9IHRoaXMuZGF0YTtcblx0ICAgIHZhciBzaG93VGVtcGxhdGUgPSAhdGhpcy53YXNDcmVhdGVkQnlOZXR3b3JrKCkgJiYgZGF0YS5zaG93TG9jYWxUZW1wbGF0ZTtcblx0ICAgIHRoaXMuYXR0YWNoQW5kU2hvd1RlbXBsYXRlKGRhdGEudGVtcGxhdGUsIGRhdGEuc2hvd0xvY2FsVGVtcGxhdGUpO1xuXHQgIH0sXG5cblx0ICBhdHRhY2hBbmRTaG93VGVtcGxhdGU6IGZ1bmN0aW9uIGF0dGFjaEFuZFNob3dUZW1wbGF0ZSh0ZW1wbGF0ZSwgc2hvdykge1xuXHQgICAgdmFyIGVsID0gdGhpcy5lbDtcblx0ICAgIHZhciBkYXRhID0gdGhpcy5kYXRhO1xuXG5cdCAgICBpZiAodGhpcy50ZW1wbGF0ZUVsKSB7XG5cdCAgICAgIGVsLnJlbW92ZUNoaWxkKHRoaXMudGVtcGxhdGVFbCk7XG5cdCAgICB9XG5cblx0ICAgIHZhciB0ZW1wbGF0ZUNoaWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYS1lbnRpdHknKTtcblx0ICAgIHRlbXBsYXRlQ2hpbGQuc2V0QXR0cmlidXRlKCd0ZW1wbGF0ZScsICdzcmM6JyArIHRlbXBsYXRlKTtcblx0ICAgIHRlbXBsYXRlQ2hpbGQuc2V0QXR0cmlidXRlKCd2aXNpYmxlJywgc2hvdyk7XG5cblx0ICAgIGVsLmFwcGVuZENoaWxkKHRlbXBsYXRlQ2hpbGQpO1xuXHQgICAgdGhpcy50ZW1wbGF0ZUVsID0gdGVtcGxhdGVDaGlsZDtcblx0ICB9LFxuXG5cdCAgZmlyc3RVcGRhdGU6IGZ1bmN0aW9uIGZpcnN0VXBkYXRlKCkge1xuXHQgICAgdmFyIF90aGlzID0gdGhpcztcblxuXHQgICAgdmFyIGVudGl0eURhdGEgPSB0aGlzLmVsLmZpcnN0VXBkYXRlRGF0YTtcblx0ICAgIHRoaXMubmV0d29ya1VwZGF0ZShlbnRpdHlEYXRhKTsgLy8gdXBkYXRlcyByb290IGVsZW1lbnQgb25seVxuXG5cdCAgICB0aGlzLndhaXRGb3JUZW1wbGF0ZShmdW5jdGlvbiAoKSB7XG5cdCAgICAgIF90aGlzLm5ldHdvcmtVcGRhdGUoZW50aXR5RGF0YSk7XG5cdCAgICB9KTtcblx0ICB9LFxuXG5cdCAgd2FpdEZvclRlbXBsYXRlOiBmdW5jdGlvbiB3YWl0Rm9yVGVtcGxhdGUoY2FsbGJhY2spIHtcblx0ICAgIC8vIHdhaXQgZm9yIHRlbXBsYXRlIHRvIHJlbmRlciB0aGVuIGNhbGxiYWNrXG5cdCAgICBpZiAodGhpcy50ZW1wbGF0ZUVsKSB7XG5cdCAgICAgIHRoaXMudGVtcGxhdGVFbC5hZGRFdmVudExpc3RlbmVyKCd0ZW1wbGF0ZXJlbmRlcmVkJywgZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHNldFRpbWVvdXQoY2FsbGJhY2spO1xuXHQgICAgICB9KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHNldFRpbWVvdXQoY2FsbGJhY2spO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBvbkNvbm5lY3RlZDogZnVuY3Rpb24gb25Db25uZWN0ZWQoKSB7XG5cdCAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuXHQgICAgaWYgKHRoaXMuZGF0YS5vd25lciA9PT0gJycpIHtcblx0ICAgICAgdGhpcy5sYXN0T3duZXJUaW1lID0gTkFGLmNvbm5lY3Rpb24uZ2V0U2VydmVyVGltZSgpO1xuXHQgICAgICB0aGlzLmVsLnNldEF0dHJpYnV0ZSh0aGlzLm5hbWUsIHsgb3duZXI6IE5BRi5jbGllbnRJZCB9KTtcblxuXHQgICAgICB0aGlzLndhaXRGb3JUZW1wbGF0ZShmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgX3RoaXMyLnN5bmNBbGwoKTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cblx0ICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY29ubmVjdGVkJywgdGhpcy5vbkNvbm5lY3RlZCwgZmFsc2UpO1xuXHQgIH0sXG5cblx0ICBpc01pbmU6IGZ1bmN0aW9uIGlzTWluZSgpIHtcblx0ICAgIHJldHVybiB0aGlzLmRhdGEub3duZXIgPT09IE5BRi5jbGllbnRJZDtcblx0ICB9LFxuXG5cdCAgcGxheTogZnVuY3Rpb24gcGxheSgpIHtcblx0ICAgIHRoaXMuYmluZEV2ZW50cygpO1xuXHQgIH0sXG5cblx0ICBiaW5kRXZlbnRzOiBmdW5jdGlvbiBiaW5kRXZlbnRzKCkge1xuXHQgICAgdmFyIGVsID0gdGhpcy5lbDtcblx0ICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3N5bmMnLCB0aGlzLnN5bmNEaXJ0eSk7XG5cdCAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdzeW5jQWxsJywgdGhpcy5vblN5bmNBbGwpO1xuXHQgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbmV0d29ya1VwZGF0ZScsIHRoaXMubmV0d29ya1VwZGF0ZUhhbmRsZXIpO1xuXHQgIH0sXG5cblx0ICBwYXVzZTogZnVuY3Rpb24gcGF1c2UoKSB7XG5cdCAgICB0aGlzLnVuYmluZEV2ZW50cygpO1xuXHQgIH0sXG5cblx0ICB1bmJpbmRFdmVudHM6IGZ1bmN0aW9uIHVuYmluZEV2ZW50cygpIHtcblx0ICAgIHZhciBlbCA9IHRoaXMuZWw7XG5cdCAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdzeW5jJywgdGhpcy5zeW5jRGlydHkpO1xuXHQgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignc3luY0FsbCcsIHRoaXMub25TeW5jQWxsKTtcblx0ICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ25ldHdvcmtVcGRhdGUnLCB0aGlzLm5ldHdvcmtVcGRhdGVIYW5kbGVyKTtcblx0ICB9LFxuXG5cdCAgdGljazogZnVuY3Rpb24gdGljaygpIHtcblx0ICAgIGlmICh0aGlzLmlzTWluZSgpICYmIHRoaXMubmVlZHNUb1N5bmMoKSkge1xuXHQgICAgICB0aGlzLnN5bmNEaXJ0eSgpO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBvblN5bmNBbGw6IGZ1bmN0aW9uIG9uU3luY0FsbChlKSB7XG5cdCAgICB2YXIgdGFyZ2V0Q2xpZW50SWQgPSBlLmRldGFpbC50YXJnZXRDbGllbnRJZDtcblxuXHQgICAgdGhpcy5zeW5jQWxsKHRhcmdldENsaWVudElkKTtcblx0ICB9LFxuXG5cdCAgLyogU2VuZGluZyB1cGRhdGVzICovXG5cblx0ICBzeW5jQWxsOiBmdW5jdGlvbiBzeW5jQWxsKHRhcmdldENsaWVudElkKSB7XG5cdCAgICBpZiAoIXRoaXMuY2FuU3luYygpKSB7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHRoaXMudXBkYXRlTmV4dFN5bmNUaW1lKCk7XG5cdCAgICB2YXIgc3luY2VkQ29tcHMgPSB0aGlzLmdldEFsbFN5bmNlZENvbXBvbmVudHMoKTtcblx0ICAgIHZhciBjb21wb25lbnRzID0gY29tcG9uZW50SGVscGVyLmdhdGhlckNvbXBvbmVudHNEYXRhKHRoaXMuZWwsIHN5bmNlZENvbXBzKTtcblx0ICAgIHZhciBzeW5jRGF0YSA9IHRoaXMuY3JlYXRlU3luY0RhdGEoY29tcG9uZW50cyk7XG5cdCAgICAvLyBjb25zb2xlLmVycm9yKCdzeW5jQWxsJywgc3luY0RhdGEsIE5BRi5jbGllbnRJZCk7XG5cdCAgICBpZiAodGFyZ2V0Q2xpZW50SWQpIHtcblx0ICAgICAgTkFGLmNvbm5lY3Rpb24uc2VuZERhdGFHdWFyYW50ZWVkKHRhcmdldENsaWVudElkLCAndScsIHN5bmNEYXRhKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIE5BRi5jb25uZWN0aW9uLmJyb2FkY2FzdERhdGFHdWFyYW50ZWVkKCd1Jywgc3luY0RhdGEpO1xuXHQgICAgfVxuXHQgICAgdGhpcy51cGRhdGVDYWNoZShjb21wb25lbnRzKTtcblx0ICB9LFxuXG5cdCAgc3luY0RpcnR5OiBmdW5jdGlvbiBzeW5jRGlydHkoKSB7XG5cdCAgICBpZiAoIXRoaXMuY2FuU3luYygpKSB7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0ICAgIHRoaXMudXBkYXRlTmV4dFN5bmNUaW1lKCk7XG5cdCAgICB2YXIgc3luY2VkQ29tcHMgPSB0aGlzLmdldEFsbFN5bmNlZENvbXBvbmVudHMoKTtcblx0ICAgIHZhciBkaXJ0eUNvbXBzID0gY29tcG9uZW50SGVscGVyLmZpbmREaXJ0eUNvbXBvbmVudHModGhpcy5lbCwgc3luY2VkQ29tcHMsIHRoaXMuY2FjaGVkRGF0YSk7XG5cdCAgICBpZiAoZGlydHlDb21wcy5sZW5ndGggPT0gMCkge1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICB2YXIgY29tcG9uZW50cyA9IGNvbXBvbmVudEhlbHBlci5nYXRoZXJDb21wb25lbnRzRGF0YSh0aGlzLmVsLCBkaXJ0eUNvbXBzKTtcblx0ICAgIHZhciBzeW5jRGF0YSA9IHRoaXMuY3JlYXRlU3luY0RhdGEoY29tcG9uZW50cyk7XG5cdCAgICBpZiAoTkFGLm9wdGlvbnMuY29tcHJlc3NTeW5jUGFja2V0cykge1xuXHQgICAgICBzeW5jRGF0YSA9IENvbXByZXNzb3IuY29tcHJlc3NTeW5jRGF0YShzeW5jRGF0YSwgc3luY2VkQ29tcHMpO1xuXHQgICAgfVxuXHQgICAgTkFGLmNvbm5lY3Rpb24uYnJvYWRjYXN0RGF0YSgndScsIHN5bmNEYXRhKTtcblx0ICAgIC8vIGNvbnNvbGUuZXJyb3IoJ3N5bmNEaXJ0eScsIHN5bmNEYXRhLCBOQUYuY2xpZW50SWQpO1xuXHQgICAgdGhpcy51cGRhdGVDYWNoZShjb21wb25lbnRzKTtcblx0ICB9LFxuXG5cdCAgY2FuU3luYzogZnVuY3Rpb24gY2FuU3luYygpIHtcblx0ICAgIHJldHVybiB0aGlzLmRhdGEub3duZXIgJiYgdGhpcy5pc01pbmUoKTtcblx0ICB9LFxuXG5cdCAgbmVlZHNUb1N5bmM6IGZ1bmN0aW9uIG5lZWRzVG9TeW5jKCkge1xuXHQgICAgcmV0dXJuIE5BRi51dGlscy5ub3coKSA+PSB0aGlzLm5leHRTeW5jVGltZTtcblx0ICB9LFxuXG5cdCAgdXBkYXRlTmV4dFN5bmNUaW1lOiBmdW5jdGlvbiB1cGRhdGVOZXh0U3luY1RpbWUoKSB7XG5cdCAgICB0aGlzLm5leHRTeW5jVGltZSA9IE5BRi51dGlscy5ub3coKSArIDEwMDAgLyBOQUYub3B0aW9ucy51cGRhdGVSYXRlO1xuXHQgIH0sXG5cblx0ICBjcmVhdGVTeW5jRGF0YTogZnVuY3Rpb24gY3JlYXRlU3luY0RhdGEoY29tcG9uZW50cykge1xuXHQgICAgdmFyIGRhdGEgPSB0aGlzLmRhdGE7XG5cdCAgICB2YXIgc3luYyA9IHtcblx0ICAgICAgMDogMCwgLy8gMCBmb3Igbm90IGNvbXByZXNzZWRcblx0ICAgICAgbmV0d29ya0lkOiBkYXRhLm5ldHdvcmtJZCxcblx0ICAgICAgb3duZXI6IGRhdGEub3duZXIsXG5cdCAgICAgIGxhc3RPd25lclRpbWU6IHRoaXMubGFzdE93bmVyVGltZSxcblx0ICAgICAgdGVtcGxhdGU6IGRhdGEudGVtcGxhdGUsXG5cdCAgICAgIHBhcmVudDogdGhpcy5nZXRQYXJlbnRJZCgpLFxuXHQgICAgICBjb21wb25lbnRzOiBjb21wb25lbnRzXG5cdCAgICB9O1xuXHQgICAgcmV0dXJuIHN5bmM7XG5cdCAgfSxcblxuXHQgIGdldFBhcmVudElkOiBmdW5jdGlvbiBnZXRQYXJlbnRJZCgpIHtcblx0ICAgIHRoaXMuaW5pdE5ldHdvcmtQYXJlbnQoKTsgLy8gVE9ETyBmaXggY2FsbGluZyB0aGlzIGVhY2ggbmV0d29yayB0aWNrXG5cdCAgICBpZiAoIXRoaXMucGFyZW50KSB7XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgICAgdmFyIG5ldENvbXAgPSB0aGlzLnBhcmVudC5nZXRBdHRyaWJ1dGUoJ25ldHdvcmtlZCcpO1xuXHQgICAgcmV0dXJuIG5ldENvbXAubmV0d29ya0lkO1xuXHQgIH0sXG5cblx0ICBnZXRBbGxTeW5jZWRDb21wb25lbnRzOiBmdW5jdGlvbiBnZXRBbGxTeW5jZWRDb21wb25lbnRzKCkge1xuXHQgICAgcmV0dXJuIE5BRi5zY2hlbWFzLmdldENvbXBvbmVudHModGhpcy5kYXRhLnRlbXBsYXRlKTtcblx0ICB9LFxuXG5cdCAgdXBkYXRlQ2FjaGU6IGZ1bmN0aW9uIHVwZGF0ZUNhY2hlKGNvbXBvbmVudHMpIHtcblx0ICAgIGZvciAodmFyIG5hbWUgaW4gY29tcG9uZW50cykge1xuXHQgICAgICB0aGlzLmNhY2hlZERhdGFbbmFtZV0gPSBjb21wb25lbnRzW25hbWVdO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICAvKiBSZWNlaXZpbmcgdXBkYXRlcyAqL1xuXG5cdCAgbmV0d29ya1VwZGF0ZUhhbmRsZXI6IGZ1bmN0aW9uIG5ldHdvcmtVcGRhdGVIYW5kbGVyKHJlY2VpdmVkKSB7XG5cdCAgICB2YXIgZW50aXR5RGF0YSA9IHJlY2VpdmVkLmRldGFpbC5lbnRpdHlEYXRhO1xuXHQgICAgdGhpcy5uZXR3b3JrVXBkYXRlKGVudGl0eURhdGEpO1xuXHQgIH0sXG5cblx0ICBuZXR3b3JrVXBkYXRlOiBmdW5jdGlvbiBuZXR3b3JrVXBkYXRlKGVudGl0eURhdGEpIHtcblx0ICAgIGlmIChlbnRpdHlEYXRhWzBdID09IDEpIHtcblx0ICAgICAgZW50aXR5RGF0YSA9IENvbXByZXNzb3IuZGVjb21wcmVzc1N5bmNEYXRhKGVudGl0eURhdGEsIHRoaXMuZ2V0QWxsU3luY2VkQ29tcG9uZW50cygpKTtcblx0ICAgIH1cblxuXHQgICAgLy8gQXZvaWQgdXBkYXRpbmcgY29tcG9uZW50cyBpZiB0aGUgZW50aXR5IGRhdGEgcmVjZWl2ZWQgZGlkIG5vdCBjb21lIGZyb20gdGhlIGN1cnJlbnQgb3duZXIuXG5cdCAgICBpZiAoZW50aXR5RGF0YS5sYXN0T3duZXJUaW1lIDwgdGhpcy5sYXN0T3duZXJUaW1lIHx8IHRoaXMubGFzdE93bmVyVGltZSA9PT0gZW50aXR5RGF0YS5sYXN0T3duZXJUaW1lICYmIHRoaXMuZGF0YS5vd25lciA+IGVudGl0eURhdGEub3duZXIpIHtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXG5cdCAgICBpZiAodGhpcy5kYXRhLm93bmVyICE9PSBlbnRpdHlEYXRhLm93bmVyKSB7XG5cdCAgICAgIHZhciB3YXNNaW5lID0gdGhpcy5pc01pbmUoKTtcblx0ICAgICAgdGhpcy5sYXN0T3duZXJUaW1lID0gZW50aXR5RGF0YS5sYXN0T3duZXJUaW1lO1xuXHQgICAgICB0aGlzLmF0dGFjaExlcnAoKTtcblxuXHQgICAgICB2YXIgb2xkT3duZXIgPSB0aGlzLmRhdGEub3duZXI7XG5cdCAgICAgIHZhciBuZXdPd25lciA9IGVudGl0eURhdGEub3duZXI7XG5cdCAgICAgIGlmICh3YXNNaW5lKSB7XG5cdCAgICAgICAgdGhpcy5lbC5lbWl0KHRoaXMuT1dORVJTSElQX0xPU1QsIHsgZWw6IHRoaXMuZWwsIG5ld093bmVyOiBuZXdPd25lciB9KTtcblx0ICAgICAgfVxuXHQgICAgICB0aGlzLmVsLmVtaXQodGhpcy5PV05FUlNISVBfQ0hBTkdFRCwgeyBlbDogdGhpcy5lbCwgb2xkT3duZXI6IG9sZE93bmVyLCBuZXdPd25lcjogbmV3T3duZXIgfSk7XG5cblx0ICAgICAgdGhpcy5lbC5zZXRBdHRyaWJ1dGUoJ25ldHdvcmtlZCcsIHsgb3duZXI6IGVudGl0eURhdGEub3duZXIgfSk7XG5cdCAgICB9XG5cdCAgICB0aGlzLnVwZGF0ZUNvbXBvbmVudHMoZW50aXR5RGF0YS5jb21wb25lbnRzKTtcblx0ICB9LFxuXG5cdCAgdXBkYXRlQ29tcG9uZW50czogZnVuY3Rpb24gdXBkYXRlQ29tcG9uZW50cyhjb21wb25lbnRzKSB7XG5cdCAgICB2YXIgZWwgPSB0aGlzLmVsO1xuXG5cdCAgICBmb3IgKHZhciBrZXkgaW4gY29tcG9uZW50cykge1xuXHQgICAgICBpZiAodGhpcy5pc1N5bmNhYmxlQ29tcG9uZW50KGtleSkpIHtcblx0ICAgICAgICB2YXIgZGF0YSA9IGNvbXBvbmVudHNba2V5XTtcblx0ICAgICAgICBpZiAoTkFGLnV0aWxzLmlzQ2hpbGRTY2hlbWFLZXkoa2V5KSkge1xuXHQgICAgICAgICAgdmFyIHNjaGVtYSA9IE5BRi51dGlscy5rZXlUb0NoaWxkU2NoZW1hKGtleSk7XG5cdCAgICAgICAgICB2YXIgY2hpbGRFbCA9IHNjaGVtYS5zZWxlY3RvciA/IGVsLnF1ZXJ5U2VsZWN0b3Ioc2NoZW1hLnNlbGVjdG9yKSA6IGVsO1xuXHQgICAgICAgICAgaWYgKGNoaWxkRWwpIHtcblx0ICAgICAgICAgICAgLy8gSXMgZmFsc2Ugd2hlbiBmaXJzdCBjYWxsZWQgaW4gaW5pdFxuXHQgICAgICAgICAgICBpZiAoc2NoZW1hLnByb3BlcnR5KSB7XG5cdCAgICAgICAgICAgICAgY2hpbGRFbC5zZXRBdHRyaWJ1dGUoc2NoZW1hLmNvbXBvbmVudCwgc2NoZW1hLnByb3BlcnR5LCBkYXRhKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICBjaGlsZEVsLnNldEF0dHJpYnV0ZShzY2hlbWEuY29tcG9uZW50LCBkYXRhKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoa2V5LCBkYXRhKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgaXNTeW5jYWJsZUNvbXBvbmVudDogZnVuY3Rpb24gaXNTeW5jYWJsZUNvbXBvbmVudChrZXkpIHtcblx0ICAgIGlmIChOQUYudXRpbHMuaXNDaGlsZFNjaGVtYUtleShrZXkpKSB7XG5cdCAgICAgIHZhciBzY2hlbWEgPSBOQUYudXRpbHMua2V5VG9DaGlsZFNjaGVtYShrZXkpO1xuXHQgICAgICByZXR1cm4gdGhpcy5oYXNUaGlzQ2hpbGRTY2hlbWEoc2NoZW1hKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiB0aGlzLmdldEFsbFN5bmNlZENvbXBvbmVudHMoKS5pbmRleE9mKGtleSkgIT0gLTE7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIGhhc1RoaXNDaGlsZFNjaGVtYTogZnVuY3Rpb24gaGFzVGhpc0NoaWxkU2NoZW1hKHNjaGVtYSkge1xuXHQgICAgdmFyIHNjaGVtYUNvbXBvbmVudHMgPSB0aGlzLmdldEFsbFN5bmNlZENvbXBvbmVudHMoKTtcblx0ICAgIGZvciAodmFyIGkgaW4gc2NoZW1hQ29tcG9uZW50cykge1xuXHQgICAgICB2YXIgbG9jYWxDaGlsZFNjaGVtYSA9IHNjaGVtYUNvbXBvbmVudHNbaV07XG5cdCAgICAgIGlmIChOQUYudXRpbHMuY2hpbGRTY2hlbWFFcXVhbChsb2NhbENoaWxkU2NoZW1hLCBzY2hlbWEpKSB7XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICB9LFxuXG5cdCAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG5cdCAgICBpZiAodGhpcy5pc01pbmUoKSAmJiBOQUYuY29ubmVjdGlvbi5pc0Nvbm5lY3RlZCgpKSB7XG5cdCAgICAgIHZhciBzeW5jRGF0YSA9IHsgbmV0d29ya0lkOiB0aGlzLmRhdGEubmV0d29ya0lkIH07XG5cdCAgICAgIE5BRi5jb25uZWN0aW9uLmJyb2FkY2FzdERhdGFHdWFyYW50ZWVkKCdyJywgc3luY0RhdGEpO1xuXHQgICAgfVxuXHQgICAgZG9jdW1lbnQuYm9keS5kaXNwYXRjaEV2ZW50KHRoaXMuZW50aXR5UmVtb3ZlZEV2ZW50KHRoaXMuZGF0YS5uZXR3b3JrSWQpKTtcblx0ICB9LFxuXG5cdCAgZW50aXR5Q3JlYXRlZEV2ZW50OiBmdW5jdGlvbiBlbnRpdHlDcmVhdGVkRXZlbnQoKSB7XG5cdCAgICByZXR1cm4gbmV3IEN1c3RvbUV2ZW50KCdlbnRpdHlDcmVhdGVkJywgeyBkZXRhaWw6IHsgZWw6IHRoaXMuZWwgfSB9KTtcblx0ICB9LFxuXHQgIGVudGl0eVJlbW92ZWRFdmVudDogZnVuY3Rpb24gZW50aXR5UmVtb3ZlZEV2ZW50KG5ldHdvcmtJZCkge1xuXHQgICAgcmV0dXJuIG5ldyBDdXN0b21FdmVudCgnZW50aXR5UmVtb3ZlZCcsIHsgZGV0YWlsOiB7IG5ldHdvcmtJZDogbmV0d29ya0lkIH0gfSk7XG5cdCAgfVxuXHR9KTtcblxuLyoqKi8gfSksXG4vKiA2MCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgZGVlcEVxdWFsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MSk7XG5cblx0dmFyIE9CSkVDVDNEX0NPTVBPTkVOVFMgPSBbJ3Bvc2l0aW9uJywgJ3JvdGF0aW9uJywgJ3NjYWxlJywgJ3Zpc2libGUnXTtcblxuXHRtb2R1bGUuZXhwb3J0cy5nYXRoZXJDb21wb25lbnRzRGF0YSA9IGZ1bmN0aW9uIChlbCwgc2NoZW1hQ29tcG9uZW50cykge1xuXHQgIHZhciBjb21wc0RhdGEgPSB7fTtcblxuXHQgIGZvciAodmFyIGkgaW4gc2NoZW1hQ29tcG9uZW50cykge1xuXHQgICAgdmFyIGVsZW1lbnQgPSBzY2hlbWFDb21wb25lbnRzW2ldO1xuXG5cdCAgICBpZiAodHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgIGlmIChlbC5nZXRBdHRyaWJ1dGUoZWxlbWVudCkpIHtcblx0ICAgICAgICB2YXIgbmFtZSA9IGVsZW1lbnQ7XG5cdCAgICAgICAgY29tcHNEYXRhW25hbWVdID0gQUZSQU1FLnV0aWxzLmNsb25lKGVsLmdldEF0dHJpYnV0ZShuYW1lKSk7XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHZhciBjaGlsZEtleSA9IE5BRi51dGlscy5jaGlsZFNjaGVtYVRvS2V5KGVsZW1lbnQpO1xuXHQgICAgICB2YXIgY2hpbGQgPSBlbGVtZW50LnNlbGVjdG9yID8gZWwucXVlcnlTZWxlY3RvcihlbGVtZW50LnNlbGVjdG9yKSA6IGVsO1xuXHQgICAgICBpZiAoY2hpbGQpIHtcblx0ICAgICAgICBpZiAoY2hpbGQuZ2V0QXR0cmlidXRlKGVsZW1lbnQuY29tcG9uZW50KSkge1xuXHQgICAgICAgICAgdmFyIGRhdGEgPSBlbGVtZW50LnByb3BlcnR5ID8gZWwuZ2V0QXR0cmlidXRlKGVsZW1lbnQuY29tcG9uZW50KVtlbGVtZW50LnByb3BlcnR5XSA6IGVsLmdldEF0dHJpYnV0ZShlbGVtZW50LmNvbXBvbmVudCk7XG5cdCAgICAgICAgICBjb21wc0RhdGFbY2hpbGRLZXldID0gQUZSQU1FLnV0aWxzLmNsb25lKGRhdGEpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAvLyBOQUYubG9nLndyaXRlKCdDb21wb25lbnRIZWxwZXIuZ2F0aGVyQ29tcG9uZW50c0RhdGE6IENvdWxkIG5vdCBmaW5kIGNvbXBvbmVudCAnICsgZWxlbWVudC5jb21wb25lbnQgKyAnIG9uIGNoaWxkICcsIGNoaWxkLCBjaGlsZC5jb21wb25lbnRzKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIGNvbXBzRGF0YTtcblx0fTtcblxuXHRtb2R1bGUuZXhwb3J0cy5maW5kRGlydHlDb21wb25lbnRzID0gZnVuY3Rpb24gKGVsLCBzeW5jZWRDb21wcywgY2FjaGVkRGF0YSkge1xuXHQgIHZhciBkaXJ0eUNvbXBzID0gW107XG5cblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IHN5bmNlZENvbXBzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICB2YXIgc2NoZW1hID0gc3luY2VkQ29tcHNbaV07XG5cdCAgICB2YXIgY29tcEtleTtcblx0ICAgIHZhciBuZXdDb21wRGF0YTtcblxuXHQgICAgdmFyIGlzUm9vdCA9IHR5cGVvZiBzY2hlbWEgPT09ICdzdHJpbmcnO1xuXHQgICAgaWYgKGlzUm9vdCkge1xuXHQgICAgICB2YXIgaGFzQ29tcG9uZW50ID0gZWwuZ2V0QXR0cmlidXRlKHNjaGVtYSk7XG5cdCAgICAgIGlmICghaGFzQ29tcG9uZW50ICYmIE9CSkVDVDNEX0NPTVBPTkVOVFMuaW5kZXhPZihzeW5jZWRDb21wc1tpXSkgPT09IC0xKSB7XG5cdCAgICAgICAgY29udGludWU7XG5cdCAgICAgIH1cblx0ICAgICAgY29tcEtleSA9IHNjaGVtYTtcblx0ICAgICAgbmV3Q29tcERhdGEgPSBlbC5nZXRBdHRyaWJ1dGUoc2NoZW1hKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIC8vIGlzIGNoaWxkXG5cdCAgICAgIHZhciBzZWxlY3RvciA9IHNjaGVtYS5zZWxlY3Rvcjtcblx0ICAgICAgdmFyIGNvbXBOYW1lID0gc2NoZW1hLmNvbXBvbmVudDtcblx0ICAgICAgdmFyIHByb3BOYW1lID0gc2NoZW1hLnByb3BlcnR5O1xuXHQgICAgICB2YXIgY2hpbGRFbCA9IHNlbGVjdG9yID8gZWwucXVlcnlTZWxlY3RvcihzZWxlY3RvcikgOiBlbDtcblx0ICAgICAgdmFyIGhhc0NvbXBvbmVudCA9IGNoaWxkRWwgJiYgY2hpbGRFbC5nZXRBdHRyaWJ1dGUoY29tcE5hbWUpO1xuXHQgICAgICBpZiAoIWhhc0NvbXBvbmVudCkge1xuXHQgICAgICAgIGNvbnRpbnVlO1xuXHQgICAgICB9XG5cdCAgICAgIGNvbXBLZXkgPSBOQUYudXRpbHMuY2hpbGRTY2hlbWFUb0tleShzY2hlbWEpO1xuXHQgICAgICBuZXdDb21wRGF0YSA9IGNoaWxkRWwuZ2V0QXR0cmlidXRlKGNvbXBOYW1lKTtcblx0ICAgICAgaWYgKHByb3BOYW1lKSB7XG5cdCAgICAgICAgbmV3Q29tcERhdGEgPSBuZXdDb21wRGF0YVtwcm9wTmFtZV07XG5cdCAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgdmFyIGNvbXBJc0NhY2hlZCA9IGNhY2hlZERhdGEuaGFzT3duUHJvcGVydHkoY29tcEtleSk7XG5cdCAgICBpZiAoIWNvbXBJc0NhY2hlZCkge1xuXHQgICAgICBkaXJ0eUNvbXBzLnB1c2goc2NoZW1hKTtcblx0ICAgICAgY29udGludWU7XG5cdCAgICB9XG5cblx0ICAgIHZhciBvbGRDb21wRGF0YSA9IGNhY2hlZERhdGFbY29tcEtleV07XG5cdCAgICBpZiAoIWRlZXBFcXVhbChvbGRDb21wRGF0YSwgbmV3Q29tcERhdGEpKSB7XG5cdCAgICAgIGRpcnR5Q29tcHMucHVzaChzY2hlbWEpO1xuXHQgICAgfVxuXHQgIH1cblxuXHQgIHJldHVybiBkaXJ0eUNvbXBzO1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDYxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuXHR2YXIgcFNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuXHR2YXIgb2JqZWN0S2V5cyA9IF9fd2VicGFja19yZXF1aXJlX18oNjIpO1xuXHR2YXIgaXNBcmd1bWVudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYzKTtcblxuXHR2YXIgZGVlcEVxdWFsID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYWN0dWFsLCBleHBlY3RlZCwgb3B0cykge1xuXHQgIGlmICghb3B0cykgb3B0cyA9IHt9O1xuXHQgIC8vIDcuMS4gQWxsIGlkZW50aWNhbCB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGFzIGRldGVybWluZWQgYnkgPT09LlxuXHQgIGlmIChhY3R1YWwgPT09IGV4cGVjdGVkKSB7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9IGVsc2UgaWYgKGFjdHVhbCBpbnN0YW5jZW9mIERhdGUgJiYgZXhwZWN0ZWQgaW5zdGFuY2VvZiBEYXRlKSB7XG5cdCAgICByZXR1cm4gYWN0dWFsLmdldFRpbWUoKSA9PT0gZXhwZWN0ZWQuZ2V0VGltZSgpO1xuXG5cdCAgICAvLyA3LjMuIE90aGVyIHBhaXJzIHRoYXQgZG8gbm90IGJvdGggcGFzcyB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcsXG5cdCAgICAvLyBlcXVpdmFsZW5jZSBpcyBkZXRlcm1pbmVkIGJ5ID09LlxuXHQgIH0gZWxzZSBpZiAoIWFjdHVhbCB8fCAhZXhwZWN0ZWQgfHwgKHR5cGVvZiBhY3R1YWwgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGFjdHVhbCkpICE9ICdvYmplY3QnICYmICh0eXBlb2YgZXhwZWN0ZWQgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGV4cGVjdGVkKSkgIT0gJ29iamVjdCcpIHtcblx0ICAgIHJldHVybiBvcHRzLnN0cmljdCA/IGFjdHVhbCA9PT0gZXhwZWN0ZWQgOiBhY3R1YWwgPT0gZXhwZWN0ZWQ7XG5cblx0ICAgIC8vIDcuNC4gRm9yIGFsbCBvdGhlciBPYmplY3QgcGFpcnMsIGluY2x1ZGluZyBBcnJheSBvYmplY3RzLCBlcXVpdmFsZW5jZSBpc1xuXHQgICAgLy8gZGV0ZXJtaW5lZCBieSBoYXZpbmcgdGhlIHNhbWUgbnVtYmVyIG9mIG93bmVkIHByb3BlcnRpZXMgKGFzIHZlcmlmaWVkXG5cdCAgICAvLyB3aXRoIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCksIHRoZSBzYW1lIHNldCBvZiBrZXlzXG5cdCAgICAvLyAoYWx0aG91Z2ggbm90IG5lY2Vzc2FyaWx5IHRoZSBzYW1lIG9yZGVyKSwgZXF1aXZhbGVudCB2YWx1ZXMgZm9yIGV2ZXJ5XG5cdCAgICAvLyBjb3JyZXNwb25kaW5nIGtleSwgYW5kIGFuIGlkZW50aWNhbCAncHJvdG90eXBlJyBwcm9wZXJ0eS4gTm90ZTogdGhpc1xuXHQgICAgLy8gYWNjb3VudHMgZm9yIGJvdGggbmFtZWQgYW5kIGluZGV4ZWQgcHJvcGVydGllcyBvbiBBcnJheXMuXG5cdCAgfSBlbHNlIHtcblx0ICAgIHJldHVybiBvYmpFcXVpdihhY3R1YWwsIGV4cGVjdGVkLCBvcHRzKTtcblx0ICB9XG5cdH07XG5cblx0ZnVuY3Rpb24gaXNVbmRlZmluZWRPck51bGwodmFsdWUpIHtcblx0ICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZDtcblx0fVxuXG5cdGZ1bmN0aW9uIGlzQnVmZmVyKHgpIHtcblx0ICBpZiAoIXggfHwgKHR5cGVvZiB4ID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZih4KSkgIT09ICdvYmplY3QnIHx8IHR5cGVvZiB4Lmxlbmd0aCAhPT0gJ251bWJlcicpIHJldHVybiBmYWxzZTtcblx0ICBpZiAodHlwZW9mIHguY29weSAhPT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgeC5zbGljZSAhPT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0ICBpZiAoeC5sZW5ndGggPiAwICYmIHR5cGVvZiB4WzBdICE9PSAnbnVtYmVyJykgcmV0dXJuIGZhbHNlO1xuXHQgIHJldHVybiB0cnVlO1xuXHR9XG5cblx0ZnVuY3Rpb24gb2JqRXF1aXYoYSwgYiwgb3B0cykge1xuXHQgIHZhciBpLCBrZXk7XG5cdCAgaWYgKGlzVW5kZWZpbmVkT3JOdWxsKGEpIHx8IGlzVW5kZWZpbmVkT3JOdWxsKGIpKSByZXR1cm4gZmFsc2U7XG5cdCAgLy8gYW4gaWRlbnRpY2FsICdwcm90b3R5cGUnIHByb3BlcnR5LlxuXHQgIGlmIChhLnByb3RvdHlwZSAhPT0gYi5wcm90b3R5cGUpIHJldHVybiBmYWxzZTtcblx0ICAvL35+fkkndmUgbWFuYWdlZCB0byBicmVhayBPYmplY3Qua2V5cyB0aHJvdWdoIHNjcmV3eSBhcmd1bWVudHMgcGFzc2luZy5cblx0ICAvLyAgIENvbnZlcnRpbmcgdG8gYXJyYXkgc29sdmVzIHRoZSBwcm9ibGVtLlxuXHQgIGlmIChpc0FyZ3VtZW50cyhhKSkge1xuXHQgICAgaWYgKCFpc0FyZ3VtZW50cyhiKSkge1xuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgICBhID0gcFNsaWNlLmNhbGwoYSk7XG5cdCAgICBiID0gcFNsaWNlLmNhbGwoYik7XG5cdCAgICByZXR1cm4gZGVlcEVxdWFsKGEsIGIsIG9wdHMpO1xuXHQgIH1cblx0ICBpZiAoaXNCdWZmZXIoYSkpIHtcblx0ICAgIGlmICghaXNCdWZmZXIoYikpIHtcblx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHQgICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuXHQgICAgZm9yIChpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgaWYgKGFbaV0gIT09IGJbaV0pIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB0cnVlO1xuXHQgIH1cblx0ICB0cnkge1xuXHQgICAgdmFyIGthID0gb2JqZWN0S2V5cyhhKSxcblx0ICAgICAgICBrYiA9IG9iamVjdEtleXMoYik7XG5cdCAgfSBjYXRjaCAoZSkge1xuXHQgICAgLy9oYXBwZW5zIHdoZW4gb25lIGlzIGEgc3RyaW5nIGxpdGVyYWwgYW5kIHRoZSBvdGhlciBpc24ndFxuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0ICAvLyBoYXZpbmcgdGhlIHNhbWUgbnVtYmVyIG9mIG93bmVkIHByb3BlcnRpZXMgKGtleXMgaW5jb3Jwb3JhdGVzXG5cdCAgLy8gaGFzT3duUHJvcGVydHkpXG5cdCAgaWYgKGthLmxlbmd0aCAhPSBrYi5sZW5ndGgpIHJldHVybiBmYWxzZTtcblx0ICAvL3RoZSBzYW1lIHNldCBvZiBrZXlzIChhbHRob3VnaCBub3QgbmVjZXNzYXJpbHkgdGhlIHNhbWUgb3JkZXIpLFxuXHQgIGthLnNvcnQoKTtcblx0ICBrYi5zb3J0KCk7XG5cdCAgLy9+fn5jaGVhcCBrZXkgdGVzdFxuXHQgIGZvciAoaSA9IGthLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdCAgICBpZiAoa2FbaV0gIT0ga2JbaV0pIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdCAgLy9lcXVpdmFsZW50IHZhbHVlcyBmb3IgZXZlcnkgY29ycmVzcG9uZGluZyBrZXksIGFuZFxuXHQgIC8vfn5+cG9zc2libHkgZXhwZW5zaXZlIGRlZXAgdGVzdFxuXHQgIGZvciAoaSA9IGthLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdCAgICBrZXkgPSBrYVtpXTtcblx0ICAgIGlmICghZGVlcEVxdWFsKGFba2V5XSwgYltrZXldLCBvcHRzKSkgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0ICByZXR1cm4gKHR5cGVvZiBhID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihhKSkgPT09ICh0eXBlb2YgYiA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoYikpO1xuXHR9XG5cbi8qKiovIH0pLFxuLyogNjIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gdHlwZW9mIE9iamVjdC5rZXlzID09PSAnZnVuY3Rpb24nID8gT2JqZWN0LmtleXMgOiBzaGltO1xuXG5cdGV4cG9ydHMuc2hpbSA9IHNoaW07XG5cdGZ1bmN0aW9uIHNoaW0ob2JqKSB7XG5cdCAgdmFyIGtleXMgPSBbXTtcblx0ICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG5cdCAgICBrZXlzLnB1c2goa2V5KTtcblx0ICB9cmV0dXJuIGtleXM7XG5cdH1cblxuLyoqKi8gfSksXG4vKiA2MyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cblx0dmFyIHN1cHBvcnRzQXJndW1lbnRzQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG5cdCAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmd1bWVudHMpO1xuXHR9KCkgPT0gJ1tvYmplY3QgQXJndW1lbnRzXSc7XG5cblx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gc3VwcG9ydHNBcmd1bWVudHNDbGFzcyA/IHN1cHBvcnRlZCA6IHVuc3VwcG9ydGVkO1xuXG5cdGV4cG9ydHMuc3VwcG9ydGVkID0gc3VwcG9ydGVkO1xuXHRmdW5jdGlvbiBzdXBwb3J0ZWQob2JqZWN0KSB7XG5cdCAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmplY3QpID09ICdbb2JqZWN0IEFyZ3VtZW50c10nO1xuXHR9O1xuXG5cdGV4cG9ydHMudW5zdXBwb3J0ZWQgPSB1bnN1cHBvcnRlZDtcblx0ZnVuY3Rpb24gdW5zdXBwb3J0ZWQob2JqZWN0KSB7XG5cdCAgcmV0dXJuIG9iamVjdCAmJiAodHlwZW9mIG9iamVjdCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2Yob2JqZWN0KSkgPT0gJ29iamVjdCcgJiYgdHlwZW9mIG9iamVjdC5sZW5ndGggPT0gJ251bWJlcicgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgJ2NhbGxlZScpICYmICFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwob2JqZWN0LCAnY2FsbGVlJykgfHwgZmFsc2U7XG5cdH07XG5cbi8qKiovIH0pLFxuLyogNjQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHQvKipcblx0ICBDb21wcmVzc2VkIHBhY2tldCBzdHJ1Y3R1cmU6XG5cdCAgW1xuXHQgICAgMSwgLy8gMSBmb3IgY29tcHJlc3NlZFxuXHQgICAgbmV0d29ya0lkLFxuXHQgICAgb3duZXJJZCxcblx0ICAgIHBhcmVudCxcblx0ICAgIHtcblx0ICAgICAgMDogZGF0YSwgLy8ga2V5IG1hcHMgdG8gaW5kZXggb2Ygc3luY2VkIGNvbXBvbmVudHMgaW4gbmV0d29yayBjb21wb25lbnQgc2NoZW1hXG5cdCAgICAgIDM6IGRhdGEsXG5cdCAgICAgIDQ6IGRhdGFcblx0ICAgIH1cblx0ICBdXG5cdCovXG5cdG1vZHVsZS5leHBvcnRzLmNvbXByZXNzU3luY0RhdGEgPSBmdW5jdGlvbiAoc3luY0RhdGEsIGFsbENvbXBvbmVudHMpIHtcblx0ICB2YXIgY29tcHJlc3NlZCA9IFtdO1xuXHQgIGNvbXByZXNzZWQucHVzaCgxKTsgLy8gMFxuXHQgIGNvbXByZXNzZWQucHVzaChzeW5jRGF0YS5uZXR3b3JrSWQpOyAvLyAxXG5cdCAgY29tcHJlc3NlZC5wdXNoKHN5bmNEYXRhLm93bmVyKTsgLy8gMlxuXHQgIGNvbXByZXNzZWQucHVzaChzeW5jRGF0YS5wYXJlbnQpOyAvLyAzXG5cdCAgY29tcHJlc3NlZC5wdXNoKHN5bmNEYXRhLnRlbXBsYXRlKTsgLy8gNFxuXG5cdCAgdmFyIGNvbXByZXNzZWRDb21wcyA9IHRoaXMuY29tcHJlc3NDb21wb25lbnRzKHN5bmNEYXRhLmNvbXBvbmVudHMsIGFsbENvbXBvbmVudHMpO1xuXHQgIGNvbXByZXNzZWQucHVzaChjb21wcmVzc2VkQ29tcHMpOyAvLyA1XG5cblx0ICByZXR1cm4gY29tcHJlc3NlZDtcblx0fTtcblxuXHRtb2R1bGUuZXhwb3J0cy5jb21wcmVzc0NvbXBvbmVudHMgPSBmdW5jdGlvbiAoc3luY0NvbXBvbmVudHMsIGFsbENvbXBvbmVudHMpIHtcblx0ICB2YXIgY29tcHJlc3NlZCA9IHt9O1xuXHQgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsQ29tcG9uZW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgdmFyIG5hbWU7XG5cdCAgICBpZiAodHlwZW9mIGFsbENvbXBvbmVudHNbaV0gPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgIG5hbWUgPSBhbGxDb21wb25lbnRzW2ldO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgbmFtZSA9IE5BRi51dGlscy5jaGlsZFNjaGVtYVRvS2V5KGFsbENvbXBvbmVudHNbaV0pO1xuXHQgICAgfVxuXHQgICAgaWYgKHN5bmNDb21wb25lbnRzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG5cdCAgICAgIGNvbXByZXNzZWRbaV0gPSBzeW5jQ29tcG9uZW50c1tuYW1lXTtcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIGNvbXByZXNzZWQ7XG5cdH07XG5cblx0LyoqXG5cdCAgRGVjb21wcmVzc2VkIHBhY2tldCBzdHJ1Y3R1cmU6XG5cdCAgW1xuXHQgICAgMDogMCwgLy8gMCBmb3IgdW5jb21wcmVzc2VkXG5cdCAgICBuZXR3b3JrSWQ6IG5ldHdvcmtJZCxcblx0ICAgIG93bmVyOiBjbGllbnRJZCxcblx0ICAgIHBhcmVudDogcGFyZW50TmV0d29ya0lkIG9yIG51bGwsXG5cdCAgICB0ZW1wbGF0ZTogdGVtcGxhdGUsXG5cdCAgICBjb21wb25lbnRzOiB7XG5cdCAgICAgIHBvc2l0aW9uOiBkYXRhLFxuXHQgICAgICBzY2FsZTogZGF0YSxcblx0ICAgICAgLmhlYWQtLS12aXNpYmxlOiBkYXRhXG5cdCAgICB9LFxuXHQgIF1cblx0Ki9cblx0bW9kdWxlLmV4cG9ydHMuZGVjb21wcmVzc1N5bmNEYXRhID0gZnVuY3Rpb24gKGNvbXByZXNzZWQsIGNvbXBvbmVudHMpIHtcblx0ICB2YXIgZW50aXR5RGF0YSA9IHt9O1xuXHQgIGVudGl0eURhdGFbMF0gPSAwO1xuXHQgIGVudGl0eURhdGEubmV0d29ya0lkID0gY29tcHJlc3NlZFsxXTtcblx0ICBlbnRpdHlEYXRhLm93bmVyID0gY29tcHJlc3NlZFsyXTtcblx0ICBlbnRpdHlEYXRhLnBhcmVudCA9IGNvbXByZXNzZWRbM107XG5cdCAgZW50aXR5RGF0YS50ZW1wbGF0ZSA9IGNvbXByZXNzZWRbNF07XG5cblx0ICB2YXIgY29tcHJlc3NlZENvbXBzID0gY29tcHJlc3NlZFs1XTtcblx0ICB2YXIgY29tcG9uZW50cyA9IHRoaXMuZGVjb21wcmVzc0NvbXBvbmVudHMoY29tcHJlc3NlZENvbXBzLCBjb21wb25lbnRzKTtcblx0ICBlbnRpdHlEYXRhLmNvbXBvbmVudHMgPSBjb21wb25lbnRzO1xuXG5cdCAgcmV0dXJuIGVudGl0eURhdGE7XG5cdH07XG5cblx0bW9kdWxlLmV4cG9ydHMuZGVjb21wcmVzc0NvbXBvbmVudHMgPSBmdW5jdGlvbiAoY29tcHJlc3NlZCwgY29tcG9uZW50cykge1xuXHQgIHZhciBkZWNvbXByZXNzZWQgPSB7fTtcblx0ICBmb3IgKHZhciBpIGluIGNvbXByZXNzZWQpIHtcblx0ICAgIHZhciBzY2hlbWFDb21wID0gY29tcG9uZW50c1tpXTtcblxuXHQgICAgdmFyIG5hbWU7XG5cdCAgICBpZiAodHlwZW9mIHNjaGVtYUNvbXAgPT09IFwic3RyaW5nXCIpIHtcblx0ICAgICAgbmFtZSA9IHNjaGVtYUNvbXA7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBuYW1lID0gTkFGLnV0aWxzLmNoaWxkU2NoZW1hVG9LZXkoc2NoZW1hQ29tcCk7XG5cdCAgICB9XG5cdCAgICBkZWNvbXByZXNzZWRbbmFtZV0gPSBjb21wcmVzc2VkW2ldO1xuXHQgIH1cblx0ICByZXR1cm4gZGVjb21wcmVzc2VkO1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDY1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBuYWYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KTtcblxuXHRBRlJBTUUucmVnaXN0ZXJDb21wb25lbnQoJ25ldHdvcmtlZC1hdWRpby1zb3VyY2UnLCB7XG5cdCAgc2NoZW1hOiB7XG5cdCAgICBwb3NpdGlvbmFsOiB7IGRlZmF1bHQ6IHRydWUgfSxcblx0ICAgIGRpc3RhbmNlTW9kZWw6IHtcblx0ICAgICAgZGVmYXVsdDogXCJpbnZlcnNlXCIsXG5cdCAgICAgIG9uZU9mOiBbXCJsaW5lYXJcIiwgXCJpbnZlcnNlXCIsIFwiZXhwb25lbnRpYWxcIl1cblx0ICAgIH0sXG5cdCAgICBtYXhEaXN0YW5jZTogeyBkZWZhdWx0OiAxMDAwMCB9LFxuXHQgICAgcmVmRGlzdGFuY2U6IHsgZGVmYXVsdDogMSB9LFxuXHQgICAgcm9sbG9mZkZhY3RvcjogeyBkZWZhdWx0OiAxIH1cblx0ICB9LFxuXG5cdCAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHtcblx0ICAgIHRoaXMubGlzdGVuZXIgPSBudWxsO1xuXHQgICAgdGhpcy5zdHJlYW0gPSBudWxsO1xuXG5cdCAgICB0aGlzLl9zZXRNZWRpYVN0cmVhbSA9IHRoaXMuX3NldE1lZGlhU3RyZWFtLmJpbmQodGhpcyk7XG5cblx0ICAgIHZhciBuZXR3b3JrZWRFbCA9IE5BRi51dGlscy5nZXROZXR3b3JrZWRFbnRpdHkodGhpcy5lbCk7XG5cdCAgICB2YXIgb3duZXJJZCA9IG5ldHdvcmtlZEVsICYmIG5ldHdvcmtlZEVsLmNvbXBvbmVudHMubmV0d29ya2VkLmRhdGEub3duZXI7XG5cdCAgICBpZiAob3duZXJJZCkge1xuXHQgICAgICBOQUYuY29ubmVjdGlvbi5hZGFwdGVyLmdldE1lZGlhU3RyZWFtKG93bmVySWQpLnRoZW4odGhpcy5fc2V0TWVkaWFTdHJlYW0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgcmV0dXJuIG5hZi5sb2cuZXJyb3IoJ0Vycm9yIGdldHRpbmcgbWVkaWEgc3RyZWFtIGZvciAnICsgb3duZXJJZCwgZSk7XG5cdCAgICAgIH0pO1xuXHQgICAgfSBlbHNlIGlmIChvd25lcklkID09PSAnJykge1xuXHQgICAgICAvLyBDb3JyZWN0bHkgY29uZmlndXJlZCBsb2NhbCBlbnRpdHksIHBlcmhhcHMgZG8gc29tZXRoaW5nIGhlcmUgZm9yIGVuYWJsaW5nIGRlYnVnIGF1ZGlvIGxvb3BiYWNrXG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBuYWYubG9nLmVycm9yKCdbbmV0d29ya2VkLWF1ZGlvLXNvdXJjZV0gbXVzdCBiZSBhZGRlZCBvbiBhbiBlbnRpdHksIG9yIGEgY2hpbGQgb2YgYW4gZW50aXR5LCB3aXRoIHRoZSBbbmV0d29ya2VkXSBjb21wb25lbnQuJyk7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkge1xuXHQgICAgdGhpcy5fc2V0UGFubmVyUHJvcGVydGllcygpO1xuXHQgIH0sXG5cdCAgX3NldE1lZGlhU3RyZWFtOiBmdW5jdGlvbiBfc2V0TWVkaWFTdHJlYW0obmV3U3RyZWFtKSB7XG5cdCAgICBpZiAoIXRoaXMuc291bmQpIHtcblx0ICAgICAgdGhpcy5zZXR1cFNvdW5kKCk7XG5cdCAgICB9XG5cblx0ICAgIGlmIChuZXdTdHJlYW0gIT0gdGhpcy5zdHJlYW0pIHtcblx0ICAgICAgaWYgKHRoaXMuc3RyZWFtKSB7XG5cdCAgICAgICAgdGhpcy5zb3VuZC5kaXNjb25uZWN0KCk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKG5ld1N0cmVhbSkge1xuXHQgICAgICAgIC8vIENocm9tZSBzZWVtcyB0byByZXF1aXJlIGEgTWVkaWFTdHJlYW0gYmUgYXR0YWNoZWQgdG8gYW4gQXVkaW9FbGVtZW50IGJlZm9yZSBBdWRpb05vZGVzIHdvcmsgY29ycmVjdGx5XG5cdCAgICAgICAgdGhpcy5hdWRpb0VsID0gbmV3IEF1ZGlvKCk7XG5cdCAgICAgICAgdGhpcy5hdWRpb0VsLnNldEF0dHJpYnV0ZShcImF1dG9wbGF5XCIsIFwiYXV0b3BsYXlcIik7XG5cdCAgICAgICAgdGhpcy5hdWRpb0VsLnNldEF0dHJpYnV0ZShcInBsYXlzaW5saW5lXCIsIFwicGxheXNpbmxpbmVcIik7XG5cdCAgICAgICAgdGhpcy5hdWRpb0VsLnNyY09iamVjdCA9IG5ld1N0cmVhbTtcblx0ICAgICAgICB0aGlzLmF1ZGlvRWwudm9sdW1lID0gMDsgLy8gd2UgZG9uJ3QgYWN0dWFsbHkgd2FudCB0byBoZWFyIGF1ZGlvIGZyb20gdGhpcyBlbGVtZW50XG5cblx0ICAgICAgICB0aGlzLnNvdW5kLnNldE5vZGVTb3VyY2UodGhpcy5zb3VuZC5jb250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKG5ld1N0cmVhbSkpO1xuXHQgICAgICB9XG5cdCAgICAgIHRoaXMuc3RyZWFtID0gbmV3U3RyZWFtO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgX3NldFBhbm5lclByb3BlcnRpZXM6IGZ1bmN0aW9uIF9zZXRQYW5uZXJQcm9wZXJ0aWVzKCkge1xuXHQgICAgaWYgKHRoaXMuc291bmQgJiYgdGhpcy5kYXRhLnBvc2l0aW9uYWwpIHtcblx0ICAgICAgdGhpcy5zb3VuZC5zZXREaXN0YW5jZU1vZGVsKHRoaXMuZGF0YS5kaXN0YW5jZU1vZGVsKTtcblx0ICAgICAgdGhpcy5zb3VuZC5zZXRNYXhEaXN0YW5jZSh0aGlzLmRhdGEubWF4RGlzdGFuY2UpO1xuXHQgICAgICB0aGlzLnNvdW5kLnNldFJlZkRpc3RhbmNlKHRoaXMuZGF0YS5yZWZEaXN0YW5jZSk7XG5cdCAgICAgIHRoaXMuc291bmQuc2V0Um9sbG9mZkZhY3Rvcih0aGlzLmRhdGEucm9sbG9mZkZhY3Rvcik7XG5cdCAgICB9XG5cdCAgfSxcblxuXG5cdCAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG5cdCAgICBpZiAoIXRoaXMuc291bmQpIHJldHVybjtcblxuXHQgICAgdGhpcy5lbC5yZW1vdmVPYmplY3QzRCh0aGlzLmF0dHJOYW1lKTtcblx0ICAgIGlmICh0aGlzLnN0cmVhbSkge1xuXHQgICAgICB0aGlzLnNvdW5kLmRpc2Nvbm5lY3QoKTtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgc2V0dXBTb3VuZDogZnVuY3Rpb24gc2V0dXBTb3VuZCgpIHtcblx0ICAgIHZhciBlbCA9IHRoaXMuZWw7XG5cdCAgICB2YXIgc2NlbmVFbCA9IGVsLnNjZW5lRWw7XG5cblx0ICAgIGlmICh0aGlzLnNvdW5kKSB7XG5cdCAgICAgIGVsLnJlbW92ZU9iamVjdDNEKHRoaXMuYXR0ck5hbWUpO1xuXHQgICAgfVxuXG5cdCAgICBpZiAoIXNjZW5lRWwuYXVkaW9MaXN0ZW5lcikge1xuXHQgICAgICBzY2VuZUVsLmF1ZGlvTGlzdGVuZXIgPSBuZXcgVEhSRUUuQXVkaW9MaXN0ZW5lcigpO1xuXHQgICAgICBzY2VuZUVsLmNhbWVyYSAmJiBzY2VuZUVsLmNhbWVyYS5hZGQoc2NlbmVFbC5hdWRpb0xpc3RlbmVyKTtcblx0ICAgICAgc2NlbmVFbC5hZGRFdmVudExpc3RlbmVyKCdjYW1lcmEtc2V0LWFjdGl2ZScsIGZ1bmN0aW9uIChldnQpIHtcblx0ICAgICAgICBldnQuZGV0YWlsLmNhbWVyYUVsLmdldE9iamVjdDNEKCdjYW1lcmEnKS5hZGQoc2NlbmVFbC5hdWRpb0xpc3RlbmVyKTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgICB0aGlzLmxpc3RlbmVyID0gc2NlbmVFbC5hdWRpb0xpc3RlbmVyO1xuXG5cdCAgICB0aGlzLnNvdW5kID0gdGhpcy5kYXRhLnBvc2l0aW9uYWwgPyBuZXcgVEhSRUUuUG9zaXRpb25hbEF1ZGlvKHRoaXMubGlzdGVuZXIpIDogbmV3IFRIUkVFLkF1ZGlvKHRoaXMubGlzdGVuZXIpO1xuXHQgICAgZWwuc2V0T2JqZWN0M0QodGhpcy5hdHRyTmFtZSwgdGhpcy5zb3VuZCk7XG5cdCAgICB0aGlzLl9zZXRQYW5uZXJQcm9wZXJ0aWVzKCk7XG5cdCAgfVxuXHR9KTtcblxuLyoqKi8gfSlcbi8qKioqKiovIF0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9uZXR3b3JrZWQtYWZyYW1lL2Rpc3QvbmV0d29ya2VkLWFmcmFtZS5qc1xuLy8gbW9kdWxlIGlkID0gMTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIG1hcCA9IHtcblx0XCIuL2FkZGl0aXZlLmpzXCI6IDE2LFxuXHRcIi4vZGVidWctY29udHJvbGxlci5qc1wiOiAxNyxcblx0XCIuL2RlYnVnLWN1cnNvci5qc1wiOiAxOCxcblx0XCIuL2VnZ3MvYW5pbWF0ZWQtc3VuLmpzXCI6IDE5LFxuXHRcIi4vZWdncy9jcm9tdWxvbi5qc1wiOiAyMCxcblx0XCIuL2VnZ3MvZGFsZWsuanNcIjogMjEsXG5cdFwiLi9lZ2dzL21lY2hhZ29kemlsbGEuanNcIjogMjIsXG5cdFwiLi9lZ2dzL3JhbmRvbS1jb2xvci1lbnZpcm9ubWVudC5qc1wiOiAyMyxcblx0XCIuL2VnZ3Mvc2hpZnRpbmctY29sb3JzLmpzXCI6IDI0LFxuXHRcIi4vZWdncy9zb2xpZHNuYWtlLmpzXCI6IDI1LFxuXHRcIi4vZWdncy91cHNpZGVkb3duLmpzXCI6IDI2LFxuXHRcIi4vZWdncy93YXliYWNrLW1hY2hpbmUuanNcIjogMjcsXG5cdFwiLi9lbnZpcm9ubWVudC5qc1wiOiAyOCxcblx0XCIuL2hpbnQuanNcIjogMjksXG5cdFwiLi9pdGVtLmpzXCI6IDMwLFxuXHRcIi4vb2FzaXMtYXVkaW8uanNcIjogMzEsXG5cdFwiLi9vYXNpcy1wb3J0YWwuanNcIjogMzIsXG5cdFwiLi9wbGF5LWF1ZGlvLmpzXCI6IDMzLFxuXHRcIi4vcmF5Y2FzdGFibGUuanNcIjogMzQsXG5cdFwiLi9zdWItb2JqZWN0LmpzXCI6IDM1LFxuXHRcIi4vdGVsZXBvcnQtbGlzdGVuZXIuanNcIjogMzYsXG5cdFwiLi90ZWxlcG9ydC1yZWZyZXNoLmpzXCI6IDM3LFxuXHRcIi4vdG91Y2guanNcIjogMzgsXG5cdFwiLi90b3VjaGFibGUuanNcIjogMzlcbn07XG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dChyZXEpIHtcblx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18od2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSkpO1xufTtcbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpIHtcblx0dmFyIGlkID0gbWFwW3JlcV07XG5cdGlmKCEoaWQgKyAxKSkgLy8gY2hlY2sgZm9yIG51bWJlciBvciBzdHJpbmdcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInLlwiKTtcblx0cmV0dXJuIGlkO1xufTtcbndlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xufTtcbndlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tDb250ZXh0O1xud2VicGFja0NvbnRleHQuaWQgPSAxMTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9jb21wb25lbnRzIFxcLmpzJFxuLy8gbW9kdWxlIGlkID0gMTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLypcbiAyMDE3IEp1bGlhbiBHYXJuaWVyXG4gUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4qL1xudmFyICRqc2NvbXA9e3Njb3BlOnt9fTskanNjb21wLmRlZmluZVByb3BlcnR5PVwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbihlLHIscCl7aWYocC5nZXR8fHAuc2V0KXRocm93IG5ldyBUeXBlRXJyb3IoXCJFUzMgZG9lcyBub3Qgc3VwcG9ydCBnZXR0ZXJzIGFuZCBzZXR0ZXJzLlwiKTtlIT1BcnJheS5wcm90b3R5cGUmJmUhPU9iamVjdC5wcm90b3R5cGUmJihlW3JdPXAudmFsdWUpfTskanNjb21wLmdldEdsb2JhbD1mdW5jdGlvbihlKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3c9PT1lP2U6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbCYmbnVsbCE9Z2xvYmFsP2dsb2JhbDplfTskanNjb21wLmdsb2JhbD0kanNjb21wLmdldEdsb2JhbCh0aGlzKTskanNjb21wLlNZTUJPTF9QUkVGSVg9XCJqc2NvbXBfc3ltYm9sX1wiO1xuJGpzY29tcC5pbml0U3ltYm9sPWZ1bmN0aW9uKCl7JGpzY29tcC5pbml0U3ltYm9sPWZ1bmN0aW9uKCl7fTskanNjb21wLmdsb2JhbC5TeW1ib2x8fCgkanNjb21wLmdsb2JhbC5TeW1ib2w9JGpzY29tcC5TeW1ib2wpfTskanNjb21wLnN5bWJvbENvdW50ZXJfPTA7JGpzY29tcC5TeW1ib2w9ZnVuY3Rpb24oZSl7cmV0dXJuICRqc2NvbXAuU1lNQk9MX1BSRUZJWCsoZXx8XCJcIikrJGpzY29tcC5zeW1ib2xDb3VudGVyXysrfTtcbiRqc2NvbXAuaW5pdFN5bWJvbEl0ZXJhdG9yPWZ1bmN0aW9uKCl7JGpzY29tcC5pbml0U3ltYm9sKCk7dmFyIGU9JGpzY29tcC5nbG9iYWwuU3ltYm9sLml0ZXJhdG9yO2V8fChlPSRqc2NvbXAuZ2xvYmFsLlN5bWJvbC5pdGVyYXRvcj0kanNjb21wLmdsb2JhbC5TeW1ib2woXCJpdGVyYXRvclwiKSk7XCJmdW5jdGlvblwiIT10eXBlb2YgQXJyYXkucHJvdG90eXBlW2VdJiYkanNjb21wLmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSxlLHtjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gJGpzY29tcC5hcnJheUl0ZXJhdG9yKHRoaXMpfX0pOyRqc2NvbXAuaW5pdFN5bWJvbEl0ZXJhdG9yPWZ1bmN0aW9uKCl7fX07JGpzY29tcC5hcnJheUl0ZXJhdG9yPWZ1bmN0aW9uKGUpe3ZhciByPTA7cmV0dXJuICRqc2NvbXAuaXRlcmF0b3JQcm90b3R5cGUoZnVuY3Rpb24oKXtyZXR1cm4gcjxlLmxlbmd0aD97ZG9uZTohMSx2YWx1ZTplW3IrK119Ontkb25lOiEwfX0pfTtcbiRqc2NvbXAuaXRlcmF0b3JQcm90b3R5cGU9ZnVuY3Rpb24oZSl7JGpzY29tcC5pbml0U3ltYm9sSXRlcmF0b3IoKTtlPXtuZXh0OmV9O2VbJGpzY29tcC5nbG9iYWwuU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtyZXR1cm4gZX07JGpzY29tcC5hcnJheT0kanNjb21wLmFycmF5fHx7fTskanNjb21wLml0ZXJhdG9yRnJvbUFycmF5PWZ1bmN0aW9uKGUscil7JGpzY29tcC5pbml0U3ltYm9sSXRlcmF0b3IoKTtlIGluc3RhbmNlb2YgU3RyaW5nJiYoZSs9XCJcIik7dmFyIHA9MCxtPXtuZXh0OmZ1bmN0aW9uKCl7aWYocDxlLmxlbmd0aCl7dmFyIHU9cCsrO3JldHVybnt2YWx1ZTpyKHUsZVt1XSksZG9uZTohMX19bS5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJue2RvbmU6ITAsdmFsdWU6dm9pZCAwfX07cmV0dXJuIG0ubmV4dCgpfX07bVtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIG19O3JldHVybiBtfTtcbiRqc2NvbXAucG9seWZpbGw9ZnVuY3Rpb24oZSxyLHAsbSl7aWYocil7cD0kanNjb21wLmdsb2JhbDtlPWUuc3BsaXQoXCIuXCIpO2ZvcihtPTA7bTxlLmxlbmd0aC0xO20rKyl7dmFyIHU9ZVttXTt1IGluIHB8fChwW3VdPXt9KTtwPXBbdV19ZT1lW2UubGVuZ3RoLTFdO209cFtlXTtyPXIobSk7ciE9bSYmbnVsbCE9ciYmJGpzY29tcC5kZWZpbmVQcm9wZXJ0eShwLGUse2NvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpyfSl9fTskanNjb21wLnBvbHlmaWxsKFwiQXJyYXkucHJvdG90eXBlLmtleXNcIixmdW5jdGlvbihlKXtyZXR1cm4gZT9lOmZ1bmN0aW9uKCl7cmV0dXJuICRqc2NvbXAuaXRlcmF0b3JGcm9tQXJyYXkodGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gZX0pfX0sXCJlczYtaW1wbFwiLFwiZXMzXCIpO3ZhciAkanNjb21wJHRoaXM9dGhpcztcbihmdW5jdGlvbihlLHIpe1wiZnVuY3Rpb25cIj09PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLHIpOlwib2JqZWN0XCI9PT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1yKCk6ZS5hbmltZT1yKCl9KSh0aGlzLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShhKXtpZighaC5jb2woYSkpdHJ5e3JldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGEpfWNhdGNoKGMpe319ZnVuY3Rpb24gcihhLGMpe2Zvcih2YXIgZD1hLmxlbmd0aCxiPTI8PWFyZ3VtZW50cy5sZW5ndGg/YXJndW1lbnRzWzFdOnZvaWQgMCxmPVtdLG49MDtuPGQ7bisrKWlmKG4gaW4gYSl7dmFyIGs9YVtuXTtjLmNhbGwoYixrLG4sYSkmJmYucHVzaChrKX1yZXR1cm4gZn1mdW5jdGlvbiBwKGEpe3JldHVybiBhLnJlZHVjZShmdW5jdGlvbihhLGQpe3JldHVybiBhLmNvbmNhdChoLmFycihkKT9wKGQpOmQpfSxbXSl9ZnVuY3Rpb24gbShhKXtpZihoLmFycihhKSlyZXR1cm4gYTtcbmguc3RyKGEpJiYoYT1lKGEpfHxhKTtyZXR1cm4gYSBpbnN0YW5jZW9mIE5vZGVMaXN0fHxhIGluc3RhbmNlb2YgSFRNTENvbGxlY3Rpb24/W10uc2xpY2UuY2FsbChhKTpbYV19ZnVuY3Rpb24gdShhLGMpe3JldHVybiBhLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1jfSl9ZnVuY3Rpb24gQyhhKXt2YXIgYz17fSxkO2ZvcihkIGluIGEpY1tkXT1hW2RdO3JldHVybiBjfWZ1bmN0aW9uIEQoYSxjKXt2YXIgZD1DKGEpLGI7Zm9yKGIgaW4gYSlkW2JdPWMuaGFzT3duUHJvcGVydHkoYik/Y1tiXTphW2JdO3JldHVybiBkfWZ1bmN0aW9uIHooYSxjKXt2YXIgZD1DKGEpLGI7Zm9yKGIgaW4gYylkW2JdPWgudW5kKGFbYl0pP2NbYl06YVtiXTtyZXR1cm4gZH1mdW5jdGlvbiBUKGEpe2E9YS5yZXBsYWNlKC9eIz8oW2EtZlxcZF0pKFthLWZcXGRdKShbYS1mXFxkXSkkL2ksZnVuY3Rpb24oYSxjLGQsayl7cmV0dXJuIGMrYytkK2QraytrfSk7dmFyIGM9L14jPyhbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KSQvaS5leGVjKGEpO1xuYT1wYXJzZUludChjWzFdLDE2KTt2YXIgZD1wYXJzZUludChjWzJdLDE2KSxjPXBhcnNlSW50KGNbM10sMTYpO3JldHVyblwicmdiYShcIithK1wiLFwiK2QrXCIsXCIrYytcIiwxKVwifWZ1bmN0aW9uIFUoYSl7ZnVuY3Rpb24gYyhhLGMsYil7MD5iJiYoYis9MSk7MTxiJiYtLWI7cmV0dXJuIGI8MS82P2ErNiooYy1hKSpiOi41PmI/YzpiPDIvMz9hKyhjLWEpKigyLzMtYikqNjphfXZhciBkPS9oc2xcXCgoXFxkKyksXFxzKihbXFxkLl0rKSUsXFxzKihbXFxkLl0rKSVcXCkvZy5leGVjKGEpfHwvaHNsYVxcKChcXGQrKSxcXHMqKFtcXGQuXSspJSxcXHMqKFtcXGQuXSspJSxcXHMqKFtcXGQuXSspXFwpL2cuZXhlYyhhKTthPXBhcnNlSW50KGRbMV0pLzM2MDt2YXIgYj1wYXJzZUludChkWzJdKS8xMDAsZj1wYXJzZUludChkWzNdKS8xMDAsZD1kWzRdfHwxO2lmKDA9PWIpZj1iPWE9ZjtlbHNle3ZhciBuPS41PmY/ZiooMStiKTpmK2ItZipiLGs9MipmLW4sZj1jKGssbixhKzEvMyksYj1jKGssbixhKTthPWMoayxuLGEtMS8zKX1yZXR1cm5cInJnYmEoXCIrXG4yNTUqZitcIixcIisyNTUqYitcIixcIisyNTUqYStcIixcIitkK1wiKVwifWZ1bmN0aW9uIHkoYSl7aWYoYT0vKFtcXCtcXC1dP1swLTkjXFwuXSspKCV8cHh8cHR8ZW18cmVtfGlufGNtfG1tfGV4fGNofHBjfHZ3fHZofHZtaW58dm1heHxkZWd8cmFkfHR1cm4pPyQvLmV4ZWMoYSkpcmV0dXJuIGFbMl19ZnVuY3Rpb24gVihhKXtpZigtMTxhLmluZGV4T2YoXCJ0cmFuc2xhdGVcIil8fFwicGVyc3BlY3RpdmVcIj09PWEpcmV0dXJuXCJweFwiO2lmKC0xPGEuaW5kZXhPZihcInJvdGF0ZVwiKXx8LTE8YS5pbmRleE9mKFwic2tld1wiKSlyZXR1cm5cImRlZ1wifWZ1bmN0aW9uIEkoYSxjKXtyZXR1cm4gaC5mbmMoYSk/YShjLnRhcmdldCxjLmlkLGMudG90YWwpOmF9ZnVuY3Rpb24gRShhLGMpe2lmKGMgaW4gYS5zdHlsZSlyZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZShhKS5nZXRQcm9wZXJ0eVZhbHVlKGMucmVwbGFjZSgvKFthLXpdKShbQS1aXSkvZyxcIiQxLSQyXCIpLnRvTG93ZXJDYXNlKCkpfHxcIjBcIn1mdW5jdGlvbiBKKGEsYyl7aWYoaC5kb20oYSkmJlxudShXLGMpKXJldHVyblwidHJhbnNmb3JtXCI7aWYoaC5kb20oYSkmJihhLmdldEF0dHJpYnV0ZShjKXx8aC5zdmcoYSkmJmFbY10pKXJldHVyblwiYXR0cmlidXRlXCI7aWYoaC5kb20oYSkmJlwidHJhbnNmb3JtXCIhPT1jJiZFKGEsYykpcmV0dXJuXCJjc3NcIjtpZihudWxsIT1hW2NdKXJldHVyblwib2JqZWN0XCJ9ZnVuY3Rpb24gWChhLGMpe3ZhciBkPVYoYyksZD0tMTxjLmluZGV4T2YoXCJzY2FsZVwiKT8xOjArZDthPWEuc3R5bGUudHJhbnNmb3JtO2lmKCFhKXJldHVybiBkO2Zvcih2YXIgYj1bXSxmPVtdLG49W10saz0vKFxcdyspXFwoKC4rPylcXCkvZztiPWsuZXhlYyhhKTspZi5wdXNoKGJbMV0pLG4ucHVzaChiWzJdKTthPXIobixmdW5jdGlvbihhLGIpe3JldHVybiBmW2JdPT09Y30pO3JldHVybiBhLmxlbmd0aD9hWzBdOmR9ZnVuY3Rpb24gSyhhLGMpe3N3aXRjaChKKGEsYykpe2Nhc2UgXCJ0cmFuc2Zvcm1cIjpyZXR1cm4gWChhLGMpO2Nhc2UgXCJjc3NcIjpyZXR1cm4gRShhLGMpO2Nhc2UgXCJhdHRyaWJ1dGVcIjpyZXR1cm4gYS5nZXRBdHRyaWJ1dGUoYyl9cmV0dXJuIGFbY118fFxuMH1mdW5jdGlvbiBMKGEsYyl7dmFyIGQ9L14oXFwqPXxcXCs9fC09KS8uZXhlYyhhKTtpZighZClyZXR1cm4gYTt2YXIgYj15KGEpfHwwO2M9cGFyc2VGbG9hdChjKTthPXBhcnNlRmxvYXQoYS5yZXBsYWNlKGRbMF0sXCJcIikpO3N3aXRjaChkWzBdWzBdKXtjYXNlIFwiK1wiOnJldHVybiBjK2ErYjtjYXNlIFwiLVwiOnJldHVybiBjLWErYjtjYXNlIFwiKlwiOnJldHVybiBjKmErYn19ZnVuY3Rpb24gRihhLGMpe3JldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coYy54LWEueCwyKStNYXRoLnBvdyhjLnktYS55LDIpKX1mdW5jdGlvbiBNKGEpe2E9YS5wb2ludHM7Zm9yKHZhciBjPTAsZCxiPTA7YjxhLm51bWJlck9mSXRlbXM7YisrKXt2YXIgZj1hLmdldEl0ZW0oYik7MDxiJiYoYys9RihkLGYpKTtkPWZ9cmV0dXJuIGN9ZnVuY3Rpb24gTihhKXtpZihhLmdldFRvdGFsTGVuZ3RoKXJldHVybiBhLmdldFRvdGFsTGVuZ3RoKCk7c3dpdGNoKGEudGFnTmFtZS50b0xvd2VyQ2FzZSgpKXtjYXNlIFwiY2lyY2xlXCI6cmV0dXJuIDIqXG5NYXRoLlBJKmEuZ2V0QXR0cmlidXRlKFwiclwiKTtjYXNlIFwicmVjdFwiOnJldHVybiAyKmEuZ2V0QXR0cmlidXRlKFwid2lkdGhcIikrMiphLmdldEF0dHJpYnV0ZShcImhlaWdodFwiKTtjYXNlIFwibGluZVwiOnJldHVybiBGKHt4OmEuZ2V0QXR0cmlidXRlKFwieDFcIikseTphLmdldEF0dHJpYnV0ZShcInkxXCIpfSx7eDphLmdldEF0dHJpYnV0ZShcIngyXCIpLHk6YS5nZXRBdHRyaWJ1dGUoXCJ5MlwiKX0pO2Nhc2UgXCJwb2x5bGluZVwiOnJldHVybiBNKGEpO2Nhc2UgXCJwb2x5Z29uXCI6dmFyIGM9YS5wb2ludHM7cmV0dXJuIE0oYSkrRihjLmdldEl0ZW0oYy5udW1iZXJPZkl0ZW1zLTEpLGMuZ2V0SXRlbSgwKSl9fWZ1bmN0aW9uIFkoYSxjKXtmdW5jdGlvbiBkKGIpe2I9dm9pZCAwPT09Yj8wOmI7cmV0dXJuIGEuZWwuZ2V0UG9pbnRBdExlbmd0aCgxPD1jK2I/YytiOjApfXZhciBiPWQoKSxmPWQoLTEpLG49ZCgxKTtzd2l0Y2goYS5wcm9wZXJ0eSl7Y2FzZSBcInhcIjpyZXR1cm4gYi54O2Nhc2UgXCJ5XCI6cmV0dXJuIGIueTtcbmNhc2UgXCJhbmdsZVwiOnJldHVybiAxODAqTWF0aC5hdGFuMihuLnktZi55LG4ueC1mLngpL01hdGguUEl9fWZ1bmN0aW9uIE8oYSxjKXt2YXIgZD0vLT9cXGQqXFwuP1xcZCsvZyxiO2I9aC5wdGgoYSk/YS50b3RhbExlbmd0aDphO2lmKGguY29sKGIpKWlmKGgucmdiKGIpKXt2YXIgZj0vcmdiXFwoKFxcZCssXFxzKltcXGRdKyxcXHMqW1xcZF0rKVxcKS9nLmV4ZWMoYik7Yj1mP1wicmdiYShcIitmWzFdK1wiLDEpXCI6Yn1lbHNlIGI9aC5oZXgoYik/VChiKTpoLmhzbChiKT9VKGIpOnZvaWQgMDtlbHNlIGY9KGY9eShiKSk/Yi5zdWJzdHIoMCxiLmxlbmd0aC1mLmxlbmd0aCk6YixiPWMmJiEvXFxzL2cudGVzdChiKT9mK2M6ZjtiKz1cIlwiO3JldHVybntvcmlnaW5hbDpiLG51bWJlcnM6Yi5tYXRjaChkKT9iLm1hdGNoKGQpLm1hcChOdW1iZXIpOlswXSxzdHJpbmdzOmguc3RyKGEpfHxjP2Iuc3BsaXQoZCk6W119fWZ1bmN0aW9uIFAoYSl7YT1hP3AoaC5hcnIoYSk/YS5tYXAobSk6bShhKSk6W107cmV0dXJuIHIoYSxcbmZ1bmN0aW9uKGEsZCxiKXtyZXR1cm4gYi5pbmRleE9mKGEpPT09ZH0pfWZ1bmN0aW9uIFooYSl7dmFyIGM9UChhKTtyZXR1cm4gYy5tYXAoZnVuY3Rpb24oYSxiKXtyZXR1cm57dGFyZ2V0OmEsaWQ6Yix0b3RhbDpjLmxlbmd0aH19KX1mdW5jdGlvbiBhYShhLGMpe3ZhciBkPUMoYyk7aWYoaC5hcnIoYSkpe3ZhciBiPWEubGVuZ3RoOzIhPT1ifHxoLm9iaihhWzBdKT9oLmZuYyhjLmR1cmF0aW9uKXx8KGQuZHVyYXRpb249Yy5kdXJhdGlvbi9iKTphPXt2YWx1ZTphfX1yZXR1cm4gbShhKS5tYXAoZnVuY3Rpb24oYSxiKXtiPWI/MDpjLmRlbGF5O2E9aC5vYmooYSkmJiFoLnB0aChhKT9hOnt2YWx1ZTphfTtoLnVuZChhLmRlbGF5KSYmKGEuZGVsYXk9Yik7cmV0dXJuIGF9KS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIHooYSxkKX0pfWZ1bmN0aW9uIGJhKGEsYyl7dmFyIGQ9e30sYjtmb3IoYiBpbiBhKXt2YXIgZj1JKGFbYl0sYyk7aC5hcnIoZikmJihmPWYubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBJKGEsXG5jKX0pLDE9PT1mLmxlbmd0aCYmKGY9ZlswXSkpO2RbYl09Zn1kLmR1cmF0aW9uPXBhcnNlRmxvYXQoZC5kdXJhdGlvbik7ZC5kZWxheT1wYXJzZUZsb2F0KGQuZGVsYXkpO3JldHVybiBkfWZ1bmN0aW9uIGNhKGEpe3JldHVybiBoLmFycihhKT9BLmFwcGx5KHRoaXMsYSk6UVthXX1mdW5jdGlvbiBkYShhLGMpe3ZhciBkO3JldHVybiBhLnR3ZWVucy5tYXAoZnVuY3Rpb24oYil7Yj1iYShiLGMpO3ZhciBmPWIudmFsdWUsZT1LKGMudGFyZ2V0LGEubmFtZSksaz1kP2QudG8ub3JpZ2luYWw6ZSxrPWguYXJyKGYpP2ZbMF06ayx3PUwoaC5hcnIoZik/ZlsxXTpmLGspLGU9eSh3KXx8eShrKXx8eShlKTtiLmZyb209TyhrLGUpO2IudG89Tyh3LGUpO2Iuc3RhcnQ9ZD9kLmVuZDphLm9mZnNldDtiLmVuZD1iLnN0YXJ0K2IuZGVsYXkrYi5kdXJhdGlvbjtiLmVhc2luZz1jYShiLmVhc2luZyk7Yi5lbGFzdGljaXR5PSgxRTMtTWF0aC5taW4oTWF0aC5tYXgoYi5lbGFzdGljaXR5LDEpLDk5OSkpL1xuMUUzO2IuaXNQYXRoPWgucHRoKGYpO2IuaXNDb2xvcj1oLmNvbChiLmZyb20ub3JpZ2luYWwpO2IuaXNDb2xvciYmKGIucm91bmQ9MSk7cmV0dXJuIGQ9Yn0pfWZ1bmN0aW9uIGVhKGEsYyl7cmV0dXJuIHIocChhLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYy5tYXAoZnVuY3Rpb24oYil7dmFyIGM9SihhLnRhcmdldCxiLm5hbWUpO2lmKGMpe3ZhciBkPWRhKGIsYSk7Yj17dHlwZTpjLHByb3BlcnR5OmIubmFtZSxhbmltYXRhYmxlOmEsdHdlZW5zOmQsZHVyYXRpb246ZFtkLmxlbmd0aC0xXS5lbmQsZGVsYXk6ZFswXS5kZWxheX19ZWxzZSBiPXZvaWQgMDtyZXR1cm4gYn0pfSkpLGZ1bmN0aW9uKGEpe3JldHVybiFoLnVuZChhKX0pfWZ1bmN0aW9uIFIoYSxjLGQsYil7dmFyIGY9XCJkZWxheVwiPT09YTtyZXR1cm4gYy5sZW5ndGg/KGY/TWF0aC5taW46TWF0aC5tYXgpLmFwcGx5KE1hdGgsYy5tYXAoZnVuY3Rpb24oYil7cmV0dXJuIGJbYV19KSk6Zj9iLmRlbGF5OmQub2Zmc2V0K2IuZGVsYXkrXG5iLmR1cmF0aW9ufWZ1bmN0aW9uIGZhKGEpe3ZhciBjPUQoZ2EsYSksZD1EKFMsYSksYj1aKGEudGFyZ2V0cyksZj1bXSxlPXooYyxkKSxrO2ZvcihrIGluIGEpZS5oYXNPd25Qcm9wZXJ0eShrKXx8XCJ0YXJnZXRzXCI9PT1rfHxmLnB1c2goe25hbWU6ayxvZmZzZXQ6ZS5vZmZzZXQsdHdlZW5zOmFhKGFba10sZCl9KTthPWVhKGIsZik7cmV0dXJuIHooYyx7Y2hpbGRyZW46W10sYW5pbWF0YWJsZXM6YixhbmltYXRpb25zOmEsZHVyYXRpb246UihcImR1cmF0aW9uXCIsYSxjLGQpLGRlbGF5OlIoXCJkZWxheVwiLGEsYyxkKX0pfWZ1bmN0aW9uIHEoYSl7ZnVuY3Rpb24gYygpe3JldHVybiB3aW5kb3cuUHJvbWlzZSYmbmV3IFByb21pc2UoZnVuY3Rpb24oYSl7cmV0dXJuIHA9YX0pfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIGcucmV2ZXJzZWQ/Zy5kdXJhdGlvbi1hOmF9ZnVuY3Rpb24gYihhKXtmb3IodmFyIGI9MCxjPXt9LGQ9Zy5hbmltYXRpb25zLGY9ZC5sZW5ndGg7YjxmOyl7dmFyIGU9ZFtiXSxcbms9ZS5hbmltYXRhYmxlLGg9ZS50d2VlbnMsbj1oLmxlbmd0aC0xLGw9aFtuXTtuJiYobD1yKGgsZnVuY3Rpb24oYil7cmV0dXJuIGE8Yi5lbmR9KVswXXx8bCk7Zm9yKHZhciBoPU1hdGgubWluKE1hdGgubWF4KGEtbC5zdGFydC1sLmRlbGF5LDApLGwuZHVyYXRpb24pL2wuZHVyYXRpb24sdz1pc05hTihoKT8xOmwuZWFzaW5nKGgsbC5lbGFzdGljaXR5KSxoPWwudG8uc3RyaW5ncyxwPWwucm91bmQsbj1bXSxtPXZvaWQgMCxtPWwudG8ubnVtYmVycy5sZW5ndGgsdD0wO3Q8bTt0Kyspe3ZhciB4PXZvaWQgMCx4PWwudG8ubnVtYmVyc1t0XSxxPWwuZnJvbS5udW1iZXJzW3RdLHg9bC5pc1BhdGg/WShsLnZhbHVlLHcqeCk6cSt3Kih4LXEpO3AmJihsLmlzQ29sb3ImJjI8dHx8KHg9TWF0aC5yb3VuZCh4KnApL3ApKTtuLnB1c2goeCl9aWYobD1oLmxlbmd0aClmb3IobT1oWzBdLHc9MDt3PGw7dysrKXA9aFt3KzFdLHQ9blt3XSxpc05hTih0KXx8KG09cD9tKyh0K3ApOm0rKHQrXCIgXCIpKTtcbmVsc2UgbT1uWzBdO2hhW2UudHlwZV0oay50YXJnZXQsZS5wcm9wZXJ0eSxtLGMsay5pZCk7ZS5jdXJyZW50VmFsdWU9bTtiKyt9aWYoYj1PYmplY3Qua2V5cyhjKS5sZW5ndGgpZm9yKGQ9MDtkPGI7ZCsrKUh8fChIPUUoZG9jdW1lbnQuYm9keSxcInRyYW5zZm9ybVwiKT9cInRyYW5zZm9ybVwiOlwiLXdlYmtpdC10cmFuc2Zvcm1cIiksZy5hbmltYXRhYmxlc1tkXS50YXJnZXQuc3R5bGVbSF09Y1tkXS5qb2luKFwiIFwiKTtnLmN1cnJlbnRUaW1lPWE7Zy5wcm9ncmVzcz1hL2cuZHVyYXRpb24qMTAwfWZ1bmN0aW9uIGYoYSl7aWYoZ1thXSlnW2FdKGcpfWZ1bmN0aW9uIGUoKXtnLnJlbWFpbmluZyYmITAhPT1nLnJlbWFpbmluZyYmZy5yZW1haW5pbmctLX1mdW5jdGlvbiBrKGEpe3ZhciBrPWcuZHVyYXRpb24sbj1nLm9mZnNldCx3PW4rZy5kZWxheSxyPWcuY3VycmVudFRpbWUseD1nLnJldmVyc2VkLHE9ZChhKTtpZihnLmNoaWxkcmVuLmxlbmd0aCl7dmFyIHU9Zy5jaGlsZHJlbix2PXUubGVuZ3RoO1xuaWYocT49Zy5jdXJyZW50VGltZSlmb3IodmFyIEc9MDtHPHY7RysrKXVbR10uc2VlayhxKTtlbHNlIGZvcig7di0tOyl1W3ZdLnNlZWsocSl9aWYocT49d3x8IWspZy5iZWdhbnx8KGcuYmVnYW49ITAsZihcImJlZ2luXCIpKSxmKFwicnVuXCIpO2lmKHE+biYmcTxrKWIocSk7ZWxzZSBpZihxPD1uJiYwIT09ciYmKGIoMCkseCYmZSgpKSxxPj1rJiZyIT09a3x8IWspYihrKSx4fHxlKCk7ZihcInVwZGF0ZVwiKTthPj1rJiYoZy5yZW1haW5pbmc/KHQ9aCxcImFsdGVybmF0ZVwiPT09Zy5kaXJlY3Rpb24mJihnLnJldmVyc2VkPSFnLnJldmVyc2VkKSk6KGcucGF1c2UoKSxnLmNvbXBsZXRlZHx8KGcuY29tcGxldGVkPSEwLGYoXCJjb21wbGV0ZVwiKSxcIlByb21pc2VcImluIHdpbmRvdyYmKHAoKSxtPWMoKSkpKSxsPTApfWE9dm9pZCAwPT09YT97fTphO3ZhciBoLHQsbD0wLHA9bnVsbCxtPWMoKSxnPWZhKGEpO2cucmVzZXQ9ZnVuY3Rpb24oKXt2YXIgYT1nLmRpcmVjdGlvbixjPWcubG9vcDtnLmN1cnJlbnRUaW1lPVxuMDtnLnByb2dyZXNzPTA7Zy5wYXVzZWQ9ITA7Zy5iZWdhbj0hMTtnLmNvbXBsZXRlZD0hMTtnLnJldmVyc2VkPVwicmV2ZXJzZVwiPT09YTtnLnJlbWFpbmluZz1cImFsdGVybmF0ZVwiPT09YSYmMT09PWM/MjpjO2IoMCk7Zm9yKGE9Zy5jaGlsZHJlbi5sZW5ndGg7YS0tOylnLmNoaWxkcmVuW2FdLnJlc2V0KCl9O2cudGljaz1mdW5jdGlvbihhKXtoPWE7dHx8KHQ9aCk7aygobCtoLXQpKnEuc3BlZWQpfTtnLnNlZWs9ZnVuY3Rpb24oYSl7ayhkKGEpKX07Zy5wYXVzZT1mdW5jdGlvbigpe3ZhciBhPXYuaW5kZXhPZihnKTstMTxhJiZ2LnNwbGljZShhLDEpO2cucGF1c2VkPSEwfTtnLnBsYXk9ZnVuY3Rpb24oKXtnLnBhdXNlZCYmKGcucGF1c2VkPSExLHQ9MCxsPWQoZy5jdXJyZW50VGltZSksdi5wdXNoKGcpLEJ8fGlhKCkpfTtnLnJldmVyc2U9ZnVuY3Rpb24oKXtnLnJldmVyc2VkPSFnLnJldmVyc2VkO3Q9MDtsPWQoZy5jdXJyZW50VGltZSl9O2cucmVzdGFydD1mdW5jdGlvbigpe2cucGF1c2UoKTtcbmcucmVzZXQoKTtnLnBsYXkoKX07Zy5maW5pc2hlZD1tO2cucmVzZXQoKTtnLmF1dG9wbGF5JiZnLnBsYXkoKTtyZXR1cm4gZ312YXIgZ2E9e3VwZGF0ZTp2b2lkIDAsYmVnaW46dm9pZCAwLHJ1bjp2b2lkIDAsY29tcGxldGU6dm9pZCAwLGxvb3A6MSxkaXJlY3Rpb246XCJub3JtYWxcIixhdXRvcGxheTohMCxvZmZzZXQ6MH0sUz17ZHVyYXRpb246MUUzLGRlbGF5OjAsZWFzaW5nOlwiZWFzZU91dEVsYXN0aWNcIixlbGFzdGljaXR5OjUwMCxyb3VuZDowfSxXPVwidHJhbnNsYXRlWCB0cmFuc2xhdGVZIHRyYW5zbGF0ZVogcm90YXRlIHJvdGF0ZVggcm90YXRlWSByb3RhdGVaIHNjYWxlIHNjYWxlWCBzY2FsZVkgc2NhbGVaIHNrZXdYIHNrZXdZIHBlcnNwZWN0aXZlXCIuc3BsaXQoXCIgXCIpLEgsaD17YXJyOmZ1bmN0aW9uKGEpe3JldHVybiBBcnJheS5pc0FycmF5KGEpfSxvYmo6ZnVuY3Rpb24oYSl7cmV0dXJuLTE8T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpLmluZGV4T2YoXCJPYmplY3RcIil9LFxucHRoOmZ1bmN0aW9uKGEpe3JldHVybiBoLm9iaihhKSYmYS5oYXNPd25Qcm9wZXJ0eShcInRvdGFsTGVuZ3RoXCIpfSxzdmc6ZnVuY3Rpb24oYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBTVkdFbGVtZW50fSxkb206ZnVuY3Rpb24oYSl7cmV0dXJuIGEubm9kZVR5cGV8fGguc3ZnKGEpfSxzdHI6ZnVuY3Rpb24oYSl7cmV0dXJuXCJzdHJpbmdcIj09PXR5cGVvZiBhfSxmbmM6ZnVuY3Rpb24oYSl7cmV0dXJuXCJmdW5jdGlvblwiPT09dHlwZW9mIGF9LHVuZDpmdW5jdGlvbihhKXtyZXR1cm5cInVuZGVmaW5lZFwiPT09dHlwZW9mIGF9LGhleDpmdW5jdGlvbihhKXtyZXR1cm4vKF4jWzAtOUEtRl17Nn0kKXwoXiNbMC05QS1GXXszfSQpL2kudGVzdChhKX0scmdiOmZ1bmN0aW9uKGEpe3JldHVybi9ecmdiLy50ZXN0KGEpfSxoc2w6ZnVuY3Rpb24oYSl7cmV0dXJuL15oc2wvLnRlc3QoYSl9LGNvbDpmdW5jdGlvbihhKXtyZXR1cm4gaC5oZXgoYSl8fGgucmdiKGEpfHxoLmhzbChhKX19LEE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsXG5kLGIpe3JldHVybigoKDEtMypiKzMqZCkqYSsoMypiLTYqZCkpKmErMypkKSphfXJldHVybiBmdW5jdGlvbihjLGQsYixmKXtpZigwPD1jJiYxPj1jJiYwPD1iJiYxPj1iKXt2YXIgZT1uZXcgRmxvYXQzMkFycmF5KDExKTtpZihjIT09ZHx8YiE9PWYpZm9yKHZhciBrPTA7MTE+azsrK2spZVtrXT1hKC4xKmssYyxiKTtyZXR1cm4gZnVuY3Rpb24oayl7aWYoYz09PWQmJmI9PT1mKXJldHVybiBrO2lmKDA9PT1rKXJldHVybiAwO2lmKDE9PT1rKXJldHVybiAxO2Zvcih2YXIgaD0wLGw9MTsxMCE9PWwmJmVbbF08PWs7KytsKWgrPS4xOy0tbDt2YXIgbD1oKyhrLWVbbF0pLyhlW2wrMV0tZVtsXSkqLjEsbj0zKigxLTMqYiszKmMpKmwqbCsyKigzKmItNipjKSpsKzMqYztpZiguMDAxPD1uKXtmb3IoaD0wOzQ+aDsrK2gpe249MyooMS0zKmIrMypjKSpsKmwrMiooMypiLTYqYykqbCszKmM7aWYoMD09PW4pYnJlYWs7dmFyIG09YShsLGMsYiktayxsPWwtbS9ufWs9bH1lbHNlIGlmKDA9PT1cbm4paz1sO2Vsc2V7dmFyIGw9aCxoPWgrLjEsZz0wO2RvIG09bCsoaC1sKS8yLG49YShtLGMsYiktaywwPG4/aD1tOmw9bTt3aGlsZSgxZS03PE1hdGguYWJzKG4pJiYxMD4rK2cpO2s9bX1yZXR1cm4gYShrLGQsZil9fX19KCksUT1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiKXtyZXR1cm4gMD09PWF8fDE9PT1hP2E6LU1hdGgucG93KDIsMTAqKGEtMSkpKk1hdGguc2luKDIqKGEtMS1iLygyKk1hdGguUEkpKk1hdGguYXNpbigxKSkqTWF0aC5QSS9iKX12YXIgYz1cIlF1YWQgQ3ViaWMgUXVhcnQgUXVpbnQgU2luZSBFeHBvIENpcmMgQmFjayBFbGFzdGljXCIuc3BsaXQoXCIgXCIpLGQ9e0luOltbLjU1LC4wODUsLjY4LC41M10sWy41NSwuMDU1LC42NzUsLjE5XSxbLjg5NSwuMDMsLjY4NSwuMjJdLFsuNzU1LC4wNSwuODU1LC4wNl0sWy40NywwLC43NDUsLjcxNV0sWy45NSwuMDUsLjc5NSwuMDM1XSxbLjYsLjA0LC45OCwuMzM1XSxbLjYsLS4yOCwuNzM1LC4wNDVdLGFdLE91dDpbWy4yNSxcbi40NiwuNDUsLjk0XSxbLjIxNSwuNjEsLjM1NSwxXSxbLjE2NSwuODQsLjQ0LDFdLFsuMjMsMSwuMzIsMV0sWy4zOSwuNTc1LC41NjUsMV0sWy4xOSwxLC4yMiwxXSxbLjA3NSwuODIsLjE2NSwxXSxbLjE3NSwuODg1LC4zMiwxLjI3NV0sZnVuY3Rpb24oYixjKXtyZXR1cm4gMS1hKDEtYixjKX1dLEluT3V0OltbLjQ1NSwuMDMsLjUxNSwuOTU1XSxbLjY0NSwuMDQ1LC4zNTUsMV0sWy43NywwLC4xNzUsMV0sWy44NiwwLC4wNywxXSxbLjQ0NSwuMDUsLjU1LC45NV0sWzEsMCwwLDFdLFsuNzg1LC4xMzUsLjE1LC44Nl0sWy42OCwtLjU1LC4yNjUsMS41NV0sZnVuY3Rpb24oYixjKXtyZXR1cm4uNT5iP2EoMipiLGMpLzI6MS1hKC0yKmIrMixjKS8yfV19LGI9e2xpbmVhcjpBKC4yNSwuMjUsLjc1LC43NSl9LGY9e30sZTtmb3IoZSBpbiBkKWYudHlwZT1lLGRbZi50eXBlXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihkLGYpe2JbXCJlYXNlXCIrYS50eXBlK2NbZl1dPWguZm5jKGQpP1xuZDpBLmFwcGx5KCRqc2NvbXAkdGhpcyxkKX19KGYpKSxmPXt0eXBlOmYudHlwZX07cmV0dXJuIGJ9KCksaGE9e2NzczpmdW5jdGlvbihhLGMsZCl7cmV0dXJuIGEuc3R5bGVbY109ZH0sYXR0cmlidXRlOmZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gYS5zZXRBdHRyaWJ1dGUoYyxkKX0sb2JqZWN0OmZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gYVtjXT1kfSx0cmFuc2Zvcm06ZnVuY3Rpb24oYSxjLGQsYixmKXtiW2ZdfHwoYltmXT1bXSk7YltmXS5wdXNoKGMrXCIoXCIrZCtcIilcIil9fSx2PVtdLEI9MCxpYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtCPXJlcXVlc3RBbmltYXRpb25GcmFtZShjKX1mdW5jdGlvbiBjKGMpe3ZhciBiPXYubGVuZ3RoO2lmKGIpe2Zvcih2YXIgZD0wO2Q8YjspdltkXSYmdltkXS50aWNrKGMpLGQrKzthKCl9ZWxzZSBjYW5jZWxBbmltYXRpb25GcmFtZShCKSxCPTB9cmV0dXJuIGF9KCk7cS52ZXJzaW9uPVwiMi4yLjBcIjtxLnNwZWVkPTE7cS5ydW5uaW5nPXY7cS5yZW1vdmU9XG5mdW5jdGlvbihhKXthPVAoYSk7Zm9yKHZhciBjPXYubGVuZ3RoO2MtLTspZm9yKHZhciBkPXZbY10sYj1kLmFuaW1hdGlvbnMsZj1iLmxlbmd0aDtmLS07KXUoYSxiW2ZdLmFuaW1hdGFibGUudGFyZ2V0KSYmKGIuc3BsaWNlKGYsMSksYi5sZW5ndGh8fGQucGF1c2UoKSl9O3EuZ2V0VmFsdWU9SztxLnBhdGg9ZnVuY3Rpb24oYSxjKXt2YXIgZD1oLnN0cihhKT9lKGEpWzBdOmEsYj1jfHwxMDA7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybntlbDpkLHByb3BlcnR5OmEsdG90YWxMZW5ndGg6TihkKSooYi8xMDApfX19O3Euc2V0RGFzaG9mZnNldD1mdW5jdGlvbihhKXt2YXIgYz1OKGEpO2Euc2V0QXR0cmlidXRlKFwic3Ryb2tlLWRhc2hhcnJheVwiLGMpO3JldHVybiBjfTtxLmJlemllcj1BO3EuZWFzaW5ncz1RO3EudGltZWxpbmU9ZnVuY3Rpb24oYSl7dmFyIGM9cShhKTtjLnBhdXNlKCk7Yy5kdXJhdGlvbj0wO2MuYWRkPWZ1bmN0aW9uKGQpe2MuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbihhKXthLmJlZ2FuPVxuITA7YS5jb21wbGV0ZWQ9ITB9KTttKGQpLmZvckVhY2goZnVuY3Rpb24oYil7dmFyIGQ9eihiLEQoUyxhfHx7fSkpO2QudGFyZ2V0cz1kLnRhcmdldHN8fGEudGFyZ2V0cztiPWMuZHVyYXRpb247dmFyIGU9ZC5vZmZzZXQ7ZC5hdXRvcGxheT0hMTtkLmRpcmVjdGlvbj1jLmRpcmVjdGlvbjtkLm9mZnNldD1oLnVuZChlKT9iOkwoZSxiKTtjLmJlZ2FuPSEwO2MuY29tcGxldGVkPSEwO2Muc2VlayhkLm9mZnNldCk7ZD1xKGQpO2QuYmVnYW49ITA7ZC5jb21wbGV0ZWQ9ITA7ZC5kdXJhdGlvbj5iJiYoYy5kdXJhdGlvbj1kLmR1cmF0aW9uKTtjLmNoaWxkcmVuLnB1c2goZCl9KTtjLnNlZWsoMCk7Yy5yZXNldCgpO2MuYXV0b3BsYXkmJmMucmVzdGFydCgpO3JldHVybiBjfTtyZXR1cm4gY307cS5yYW5kb209ZnVuY3Rpb24oYSxjKXtyZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKihjLWErMSkpK2F9O3JldHVybiBxfSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2FuaW1lanMvYW5pbWUubWluLmpzXG4vLyBtb2R1bGUgaWQgPSAxMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKiBnbG9iYWwgVEhSRUUgKi9cbi8vIFBhcmFib2xpYyBtb3Rpb24gZXF1YXRpb24sIHkgPSBwMCArIHYwKnQgKyAxLzJhdF4yXG5mdW5jdGlvbiBwYXJhYm9saWNDdXJ2ZVNjYWxhciAocDAsIHYwLCBhLCB0KSB7XG4gIHJldHVybiBwMCArIHYwICogdCArIDAuNSAqIGEgKiB0ICogdDtcbn1cblxuLy8gUGFyYWJvbGljIG1vdGlvbiBlcXVhdGlvbiBhcHBsaWVkIHRvIDMgZGltZW5zaW9uc1xuZnVuY3Rpb24gcGFyYWJvbGljQ3VydmUgKHAwLCB2MCwgYSwgdCwgb3V0KSB7XG4gIG91dC54ID0gcGFyYWJvbGljQ3VydmVTY2FsYXIocDAueCwgdjAueCwgYS54LCB0KTtcbiAgb3V0LnkgPSBwYXJhYm9saWNDdXJ2ZVNjYWxhcihwMC55LCB2MC55LCBhLnksIHQpO1xuICBvdXQueiA9IHBhcmFib2xpY0N1cnZlU2NhbGFyKHAwLnosIHYwLnosIGEueiwgdCk7XG4gIHJldHVybiBvdXQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcGFyYWJvbGljQ3VydmU7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi4vYWZyYW1lLXRlbGVwb3J0LWNvbnRyb2xzL2xpYi9QYXJhYm9saWNDdXJ2ZS5qcyIsIi8qIGdsb2JhbCBUSFJFRSAqL1xudmFyIFJheUN1cnZlID0gZnVuY3Rpb24gKG51bVBvaW50cywgd2lkdGgpIHtcbiAgdGhpcy5nZW9tZXRyeSA9IG5ldyBUSFJFRS5CdWZmZXJHZW9tZXRyeSgpO1xuICB0aGlzLnZlcnRpY2VzID0gbmV3IEZsb2F0MzJBcnJheShudW1Qb2ludHMgKiAzICogMik7XG4gIHRoaXMudXZzID0gbmV3IEZsb2F0MzJBcnJheShudW1Qb2ludHMgKiAyICogMik7XG4gIHRoaXMud2lkdGggPSB3aWR0aDtcblxuICB0aGlzLmdlb21ldHJ5LmFkZEF0dHJpYnV0ZSgncG9zaXRpb24nLCBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKHRoaXMudmVydGljZXMsIDMpLnNldER5bmFtaWModHJ1ZSkpO1xuXG4gIHRoaXMubWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xuICAgIHNpZGU6IFRIUkVFLkRvdWJsZVNpZGUsXG4gICAgY29sb3I6IDB4ZmYwMDAwXG4gIH0pO1xuXG4gIHRoaXMubWVzaCA9IG5ldyBUSFJFRS5NZXNoKHRoaXMuZ2VvbWV0cnksIHRoaXMubWF0ZXJpYWwpO1xuICB0aGlzLm1lc2guZHJhd01vZGUgPSBUSFJFRS5UcmlhbmdsZVN0cmlwRHJhd01vZGU7XG5cbiAgdGhpcy5tZXNoLmZydXN0dW1DdWxsZWQgPSBmYWxzZTtcbiAgdGhpcy5tZXNoLnZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlcztcblxuICB0aGlzLmRpcmVjdGlvbiA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG4gIHRoaXMubnVtUG9pbnRzID0gbnVtUG9pbnRzO1xufTtcblxuUmF5Q3VydmUucHJvdG90eXBlID0ge1xuICBzZXREaXJlY3Rpb246IGZ1bmN0aW9uIChkaXJlY3Rpb24pIHtcbiAgICB2YXIgVVAgPSBuZXcgVEhSRUUuVmVjdG9yMygwLCAxLCAwKTtcbiAgICB0aGlzLmRpcmVjdGlvblxuICAgICAgLmNvcHkoZGlyZWN0aW9uKVxuICAgICAgLmNyb3NzKFVQKVxuICAgICAgLm5vcm1hbGl6ZSgpXG4gICAgICAubXVsdGlwbHlTY2FsYXIodGhpcy53aWR0aCAvIDIpO1xuICB9LFxuXG4gIHNldFdpZHRoOiBmdW5jdGlvbiAod2lkdGgpIHtcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gIH0sXG5cbiAgc2V0UG9pbnQ6IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHBvc0EgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgIHZhciBwb3NCID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoaSwgcG9pbnQpIHtcbiAgICAgIHBvc0EuY29weShwb2ludCkuYWRkKHRoaXMuZGlyZWN0aW9uKTtcbiAgICAgIHBvc0IuY29weShwb2ludCkuc3ViKHRoaXMuZGlyZWN0aW9uKTtcblxuICAgICAgdmFyIGlkeCA9IDIgKiAzICogaTtcbiAgICAgIHRoaXMudmVydGljZXNbaWR4KytdID0gcG9zQS54O1xuICAgICAgdGhpcy52ZXJ0aWNlc1tpZHgrK10gPSBwb3NBLnk7XG4gICAgICB0aGlzLnZlcnRpY2VzW2lkeCsrXSA9IHBvc0EuejtcblxuICAgICAgdGhpcy52ZXJ0aWNlc1tpZHgrK10gPSBwb3NCLng7XG4gICAgICB0aGlzLnZlcnRpY2VzW2lkeCsrXSA9IHBvc0IueTtcbiAgICAgIHRoaXMudmVydGljZXNbaWR4KytdID0gcG9zQi56O1xuXG4gICAgICB0aGlzLmdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb24ubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgIH07XG4gIH0pKClcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUmF5Q3VydmU7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi4vYWZyYW1lLXRlbGVwb3J0LWNvbnRyb2xzL2xpYi9SYXlDdXJ2ZS5qcyIsIm1vZHVsZS5leHBvcnRzID0gJ3VybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQVFDQVlBQUFEWG54VzNBQUFBQ1hCSVdYTUFBQXNUQUFBTEV3RUFtcHdZQUFBS1QybERRMUJRYUc5MGIzTm9iM0FnU1VORElIQnliMlpwYkdVQUFIamFuVk5uVkZQcEZqMzMzdlJDUzRpQWxFdHZVaFVJSUZKQ2k0QVVrU1lxSVFrUVNvZ2hvZGtWVWNFUlJVVUVHOGlnaUFPT2pvQ01GVkVzRElvSzJBZmtJYUtPZzZPSWlzcjc0WHVqYTlhODkrYk4vclhYUHVlczg1Mnp6d2ZBQ0F5V1NETlJOWUFNcVVJZUVlQ0R4OFRHNGVRdVFJRUtKSEFBRUFpelpDRnovU01CQVBoK1BEd3JJc0FIdmdBQmVOTUxDQURBVFp2QU1CeUgvdy9xUXBsY0FZQ0VBY0Iwa1RoTENJQVVBRUI2amtLbUFFQkdBWUNkbUNaVEFLQUVBR0RMWTJMakFGQXRBR0FuZitiVEFJQ2QrSmw3QVFCYmxDRVZBYUNSQUNBVFpZaEVBR2c3QUt6UFZvcEZBRmd3QUJSbVM4UTVBTmd0QURCSlYyWklBTEMzQU1ET0VBdXlBQWdNQURCUmlJVXBBQVI3QUdESUl5TjRBSVNaQUJSRzhsYzg4U3V1RU9jcUFBQjRtYkk4dVNRNVJZRmJDQzF4QjFkWExoNG96a2tYS3hRMllRSmhta0F1d25tWkdUS0JOQS9nODh3QUFLQ1JGUkhnZy9QOWVNNE9yczdPTm82MkRsOHQ2cjhHL3lKaVl1UCs1YytyY0VBQUFPRjBmdEgrTEMrekdvQTdCb0J0L3FJbDdnUm9YZ3VnZGZlTFpySVBRTFVBb09uYVYvTncrSDQ4UEVXaGtMbloyZVhrNU5oS3hFSmJZY3BYZmY1bndsL0FWLzFzK1g0OC9QZjE0TDdpSklFeVhZRkhCUGpnd3N6MFRLVWN6NUlKaEdMYzVvOUgvTGNMLy93ZDB5TEVTV0s1V0NvVTQxRVNjWTVFbW96ek1xVWlpVUtTS2NVbDB2OWs0dDhzK3dNKzN6VUFzR28rQVh1UkxhaGRZd1AyU3ljUVdIVEE0dmNBQVBLN2I4SFVLQWdEZ0dpRDRjOTMvKzgvL1VlZ0pRQ0Faa21TY1FBQVhrUWtMbFRLc3ovSENBQUFSS0NCS3JCQkcvVEJHQ3pBQmh6QkJkekJDL3hnTm9SQ0pNVENRaEJDQ21TQUhISmdLYXlDUWlpR3piQWRLbUF2MUVBZE5NQlJhSWFUY0E0dXdsVzREajF3RC9waENKN0JLTHlCQ1FSQnlBZ1RZU0hhaUFGaWlsZ2pqZ2dYbVlYNEljRklCQktMSkNESmlCUlJJa3VSTlVneFVvcFVJRlZJSGZJOWNnSTVoMXhHdXBFN3lBQXlndnlHdkVjeGxJR3lVVDNVRExWRHVhZzNHb1JHb2d2UVpIUXhtbzhXb0p2UWNyUWFQWXcyb2VmUXEyZ1AybzgrUThjd3dPZ1lCelBFYkRBdXhzTkNzVGdzQ1pOank3RWlyQXlyeGhxd1Zxd0R1NG4xWTgreGR3UVNnVVhBQ1RZRWQwSWdZUjVCU0ZoTVdFN1lTS2dnSENRMEVkb0pOd2tEaEZIQ0p5S1RxRXUwSnJvUitjUVlZakl4aDFoSUxDUFdFbzhUTHhCN2lFUEVOeVFTaVVNeUo3bVFBa214cEZUU0V0SkcwbTVTSStrc3FaczBTQm9qazhuYVpHdXlCem1VTENBcnlJWGtuZVRENURQa0crUWg4bHNLbldKQWNhVDRVK0lvVXNwcVNobmxFT1UwNVFabG1ESkJWYU9hVXQyb29WUVJOWTlhUXEyaHRsS3ZVWWVvRXpSMW1qbk5neFpKUzZXdG9wWFRHbWdYYVBkcHIraDB1aEhkbFI1T2w5Qlgwc3ZwUitpWDZBUDBkd3dOaGhXRHg0aG5LQm1iR0FjWVp4bDNHSytZVEtZWjA0c1p4MVF3TnpIcm1PZVpENWx2VlZncXRpcDhGWkhLQ3BWS2xTYVZHeW92VkttcXBxcmVxZ3RWODFYTFZJK3BYbE45cmtaVk0xUGpxUW5VbHF0VnFwMVE2MU1iVTJlcE82aUhxbWVvYjFRL3BINVovWWtHV2NOTXcwOURwRkdnc1YvanZNWWdDMk1aczNnc0lXc05xNFoxZ1RYRUpySE4yWHgyS3J1WS9SMjdpejJxcWFFNVF6TktNMWV6VXZPVVpqOEg0NWh4K0p4MFRnbm5LS2VYODM2SzNoVHZLZUlwRzZZMFRMa3haVnhycXBhWGxsaXJTS3RScTBmcnZUYXU3YWVkcHIxRnUxbjdnUTVCeDBvblhDZEhaNC9PQlozblU5bFQzYWNLcHhaTlBUcjFyaTZxYTZVYm9idEVkNzl1cCs2WW5yNWVnSjVNYjZmZWViM24raHg5TC8xVS9XMzZwL1ZIREZnR3N3d2tCdHNNemhnOHhUVnhiendkTDhmYjhWRkRYY05BUTZWaGxXR1g0WVNSdWRFOG85VkdqVVlQakduR1hPTWs0MjNHYmNhakpnWW1JU1pMVGVwTjdwcFNUYm1tS2FZN1REdE14ODNNemFMTjFwazFtejB4MXpMbm0rZWIxNXZmdDJCYWVGb3N0cWkydUdWSnN1UmFwbG51dHJ4dWhWbzVXYVZZVlZwZHMwYXRuYTBsMXJ1dHU2Y1JwN2xPazA2cm50Wm53N0R4dHNtMnFiY1pzT1hZQnR1dXRtMjJmV0ZuWWhkbnQ4V3V3KzZUdlpOOXVuMk4vVDBIRFlmWkRxc2RXaDErYzdSeUZEcFdPdDZhenB6dVAzM0Y5SmJwTDJkWXp4RFAyRFBqdGhQTEtjUnBuVk9iMDBkbkYyZTVjNFB6aUl1SlM0TExMcGMrTHBzYnh0M0l2ZVJLZFBWeFhlRjYwdldkbTdPYnd1Mm8yNi91TnU1cDdvZmNuOHcwbnltZVdUTnowTVBJUStCUjVkRS9DNStWTUd2ZnJINVBRMCtCWjdYbkl5OWpMNUZYcmRld3Q2VjNxdmRoN3hjKzlqNXluK00rNHp3MzNqTGVXVi9NTjhDM3lMZkxUOE52bmwrRjMwTi9JLzlrLzNyLzBRQ25nQ1VCWndPSmdVR0JXd0w3K0hwOEliK09QenJiWmZheTJlMUJqS0M1UVJWQmo0S3RndVhCclNGb3lPeVFyU0gzNTVqT2tjNXBEb1ZRZnVqVzBBZGg1bUdMdzM0TUo0V0hoVmVHUDQ1d2lGZ2EwVEdYTlhmUjNFTnozMFQ2UkpaRTNwdG5NVTg1cnkxS05TbytxaTVxUE5vM3VqUzZQOFl1WmxuTTFWaWRXRWxzU3h3NUxpcXVObTVzdnQvODdmT0g0cDNpQytON0Y1Z3Z5RjF3ZWFIT3d2U0ZweGFwTGhJc09wWkFUSWhPT0pUd1FSQXFxQmFNSmZJVGR5V09Dbm5DSGNKbklpL1JOdEdJMkVOY0toNU84a2dxVFhxUzdKRzhOWGtreFRPbExPVzVoQ2Vwa0x4TURVemRtenFlRnBwMklHMHlQVHE5TVlPU2taQnhRcW9oVFpPMlorcG41bVoyeTZ4bGhiTCt4VzZMdHk4ZWxRZkphN09RckFWWkxRcTJRcWJvVkZvbzF5b0hzbWRsVjJhL3pZbktPWmFybml2TjdjeXp5dHVRTjV6dm4vL3RFc0lTNFpLMnBZWkxWeTBkV09hOXJHbzVzanh4ZWRzSzR4VUZLNFpXQnF3OHVJcTJLbTNWVDZ2dFY1ZXVmcjBtZWsxcmdWN0J5b0xCdFFGcjZ3dFZDdVdGZmV2YzErMWRUMWd2V2QrMVlmcUduUnMrRlltS3JoVGJGNWNWZjlnbzNIamxHNGR2eXIrWjNKUzBxYXZFdVdUUFp0Sm02ZWJlTFo1YkRwYXFsK2FYRG00TjJkcTBEZDlXdE8zMTlrWGJMNWZOS051N2c3WkR1YU8vUExpOFphZkp6czA3UDFTa1ZQUlUrbFEyN3RMZHRXSFgrRzdSN2h0N3ZQWTA3TlhiVzd6My9UN0p2dHRWQVZWTjFXYlZaZnRKKzdQM1A2NkpxdW40bHZ0dFhhMU9iWEh0eHdQU0EvMEhJdzYyMTduVTFSM1NQVlJTajlZcjYwY094eCsrL3AzdmR5ME5OZzFWalp6RzRpTndSSG5rNmZjSjMvY2VEVHJhZG94N3JPRUgweDkySFdjZEwycENtdkthUnB0VG12dGJZbHU2VDh3KzBkYnEzbnI4UjlzZkQ1dzBQRmw1U3ZOVXlXbmE2WUxUazJmeXo0eWRsWjE5Zmk3NTNHRGJvclo3NTJQTzMyb1BiKys2RUhUaDBrWC9pK2M3dkR2T1hQSzRkUEt5MitVVFY3aFhtcTg2WDIzcWRPbzgvcFBUVDhlN25MdWFycmxjYTdudWVyMjFlMmIzNlJ1ZU44N2Q5TDE1OFJiLzF0V2VPVDNkdmZONmIvZkY5L1hmRnQxK2NpZjl6c3U3MlhjbjdxMjhUN3hmOUVEdFFkbEQzWWZWUDF2KzNOanYzSDlxd0hlZzg5SGNSL2NHaFlQUC9wSDFqdzlEQlkrWmo4dUdEWWJybmpnK09UbmlQM0w5NmZ5blE4OWt6eWFlRi82aS9zdXVGeFl2ZnZqVjY5Zk8wWmpSb1pmeWw1Ty9iWHlsL2VyQTZ4bXYyOGJDeGg2K3lYZ3pNVjcwVnZ2dHdYZmNkeDN2bzk4UFQrUjhJSDhvLzJqNXNmVlQwS2Y3a3htVGsvOEVBNWp6L0dNekxkc0FBQUFnWTBoU1RRQUFlaVVBQUlDREFBRDUvd0FBZ09rQUFIVXdBQURxWUFBQU9wZ0FBQmR2a2wvRlJnQUFBREpKUkVGVWVOcEV4N0VOZ0RBQUF6QXJLMEpBNmY4WDlvZXdsY1dTdFUxd0JHZHdCMDh3Z2plWW03OWpjMm5iWUgwREFDLytDT1JKeE81ZkFBQUFBRWxGVGtTdVFtQ0MpJztcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuLi9hZnJhbWUtdGVsZXBvcnQtY29udHJvbHMvbGliL2N5bGluZGVyVGV4dHVyZS5qcyIsIkFGUkFNRS5yZWdpc3RlckNvbXBvbmVudCgnYWRkaXRpdmUnLCB7XG4gIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym9iamVjdGxvYWRlZCcsIGZ1bmN0aW9uKGV2KXtcbiAgICAgIGV2LmRldGFpbC5tYXRlcmlhbC5ibGVuZGluZyA9IFRIUkVFLkFkZGl0aXZlQmxlbmRpbmc7XG4gICAgfSk7XG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb2RlbC1sb2FkZWQnLCBmdW5jdGlvbihldil7XG4gICAgICBldi5kZXRhaWwubW9kZWwubWF0ZXJpYWwuYmxlbmRpbmcgPSBUSFJFRS5BZGRpdGl2ZUJsZW5kaW5nO1xuICAgIH0pO1xuICB9XG59KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL2FkZGl0aXZlLmpzIiwiLyoqXG4gKiBLZXlib2FyZCBiaW5kaW5ncyB0byBjb250cm9sIGNvbnRyb2xsZXIuXG4gKiBQb3NpdGlvbiBjb250cm9sbGVyIGluIGZyb250IG9mIGNhbWVyYS5cbiAqL1xuQUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCdkZWJ1Zy1jb250cm9sbGVyJywge1xuICBzY2hlbWE6IHtcbiAgICBlbmFibGVkOiB7ZGVmYXVsdDogZmFsc2V9XG4gIH0sXG5cbiAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgIHZhciBwcmltYXJ5SGFuZDtcbiAgICB2YXIgcHJpbWFyeUhhbmQ7XG5cbiAgICBpZiAoIXRoaXMuZGF0YS5lbmFibGVkIHx8ICFBRlJBTUUudXRpbHMuZ2V0VXJsUGFyYW1ldGVyKCdkZWJ1ZycpKSB7IHJldHVybjsgfVxuXG4gICAgY29uc29sZS5sb2coJyVjIGRlYnVnLWNvbnRyb2xsZXIgZW5hYmxlZCAnLCAnYmFja2dyb3VuZDogIzExMTsgY29sb3I6IHJlZCcpO1xuXG4gICAgdGhpcy5pc1RyaWdnZXJEb3duID0gZmFsc2U7XG5cbiAgICBwcmltYXJ5SGFuZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmltYXJ5SGFuZCcpO1xuICAgIHByaW1hcnlIYW5kLm9iamVjdDNELnBvc2l0aW9uLnNldCgwLjIsIDEuNSwgLTAuNSk7XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZXZ0ID0+IHtcbiAgICAgIHZhciBwcmltYXJ5UG9zaXRpb247XG4gICAgICB2YXIgcHJpbWFyeVJvdGF0aW9uO1xuXG4gICAgICBpZiAoIWV2dC5zaGlmdEtleSkgeyByZXR1cm47IH1cblxuICAgICAgLy8gPHNwYWNlPiBmb3IgdHJpZ2dlci5cbiAgICAgIGlmIChldnQua2V5Q29kZSA9PT0gMzIpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNUcmlnZ2VyRG93bikge1xuICAgICAgICAgIHByaW1hcnlIYW5kLmVtaXQoJ3RyaWdnZXJ1cCcpO1xuICAgICAgICAgIHRoaXMuaXNUcmlnZ2VyRG93biA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByaW1hcnlIYW5kLmVtaXQoJ3RyaWdnZXJkb3duJyk7XG4gICAgICAgICAgdGhpcy5pc1RyaWdnZXJEb3duID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFBvc2l0aW9uIGJpbmRpbmdzLlxuICAgICAgcHJpbWFyeVBvc2l0aW9uID0gcHJpbWFyeUhhbmQub2JqZWN0M0QucG9zaXRpb247XG4gICAgICBpZiAoZXZ0LmtleUNvZGUgPT09IDcyKSB7IHByaW1hcnlQb3NpdGlvbi54IC09IDAuMDEgfSAgLy8gaC5cbiAgICAgIGlmIChldnQua2V5Q29kZSA9PT0gNzQpIHsgcHJpbWFyeVBvc2l0aW9uLnkgLT0gMC4wMSB9ICAvLyBqLlxuICAgICAgaWYgKGV2dC5rZXlDb2RlID09PSA3NSkgeyBwcmltYXJ5UG9zaXRpb24ueSArPSAwLjAxIH0gIC8vIGsuXG4gICAgICBpZiAoZXZ0LmtleUNvZGUgPT09IDc2KSB7IHByaW1hcnlQb3NpdGlvbi54ICs9IDAuMDEgfSAgLy8gbC5cbiAgICAgIGlmIChldnQua2V5Q29kZSA9PT0gNTkgfHwgZXZ0LmtleUNvZGUgPT09IDE4NikgeyBwcmltYXJ5UG9zaXRpb24ueiAtPSAwLjAxIH0gIC8vIDsuXG4gICAgICBpZiAoZXZ0LmtleUNvZGUgPT09IDIyMikgeyBwcmltYXJ5UG9zaXRpb24ueiArPSAwLjAxIH0gIC8vIDsuXG5cbiAgICAgIC8vIFJvdGF0aW9uIGJpbmRpbmdzLlxuICAgICAgdmFyIHByaW1hcnlSb3RhdGlvblxuICAgICAgcHJpbWFyeVJvdGF0aW9uID0gcHJpbWFyeUhhbmQuZ2V0QXR0cmlidXRlKCdyb3RhdGlvbicpO1xuICAgICAgaWYgKGV2dC5rZXlDb2RlID09PSA4OSkgeyBwcmltYXJ5Um90YXRpb24ueCAtPSAxMCB9ICAvLyB5LlxuICAgICAgaWYgKGV2dC5rZXlDb2RlID09PSA3OSkgeyBwcmltYXJ5Um90YXRpb24ueCArPSAxMCB9ICAvLyBvLlxuICAgICAgaWYgKGV2dC5rZXlDb2RlID09PSA4NSkgeyBwcmltYXJ5Um90YXRpb24ueSAtPSAxMCB9ICAvLyB1LlxuICAgICAgaWYgKGV2dC5rZXlDb2RlID09PSA3MykgeyBwcmltYXJ5Um90YXRpb24ueSArPSAxMCB9ICAvLyBpLlxuXG4gICAgICBwcmltYXJ5SGFuZC5zZXRBdHRyaWJ1dGUoJ3JvdGF0aW9uJywgQUZSQU1FLnV0aWxzLmNsb25lKHByaW1hcnlSb3RhdGlvbikpO1xuICAgIH0pO1xuICB9LFxuXG4gIHBsYXk6IGZ1bmN0aW9uICgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmltYXJ5SGFuZCcpLmVtaXQoJ2NvbnRyb2xsZXJjb25uZWN0ZWQnLCB7XG4gICAgICAgIG5hbWU6ICd2aXZlLWNvbnRyb2xzJ1xuICAgICAgfSk7XG4gICAgfSwgMTAwMCk7XG4gIH1cbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvZGVidWctY29udHJvbGxlci5qcyIsIi8qKlxuICogTG9nIGN1cnNvciBldmVudHMuXG4gKi9cbkFGUkFNRS5yZWdpc3RlckNvbXBvbmVudCgnZGVidWctY3Vyc29yJywge1xuICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHsgcmV0dXJuOyB9XG5cbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBldnQgPT4ge1xuICAgICAgdGhpcy5sb2coJ21vdXNlZW50ZXInLCBldnQuZGV0YWlsLmludGVyc2VjdGVkRWwsICdncmVlbicpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgZXZ0ID0+IHtcbiAgICAgIHRoaXMubG9nKCdtb3VzZWxlYXZlJywgZXZ0LmRldGFpbC5pbnRlcnNlY3RlZEVsLCAncmVkJyk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXZ0ID0+IHtcbiAgICAgIHRoaXMubG9nKCdjbGljaycsIGV2dC5kZXRhaWwuaW50ZXJzZWN0ZWRFbCwgJ2JsdWUnKTtcbiAgICB9KTtcbiAgfSxcblxuICBsb2c6IGZ1bmN0aW9uIChldmVudCwgaW50ZXJzZWN0ZWRFbCwgY29sb3IpIHtcbiAgICBpZiAoaW50ZXJzZWN0ZWRFbC5pZCkge1xuICAgICAgY29uc29sZS5sb2coYCVjWyR7ZXZlbnR9XSAke2ludGVyc2VjdGVkRWwuaWR9YCwgYGNvbG9yOiAke2NvbG9yfWApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhgJWNbJHtldmVudH1dYCwgYGNvbG9yOiAke2NvbG9yfWApO1xuICAgICAgY29uc29sZS5sb2coaW50ZXJzZWN0ZWRFbCk7XG4gICAgfVxuICB9XG59KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL2RlYnVnLWN1cnNvci5qcyIsIkFGUkFNRS5yZWdpc3RlckNvbXBvbmVudCgnYW5pbWF0ZWQtc3VuJywge1xuICBkZXBkZW5kZW5jaWVzOiBbJ2Vudmlyb25tZW50J10sXG5cbiAgcGxheTogZnVuY3Rpb24gKCkge1xuICAgIHZhciBlbCA9IHRoaXMuZWw7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBlbC5jb21wb25lbnRzWydlbnZpcm9ubWVudCddLnN1bmxpZ2h0LnNldEF0dHJpYnV0ZSgnYW5pbWF0aW9uX19saWdodCcsIHtcbiAgICAgICAgcHJvcGVydHk6ICdjb21wb25lbnRzLmxpZ2h0LmxpZ2h0LmludGVuc2l0eScsXG4gICAgICAgIGRpcjogJ2FsdGVybmF0ZScsXG4gICAgICAgIGR1cjogMTIwMCxcbiAgICAgICAgZWFzaW5nOiAnZWFzZUluT3V0Q3ViaWMnLFxuICAgICAgICBmcm9tOiBlbC5jb21wb25lbnRzWydlbnZpcm9ubWVudCddLnN1bmxpZ2h0LmdldEF0dHJpYnV0ZSgnbGlnaHQnKS5pbnRlbnNpdHksXG4gICAgICAgIGxvb3A6IHRydWUsXG4gICAgICAgIHRvOiAwLjJcbiAgICAgIH0pO1xuXG4gICAgICBlbC5jb21wb25lbnRzWydlbnZpcm9ubWVudCddLnN1bmxpZ2h0LnNldEF0dHJpYnV0ZSgnYW5pbWF0aW9uX19wb3NpdGlvbicsIHtcbiAgICAgICAgcHJvcGVydHk6ICdvYmplY3QzRC5wb3NpdGlvbi54JyxcbiAgICAgICAgZGlyOiAnYWx0ZXJuYXRlJyxcbiAgICAgICAgZHVyOiAzMDAwLFxuICAgICAgICBlYXNpbmc6ICdlYXNlSW5PdXRDdWJpYycsXG4gICAgICAgIGZyb206ICctMTAnLFxuICAgICAgICBsb29wOiB0cnVlLFxuICAgICAgICB0bzogMTBcbiAgICAgIH0pO1xuICAgIH0sIDEwMDApO1xuICB9XG59KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL2VnZ3MvYW5pbWF0ZWQtc3VuLmpzIiwidmFyIHV0aWxzID0gd2luZG93LnV0aWxzO1xuXG5BRlJBTUUucmVnaXN0ZXJDb21wb25lbnQoJ2Nyb211bG9uJywge1xuICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGF1ZGlvO1xuICAgIHZhciBlbCA9IHRoaXMuZWw7XG4gICAgdmFyIGk7XG4gICAgdmFyIHA7XG4gICAgdmFyIHM7XG5cbiAgICBmb3IgKGkgPSAwLCBwID0gMCwgcyA9IDA7IGkgPCBNYXRoLmZsb29yKHJhbmRvbSgzMCkgKiA1KSArIDM7IGkrKywgcCsrLCBzKyspIHtcbiAgICAgIHRoaXMuY3JlYXRlQ3JvbXVsb24oaSwgcCwgcyk7XG4gICAgfVxuXG4gICAgYXVkaW8gPSBuZXcgQXVkaW8odXRpbHMuYXNzZXRQYXRoKCdhc3NldHMvYXVkaW8vY3JvbXVsb24ubXAzJykpO1xuICAgIGF1ZGlvLnZvbHVtZSA9IDAuNTtcbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IDAuMTEpIHsgYXVkaW8ucGxheSgpOyB9XG4gICAgfSwgMTAwMCk7XG4gIH0sXG5cbiAgY3JlYXRlQ3JvbXVsb246IGZ1bmN0aW9uIChpLCBwLCBzKSB7XG4gICAgdmFyIGltZztcbiAgICB2YXIgc2NhbGU7XG5cbiAgICBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhLWltYWdlJyk7XG4gICAgaW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgdXRpbHMuYXNzZXRQYXRoKCdhc3NldHMvaW1nL2Nyb211bG9uLnBuZycpKTtcbiAgICBpbWcuc2V0QXR0cmlidXRlKCdjb2xvcicsIHJhbmRvbUNvbG9yKHMpKTtcblxuICAgIHNjYWxlID0gcmFuZG9tKHMpICogMzAgKyAxMDtcbiAgICBpbWcub2JqZWN0M0Quc2NhbGUuc2V0KHNjYWxlLCBzY2FsZSwgc2NhbGUpO1xuICAgIGltZy5vYmplY3QzRC5wb3NpdGlvbi5zZXQoXG4gICAgICByYW5kb20ocCkgKiAxNTAgLSA3NSxcbiAgICAgIHJhbmRvbShwICsgMjApICogMzAgKyAyNSxcbiAgICAgIHJhbmRvbShwICsgMTApICogMTUwIC0gNzUpO1xuICAgIGltZy5vYmplY3QzRC5sb29rQXQoMCwgMCwgMCk7XG5cbiAgICBpbWcub2JqZWN0M0QudmlzaWJsZSA9IGZhbHNlO1xuICAgIGltZy5hZGRFdmVudExpc3RlbmVyKCdtYXRlcmlhbHRleHR1cmVsb2FkZWQnLCAoKSA9PiB7XG4gICAgICBpbWcub2JqZWN0M0QudmlzaWJsZSA9IHRydWU7XG4gICAgfSk7XG5cbiAgICB0aGlzLmVsLnNjZW5lRWwuYXBwZW5kQ2hpbGQoaW1nKTtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIHJhbmRvbSAoeCkge1xuICB2YXIgaTtcbiAgdmFyIHNlZWQ7XG4gIHNlZWQgPSAwO1xuICBmb3IgKGkgPSAwOyBpIDwgd2luZG93LmxvY2F0aW9uLmhyZWYubGVuZ3RoOyBpKyspIHtcbiAgICBzZWVkICs9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLmNoYXJDb2RlQXQoaSk7XG4gIH1cbiAgcmV0dXJuIHBhcnNlRmxvYXQoJzAuJyArIE1hdGguc2luKHNlZWQgKiA5OTk5ICogeCkudG9TdHJpbmcoKS5zdWJzdHIoNykpO1xufVxuXG5mdW5jdGlvbiByYW5kb21Db2xvciAoaSkge1xuICByZXR1cm4gYCMke25ldyBUSFJFRS5Db2xvcihyYW5kb20oaSksIHJhbmRvbShpICsgMSksIHJhbmRvbShpICsgMikpLmdldEhleFN0cmluZygpfWA7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9lZ2dzL2Nyb211bG9uLmpzIiwiQUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCdkYWxlaycsIHtcbiAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgIHZhciBlbDtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBNYXRoLmZsb29yKHV0aWxzLnJhbmRvbSg1MDApICogNCkgKyAyOyBpKyspIHtcbiAgICAgIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYS1lbnRpdHknKTtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZSgnb2JqLW1vZGVsJywge1xuICAgICAgICBvYmo6IHV0aWxzLmFzc2V0UGF0aCgnYXNzZXRzL21vZGVscy9kYWxlay9tb2RlbC5vYmonKSxcbiAgICAgICAgbXRsOiB1dGlscy5hc3NldFBhdGgoJ2Fzc2V0cy9tb2RlbHMvZGFsZWsvbWF0ZXJpYWxzLm10bCcpXG4gICAgICB9KTtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZSgnZGFsZWstc291bmQnLCAnJyk7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3NoYWRvdycsIHtjYXN0OiB0cnVlLCByZWNlaXZlOiBmYWxzZX0pO1xuICAgICAgZWwub2JqZWN0M0Quc2NhbGUuc2V0KDgsIDgsIDgpO1xuICAgICAgZWwub2JqZWN0M0Qucm90YXRpb24uc2V0KDAsIE1hdGguUEksIDApO1xuICAgICAgZWwub2JqZWN0M0QucG9zaXRpb24uc2V0KFxuICAgICAgICB1dGlscy5yYW5kb20oaSArIDk5KSAqIDIwIC0gMTAsXG4gICAgICAgIDEsXG4gICAgICAgIHV0aWxzLnJhbmRvbShpICsgODkpICogMjAgLSAxMFxuICAgICAgKTtcbiAgICAgIHRoaXMuZWwuYXBwZW5kQ2hpbGQoZWwpO1xuICAgIH1cbiAgfVxufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9lZ2dzL2RhbGVrLmpzIiwiQUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCdtZWNoYWdvZHppbGxhJywge1xuICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGVsO1xuICAgIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYS1lbnRpdHknKTtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ29iai1tb2RlbCcsIHtcbiAgICAgIG9iajogdXRpbHMuYXNzZXRQYXRoKCdhc3NldHMvbW9kZWxzL21lY2hhZ29kemlsbGEvbW9kZWwub2JqJyksXG4gICAgICBtdGw6IHV0aWxzLmFzc2V0UGF0aCgnYXNzZXRzL21vZGVscy9tZWNoYWdvZHppbGxhL21hdGVyaWFscy5tdGwnKVxuICAgIH0pO1xuICAgIGVsLm9iamVjdDNELnNjYWxlLnNldCgxMCwgMTAsIDEwKTtcbiAgICBlbC5vYmplY3QzRC5yb3RhdGlvbi5zZXQoMCwgTWF0aC5QSSwgMCk7XG4gICAgZWwub2JqZWN0M0QucG9zaXRpb24uc2V0KFxuICAgICAgd2luZG93LnV0aWxzLnJhbmRvbSgxMDApICogNDAsXG4gICAgICAyNSxcbiAgICAgIC0zMFxuICAgICk7XG4gICAgdGhpcy5lbC5hcHBlbmRDaGlsZChlbCk7XG4gIH1cbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvZWdncy9tZWNoYWdvZHppbGxhLmpzIiwiQUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCdyYW5kb20tY29sb3ItZW52aXJvbm1lbnQnLCB7XG4gIGRlcGVuZGVuY2llczogWydlbnZpcm9ubWVudCddLFxuXG4gIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVsLnNldEF0dHJpYnV0ZSgnZW52aXJvbm1lbnQnLCB7XG4gICAgICBkcmVzc2luZzFDb2xvcjogcmFuZG9tQ29sb3IoMCksXG4gICAgICBkcmVzc2luZzJDb2xvcjogcmFuZG9tQ29sb3IoMSksXG4gICAgICBncmlkQ29sb3I6IHJhbmRvbUNvbG9yKDIpLFxuICAgICAgZ3JvdW5kQ29sb3I6IHJhbmRvbUNvbG9yKDMpLFxuICAgICAgZ3JvdW5kQ29sb3IyOiByYW5kb21Db2xvcig0KSxcbiAgICAgIGhvcml6b25Db2xvcjogcmFuZG9tQ29sb3IoNSksXG4gICAgICBza3lDb2xvcjogcmFuZG9tQ29sb3IoNilcbiAgICB9KTtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIHJhbmRvbSAoeCkge1xuICB2YXIgaTtcbiAgdmFyIHNlZWQ7XG4gIHNlZWQgPSAwO1xuICBmb3IgKGkgPSAwOyBpIDwgd2luZG93LmxvY2F0aW9uLmhyZWYubGVuZ3RoOyBpKyspIHtcbiAgICBzZWVkICs9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLmNoYXJDb2RlQXQoaSk7XG4gIH1cbiAgcmV0dXJuIHBhcnNlRmxvYXQoJzAuJyArIE1hdGguc2luKHNlZWQgKiA5OTk5ICogeCkudG9TdHJpbmcoKS5zdWJzdHIoNykpO1xufVxuXG5mdW5jdGlvbiByYW5kb21Db2xvciAoaSkge1xuICByZXR1cm4gYCMke25ldyBUSFJFRS5Db2xvcihyYW5kb20oaSksIHJhbmRvbShpICsgMSksIHJhbmRvbShpICsgMikpLmdldEhleFN0cmluZygpfWA7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9lZ2dzL3JhbmRvbS1jb2xvci1lbnZpcm9ubWVudC5qcyIsInZhciByID0gTWF0aC5yYW5kb20oKTtcbnZhciBnID0gTWF0aC5yYW5kb20oKTtcbnZhciBiID0gTWF0aC5yYW5kb20oKTtcblxudmFyIHIyID0gTWF0aC5yYW5kb20oKTtcbnZhciBnMiA9IE1hdGgucmFuZG9tKCk7XG52YXIgYjIgPSBNYXRoLnJhbmRvbSgpO1xuXG5BRlJBTUUucmVnaXN0ZXJDb21wb25lbnQoJ3NoaWZ0aW5nLWNvbG9ycycsIHtcbiAgZGVwZGVuZGVuY2llczogWydlbnZpcm9ubWVudCddLFxuXG4gIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnJEaXIgPSAxO1xuICAgIHRoaXMuZ0RpciA9IDE7XG4gICAgdGhpcy5iRGlyID0gMTtcbiAgICB0aGlzLnJEaXIyID0gMTtcbiAgICB0aGlzLmdEaXIyID0gMTtcbiAgICB0aGlzLmJEaXIyID0gMTtcbiAgfSxcblxuICB0aWNrOiBmdW5jdGlvbiAodCwgZHQpIHtcbiAgICB2YXIgY29sb3I7XG4gICAgdmFyIGRyZXNzaW5nMTtcbiAgICB2YXIgbWVzaDtcblxuICAgIGlmICghZHQpIHsgcmV0dXJuOyB9XG5cbiAgICBkcmVzc2luZzEgPSB0aGlzLmVsLmNvbXBvbmVudHMuZW52aXJvbm1lbnQuZHJlc3NpbmcxLmdldE9iamVjdDNEKCdtZXNoJyk7XG4gICAgaWYgKGRyZXNzaW5nMSkge1xuICAgICAgZHJlc3NpbmcxID0gZHJlc3NpbmcxLmNoaWxkcmVuWzBdO1xuICAgICAgY29sb3IgPSBkcmVzc2luZzEubWF0ZXJpYWwuY29sb3I7XG4gICAgICBjb2xvci5yICs9ICgxIC8gKDIwMCAqIGR0ICogcikpICogdGhpcy5yRGlyO1xuICAgICAgY29sb3IuZyArPSAoMSAvICgyMDAgKiBkdCAqIGcpKSAqIHRoaXMuZ0RpcjtcbiAgICAgIGNvbG9yLmIgKz0gKDEgLyAoMjAwICogZHQgKiBiKSkgKiB0aGlzLmJEaXI7XG5cbiAgICAgIGlmIChjb2xvci5yID4gMSkgeyBjb2xvci5yID0gMTsgdGhpcy5yRGlyID0gLTE7IH1cbiAgICAgIGlmIChjb2xvci5yIDwgMCkgeyBjb2xvci5yID0gMDsgdGhpcy5yRGlyID0gMTsgfVxuICAgICAgaWYgKGNvbG9yLmcgPiAxKSB7IGNvbG9yLmcgPSAxOyB0aGlzLmdEaXIgPSAtMTsgfVxuICAgICAgaWYgKGNvbG9yLmcgPCAwKSB7IGNvbG9yLmcgPSAwOyB0aGlzLmdEaXIgPSAxOyB9XG4gICAgICBpZiAoY29sb3IuYiA+IDEpIHsgY29sb3IuYiA9IDE7IHRoaXMuYkRpciA9IC0xOyB9XG4gICAgICBpZiAoY29sb3IuYiA8IDApIHsgY29sb3IuYiA9IDA7IHRoaXMuYkRpciA9IDE7IH1cbiAgICB9XG5cbiAgICBkcmVzc2luZzIgPSB0aGlzLmVsLmNvbXBvbmVudHMuZW52aXJvbm1lbnQuZHJlc3NpbmcyLmdldE9iamVjdDNEKCdtZXNoJyk7XG4gICAgaWYgKGRyZXNzaW5nMikge1xuICAgICAgZHJlc3NpbmcyID0gZHJlc3NpbmcyLmNoaWxkcmVuWzBdO1xuICAgICAgY29sb3IgPSBkcmVzc2luZzIubWF0ZXJpYWwuY29sb3I7XG4gICAgICBjb2xvci5yICs9ICgxIC8gKDIwMCAqIGR0ICogcjIpKSAqIHRoaXMuckRpcjI7XG4gICAgICBjb2xvci5nICs9ICgxIC8gKDIwMCAqIGR0ICogZzIpKSAqIHRoaXMuZ0RpcjI7XG4gICAgICBjb2xvci5iICs9ICgxIC8gKDIwMCAqIGR0ICogYjIpKSAqIHRoaXMuYkRpcjI7XG5cbiAgICAgIGlmIChjb2xvci5yID4gMSkgeyBjb2xvci5yID0gMTsgdGhpcy5yRGlyMiA9IC0xOyB9XG4gICAgICBpZiAoY29sb3IuciA8IDApIHsgY29sb3IuciA9IDA7IHRoaXMuckRpcjIgPSAxOyB9XG4gICAgICBpZiAoY29sb3IuZyA+IDEpIHsgY29sb3IuZyA9IDE7IHRoaXMuZ0RpcjIgPSAtMTsgfVxuICAgICAgaWYgKGNvbG9yLmcgPCAwKSB7IGNvbG9yLmcgPSAwOyB0aGlzLmdEaXIyID0gMTsgfVxuICAgICAgaWYgKGNvbG9yLmIgPiAxKSB7IGNvbG9yLmIgPSAxOyB0aGlzLmJEaXIyID0gLTE7IH1cbiAgICAgIGlmIChjb2xvci5iIDwgMCkgeyBjb2xvci5iID0gMDsgdGhpcy5iRGlyMiA9IDE7IH1cbiAgICB9XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiByYW5kb20gKHgpIHtcbiAgdmFyIGk7XG4gIHZhciBzZWVkO1xuICBzZWVkID0gMDtcbiAgZm9yIChpID0gMDsgaSA8IHdpbmRvdy5sb2NhdGlvbi5ocmVmLmxlbmd0aDsgaSsrKSB7XG4gICAgc2VlZCArPSB3aW5kb3cubG9jYXRpb24uaHJlZi5jaGFyQ29kZUF0KGkpO1xuICB9XG4gIHJldHVybiBwYXJzZUZsb2F0KCcwLicgKyBNYXRoLnNpbihzZWVkICogOTk5OSAqIHgpLnRvU3RyaW5nKCkuc3Vic3RyKDcpKTtcbn1cblxuZnVuY3Rpb24gcmFuZG9tQ29sb3IgKCkge1xuICByZXR1cm4gbmV3IFRIUkVFLkNvbG9yKHJhbmRvbSgwKSwgcmFuZG9tKDEpLCByYW5kb20oMikpO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvZWdncy9zaGlmdGluZy1jb2xvcnMuanMiLCJBRlJBTUUucmVnaXN0ZXJDb21wb25lbnQoJ3NvbGlkc25ha2UnLCB7XG4gIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZWwgPSB0aGlzLmVsO1xuICAgIHZhciBkYXRhID0gdGhpcy5kYXRhO1xuICAgIHZhciBpdGVtOztcbiAgICB2YXIgc25ha2U7O1xuXG4gICAgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EtZW50aXR5Jyk7XG4gICAgaXRlbS5jbGFzc0xpc3QuYWRkKCdzb2xpZHNuYWtlJyk7XG4gICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ29iai1tb2RlbCcsIHtcbiAgICAgIG9iajogdXRpbHMuYXNzZXRQYXRoKCdhc3NldHMvbW9kZWxzL2JveC9ib3gub2JqJylcbiAgICB9KTtcbiAgICBpdGVtLnNldEF0dHJpYnV0ZSgnbWF0ZXJpYWwnLCB7Y29sb3I6ICdicm93bicsIG1ldGFsbmVzczogMCwgcm91Z2huZXNzOiAxLCBzaWRlOiAnZG91YmxlJ30pO1xuICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdzaGFkb3cnLCAnJyk7XG4gICAgaXRlbS5vYmplY3QzRC5wb3NpdGlvbi5zZXQoXG4gICAgICB3aW5kb3cudXRpbHMucmFuZG9tKDIwNSkgKiAxMCxcbiAgICAgIDAsXG4gICAgICB3aW5kb3cudXRpbHMucmFuZG9tKDIwNikgKiAxMFxuICAgICk7XG4gICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ3RvdWNoYWJsZScsICcnKTtcbiAgICBpdGVtLm9iamVjdDNELmxvb2tBdCgwLCAwLCAwKTtcbiAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ29iamVjdDNkc2V0JywgKCkgPT4ge1xuICAgICAgaXRlbS5vYmplY3QzRC5tZXNoID0gaXRlbS5nZXRPYmplY3QzRCgnbWVzaCcpO1xuICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ2FuaW1hdGlvbl9fdG91Y2hlZCcsIHtcbiAgICAgICAgZHVyOiA3NTAsXG4gICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJyxcbiAgICAgICAgZnJvbTogMCxcbiAgICAgICAgcHJvcGVydHk6ICdvYmplY3QzRC5tZXNoLnJvdGF0aW9uLngnLFxuICAgICAgICBzdGFydEV2ZW50czogJ3RvdWNoZWQnLFxuICAgICAgICB0bzogLTEgKiBNYXRoLlBJIC8gMi41XG4gICAgICB9KTtcbiAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdhbmltYXRpb25fX3RvdWNoZWQyJywge1xuICAgICAgICBkdXI6IDc1MCxcbiAgICAgICAgZWFzaW5nOiAnZWFzZU91dFF1YWQnLFxuICAgICAgICBmcm9tOiAwLFxuICAgICAgICBwcm9wZXJ0eTogJ29iamVjdDNELm1lc2gucG9zaXRpb24ueicsXG4gICAgICAgIHN0YXJ0RXZlbnRzOiAndG91Y2hlZCcsXG4gICAgICAgIHRvOiAtMVxuICAgICAgfSk7XG4gICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnYW5pbWF0aW9uX190b3VjaGVkMycsIHtcbiAgICAgICAgZHVyOiA3NTAsXG4gICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJyxcbiAgICAgICAgZnJvbTogMCxcbiAgICAgICAgcHJvcGVydHk6ICdvYmplY3QzRC5tZXNoLnBvc2l0aW9uLnknLFxuICAgICAgICBzdGFydEV2ZW50czogJ3RvdWNoZWQnLFxuICAgICAgICB0bzogMC41XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBlbC5hcHBlbmRDaGlsZChpdGVtKTtcblxuICAgIHNuYWtlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYS1lbnRpdHknKTtcbiAgICBzbmFrZS5zZXRBdHRyaWJ1dGUoJ29iai1tb2RlbCcsIHtcbiAgICAgIG9iajogdXRpbHMuYXNzZXRQYXRoKCdhc3NldHMvbW9kZWxzL3NuYWtlL01lc2hfQ29icmEub2JqJyksXG4gICAgICBtdGw6IHV0aWxzLmFzc2V0UGF0aCgnYXNzZXRzL21vZGVscy9zbmFrZS9NZXNoX0NvYnJhLm10bCcpXG4gICAgfSk7XG4gICAgc25ha2Uub2JqZWN0M0QucG9zaXRpb24uY29weShpdGVtLm9iamVjdDNELnBvc2l0aW9uKTtcbiAgICBzbmFrZS5vYmplY3QzRC5wb3NpdGlvbi55ICs9IDAuMztcbiAgICBzbmFrZS5vYmplY3QzRC5zY2FsZS5zZXQoMC4wMiwgMC4wMiwgMC4wMilcbiAgICBzbmFrZS5vYmplY3QzRC5yb3RhdGlvbi55ICs9IE1hdGguUEk7XG4gICAgZWwuYXBwZW5kQ2hpbGQoc25ha2UpO1xuXG4gICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVkJywgKCkgPT4ge1xuICAgICAgdmFyIGF1ZGlvO1xuICAgICAgYXVkaW8gPSBuZXcgQXVkaW8odXRpbHMuYXNzZXRQYXRoKCdhc3NldHMvYXVkaW8vYWxlcnQud2F2JykpO1xuICAgICAgYXVkaW8udm9sdW1lID0gMC41O1xuICAgICAgYXVkaW8ucGxheSgpO1xuICAgIH0pO1xuICB9XG59KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL2VnZ3Mvc29saWRzbmFrZS5qcyIsIkFGUkFNRS5yZWdpc3RlckNvbXBvbmVudCgndXBzaWRlZG93bicsIHtcbiAgZGVwZW5kZW5jaWVzOiBbJ2Vudmlyb25tZW50J10sXG5cbiAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgIHZhciBpO1xuICAgIHZhciBpbnRlbnNpdHk7XG4gICAgdmFyIGxpZ2h0cztcbiAgICB2YXIgcG9ydGFscztcblxuICAgIHRoaXMuZWwuc2V0QXR0cmlidXRlKCdlbnZpcm9ubWVudCcsIHtcbiAgICAgIGRyZXNzaW5nMUNvbG9yOiByYW5kb21HcmF5c2NhbGVDb2xvcigwKSxcbiAgICAgIGRyZXNzaW5nMkNvbG9yOiByYW5kb21HcmF5c2NhbGVDb2xvcigxKSxcbiAgICAgIGdyaWRDb2xvcjogcmFuZG9tR3JheXNjYWxlQ29sb3IoMiksXG4gICAgICBncm91bmRDb2xvcjogcmFuZG9tR3JheXNjYWxlQ29sb3IoMyksXG4gICAgICBncm91bmRDb2xvcjI6IHJhbmRvbUdyYXlzY2FsZUNvbG9yKDQpLFxuICAgICAgaG9yaXpvbkNvbG9yOiByYW5kb21HcmF5c2NhbGVDb2xvcig1KSxcbiAgICAgIHNreUNvbG9yOiByYW5kb21HcmF5c2NhbGVDb2xvcig2KSxcbiAgICAgIHZhcnlDb2xvcjogZmFsc2VcbiAgICB9KTtcblxuICAgIHBvcnRhbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9ydGFsJyk7XG4gICAgZm9yIChpID0gMDsgaSA8IHBvcnRhbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHBvcnRhbHNbaV0uc2V0QXR0cmlidXRlKCdtYXRlcmlhbCcsICdpc0dyYXlzY2FsZScsIDEpO1xuICAgICAgcG9ydGFsc1tpXS5zZXRBdHRyaWJ1dGUoJ29hc2lzLXBvcnRhbCcsICdjb2xvcicsICcjRkFGQUZBJyk7XG4gICAgICBwb3J0YWxzW2ldLnF1ZXJ5U2VsZWN0b3IoJy5wb3J0YWxUZXh0Jykuc2V0QXR0cmlidXRlKCd0ZXh0JywgJ2NvbG9yJywgJyNGQUZBRkEnKTtcbiAgICAgIHBvcnRhbHNbaV0ucXVlcnlTZWxlY3RvcignLnBvcnRhbEVmZmVjdDEnKS5zZXRBdHRyaWJ1dGUoJ21hdGVyaWFsJywgJ2NvbG9yJywgJyMxMTEnKTtcbiAgICAgIHBvcnRhbHNbaV0ucXVlcnlTZWxlY3RvcignLnBvcnRhbEVmZmVjdDInKS5zZXRBdHRyaWJ1dGUoJ21hdGVyaWFsJywgJ2NvbG9yJywgJyNBQUEnKTtcbiAgICB9XG5cbiAgICBsaWdodHMgPSBbXG4gICAgICB0aGlzLmVsLmNvbXBvbmVudHMuZW52aXJvbm1lbnQuaGVtaWxpZ2h0LFxuICAgICAgdGhpcy5lbC5jb21wb25lbnRzLmVudmlyb25tZW50LnN1bmxpZ2h0XG4gICAgXTtcbiAgICBsaWdodHNbMF0uc2V0QXR0cmlidXRlKCdsaWdodCcsICdpbnRlbnNpdHknLCAwKTtcbiAgICBsaWdodHNbMV0uc2V0QXR0cmlidXRlKCdsaWdodCcsICdpbnRlbnNpdHknLCAwKTtcblxuICAgIC8qXG4gICAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIGlmIChNYXRoLnJhbmRvbSgpID4gMC4xNSkgeyByZXR1cm47IH1cbiAgICAgICAgdGhpcy5mbGlja2VyTGlnaHQobGlnaHRzWzBdKTtcbiAgICAgICAgdGhpcy5mbGlja2VyTGlnaHQobGlnaHRzWzFdKTtcbiAgICAgIH0sIDUwMCk7XG4gICAgKi9cbiAgfSxcblxuICBmbGlja2VyTGlnaHQ6IGZ1bmN0aW9uIChsaWdodCkge1xuICAgIGxpZ2h0LnNldEF0dHJpYnV0ZSgnbGlnaHQnLCAnaW50ZW5zaXR5JywgLjEpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgbGlnaHQuc2V0QXR0cmlidXRlKCdsaWdodCcsICdpbnRlbnNpdHknLCAwKTtcbiAgICB9LCAzMDApO1xuICB9XG59KTtcblxuZnVuY3Rpb24gcmFuZG9tR3JheXNjYWxlQ29sb3IgKGkpIHtcbiAgdmFyIGNvbG9yO1xuICBpICs9IDEyMzQ7XG4gIGNvbG9yID0gdXRpbHMucmFuZG9tKGkpO1xuICByZXR1cm4gYCMke25ldyBUSFJFRS5Db2xvcihjb2xvciwgY29sb3IsIGNvbG9yKS5nZXRIZXhTdHJpbmcoKX1gO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvZWdncy91cHNpZGVkb3duLmpzIiwiLyoqXG4gKiBQb3dlciB1cCB0aGF0IGxldHMgeW91IHNlZSB3aGljaCBwb3J0YWxzIHlvdSd2ZSB2aXNpdGVkIGFscmVhZHkuXG4gKi9cbkFGUkFNRS5yZWdpc3RlckNvbXBvbmVudCgnd2F5YmFjay1tYWNoaW5lJywge1xuICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGVsO1xuXG4gICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd3YXliYWNrbWFjaGluZScpID09PSAndHJ1ZScpIHsgcmV0dXJuOyB9XG5cbiAgICBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EtZW50aXR5Jyk7XG5cbiAgICBlbC5jbGFzc0xpc3QuYWRkKCd3YXliYWNrTWFjaGluZScpO1xuXG4gICAgZWwuc2V0QXR0cmlidXRlKCdvYmotbW9kZWwnLCB7XG4gICAgICBvYmo6IHV0aWxzLmFzc2V0UGF0aCgnYXNzZXRzL21vZGVscy93YXliYWNrbWFjaGluZS9tb2RlbC5vYmonKSxcbiAgICAgIG10bDogdXRpbHMuYXNzZXRQYXRoKCdhc3NldHMvbW9kZWxzL3dheWJhY2ttYWNoaW5lL21hdGVyaWFscy5tdGwnKVxuICAgIH0pO1xuXG4gICAgZWwuc2V0QXR0cmlidXRlKCdpdGVtJywge1xuICAgICAgbWVzc2FnZTogYFlvdSBnb3QgYSBXYXliYWNrIE1hY2hpbmUhIFpvbmVzIHlvdSd2ZSBwcmV2aW91c2x5IHZpc2l0ZWQgYXJlIG5vdyBoaWdobGlnaHRlZCBpbiBwdXJwbGUuYCxcbiAgICAgIHN0b3JlQXM6ICd3YXliYWNrbWFjaGluZSdcbiAgICB9KTtcblxuICAgIGVsLm9iamVjdDNELnBvc2l0aW9uLnNldChcbiAgICAgIHdpbmRvdy51dGlscy5yYW5kb20oMjAwKSAqIDEwLFxuICAgICAgMS42LFxuICAgICAgd2luZG93LnV0aWxzLnJhbmRvbSgyMDEpICogMTBcbiAgICApO1xuXG4gICAgdGhpcy5lbC5hcHBlbmRDaGlsZChlbCk7XG4gIH1cbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvZWdncy93YXliYWNrLW1hY2hpbmUuanMiLCIvKiBnbG9iYWwgQUZSQU1FLCBUSFJFRSAqL1xuXG5pZiAodHlwZW9mIEFGUkFNRSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdDb21wb25lbnQgYXR0ZW1wdGVkIHRvIHJlZ2lzdGVyIGJlZm9yZSBBRlJBTUUgd2FzIGF2YWlsYWJsZS4nKTtcbn1cblxuLyoqXG4gKiBlbnZpcm9HZXRTZXR0aW5ncygpIC0gY29uc29sZSBmdW5jdGlvbiBmb3IgcHJpbnRpbmcgb3V0IHRoZSBjdXJyZW50IGVudmlyb25tZW50IHNldHRpbmdzXG4gKi9cbmZ1bmN0aW9uIGVudmlyb0dldFNldHRpbmdzICgpIHtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2Vudmlyb25tZW50XScpLmNvbXBvbmVudHNbJ2Vudmlyb25tZW50J10ubG9nUHJlc2V0KCk7XG59XG5cbnZhciBkcmVzc2luZ1R5cGVzID0gWydub25lJywgJ2N1YmVzJywgJ3B5cmFtaWRzJywgJ2N5bGluZGVycycsICdoZXhhZ29ucycsICdzdG9uZXMnLCAndHJlZXMnLCAnbXVzaHJvb21zJywgJ3Rvd2VycycsICdhcHBhcmF0dXMnLCAnYXJjaGVzJywgJ3RvcmlpJywgJ2dyYXNzJywgJ2lzbGFuZHMnXTtcblxuQUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCdlbnZpcm9ubWVudCcsIHtcbiAgc2NoZW1hOiB7XG4gICAgYWN0aXZlOiB7ZGVmYXVsdDogZmFsc2V9LFxuICAgIHByZXNldDoge2RlZmF1bHQ6ICdkZWZhdWx0Jywgb25lT2Y6IFsnbm9uZScsICdkZWZhdWx0JywgJ2NvbnRhY3QnLCAnZWd5cHQnLCAnY2hlY2tlcmJvYXJkJywgJ2ZvcmVzdCcsICdnb2FsYW5kJywgJ3lhdmFwYWknLCAnZ29sZG1pbmUnLCAnYXJjaGVzJywgJ3RocmVldG93ZXJzJywgJ3BvaXNvbicsICd0cm9uJywgJ2phcGFuJywgJ2RyZWFtJywgJ3ZvbGNhbm8nLCAnc3RhcnJ5JywgJ29zaXJpcyddfSxcbiAgICBzZWVkOiB7dHlwZTogJ3N0cmluZyd9LFxuXG4gICAgc2t5VHlwZToge2RlZmF1bHQ6ICdjb2xvcicsIG9uZU9mOlsnbm9uZScsICdjb2xvcicsICdncmFkaWVudCcsICdhdG1vc3BoZXJlJ119LFxuICAgIHNreUNvbG9yOiB7dHlwZTogJ2NvbG9yJ30sXG4gICAgaG9yaXpvbkNvbG9yOiB7dHlwZTogJ2NvbG9yJ30sXG4gICAgbGlnaHRpbmc6IHtkZWZhdWx0OiAnZGlzdGFudCcsIG9uZU9mOiBbJ25vbmUnLCAnZGlzdGFudCcsICdwb2ludCddfSxcbiAgICBzaGFkb3c6IHtkZWZhdWx0OiBmYWxzZX0sXG4gICAgc2hhZG93U2l6ZTogeyBkZWZhdWx0OiAxMH0sXG4gICAgbGlnaHRQb3NpdGlvbjoge3R5cGU6J3ZlYzMnLCBkZWZhdWx0OiB7eDogMCwgeTogMSwgejogLTAuMn19LFxuICAgIGZvZzoge3R5cGU6J2Zsb2F0JywgZGVmYXVsdDogMCwgbWluOiAwLCBtYXg6IDF9LFxuXG4gICAgZmxhdFNoYWRpbmc6IHtkZWZhdWx0OiBmYWxzZX0sXG4gICAgcGxheUFyZWE6IHt0eXBlOiAnZmxvYXQnLCBkZWZhdWx0OiAxLjUsIG1pbjogMC41LCBtYXg6IDEwfSxcblxuICAgIGdyb3VuZDoge2RlZmF1bHQ6ICdoaWxscycsIG9uZU9mOlsnbm9uZScsICdmbGF0JywgJ2hpbGxzJywgJ2NhbnlvbicsICdzcGlrZXMnLCAnbm9pc2UnXX0sXG4gICAgZ3JvdW5kWVNjYWxlOiB7dHlwZTogJ2Zsb2F0JywgZGVmYXVsdDogMjAsIG1pbjogMCwgbWF4OiA1MH0sXG4gICAgZ3JvdW5kVGV4dHVyZToge2RlZmF1bHQ6ICdub25lJywgb25lT2Y6Wydub25lJywgJ2NoZWNrZXJib2FyZCcsICdzcXVhcmVzJywgJ3dhbGtlcm5vaXNlJ119LFxuICAgIGdyb3VuZENvbG9yOiAge3R5cGU6ICdjb2xvcicsIGRlZmF1bHQ6ICcjNTUzZTM1J30sXG4gICAgZ3JvdW5kQ29sb3IyOiB7dHlwZTogJ2NvbG9yJywgZGVmYXVsdDogJyM2OTQ0MzknfSxcblxuICAgIGRyZXNzaW5nMToge2RlZmF1bHQ6ICdub25lJywgb25lT2Y6IGRyZXNzaW5nVHlwZXN9LFxuICAgIGRyZXNzaW5nMUFtb3VudDoge3R5cGU6ICdpbnQnLCBkZWZhdWx0OiAxMCwgbWluOiAwLCBtYXg6IDEwMDB9LFxuICAgIGRyZXNzaW5nMUNvbG9yOiAge3R5cGU6ICdjb2xvcicsIGRlZmF1bHQ6ICcjNzk1NDQ5J30sXG4gICAgZHJlc3NpbmcxU2NhbGU6IHt0eXBlOiAnZmxvYXQnLCBkZWZhdWx0OiA1LCBtaW46IDAsIG1heDogMTAwfSxcbiAgICBkcmVzc2luZzFWYXJpYW5jZToge3R5cGU6ICd2ZWMzJywgZGVmYXVsdDoge3g6IDEsIHk6IDEsIHo6IDF9fSxcbiAgICBkcmVzc2luZzFVbmlmb3JtU2NhbGU6IHtkZWZhdWx0OiBmYWxzZX0sXG4gICAgZHJlc3NpbmcxT25QbGF5QXJlYToge3R5cGU6ICdmbG9hdCcsIGRlZmF1bHQ6IDAsIG1pbjogMCwgbWF4OiAxfSxcblxuICAgIGRyZXNzaW5nMjoge2RlZmF1bHQ6ICdub25lJywgb25lT2Y6IGRyZXNzaW5nVHlwZXN9LFxuICAgIGRyZXNzaW5nMkFtb3VudDoge3R5cGU6ICdpbnQnLCBkZWZhdWx0OiAxMCwgbWluOiAwLCBtYXg6IDEwMDB9LFxuICAgIGRyZXNzaW5nMkNvbG9yOiAge3R5cGU6ICdjb2xvcicsIGRlZmF1bHQ6ICcjNzk1NDQ5J30sXG4gICAgZHJlc3NpbmcyU2NhbGU6IHt0eXBlOiAnZmxvYXQnLCBkZWZhdWx0OiA1LCBtaW46IDAsIG1heDogMTAwfSxcbiAgICBkcmVzc2luZzJWYXJpYW5jZToge3R5cGU6ICd2ZWMzJywgZGVmYXVsdDoge3g6IDEsIHk6IDEsIHo6IDF9fSxcbiAgICBkcmVzc2luZzJVbmlmb3JtU2NhbGU6IHtkZWZhdWx0OiBmYWxzZX0sXG4gICAgZHJlc3NpbmcyT25QbGF5QXJlYToge3R5cGU6ICdmbG9hdCcsIGRlZmF1bHQ6IDAsIG1pbjogMCwgbWF4OiAxfSxcblxuICAgIGdyaWQ6IHtkZWZhdWx0Oidub25lJywgb25lT2Y6Wydub25lJywgJzF4MScsICcyeDInLCAnY3Jvc3NlcycsICdkb3RzJywgJ3hsaW5lcycsICd5bGluZXMnXX0sXG4gICAgZ3JpZENvbG9yOiB7dHlwZTogJ2NvbG9yJywgZGVmYXVsdDogJyNjY2MnfSxcbiAgICB2YXJ5Q29sb3I6IHtkZWZhdWx0OiB0cnVlfVxuICB9LFxuXG4gIG11bHRpcGxlOiBmYWxzZSxcblxuICBwcmVzZXRzOiB7XG4gICAgJ25vbmUnIDoge30sXG4gICAgJ2RlZmF1bHQnIDoge2RyZXNzaW5nMjogJ25vbmUnLCBkcmVzc2luZzJBbW91bnQ6IDEwLCBkcmVzc2luZzJDb2xvcjogJyM3OTU0NDknLCBkcmVzc2luZzJTY2FsZTogMSwgZHJlc3NpbmcyVmFyaWFuY2U6IHsgeDogMCwgeTogMCwgejogMH0sIGRyZXNzaW5nMlVuaWZvcm1TY2FsZTogdHJ1ZSwgZHJlc3NpbmcyT25QbGF5QXJlYTogMCwgYWN0aXZlOiB0cnVlLCBzZWVkOiAxLCBza3lUeXBlOiAnYXRtb3NwaGVyZScsIHNreUNvbG9yOiAnIzg4YycsIGhvcml6b25Db2xvcjogJyNkZGQnLCBsaWdodGluZzogJ2Rpc3RhbnQnLCBsaWdodFBvc2l0aW9uOiB7IHg6IC0wLjExLCB5OiAxLCB6OiAwLjMzfSwgZm9nOiAwLjc4LCBmbGF0U2hhZGluZzogZmFsc2UsIHBsYXlBcmVhOiAxLjUsIGdyb3VuZDogJ2hpbGxzJywgZ3JvdW5kWVNjYWxlOiAzLCBncm91bmRUZXh0dXJlOiAnY2hlY2tlcmJvYXJkJywgZ3JvdW5kQ29sb3I6ICcjNDU0NTQ1JywgZ3JvdW5kQ29sb3IyOiAnIzVkNWQ1ZCcsIGRyZXNzaW5nMTogJ25vbmUnLCBkcmVzc2luZzFBbW91bnQ6IDEwLCBkcmVzc2luZzFDb2xvcjogJyM3OTU0NDknLCBkcmVzc2luZzFTY2FsZTogMSwgZHJlc3NpbmcxVmFyaWFuY2U6IHsgeDogMCwgeTogMCwgejogMH0sIGRyZXNzaW5nMVVuaWZvcm1TY2FsZTogdHJ1ZSwgZHJlc3NpbmcxT25QbGF5QXJlYTogMCwgZ3JpZDogJ25vbmUnLCBncmlkQ29sb3I6ICcjY2NjJywgc2hhZG93OiBmYWxzZX0sXG4gICAgJ2NvbnRhY3QnOiB7ZHJlc3NpbmcyOiAnYXBwYXJhdHVzJywgZHJlc3NpbmcyQW1vdW50OiAxMCwgZHJlc3NpbmcyQ29sb3I6ICcjNjU3MDY3JywgZHJlc3NpbmcyU2NhbGU6IDIsIGRyZXNzaW5nMlZhcmlhbmNlOiB7IHg6IDEwLCB5OiAxMCwgejogMTB9LCBkcmVzc2luZzJVbmlmb3JtU2NhbGU6IHRydWUsIGRyZXNzaW5nMk9uUGxheUFyZWE6IDAuOCwgYWN0aXZlOiB0cnVlLCBzZWVkOiAxNCwgc2t5VHlwZTogJ2dyYWRpZW50Jywgc2t5Q29sb3I6ICcjNDc4ZDU0JywgaG9yaXpvbkNvbG9yOiAnI2I2OTZjYicsIGxpZ2h0aW5nOiAnZGlzdGFudCcsIGxpZ2h0UG9zaXRpb246IHsgeDogMCwgeTogMi4wMSwgejogLTF9LCBmb2c6IDAuNjQsIGZsYXRTaGFkaW5nOiBmYWxzZSwgcGxheUFyZWE6IDEuNSwgZ3JvdW5kOiAnc3Bpa2VzJywgZ3JvdW5kWVNjYWxlOiAxMDAsIGdyb3VuZFRleHR1cmU6ICdub25lJywgZ3JvdW5kQ29sb3I6ICcjMmU0NTVmJywgZ3JvdW5kQ29sb3IyOiAnIzY5NDQzOScsIGRyZXNzaW5nMTogJ2FwcGFyYXR1cycsIGRyZXNzaW5nMUFtb3VudDogMzAsIGRyZXNzaW5nMUNvbG9yOiAnIzY1NzA2NycsIGRyZXNzaW5nMVNjYWxlOiAyMCwgZHJlc3NpbmcxVmFyaWFuY2U6IHsgeDogMjAsIHk6IDIwLCB6OiAyMH0sIGRyZXNzaW5nMVVuaWZvcm1TY2FsZTogdHJ1ZSwgZHJlc3NpbmcxT25QbGF5QXJlYTogMCwgZ3JpZDogJzF4MScsIGdyaWRDb2xvcjogJyM0NzhkNTQnLCBzaGFkb3c6IGZhbHNlfSxcbiAgICAnZWd5cHQnOiB7ZHJlc3NpbmcyOiAnc3RvbmVzJywgZHJlc3NpbmcyQW1vdW50OiAyMDAsIGRyZXNzaW5nMkNvbG9yOiAnIzk5Njk0ZicsIGRyZXNzaW5nMlNjYWxlOiAwLjI2LCBkcmVzc2luZzJWYXJpYW5jZToge3g6MC4yLCB5OiAwLjIsIHo6IDAuMn0sIGRyZXNzaW5nMlVuaWZvcm1TY2FsZTogZmFsc2UsIGRyZXNzaW5nMk9uUGxheUFyZWE6IDAuOCwgYWN0aXZlOiB0cnVlLCBzZWVkOiAyNiwgc2t5VHlwZTogJ2dyYWRpZW50Jywgc2t5Q29sb3I6ICcjMWI3NjYwJywgaG9yaXpvbkNvbG9yOiAnI2U0YjY3NicsIGxpZ2h0aW5nOiAnZGlzdGFudCcsIGxpZ2h0UG9zaXRpb246IHsgeDogMCwgeTogMS42NSwgejogLTF9LCBmb2c6IDAuNzUsIGZsYXRTaGFkaW5nOiBmYWxzZSwgcGxheUFyZWE6IDEuNSwgZ3JvdW5kOiAnaGlsbHMnLCBncm91bmRZU2NhbGU6IDIwLCBncm91bmRUZXh0dXJlOiAnd2Fsa2Vybm9pc2UnLCBncm91bmRDb2xvcjogJyM5NzY4NGYnLCBncm91bmRDb2xvcjI6ICcjOTc2ODRmJywgZHJlc3NpbmcxOiAncHlyYW1pZHMnLCBkcmVzc2luZzFBbW91bnQ6IDIwLCBkcmVzc2luZzFDb2xvcjogJyM3YzVjNDUnLCBkcmVzc2luZzFTY2FsZTogNSwgZHJlc3NpbmcxVmFyaWFuY2U6IHsgeDogMjAsIHk6IDIwLCB6OiAyMH0sIGRyZXNzaW5nMVVuaWZvcm1TY2FsZTogdHJ1ZSwgZHJlc3NpbmcxT25QbGF5QXJlYTogMCwgZ3JpZDogJ3Nwb3RzJywgZ3JpZENvbG9yOiAnI2U0YjY3NicsIHNoYWRvdzogZmFsc2V9LFxuICAgICdjaGVja2VyYm9hcmQnOiB7ZHJlc3NpbmcyOiAnaXNsYW5kcycsIGRyZXNzaW5nMkFtb3VudDogMTAwLCBkcmVzc2luZzJDb2xvcjogJyNlNDA1NDgnLCBkcmVzc2luZzJTY2FsZTogMC4xNCwgZHJlc3NpbmcyVmFyaWFuY2U6IHsgeDogMCwgeTogMSwgejogMH0sIGRyZXNzaW5nMlVuaWZvcm1TY2FsZTogdHJ1ZSwgZHJlc3NpbmcyT25QbGF5QXJlYTogMC43LCBhY3RpdmU6IHRydWUsIHNlZWQ6IDEsIHNreVR5cGU6ICdncmFkaWVudCcsIHNreUNvbG9yOiAnIzQwNDA0MCcsIGhvcml6b25Db2xvcjogJyNlNDA1NDgnLCBsaWdodGluZzogJ2Rpc3RhbnQnLCBsaWdodFBvc2l0aW9uOiB7IHg6IDAsIHk6IDEsIHo6IC0wLjJ9LCBmb2c6IDAuNzEsIGZsYXRTaGFkaW5nOiB0cnVlLCBwbGF5QXJlYTogMS41LCBncm91bmQ6ICdzcGlrZXMnLCBncm91bmRZU2NhbGU6IDMwLCBncm91bmRUZXh0dXJlOiAnY2hlY2tlcmJvYXJkJywgZ3JvdW5kQ29sb3I6ICcjMjUyNTI1JywgZ3JvdW5kQ29sb3IyOiAnIzExMTExMScsIGRyZXNzaW5nMTogJ2lzbGFuZHMnLCBkcmVzc2luZzFBbW91bnQ6IDIwLCBkcmVzc2luZzFDb2xvcjogJyM2YjRmZjAnLCBkcmVzc2luZzFTY2FsZTogMi41MSwgZHJlc3NpbmcxVmFyaWFuY2U6IHsgeDogMTAsIHk6IDE1LCB6OiAxMH0sIGRyZXNzaW5nMVVuaWZvcm1TY2FsZTogdHJ1ZSwgZHJlc3NpbmcxT25QbGF5QXJlYTogMCwgZ3JpZDogJ2RvdHMnLCBncmlkQ29sb3I6ICcjNmI0ZmYwJywgc2hhZG93OiBmYWxzZX0sXG4gICAgJ2ZvcmVzdCc6IHtkcmVzc2luZzI6ICdncmFzcycsIGRyZXNzaW5nMkFtb3VudDogMTUwMCwgZHJlc3NpbmcyQ29sb3I6ICcjODg4YjFkJywgZHJlc3NpbmcyU2NhbGU6IDAuMywgZHJlc3NpbmcyVmFyaWFuY2U6IHt4OiAxLCB5OiAyLCB6OiAwfSwgZHJlc3NpbmcyVW5pZm9ybVNjYWxlOiBmYWxzZSwgZHJlc3NpbmcyT25QbGF5QXJlYTogMC44LCBhY3RpdmU6IHRydWUsIHNlZWQ6IDgsIHNreVR5cGU6ICdncmFkaWVudCcsIHNreUNvbG9yOiAnIzI0YjU5ZicsIGhvcml6b25Db2xvcjogJyNlZmY5YjcnLCBsaWdodGluZzogJ2Rpc3RhbnQnLCBsaWdodFBvc2l0aW9uOiB7IHg6IC0xLjIsIHk6IDAuODgsIHo6IC0wLjU1fSwgZm9nOiAwLjgsIGZsYXRTaGFkaW5nOiBmYWxzZSwgcGxheUFyZWE6IDEuNSwgZ3JvdW5kOiAnbm9pc2UnLCBncm91bmRZU2NhbGU6IDQuMTgsIGdyb3VuZFRleHR1cmU6ICdzcXVhcmVzJywgZ3JvdW5kQ29sb3I6ICcjOTM3YTI0JywgZ3JvdW5kQ29sb3IyOiAnIzk4N2QyZScsIGRyZXNzaW5nMTogJ3RyZWVzJywgZHJlc3NpbmcxQW1vdW50OiA1MDAsIGRyZXNzaW5nMUNvbG9yOiAnIzg4OGIxZCcsIGRyZXNzaW5nMVNjYWxlOiAxLCBkcmVzc2luZzFWYXJpYW5jZTogeyB4OiAxMCwgeTogMTAsIHo6IDEwfSwgZHJlc3NpbmcxVW5pZm9ybVNjYWxlOiB0cnVlLCBkcmVzc2luZzFPblBsYXlBcmVhOiAwLjAxLCBncmlkOiAnbm9uZScsIGdyaWRDb2xvcjogJyNjNWE1NDMnLCBzaGFkb3c6IHRydWV9LFxuICAgICdnb2FsYW5kJzoge2RyZXNzaW5nMjogJ2dyYXNzJywgZHJlc3NpbmcyQW1vdW50OiAxNTAwLCBkcmVzc2luZzJDb2xvcjogJyNkYjQ0NTMnLCBkcmVzc2luZzJTY2FsZTogMSwgZHJlc3NpbmcyVmFyaWFuY2U6IHt4OiAxLCB5OiAyLCB6OiAwfSwgZHJlc3NpbmcyVW5pZm9ybVNjYWxlOiBmYWxzZSwgZHJlc3NpbmcyT25QbGF5QXJlYTogMC44LCBhY3RpdmU6IHRydWUsIHNlZWQ6IDE3LCBza3lUeXBlOiAnZ3JhZGllbnQnLCBza3lDb2xvcjogJyMxNDY0NWYnLCBob3Jpem9uQ29sb3I6ICcjN2NjYjlhJywgbGlnaHRpbmc6ICdwb2ludCcsIGxpZ2h0UG9zaXRpb246IHsgeDogMC4xLCB5OiA0LCB6OiAwLjU2fSwgZm9nOiAwLjczLCBmbGF0U2hhZGluZzogZmFsc2UsIHBsYXlBcmVhOiAxLjUsIGdyb3VuZDogJ2NhbnlvbicsIGdyb3VuZFlTY2FsZTogMTAwLCBncm91bmRUZXh0dXJlOiAnbm9uZScsIGdyb3VuZENvbG9yOiAnI2FlMzI0MScsIGdyb3VuZENvbG9yMjogJyNkYjQ0NTMnLCBkcmVzc2luZzE6ICdtdXNocm9vbXMnLCBkcmVzc2luZzFBbW91bnQ6IDE1MCwgZHJlc3NpbmcxQ29sb3I6ICcjYTkzMTNkJywgZHJlc3NpbmcxU2NhbGU6IDUsIGRyZXNzaW5nMVZhcmlhbmNlOiB7IHg6IDUsIHk6IDEwLCB6OiA1fSwgZHJlc3NpbmcxVW5pZm9ybVNjYWxlOiB0cnVlLCBkcmVzc2luZzFPblBsYXlBcmVhOiAwLjAxLCBncmlkOiAnbm9uZScsIGdyaWRDb2xvcjogJyMyMzk4OTMnLCBzaGFkb3c6IGZhbHNlfSxcbiAgICAneWF2YXBhaSc6IHtkcmVzc2luZzI6ICdub25lJywgZHJlc3NpbmcyQW1vdW50OiAxMCwgZHJlc3NpbmcyQ29sb3I6ICcjNzk1NDQ5JywgZHJlc3NpbmcyU2NhbGU6IDEsIGRyZXNzaW5nMlZhcmlhbmNlOiB7IHg6IDAsIHk6IDAsIHo6IDB9LCBkcmVzc2luZzJVbmlmb3JtU2NhbGU6IHRydWUsIGRyZXNzaW5nMk9uUGxheUFyZWE6IDAsIGFjdGl2ZTogdHJ1ZSwgc2VlZDogMTEsIHNreVR5cGU6ICdncmFkaWVudCcsIHNreUNvbG9yOiAnIzIzOTg0OScsIGhvcml6b25Db2xvcjogJyNjZmUwYWYnLCBsaWdodGluZzogJ2Rpc3RhbnQnLCBsaWdodFBvc2l0aW9uOiB7IHg6IDAuNSwgeTogMSwgejogMH0sIGZvZzogMC44LCBmbGF0U2hhZGluZzogdHJ1ZSwgcGxheUFyZWE6IDEuNSwgZ3JvdW5kOiAnY2FueW9uJywgZ3JvdW5kWVNjYWxlOiA5Ljc2LCBncm91bmRUZXh0dXJlOiAnd2Fsa2Vybm9pc2UnLCBncm91bmRDb2xvcjogJyNDNjYzNDQnLCBncm91bmRDb2xvcjI6ICcjYzk2YjRiJywgZHJlc3NpbmcxOiAnc3RvbmVzJywgZHJlc3NpbmcxQW1vdW50OiA1MDAsIGRyZXNzaW5nMUNvbG9yOiAnI0M2NjM0NCcsIGRyZXNzaW5nMVNjYWxlOiAwLjA2LCBkcmVzc2luZzFWYXJpYW5jZTogeyB4OiAwLjIsIHk6IDAuMSwgejogMC4yfSwgZHJlc3NpbmcxVW5pZm9ybVNjYWxlOiB0cnVlLCBkcmVzc2luZzFPblBsYXlBcmVhOiAxLCBncmlkOiAnbm9uZScsIGdyaWRDb2xvcjogJyMyMzk4OTMnLCBzaGFkb3c6IGZhbHNlfSxcbiAgICAnZ29sZG1pbmUnOiB7ZHJlc3NpbmcyOiAnc3RvbmVzJywgZHJlc3NpbmcyQW1vdW50OiAzMDAsIGRyZXNzaW5nMkNvbG9yOiAnI2ZlOTIxYicsIGRyZXNzaW5nMlNjYWxlOiAuMiwgZHJlc3NpbmcyVmFyaWFuY2U6IHsgeDogMC4yLCB5OiAwLjIsIHo6IDAuMn0sIGRyZXNzaW5nMlVuaWZvcm1TY2FsZTogZmFsc2UsIGRyZXNzaW5nMk9uUGxheUFyZWE6IDAuODMsIGFjdGl2ZTogdHJ1ZSwgc2VlZDogNTMsIHNreVR5cGU6ICdncmFkaWVudCcsIHNreUNvbG9yOiAnIzFlMWMxYScsIGhvcml6b25Db2xvcjogJyM4Yzc5NjQnLCBsaWdodGluZzogJ3BvaW50JywgbGlnaHRQb3NpdGlvbjogeyB4OiAwLCB5OiAxLjUsIHo6IDMuMzN9LCBmb2c6IDAuMjUsIGZsYXRTaGFkaW5nOiB0cnVlLCBwbGF5QXJlYTogMS41LCBncm91bmQ6ICdjYW55b24nLCBncm91bmRZU2NhbGU6IDEwMCwgZ3JvdW5kVGV4dHVyZTogJ25vbmUnLCBncm91bmRDb2xvcjogJyMzNTM1MzUnLCBncm91bmRDb2xvcjI6ICcjMjUyNTI1JywgZHJlc3NpbmcxOiAnaGV4YWdvbnMnLCBkcmVzc2luZzFBbW91bnQ6IDIwMCwgZHJlc3NpbmcxQ29sb3I6ICcjZmU5MjFiJywgZHJlc3NpbmcxU2NhbGU6IDAuNSwgZHJlc3NpbmcxVmFyaWFuY2U6IHsgeDogNCwgeTogMTQsIHo6IDR9LCBkcmVzc2luZzFVbmlmb3JtU2NhbGU6IHRydWUsIGRyZXNzaW5nMU9uUGxheUFyZWE6IDAuMDMsIGdyaWQ6ICdub25lJywgZ3JpZENvbG9yOiAnIzIyMicsIHNoYWRvdzogZmFsc2V9LFxuICAgICd0aHJlZXRvd2Vycyc6IHtkcmVzc2luZzI6ICdub25lJywgZHJlc3NpbmcyQW1vdW50OiAxMCwgZHJlc3NpbmcyQ29sb3I6ICcjNzk1NDQ5JywgZHJlc3NpbmcyU2NhbGU6IDEsIGRyZXNzaW5nMlZhcmlhbmNlOiB7IHg6IDAsIHk6IDAsIHo6IDB9LCBkcmVzc2luZzJVbmlmb3JtU2NhbGU6IHRydWUsIGRyZXNzaW5nMk9uUGxheUFyZWE6IDAsIGFjdGl2ZTogdHJ1ZSwgc2VlZDogNSwgc2t5VHlwZTogJ2dyYWRpZW50Jywgc2t5Q29sb3I6ICcjMjNhMDZiJywgaG9yaXpvbkNvbG9yOiAnI2Y1ZTE3MCcsIGxpZ2h0aW5nOiAnZGlzdGFudCcsIGxpZ2h0UG9zaXRpb246IHsgeDogMC41LCB5OiAxLCB6OiAwfSwgZm9nOiAwLjgsIGZsYXRTaGFkaW5nOiBmYWxzZSwgcGxheUFyZWE6IDEuNSwgZ3JvdW5kOiAnc3Bpa2VzJywgZ3JvdW5kWVNjYWxlOiA0LjI2LCBncm91bmRUZXh0dXJlOiAnd2Fsa2Vybm9pc2UnLCBncm91bmRDb2xvcjogJyMyNzNhNDknLCBncm91bmRDb2xvcjI6ICcjMmI0NjRmJywgZHJlc3NpbmcxOiAndG93ZXJzJywgZHJlc3NpbmcxQW1vdW50OiAxNSwgZHJlc3NpbmcxQ29sb3I6ICcjNWY2ZDk0JywgZHJlc3NpbmcxU2NhbGU6IDUwLCBkcmVzc2luZzFWYXJpYW5jZTogeyB4OiAxMCwgeTogMTAwLCB6OiAxMH0sIGRyZXNzaW5nMVVuaWZvcm1TY2FsZTogdHJ1ZSwgZHJlc3NpbmcxT25QbGF5QXJlYTogMCwgZ3JpZDogJ25vbmUnLCBncmlkQ29sb3I6ICcjMjM5ODkzJywgc2hhZG93OiBmYWxzZSwgZHJlc3NpbmcyOiAnY3ViZXMnLCBkcmVzc2luZzJBbW91bnQ6IDMwfSxcbiAgICAncG9pc29uJzoge2RyZXNzaW5nMjogJ25vbmUnLCBkcmVzc2luZzJBbW91bnQ6IDEwLCBkcmVzc2luZzJDb2xvcjogJyM3OTU0NDknLCBkcmVzc2luZzJTY2FsZTogMSwgZHJlc3NpbmcyVmFyaWFuY2U6IHsgeDogMCwgeTogMCwgejogMH0sIGRyZXNzaW5nMlVuaWZvcm1TY2FsZTogdHJ1ZSwgZHJlc3NpbmcyT25QbGF5QXJlYTogMCwgYWN0aXZlOiB0cnVlLCBzZWVkOiA5Miwgc2t5VHlwZTogJ2dyYWRpZW50Jywgc2t5Q29sb3I6ICcjMWVhODRhJywgaG9yaXpvbkNvbG9yOiAnIzE3NzEzMicsIGxpZ2h0aW5nOiAnZGlzdGFudCcsIGxpZ2h0UG9zaXRpb246IHsgeDogMC41LCB5OiAxLCB6OiAwfSwgZm9nOiAwLjgsIGZsYXRTaGFkaW5nOiBmYWxzZSwgcGxheUFyZWE6IDEuNSwgZ3JvdW5kOiAnY2FueW9uJywgZ3JvdW5kWVNjYWxlOiA5Ljc2LCBncm91bmRUZXh0dXJlOiAnbm9uZScsIGdyb3VuZENvbG9yOiAnIzg1MWYzMScsIGdyb3VuZENvbG9yMjogJyM5MTIyMzUnLCBkcmVzc2luZzE6ICdoZXhhZ29ucycsIGRyZXNzaW5nMUFtb3VudDogNDAsIGRyZXNzaW5nMUNvbG9yOiAnI2M3NDE1YicsIGRyZXNzaW5nMVNjYWxlOiAyMCwgZHJlc3NpbmcxVmFyaWFuY2U6IHsgeDogMjAsIHk6IDIwMCwgejogMjB9LCBkcmVzc2luZzFVbmlmb3JtU2NhbGU6IGZhbHNlLCBkcmVzc2luZzFPblBsYXlBcmVhOiAwLCBncmlkOiAnY3Jvc3NlcycsIGdyaWRDb2xvcjogJyMxZWE4NGEnLCBzaGFkb3c6IGZhbHNlfSxcbiAgICAnYXJjaGVzJzoge2RyZXNzaW5nMjogJ2lzbGFuZHMnLCBkcmVzc2luZzJBbW91bnQ6IDUwLCBkcmVzc2luZzJDb2xvcjogJyNlNDQ2ZmInLCBkcmVzc2luZzJTY2FsZTogMSwgZHJlc3NpbmcyVmFyaWFuY2U6IHt4OiAxLCB5OiAyLCB6OiAwfSwgZHJlc3NpbmcyVW5pZm9ybVNjYWxlOiBmYWxzZSwgZHJlc3NpbmcyT25QbGF5QXJlYTogMC42LCBhY3RpdmU6IHRydWUsIHNlZWQ6IDE5LCBza3lUeXBlOiAnYXRtb3NwaGVyZScsIHNreUNvbG9yOiAnIzhjYmRjOCcsIGhvcml6b25Db2xvcjogJyNkZGQnLCBsaWdodGluZzogJ2Rpc3RhbnQnLCBsaWdodFBvc2l0aW9uOiB7IHg6IC0wLjExLCB5OiAwLjE2LCB6OiAwLjMzfSwgZm9nOiAwLjY3LCBmbGF0U2hhZGluZzogdHJ1ZSwgcGxheUFyZWE6IDEuNSwgZ3JvdW5kOiAnY2FueW9uJywgZ3JvdW5kWVNjYWxlOiAxMCwgZ3JvdW5kVGV4dHVyZTogJ3dhbGtlcm5vaXNlJywgZ3JvdW5kQ29sb3I6ICcjNWM0NTY2JywgZ3JvdW5kQ29sb3IyOiAnIzQ0M2E0ZScsIGRyZXNzaW5nMTogJ2FyY2hlcycsIGRyZXNzaW5nMUFtb3VudDogMzAsIGRyZXNzaW5nMUNvbG9yOiAnIzYyNTM2ZicsIGRyZXNzaW5nMVNjYWxlOiAyNiwgZHJlc3NpbmcxVmFyaWFuY2U6IHsgeDogMjAsIHk6IDQwLCB6OiAyMH0sIGRyZXNzaW5nMVVuaWZvcm1TY2FsZTogdHJ1ZSwgZHJlc3NpbmcxT25QbGF5QXJlYTogMC4wNCwgZ3JpZDogJ25vbmUnLCBncmlkQ29sb3I6ICcjY2NjJywgc2hhZG93OiBmYWxzZX0sXG4gICAgJ3Ryb24nOiB7ZHJlc3NpbmcyOiAnbm9uZScsIGRyZXNzaW5nMkFtb3VudDogMTAsIGRyZXNzaW5nMkNvbG9yOiAnIzc5NTQ0OScsIGRyZXNzaW5nMlNjYWxlOiAxLCBkcmVzc2luZzJWYXJpYW5jZTogeyB4OiAwLCB5OiAwLCB6OiAwfSwgZHJlc3NpbmcyVW5pZm9ybVNjYWxlOiB0cnVlLCBkcmVzc2luZzJPblBsYXlBcmVhOiAwLCBhY3RpdmU6IHRydWUsIHNlZWQ6IDE0LCBza3lUeXBlOiAnZ3JhZGllbnQnLCBza3lDb2xvcjogJyMwOTFiMzknLCBob3Jpem9uQ29sb3I6ICcjMjg0YTllJywgbGlnaHRpbmc6ICdkaXN0YW50JywgbGlnaHRQb3NpdGlvbjogeyB4OiAtMC43MiwgeTogMC42MiwgejogMC40fSwgZm9nOiAwLjgsIGZsYXRTaGFkaW5nOiBmYWxzZSwgcGxheUFyZWE6IDEuNSwgZ3JvdW5kOiAnc3Bpa2VzJywgZ3JvdW5kWVNjYWxlOiA0LjkxLCBncm91bmRUZXh0dXJlOiAnbm9uZScsIGdyb3VuZENvbG9yOiAnIzA2MTEyMycsIGdyb3VuZENvbG9yMjogJyM2OTQ0MzknLCBkcmVzc2luZzE6ICd0b3dlcnMnLCBkcmVzc2luZzFBbW91bnQ6IDIwLCBkcmVzc2luZzFDb2xvcjogJyNmYjAwMGUnLCBkcmVzc2luZzFTY2FsZTogMTUsIGRyZXNzaW5nMVZhcmlhbmNlOiB7IHg6IDIwLCB5OiAyMCwgejogMjB9LCBkcmVzc2luZzFVbmlmb3JtU2NhbGU6IHRydWUsIGRyZXNzaW5nMU9uUGxheUFyZWE6IDAsIGdyaWQ6ICcxeDEnLCBncmlkQ29sb3I6ICcjZmIwMDBlJywgc2hhZG93OiBmYWxzZX0sXG4gICAgJ2phcGFuJzoge2RyZXNzaW5nMjogJ2dyYXNzJywgZHJlc3NpbmcyQW1vdW50OiAxNTAwLCBkcmVzc2luZzJDb2xvcjogJyNkYjQ0NTMnLCBkcmVzc2luZzJTY2FsZTogMC41LCBkcmVzc2luZzJWYXJpYW5jZToge3g6IDEsIHk6IDIsIHo6IDB9LCBkcmVzc2luZzJVbmlmb3JtU2NhbGU6IGZhbHNlLCBkcmVzc2luZzJPblBsYXlBcmVhOiAwLjYsIGFjdGl2ZTogdHJ1ZSwgc2VlZDogMTQsIHNreVR5cGU6ICdncmFkaWVudCcsIHNreUNvbG9yOiAnIzdlNWRiNScsIGhvcml6b25Db2xvcjogJyNiNGFkZGEnLCBsaWdodGluZzogJ2Rpc3RhbnQnLCBsaWdodFBvc2l0aW9uOiB7IHg6IDEuMzMsIHk6IDEsIHo6IDAuMjR9LCBmb2c6IDAuOSwgZmxhdFNoYWRpbmc6IGZhbHNlLCBwbGF5QXJlYTogMS41LCBncm91bmQ6ICdoaWxscycsIGdyb3VuZFlTY2FsZTogMjUsIGdyb3VuZFRleHR1cmU6ICd3YWxrZXJub2lzZScsIGdyb3VuZENvbG9yOiAnIzdlNWRiNScsIGdyb3VuZENvbG9yMjogJyNjYWJkZjUnLCBkcmVzc2luZzE6ICd0b3JpaScsIGRyZXNzaW5nMUFtb3VudDogMjAsIGRyZXNzaW5nMUNvbG9yOiAnI2RiNDQ1MycsIGRyZXNzaW5nMVNjYWxlOiAxNSwgZHJlc3NpbmcxVmFyaWFuY2U6IHsgeDogMCwgeTogMCwgejogMH0sIGRyZXNzaW5nMVVuaWZvcm1TY2FsZTogdHJ1ZSwgZHJlc3NpbmcxT25QbGF5QXJlYTogMCwgZ3JpZDogJ3Nwb3RzJywgZ3JpZENvbG9yOiAnI2U0YjY3NicsIHNoYWRvdzogZmFsc2V9LFxuICAgICdkcmVhbSc6IHtkcmVzc2luZzI6ICdub25lJywgZHJlc3NpbmcyQW1vdW50OiAxMCwgZHJlc3NpbmcyQ29sb3I6ICcjNzk1NDQ5JywgZHJlc3NpbmcyU2NhbGU6IDEsIGRyZXNzaW5nMlZhcmlhbmNlOiB7IHg6IDAsIHk6IDAsIHo6IDB9LCBkcmVzc2luZzJVbmlmb3JtU2NhbGU6IHRydWUsIGRyZXNzaW5nMk9uUGxheUFyZWE6IDAsIGFjdGl2ZTogdHJ1ZSwgc2VlZDogMTcsIHNreVR5cGU6ICdncmFkaWVudCcsIHNreUNvbG9yOiAnIzg3ZmFmNCcsIGhvcml6b25Db2xvcjogJyNiMzQwOTMnLCBsaWdodGluZzogJ2Rpc3RhbnQnLCBsaWdodFBvc2l0aW9uOiB7IHg6IC0wLjcyLCB5OiAwLjUzLCB6OiAwLjk3fSwgZm9nOiAwLjgsIGZsYXRTaGFkaW5nOiBmYWxzZSwgcGxheUFyZWE6IDEuNSwgZ3JvdW5kOiAnaGlsbHMnLCBncm91bmRZU2NhbGU6IDIwLCBncm91bmRUZXh0dXJlOiAnY2hlY2tlcmJvYXJkJywgZ3JvdW5kQ29sb3I6ICcjYjM0MDkzJywgZ3JvdW5kQ29sb3IyOiAnI2MwNTBhMicsIGRyZXNzaW5nMTogJ211c2hyb29tcycsIGRyZXNzaW5nMUFtb3VudDogMzAwLCBkcmVzc2luZzFDb2xvcjogJyMzY2Y3ZWQnLCBkcmVzc2luZzFTY2FsZTogMC4yLCBkcmVzc2luZzFWYXJpYW5jZTogeyB4OiAwLjIsIHk6IDAuMiwgejogMC4yfSwgZHJlc3NpbmcxVW5pZm9ybVNjYWxlOiB0cnVlLCBkcmVzc2luZzFPblBsYXlBcmVhOiAxLCBncmlkOiAnbm9uZScsIGdyaWRDb2xvcjogJyMyMzk4OTMnLCBzaGFkb3c6IGZhbHNlfSxcbiAgICAndm9sY2Fubyc6IHtkcmVzc2luZzI6ICdub25lJywgZHJlc3NpbmcyQW1vdW50OiAxMCwgZHJlc3NpbmcyQ29sb3I6ICcjNzk1NDQ5JywgZHJlc3NpbmcyU2NhbGU6IDEsIGRyZXNzaW5nMlZhcmlhbmNlOiB7IHg6IDAsIHk6IDAsIHo6IDB9LCBkcmVzc2luZzJVbmlmb3JtU2NhbGU6IHRydWUsIGRyZXNzaW5nMk9uUGxheUFyZWE6IDAsIGFjdGl2ZTogdHJ1ZSwgc2VlZDogOTIsIHNreVR5cGU6ICdncmFkaWVudCcsIHNreUNvbG9yOiAnIzRhMDcwZicsIGhvcml6b25Db2xvcjogJyNmNjIzMDAnLCBsaWdodGluZzogJ3BvaW50JywgbGlnaHRQb3NpdGlvbjogeyB4OiAwLjUsIHk6IDIuMjUsIHo6IDB9LCBmb2c6IDAuODcsIGZsYXRTaGFkaW5nOiBmYWxzZSwgcGxheUFyZWE6IDEuNSwgZ3JvdW5kOiAnY2FueW9uJywgZ3JvdW5kWVNjYWxlOiA5Ljc2LCBncm91bmRUZXh0dXJlOiAnd2Fsa2Vybm9pc2UnLCBncm91bmRDb2xvcjogJyNmYjA4MDMnLCBncm91bmRDb2xvcjI6ICcjNTEwMDAwJywgZHJlc3NpbmcxOiAnYXJjaGVzJywgZHJlc3NpbmcxQW1vdW50OiAxNSwgZHJlc3NpbmcxQ29sb3I6ICcjZmIwODAzJywgZHJlc3NpbmcxU2NhbGU6IDMsIGRyZXNzaW5nMVZhcmlhbmNlOiB7IHg6IDEwLCB5OiAxMDAsIHo6IDEwfSwgZHJlc3NpbmcxVW5pZm9ybVNjYWxlOiBmYWxzZSwgZHJlc3NpbmcxT25QbGF5QXJlYTogMC4yLCBncmlkOiAnbm9uZScsIGdyaWRDb2xvcjogJyNmYTBlMDAnLCBzaGFkb3c6IGZhbHNlfSxcbiAgICAnc3RhcnJ5Jzoge2RyZXNzaW5nMjogJ25vbmUnLCBkcmVzc2luZzJBbW91bnQ6IDEwLCBkcmVzc2luZzJDb2xvcjogJyM3OTU0NDknLCBkcmVzc2luZzJTY2FsZTogMSwgZHJlc3NpbmcyVmFyaWFuY2U6IHsgeDogMCwgeTogMCwgejogMH0sIGRyZXNzaW5nMlVuaWZvcm1TY2FsZTogdHJ1ZSwgZHJlc3NpbmcyT25QbGF5QXJlYTogMCwgYWN0aXZlOiB0cnVlLCBzZWVkOiAxLCBza3lUeXBlOiAnYXRtb3NwaGVyZScsIHNreUNvbG9yOiAnIzg4YycsIGhvcml6b25Db2xvcjogJyNkZGQnLCBsaWdodGluZzogJ2Rpc3RhbnQnLCBsaWdodFBvc2l0aW9uOiB7IHg6IDAsIHk6IC0wLjAxLCB6OiAtMC40Nn0sIGZvZzogMC43LCBmbGF0U2hhZGluZzogZmFsc2UsIHBsYXlBcmVhOiAxLjUsIGdyb3VuZDogJ2hpbGxzJywgZ3JvdW5kWVNjYWxlOiAzLCBncm91bmRUZXh0dXJlOiAnbm9uZScsIGdyb3VuZENvbG9yOiAnIzU1M2UzNScsIGdyb3VuZENvbG9yMjogJyM2OTQ0MzknLCBkcmVzc2luZzE6ICdub25lJywgZHJlc3NpbmcxQW1vdW50OiAxMDAsIGRyZXNzaW5nMUNvbG9yOiAnIzc5NTQ0OScsIGRyZXNzaW5nMVNjYWxlOiA1LCBkcmVzc2luZzFWYXJpYW5jZTogeyB4OiAxLCB5OiAxLCB6OiAxfSwgZHJlc3NpbmcxVW5pZm9ybVNjYWxlOiB0cnVlLCBncmlkOiAnMXgxJywgZHJlc3NpbmcxT25QbGF5QXJlYTogMCwgZ3JpZENvbG9yOiAnIzM5ZDJmMicsIHNoYWRvdzogZmFsc2V9LFxuICAgICdvc2lyaXMnOiB7ZHJlc3NpbmcyOiAnbm9uZScsIGRyZXNzaW5nMkFtb3VudDogMTAsIGRyZXNzaW5nMkNvbG9yOiAnIzc5NTQ0OScsIGRyZXNzaW5nMlNjYWxlOiAxLCBkcmVzc2luZzJWYXJpYW5jZTogeyB4OiAwLCB5OiAwLCB6OiAwfSwgZHJlc3NpbmcyVW5pZm9ybVNjYWxlOiB0cnVlLCBkcmVzc2luZzJPblBsYXlBcmVhOiAwLCBhY3RpdmU6IHRydWUsIHNlZWQ6IDQ2LCBza3lUeXBlOiAnYXRtb3NwaGVyZScsIHNreUNvbG9yOiAnIzg4YycsIGhvcml6b25Db2xvcjogJyNkZGQnLCBsaWdodGluZzogJ2Rpc3RhbnQnLCBsaWdodFBvc2l0aW9uOiB7IHg6IDAsIHk6IDAuMDIsIHo6IC0wLjQ2fSwgZm9nOiAwLCBmbGF0U2hhZGluZzogZmFsc2UsIHBsYXlBcmVhOiAxLjUsIGdyb3VuZDogJ2hpbGxzJywgZ3JvdW5kWVNjYWxlOiAzLCBncm91bmRUZXh0dXJlOiAnbm9uZScsIGdyb3VuZENvbG9yOiAnIzllN2I0NycsIGdyb3VuZENvbG9yMjogJyM5ZTdiNDcnLCBkcmVzc2luZzE6ICdweXJhbWlkcycsIGRyZXNzaW5nMUFtb3VudDogMTUsIGRyZXNzaW5nMUNvbG9yOiAnIzllN2I0NycsIGRyZXNzaW5nMVNjYWxlOiA1LCBkcmVzc2luZzFWYXJpYW5jZTogeyB4OiAzMCwgeTogMzAsIHo6IDMwfSwgZHJlc3NpbmcxVW5pZm9ybVNjYWxlOiB0cnVlLCBncmlkOiAnZG90cycsIGRyZXNzaW5nMU9uUGxheUFyZWE6IDAsIGdyaWRDb2xvcjogJyNkYWE0NTInLCBzaGFkb3c6IGZhbHNlfVxuICB9LFxuXG4gIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBzdGFnZSBncm91bmQgZGlhbWV0ZXIgKGFuZCBza3kgcmFkaXVzKVxuICAgIHRoaXMuU1RBR0VfU0laRSA9IDIwMDtcblxuICAgIHRoaXMucmFuZG9tID0gdGhpcy5yYW5kb20uYmluZCh0aGlzKTtcblxuICAgIC8vIGRhdGEgZm9yIGRyZXNzaW5nIG1lc2hlc1xuICAgIHRoaXMuYXNzZXRzID0ge1xuICAgICAgJ2FyY2hlcyc6IFtcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6ICdtZXNoJyxcbiAgICAgICAgICB2ZXJ0aWNlczogWzQwOSwyNjgsNCwzNTEsMjI4LDM2LDMzNiwyMzYsLTU3LC0xNTIsMzkxLDY5LC0xMzUsMzU4LDg4LC0xMTksMzMwLDQzLC0yMCwzNTgsLTM1LC0xNTMsMzU3LC00NywzNyw0MTMsLTI2LC0yMCw0MTEsLTE0LC0zMDIsMTQ4LDE1NCwtMzM5LDEyMSwtMTI2LC0zODksMjAwLC04OCwtNDc3LDE5MywtNzYsLTMxNCwzNDYsLTE5LC0zMTQsMzA2LC0zMCwtMjUwLDI5NiwtNzMsLTI2NywyMzcsLTgyLC0yMTIsMzAzLC02OCwtMjQ1LDIwMCwtNjcsLTIyMywzMDQsMTA4LC0zMjksMjk5LDEwNywtMjg5LDM1MCw3NiwtMzIwLDM0Miw2OSwxMTksMzczLC0zOSwzOCwzNzAsOCwxMTMsMzY3LDUyLDQ5MiwyMDIsLTMxLDQ2Miw4MywtMTA0LDQ0Nyw3MSwtODAsNDI2LDExMiwyNSw0ODIsMTg5LC03LDIyMiwzNzIsNiwxMjEsNDAyLDQxLDg3LDM4Miw2NywyMjEsMzQ2LDU1LDU1OSw5MywtMTMsNTI4LDQ3LDM5LDUwNSwyMSwtMTExLDUyOCw1NCwtMTAxLDYxNiwzMSwtNTMsNDQyLDI1NiwtMTUsMzAwLDMzOCwxOSwyNTcsMzA4LC03OSw0MDgsMjU2LC03NCwzMTIsMzUyLC0yNiwzODQsMjk3LC0zMSw0MzcsMjU3LC00NywtMjksNDE1LDUzLC0yMzIsMzc3LDU5LC0xMzksMzM1LDc3LC0xMzIsMzQ0LDIsLTE4LDM3NywtMzcsLTE3MSwzODcsLTI4LC0yNTQsMzg0LDE4LC02NTEsLTI3LDI3LC00MzUsLTI4LDE3OSwtMzQ1LDE0OSwxNjUsLTI3MiwtMjgsMjMsLTIxNSwxNDYsLTIsLTI3OSwtMjksLTU5LC0yMTEsMTQ1LC01NSwtMzM3LC0yOCwtMTI4LC00MTMsMjQ3LDAsLTI5MywzNjMsMjQsLTIxNCwyNTQsLTM2LC0xNjQsMjkwLDMzLC0yODQsMTUwLDk0LC0yMTgsMzYyLDEwNSw3NSwzNjksMjksNTE4LDE0NywtNjMsNDQ3LDE5MCwtNzAsNDQ1LDU2LC0xMDUsMzkxLDE4NSwtNjAsNDMxLDQ5LC0zMyw0NTksODMsMjYsNDcwLDE2Miw0MiwxMzAsMzkwLDUzLDE2NywzNDEsLTMwLDEyNSwzOTQsLTQ1LDIzOSwzNjgsLTE3LDkxLDQxNCwxMCw0NTAsMTgsMiw0NDksLTI3LC05LDQzNiwtMjgsLTU4LDQ5NiwtMjcsLTExMCw1ODIsLTI4LC0xNDAsNjQ3LC0yNywtNTYsMzI1LDMyNSwtNDUsLTMwNywyOTcsLTU2LC02NDcsLTI4LC00NSwtMTg4LDMxMCwtNTQsLTI2NCwxOTcsMTEzLC0zNjcsMTc1LDEzOSw4LDM4Nyw4Miw0MjYsNDUsLTU1LDExNCwzNTksLTI4LDUwMCwyNyw0NCw0NjEsLTI5LDEzLC01MTIsLTI3LC0xNTEsLTE1MiwzNzYsLTM4LC00OTAsLTI4LDE0OCwxMiwzNzAsLTI4LDQ0MiwxNjAsNDIsNDY1LDE5NCwzMiwzODEsMTgzLC0zMyw2NDksLTI3LC0zNCw0NDQsMTYsMjksNjE2LC0yOCwyNSw0MTcsMjY3LC02NiwtMTMyLDM1MiwtMzQsLTMyMiwtMjcsMTMwLC0yNzEsODYsLTExNSwtNjM1LC0yOCwtMTIxLC0yOTEsMjAzLC05OSwxNzYsNDA1LC0xMCw1NjEsNTIsLTkzLDM3MSwzMDUsOSwzMTEsMjM3LC0yMiwzNzcsMjAwLC04MSwtMTI5LDQwNiw0NiwtMTU0LDM3MSw5OSwtODIsMzYxLDcxLC0yMSwzNTQsMjYsLTkxLDM2MywtMjcsLTE2NSw0MTMsLTEyLC00MTQsMjE1LDExMCwtMjM4LDEyNywyNiwtNDA4LC0yOCwtMTI4LC02NzQsLTI4LC05NCwtNDQ2LDIzMiwtMzksLTMxMSwyMjYsLTkwLC0yNTUsMjEwLC02MSwtMjM1LDE5MiwtMTEsLTIxNywyMTgsNTgsLTI2OSwyOTksMTI0LC0zODYsMjc2LDc4LC0zOTksMjgxLDQyLDE1LDM3Myw1OCwxNiwzOTMsNzUsNTQ5LDEwNywtNDYsNDgxLDE4OCwtNjgsNDA5LDEyMCwtNDEsNTQxLDgxLDEyLDIzMCwzNjgsNDEsMTk0LDM1MCwtNTAsMjI0LDM2MSwtNTAsNjA0LC0yOCwtMTAsNjAyLC0yNywzNSw0ODYsNTYsLTEyMSw1MDIsNjksLTEyMCw0NTcsLTI3LC0xMTAsMjI2LDMxNywtNDAsLTU4NCwtMjgsLTEyNCw0MzksLTI2LC0zMCw0NjcsLTI2LDM5LDU0NywtMjcsLTE0NiwyMSwzNjgsMTQsNDY2LDIyOSwtMjksNTc4LC0yNyw0NCw2MDksLTI3LC05NiwyOTEsMzU2LC0xNSwyOTAsMzA2LDM0LDI1NSwzMjEsMjgsMjMxLDMxMSwtNSwtMjUxLDM4Niw1MCwtMTgzLDMwNyw4NywtMTUyLDMwNywyNCwtMjY0LDM3MywtMTIsLTM5MiwtMjcsMTkwLC0zMzMsLTI4LDg0LC0yODEsLTI3LDU0LC0yNzAsLTI4LC0yMywtMzA4LC0yOCwtMTAxLC02ODcsLTI3LC01OSwzOSw0MTgsMzksNDEzLDE2MywyNSw0MDQsMjA2LC05MCw1NCw0MDAsLTMxLDEyMSwzNTIsOCwtNDU0LDQxLDE0OCwtNDI2LDksMTgyLC01NjQsMTE1LDMsLTQyNywyNywtMTA3LC01NDgsMTE4LC0zMiwtNTU2LDEyMiwtNTMsLTUxNyw5MSwtMTAxLC00NzUsNTQsMTQwLC00NjEsNTIsLTEzNCwtNTU4LDExOSwtNzEsLTQzNCwyODYsNTksLTY4NywtMzEsNTIsLTU5NSwxNDYsMjIsLTY3MCwtMjgsMTY0LC01MzcsMTY2LDEyMiwtNTc1LC0yOCwyMTcsLTU2NiwxNTksNjUsLTQ3MCwxNTIsMTM2LC03MTIsLTI5LDEwMiwtNjM5LC0yOSwyMTEsLTUzMiwtMzAsMTgxLC00NDIsLTMwLC0xMDBdLFxuICAgICAgICAgIGZhY2VzOiBbNzYsMTA0LDE2MiwxLDE3NiwxMDMsMTAzLDc2LDEsMiwxMTksNzMsNzMsMTA1LDIsMiwxMTgsMTUyLDQ1LDE2MSw0Niw0NiwxMDksNDUsMywxMjAsNDksNDksNjgsMywzLDEyMSwxMzksMTM5LDQ4LDMsNCwxMjIsOTQsOTQsMTIxLDQsNiwxMjMsMTI0LDksMTc1LDgxLDEwLDE2OSwxMTEsMTAsNjcsOTIsODgsNDMsMTQ2LDExLDEzMSwxMTQsMTEsMTI4LDE4MywxMywxMzAsMTUsOTAsMTg0LDE3NCw5MCwxODIsMTg0LDEzMCwxODQsNjMsMTQsMTMwLDYzLDE1LDEzMCwxNCwxNiwxMzEsMTIsMTUsMTY4LDUzLDE4LDkxLDE3LDEzMSwxNiwxNyw2NSwxMzMsMTMyLDY1LDEzMiw5MSw2NywxMzQsMTY2LDE2Niw5Miw2NywyMCwxMzUsOTIsMjAsMTY2LDQsNCwxMjEsMjAsMjIsMTM1LDY4LDI1LDEwMiw5NiwyNSwxNTcsMTAyLDY5LDEzOCwxNTcsNjksMTU3LDI1LDM5LDE1MCw3MSw3MSwxNDEsMzksMjgsMTUwLDE0OSwxNDksNzIsMjgsMTQyLDE3NiwxMDUsMzYsMTQwLDI3LDI3LDE0MywzNiwzMiwxMTUsODEsMzIsMTQ0LDE2MSwxNjEsODAsMzIsNzcsMzUsMTQ0LDM0LDI2LDc3LDc4LDE3OSw5NiwxNDUsMTUyLDc4LDE3OCw3OSwxNDUsODAsMTQ2LDc5LDE0NywxNDAsMzYsMTQzLDEwOCwzNiwxNDMsMzcsMTQ4LDc0LDk1LDE1NCwxNTQsODMsNzQsNzIsMTQ5LDE1MSwxNTEsOTUsNzIsMzgsMTUwLDE1Niw0MCwxNDcsMTA2LDcwLDE0MCw0MCw0MCwxMTYsNzAsNDIsMTYyLDAsMzUsMTYzLDE2Miw0MywxNDUsMTQ2LDQ2LDExNyw0MSw0NywxNTgsMjcsNDgsMTM5LDE3NSwxMjIsMTM4LDk0LDE1NywxMzgsMTIzLDUyLDE3OCwxMDIsNTIsMTAyLDYsNTIsMTI0LDcsNywxMDAsNTIsNTMsMTI1LDgsNTcsOTMsMTgxLDU2LDE2OSwxODEsNTksMTI3LDU4LDYwLDE3Myw2MSw2MiwxMjgsMTEsMTEsMTEyLDYyLDY1LDkxLDE2Nyw2NSwxNjcsNjYsMTI2LDkzLDIxLDIyLDY4LDQ5LDcyLDk1LDI5LDE0MiwyOSw3NCw3NCw4MiwxNDIsNzUsMTA3LDk3LDc1LDk3LDEwMyw3Niw5NywzNywxMDQsMTQzLDMxLDc4LDE1MiwxNjQsNzgsMTY0LDE3OSw3OSwxNzgsOCw5NywxNTUsMTU5LDEwNyw5OCwxNTUsODMsOTgsODIsMTU0LDk1LDg0LDM5LDExNiw4Niw4NiwxNTYsMzksODcsMTYwLDExNiwyNCwxNDUsOTYsMTYyLDEwNCwwLDEwNSwxMTgsMiw0MywxNzcsMTE5LDQ0LDE3Nyw0Myw5MSw1MSwxNjcsNDQsODgsMTA5LDQ2LDE2MSwxMTcsMyw2OCwxMjEsMyw0OCwxMjAsNCwxNjYsNTAsNTAsMTIyLDQsNSwxMjMsMTIyLDEyMywxMzgsMTIyLDExMCwxMjQsNTEsMTcwLDEwLDExMSwxMTAsOTEsNyw3LDEyNCwxMTAsOCwxMjUsOSw5LDgxLDgsMTg2LDEyLDE4OCw5MiwxMzUsMTAsMTEsMTE0LDExMiw2NCw2MywxMzcsMTMsMTUsODksODksNTMsMTAwLDY0LDE2OCwxNCwxNCwxNjgsMTUsODksMTAwLDE2LDE2LDEyLDg5LDEwMCwxOCwxNiwxNyw5MSwxMzIsMTEyLDE5LDYxLDE4LDcsOTEsMTksMTcsMTMyLDEzMywxMjcsNTksMTMzLDU5LDYxLDEzNiwyMSwyMiwxMzQsMTI3LDEzMywyMCw5MiwxNjYsMTIxLDEzNSwyMCwxNTgsMzEsMjcsMjEsMTM1LDIyLDIzLDEzNywxMzYsMjQsMTAyLDE3OCwxNzgsMTQ1LDI0LDI1LDE3OSw2OSwyNiw5NCwxMzgsMjcsMTQwLDcwLDI3LDcwLDE0MSwxNTAsMTc3LDcxLDI4LDE3NywxNTAsMjksMTQyLDczLDczLDExOSwyOSwxNDIsODIsMzAsMzAsMTc2LDE0MiwxMDcsNzUsODIsMzEsMTQzLDI3LDMzLDgxLDE3NSwzMSw0MSwxMDQsMTE1LDc5LDgsMzIsMzMsMTQ0LDgwLDExNSwzMiwzMywxNzUsMTM5LDM1LDE2Miw0Miw3NywxMzksMzQsMTYzLDI2LDE3OSwxNjMsMTc5LDE2NCw3OCw5NiwxNDUsMTc3LDI5LDExOSwxMDgsMTQzLDE0OCwxNDgsMzcsMTU5LDk3LDE1OSwzNyw3NCw4Myw4MiwzOCwxNDksMTUwLDE1NiwxNTAsMzksNDAsMTA2LDg3LDg3LDExNiw0MCwxNDAsMTQ3LDQwLDE2MSwxNDQsNDIsNDIsMTE3LDE2MSw0MSwwLDEwNCw0MSwxMTcsMCwwLDExNyw0MiwxNjQsMTE4LDE2MywxLDE2MywxMTgsMTE4LDE3NiwxLDExOCwxMDUsMTc2LDE1MiwxMTgsMTY0LDQzLDE1MiwxNDUsNDMsMTE5LDIsNzEsMTA5LDE0MSw0Nyw0MSwxNTgsNDQsNzEsMTc3LDQ1LDEwOSw4OCw0NSw4OCwxNDYsNDYsNDcsMTA5LDE0MSw0NywyNywxNjcsNTAsMTY2LDQ5LDEyMCwxNjUsMTM5LDEyMSw5NCw1LDEyMiw1MCwxMjMsNTEsMTI0LDE1Nyw2LDEwMiwxNTcsMTIzLDYsMTAwLDgsMTc4LDUsMTY3LDUxLDYsMTI0LDUyLDEwMCwxNzgsNTIsNTMsMTY4LDEyNSwxMjUsMTY1LDEyMCw1NCwxMjUsMTY4LDksNDgsMTc1LDEyMCw5LDEyNSw5MywxMCwxMzUsMTgxLDEwMSw1Niw1NywxNjksMTAsNTksMTcyLDYxLDY3LDE3MCwxNzEsNjcsMTcxLDEyNyw1OCwxMjcsMTcxLDEyOSwxODYsMTEzLDYwLDYxLDE3Miw2MSwxNzMsMTEyLDYyLDExMiwxNzMsMTc0LDE4OSwxMjksMTY1LDY0LDIzLDY0LDEzNywyMywxNjUsMjIsNDksNjQsNTQsMTY4LDE3LDExNCwxMzEsMTcsMTEyLDExNCw2NiwxMzMsNjUsMTksMTMyLDEzMywxOSwxMzMsNjEsMTM0LDEzMyw2NiwxNjYsMTM0LDY2LDE2Niw2NiwxNjcsOTMsMTM1LDIxLDY4LDEzNSwxMjEsMjMsMTM2LDIyLDk0LDM0LDEzOSwyNSw5NiwxNzksMjYsMTM4LDY5LDY5LDE3OSwyNiwzMCwxMDMsMTc2LDExNiwxNDEsNzAsMzksMTQxLDExNiw3MywxNDIsMTA1LDE0Myw3NiwzNywyNiwzNSw3NywxMDMsOTcsNzYsNzcsMTQ0LDMzLDMzLDEzOSw3NywzOCwxNTEsMTQ5LDgwLDE2MSw0NSw4MCw0NSwxNDYsODEsMTE1LDgsMTA3LDE1NSw5Nyw4Miw5OCwxMDcsOTUsMTUxLDg0LDM4LDE1Niw4NSw4NiwxMTYsMTYwLDk2LDEwMiwyNCw3MiwyOSwyOCwyOSw5NSw3NCw3NSwzMCw4MiwxMDgsMTQ3LDM2LDg4LDQ0LDQzLDkxLDExMCw1MSwxNzAsNjcsMTAsMTEsMTgzLDEzMSw2NCwxNCw2Myw4OSwxNSw1MywxMDAsNywxOCwxMTIsMTcsMTksMTI3LDEzNCw2NywxMzYsMTI2LDIxLDE1OCw0MSwzMSwzMywzMiw4MSwxMTUsODAsNzksMTc3LDI4LDI5LDQzLDIsMTUyLDcxLDQ0LDEwOSw0Nyw0Niw0MSwxNDEsMTA5LDQ3LDE2Nyw1LDUwLDEyMyw1LDUxLDEwMCw1Myw4LDEyNSw1NCwxNjUsOSwxMjAsNDgsOTMsNTcsMTAsNTksNTgsMTcyLDE3NCwxODUsMTg5LDE2NSw1NCw2NCwxNjUsMjMsMjIsOTQsMjYsMzQsMzAsNzUsMTAzLDE0MywxMDQsNzYsMjYsMTYzLDM1LDM4LDg1LDE1MSwxOTIsMTgyLDE5MSwxODMsMTI4LDIwMSwxMiwxMyw4OSwxODEsMTY5LDU3LDE4NiwxNTMsMTEzLDE4OCwxODMsOTksMTg0LDE4Miw2MywxODUsMTMsMTg5LDE4MCwxODEsOTMsMTg2LDk5LDE1MywxODksMTg2LDEyOSwxODUsMTg0LDEzMCwxODYsMTMsMTIsMTg3LDkzLDEyNiwxOTMsMTk5LDE5NCwxOTQsMTk2LDE5MywyMDAsMTg3LDE5NSwxODcsMTk3LDE5NSwxODcsMTI2LDE5NywxOTcsMTkwLDE5NCwxOTAsMTM2LDEzNywxOTAsMTk2LDE5NCw2MywxODIsMTkyLDYzLDE5MiwxOTYsMTkyLDE5OCwxOTYsMTkxLDE4Miw1NSwxOTMsMTk2LDE5OCwxOTQsMTk5LDE5NywxOTUsMTk3LDE5OSwxMzYsMTk3LDEyNiwxOTAsMTM3LDYzLDE5MCw2MywxOTYsMTk3LDEzNiwxOTAsMTkyLDE5MSwxOTgsMjAxLDk5LDE4Myw5MCw1NSwxODIsMTgxLDE4MCwxMDEsMTg1LDEzMCwxMywxODYsMTg4LDk5LDE4NiwxODksMTMsMTg3LDE4MCw5MywyMDAsMTAxLDE4NywxODMsMTg4LDEzMSwxODQsMTg1LDE3NCwxODAsMTg3LDEwMSwxNiwxOCwxNywxMiwxMzEsMTg4LDM1LDQyLDE0NCwxNjMsMSwxNjIsNzYsMTYyLDEsNzksMTQ2LDE0NV1cbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgICdzdG9uZXMnOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiAnbWVzaCcsXG4gICAgICAgICAgdmVydGljZXM6IFstMzc2LDE4OSw0MiwyMzAsMjIzLC0zMTAsMzUzLDE2MiwtNjIsNDE0LC0yMywtNjcsMjU2LDkwLC00NzUsMjQsODUsLTUyNiwtNDE4LC0xNiw1NywtNDMyLDY2LC00MCwtMTk5LDE1MSwtMzc2LC0xNTUsNDksNDY3LC05MSwyODksMjAxLDI5MywxOTcsOTEsODEsLTE3LC00ODAsNDIsMTA4LDQzMSwtMzU5LC0xNywtMjUwLDM4MywtMTksLTI0MywxOTQsLTE1LDI3MCwtMjcyLDE4MCwyOTMsLTg2LDIxMiwyNjIsMjM0LDU0LDI5NywzOTUsOTcsLTMwMiwtMTIzLC0yMSwtNDQ0LC00MTYsLTE5LC0xMjMsLTMyMywtMTgsMjY3LC0xMDAsLTE2LDQyOSwtMzAwLDk2LC0zNjEsMTYzLC0xOSw0MDksMTE4LDIwMSwtNDMxLC0yNDEsLTE4LDM5MSwtMTMwLDI3NCwtMzA5LDMwNiwtMTksLTM5OSwtMjIxLDk2LDQwNF0sXG4gICAgICAgICAgZmFjZXM6IFszMSwxOCwxNywwLDE3LDE4LDMsMjAsMiwxOCwxMSwxMCwyOSwyNyw4LDI3LDI5LDEsMCwxOCwxMCwxMCwyOSwwLDE2LDE5LDI2LDExLDIsMSwyMCwzMCw0LDIwLDMsMTUsMzAsMTIsNCw0LDEyLDUsNSwyNyw0LDQsMjcsMjAsMjEsMjUsNSw3LDgsMjUsMjIsNywxNCw3LDI1LDE0LDIzLDI4LDMxLDAsNywxNywyNCwyNiw5LDMxLDI4LDksOCwyNyw1LDIsMjAsMSwxMywxOSwxOCwxMCwxMSwxLDE5LDEzLDI2LDMsMTEsMTksMTksMTYsMywxMSwzLDIsMTEsMTgsMTksMjAsMTUsMzAsMjksMTAsMSwyNSwyMSwxNCw4LDUsMjUsNSwxMiwyMSw2LDcsMjIsNyw2LDIzLDgsMCwyOSw4LDcsMCwyMywzMSw3LDEzLDMxLDksMTgsMzEsMTMsOSwyOCwyNCwyNiwxMyw5LDI3LDEsMjAsNywzMSwxN11cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6ICdtZXNoJyxcbiAgICAgICAgICB2ZXJ0aWNlczogWy0yMTcsMzQsLTE1MywxOTgsOTAsMjAsMjEyLDg1LDE2OSwtMTMxLDkzLDE3MSwxOTcsMTEzLDMwLDE3MywxMjEsMTY0LDMxNSwyOSwtMTYsMjE5LDI0LDE4OSwyODIsNTAsLTEwMiwyMzIsMzgsLTE4MSwtMTk1LC05LC0xNjYsLTE1NiwzMCwtMjA3LC01MSwtOSwtMjMxLC0xODAsOTEsLTE3MywtMTksNzMsLTIwNCwtMjgwLDIzLDk2LC0yNDIsMTAwLDEwNywzLDE1OCwtODIsMTA5LDg4LDIyMSwyNzUsLTEwLC00MCwyMzYsLTEwLC0xMzUsLTE3OCw0OSwxODQsLTEsLTEwLC0yNDMsMjY1LC0xMSwxMDksLTEyLC05LDIzNywtMzYsNDYsMjUxLC0yMzMsODYsLTgxLDkzLDc3LC0xNzEsLTE2MywxMzMsNjksMTgsMTYsMjYzLDI5Niw0NCw5MywxMzEsLTEyLC0yMjYsLTg5LC0xMCwtMjAxLC0yNzMsLTEwLC01MSwtMjQwLC05LDExMCwxOTAsLTEyLDE5MiwtMjUzLC0xMSwtOTIsNDIsNDMsLTI1OCwtMTE1LC0xMSwyMzgsMTY4LDk5LC04OCwtMjg1LC0xMCwyNCw3MSwxMjQsLTE1OCwyOTgsLTEwLDEwLDExNiwxNTAsLTI0LC0yODIsNDQsMzldLFxuICAgICAgICAgIGZhY2VzOiBbNDQsMTYsMjYsMTMsMjYsMTYsMCwyNiwxMywyNywxNCw0MSw0LDUsMSw3LDMwLDIsMjgsNSw0Myw0MSwzOSwyNywxNyw0Myw0MSw0Myw0LDM5LDEzLDI4LDE3LDE3LDQxLDEzLDI4LDQzLDE3LDI0LDI5LDM4LDI5LDM1LDcsMTgsMjUsMjksNSwxOCwyLDE4LDUsMywzMCw0Miw2LDMwLDM1LDIzLDE5LDIwLDgsOCwyMCw5LDksMzksOCwxLDMwLDgsMzEsMzcsOSwxMSwxNCwzNywxNCwyNywzNywzMiwxMSwxMiwxMSwzNywxMiwxMSwwLDEzLDMzLDQwLDQ0LDQ0LDI2LDMzLDMzLDAsMzYsMzQsMzgsMTUsNDQsNDAsMTUsMjEsMywxNiwyNywzOSw5LDIsMzAsMSwyMSwyNSwzLDE2LDMsMjgsMjgsMyw1LDQsNDMsNSw0MSw0MywzOSwxMywxNiwyOCwyNSwyMSwzOCwzOCwyOSwyNSw3LDE4LDI5LDI5LDI0LDM1LDE4LDcsMiwxOCwzLDI1LDMwLDIzLDQyLDMwLDcsMzUsOCwzMCw2LDYsMTksOCw2LDQyLDE5LDgsMzksMSwzNywzMSwyMiwyNyw5LDM3LDksMjAsMzEsMTAsMTEsMzIsMTEsMTAsMCwxMiwzNywyMiwxNCwxMyw0MSwxNCwxMSwxMywzMywyNiwwLDM2LDAsMTAsMjEsNDQsMTUsMTYsNDQsMjEsMTUsNDAsMzQsMzgsMjEsMTUsNCwxLDM5LDUsMiwxXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogJ21lc2gnLFxuICAgICAgICAgIHZlcnRpY2VzOiBbLTEwMSwxMDIsNTcsOTksMzUsMTAyLDQwLDcyLDgwLDU5LDE0LC0xNjgsLTE4NiwyMiw0NSwtMTc2LDI1LC0zMCw2NiwtNywxNDYsMTUzLC03LDUzLC0xMTAsNDcsLTk2LC05MCwtOCwtMTQ2LDE1MCwtNywtMTIsLTIwMCwtNyw4LC0xNzMsLTcsLTU1LDU1LDQ2LC02MCwxMjUsLTcsMTEwLDEzNiwzMCwtMTAsLTE0OSw1OCw2OCwtMTUsODIsLTcxLDk4LC03LC04NiwtMzQsLTYsLTE5NCwtMzMsLTcsMTcxLC0zNiw2NSwxMzcsMzgsLTgsLTE5MiwtMTAzLC05LDE0NywtMTIsNjIsLTE1Ml0sXG4gICAgICAgICAgZmFjZXM6IFsyLDE3LDAsMTcsOCwwLDE3LDI0LDgsMTksMjQsMjIsNSwxMSw0LDIsMTMsMTcsMTcsMTMsMjQsMjEsMjMsMjAsMSwyLDIxLDcsMTUsMSw3LDEwLDE1LDUsOSwxMiwxNSwxOCwxMywwLDUsMTYsMCw4LDUsMSwxNSwyLDEwLDE4LDE1LDMsMTMsMTgsMjQsMywyMiwxMSwyMyw0LDQsMTYsNSwxNiw0LDIzLDI0LDEzLDMsMTUsMTMsMiw2LDEsMjEsNiwyMSwyMCw2LDE0LDEsMiwwLDIxLDEsMTQsNywzLDE4LDIyLDgsMjQsMTksOCwxOSw5LDEyLDExLDUsNSw4LDksMTYsMjMsMjEsMTYsMjEsMF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6ICdtZXNoJyxcbiAgICAgICAgICB2ZXJ0aWNlczogWzg2LDU1LC0xOCw1OCwzOCw3Myw5NywtMTIsNzksMTM1LDcsMTAsLTkzLC0xMSwtNzIsLTEzMyw1LDMzLDEzLDY4LC0zMiw5NCwtMTEsLTU3LC05MCw1Miw1MywtMjQsLTExLC0xMDYsLTEzLC0xMCwxMDQsLTc1LDQ5LC02OSwtMTIsMTgsMTE0LDQ5LC0xMiwtOTYsLTQ2LC0xMSwtODUsLTExOSwtMTEsLTI2LDQ4LDUsLTExMSwtNTgsLTExLDEwNSwtMTE3LC0xMiw1MiwtNSwzNSwtOTMsMTIzLC0xMSw3XSxcbiAgICAgICAgICBmYWNlczogWzUsOCwxMSwyLDMsMSw4LDEsNiwxMSw4LDYsNiwxOSwxMSwxMCwxMiwxNywyMCw3LDMsMyw3LDE2LDE2LDAsMywxNiw5LDE5LDE0LDQsOSwxNSwxOCw1LDUsMTEsMTUsMTgsMTcsNSwxOSwwLDE2LDEsMywwLDAsNiwxLDE5LDYsMCwxMiw4LDE3LDIsMSwxMiwxMiwxMCwyLDEsOCwxMiwzLDIsMjAsMTYsMTMsOSwxNiw3LDEzLDE5LDQsMTEsMTUsMTEsNCwxNyw4LDUsOSw0LDE5XVxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgJ3RvcmlpJzogW1xuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogJ21lc2gnLFxuICAgICAgICAgIG1pcnJvcjogdHJ1ZSxcbiAgICAgICAgICBmbGF0U2hhZGluZzogdHJ1ZSxcbiAgICAgICAgICB2ZXJ0aWNlczogWzY5Miw5NjYsLTUyLDY2MSw4MzQsLTUyLDY5Miw5NjYsNTIsNjYxLDgzNCw1MiwwLDg5NCwtNTIsMCw3NzYsLTUyLDAsODk0LDUyLDAsNzc2LDUyLDUxOCw5MzUsNTIsMzQ1LDkxMyw1MiwxNzAsODk5LDUyLDE2Miw3NzksNTIsMzI4LDc5MCw1Miw0OTQsODA4LDUyLDE3MCw4OTksLTUyLDM0NSw5MTMsLTUyLDUxOCw5MzUsLTUyLDQ5NCw4MDgsLTUyLDMyOCw3OTAsLTUyLDE2Miw3NzksLTUyLDAsNjE4LDE2LDAsNjk3LDE2LDAsNjE4LC0xNiwwLDY5NywtMTYsNTg2LDYxOCwxNiw1ODYsNjk3LDE2LDU4Niw2MTgsLTE2LDU4Niw2OTcsLTE2LDMzMSwtMjksLTc1LDMzMSw3NjYsLTUyLDM2OSwtMjksLTY1LDM1Nyw3NjYsLTQ1LDM5NiwtMjksLTM3LDM3Nyw3NjYsLTI2LDQwNiwtMjksMCwzODQsNzY2LDAsMzk2LC0yOSwzNywzNzcsNzY2LDI2LDM2OSwtMjksNjUsMzU3LDc2Niw0NSwzMzEsLTI5LDc1LDMzMSw3NjYsNTIsMjk0LC0yOSw2NSwzMDUsNzY2LDQ1LDI2NywtMjksMzcsMjg2LDc2NiwyNiwyNTcsLTI5LDAsMjc5LDc2NiwwLDI2NywtMjksLTM3LDI4Niw3NjYsLTI2LDI5NCwtMjksLTY1LDMwNSw3NjYsLTQ1LDAsNzc3LDg1LDAsNjgxLDMzLDMzMyw3NjIsLTc1LDMzMyw4MDYsLTc1LDM3MSw3NjIsLTY1LDM3MSw4MDYsLTY1LDM5OCw3NjIsLTM3LDM5OCw4MDYsLTM3LDQwOCw3NjIsMCw0MDgsODA2LDAsMzk4LDc2MiwzNywzOTgsODA2LDM3LDM3MSw3NjIsNjUsMzcxLDgwNiw2NSwzMzMsNzYyLDc1LDMzMyw4MDYsNzUsMjk2LDc2Miw2NSwyOTYsODA2LDY1LDI2OCw3NjIsMzcsMjY4LDgwNiwzNywyNTgsNzYyLDAsMjU4LDgwNiwwLDI2OCw3NjIsLTM3LDI2OCw4MDYsLTM3LDI5Niw3NjIsLTY1LDI5Niw4MDYsLTY1LDAsNjgxLC0zMywwLDc3NywtODUsNTIsNjgxLDMzLDUyLDc3Nyw4NSw1Miw2ODEsLTMzLDUyLDc3NywtODVdLFxuICAgICAgICAgIGZhY2VzOiBbNCwxMCwxNCwxLDEzLDE3LDExLDYsNywwLDMsMSwxNiwxLDE3LDQsMTksNSwxNCwxOCwxOSwxNSwxNywxOCwzLDgsMTMsMTMsOSwxMiwxMiwxMCwxMSwxOSw3LDUsMTksMTIsMTEsMTgsMTMsMTIsMTYsMiwwLDE1LDgsMTYsMTQsOSwxNSwyMywyNiwyMiwyNywyNCwyNiwyNSwyMCwyNCwyNiwyMCwyMiwyMywyNSwyNywyOSwzMCwyOCwzMSwzMiwzMCwzMywzNCwzMiwzNSwzNiwzNCwzNywzOCwzNiwzOSw0MCwzOCw0MSw0Miw0MCw0Myw0NCw0Miw0NSw0Niw0NCw0Nyw0OCw0Niw0OSw1MCw0OCw1MSwyOCw1MCw1NSw1Niw1NCw1Nyw1OCw1Niw1OSw2MCw1OCw2MSw2Miw2MCw2Myw2NCw2Miw3OSw4MSw4Myw2NSw2Niw2NCw4Miw1Myw3OCw2Nyw2OCw2Niw4MSw1Myw4MCw2OSw3MCw2OCw4Myw4MCw4Miw3MSw3Miw3MCw3OSw4Miw3OCw3Myw3NCw3Miw3NSw2Myw1OSw3NSw3Niw3NCw3Nyw1NCw3Niw2MCw2OCw3Niw0LDYsMTAsMSwzLDEzLDExLDEwLDYsMCwyLDMsMTYsMCwxLDQsMTQsMTksMTQsMTUsMTgsMTUsMTYsMTcsMywyLDgsMTMsOCw5LDEyLDksMTAsMTksMTEsNywxOSwxOCwxMiwxOCwxNywxMywxNiw4LDIsMTUsOSw4LDE0LDEwLDksMjMsMjcsMjYsMjcsMjUsMjQsMjUsMjEsMjAsMjYsMjQsMjAsMjMsMjEsMjUsMjksMzEsMzAsMzEsMzMsMzIsMzMsMzUsMzQsMzUsMzcsMzYsMzcsMzksMzgsMzksNDEsNDAsNDEsNDMsNDIsNDMsNDUsNDQsNDUsNDcsNDYsNDcsNDksNDgsNDksNTEsNTAsNTEsMjksMjgsNTUsNTcsNTYsNTcsNTksNTgsNTksNjEsNjAsNjEsNjMsNjIsNjMsNjUsNjQsNzksNTIsODEsNjUsNjcsNjYsODIsODAsNTMsNjcsNjksNjgsODEsNTIsNTMsNjksNzEsNzAsODMsODEsODAsNzEsNzMsNzIsNzksODMsODIsNzMsNzUsNzQsNTksNTcsNTUsNTUsNzcsNzUsNzUsNzMsNzEsNzEsNjksNzUsNjcsNjUsNjMsNjMsNjEsNTksNTksNTUsNzUsNzUsNjksNjcsNjcsNjMsNzUsNzUsNzcsNzYsNzcsNTUsNTQsNzYsNTQsNTYsNTYsNTgsNzYsNjAsNjIsNjgsNjQsNjYsNjgsNjgsNzAsNzIsNzIsNzQsNjgsNzYsNTgsNjAsNjIsNjQsNjgsNjgsNzQsNzZdXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICAnaXNsYW5kcyc6W1xuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogJ21lc2gnLFxuICAgICAgICAgIGZsYXRTaGFkaW5nOiB0cnVlLFxuICAgICAgICAgIHZlcnRpY2VzOiBbMCwzODE0LDAsLTM1OCw0OTk1LDkxMCwtOTkxLDQ5OTgsLTQsLTIzMyw1MDMzLC04NjUsMjAwLDUyNzAsMTA5MiwtNjEwLDUxOTksLTcyNiwxMTUsNzM0NCwyNzIsNjUwLDQ4NjAsNDAwLDEwMjEsNTYxMywtMTk4LDY0NCw1NjI4LDczNSwtOTI2LDU5NDksLTY1LDcwNyw1MTg3LC03ODMsLTQ3OCw1OTkxLDgzMCwtNDM4LDYzMTksLTU4NSwyMjAsNjA3NSwtNzk3XSxcbiAgICAgICAgICBmYWNlczogWzAsNywxLDAsMSwyLDAsMiwzLDAsMywxMSwyLDEsMTAsMSw0LDEyLDQsOSw2LDUsMTAsMTMsOCwxNCw2LDE0LDEzLDYsMTMsMTIsNiwxMywxMCwxMiwxMiw0LDYsNiw5LDgsOCwxMSwxNCwzLDEzLDE0LDMsNSwxMywxMSwzLDE0LDUsMiwxMCwxMCwxLDEyLDQsNyw5LDksNyw4LDcsMTEsOCwzLDIsNSw3LDAsMTEsMSw3LDRdXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICAnZ3Jhc3MnOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiAnbWVzaCcsXG4gICAgICAgICAgdmVydGljZXM6IFstNjMsLTIxLDY4LDY1LC0zNywxOSw1OCwyMzcsMzEsMjMxLDM5MSwxMCwxMzYsMjI4LDYxLDYsLTUsOSwyNCwtMTQsLTQsMCwzNTAsLTI1LC01MiwtMTAsLTI5LC04MywtMTgsMSwtNSwzMzMsMTE1LC00NiwtMTUsNzYsMTAyLC00LDk2LDgzLDIzNiw2MCw3NCwwLDI3LDYwLDEzOSw1NF0sXG4gICAgICAgICAgZmFjZXM6IFsyLDQsMywxLDQsNSwyLDUsNCw2LDgsNyw5LDExLDEwLDEyLDE0LDE1LDE1LDEzLDEyLDIsMCw1XVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogJ21lc2gnLFxuICAgICAgICAgIHZlcnRpY2VzOiBbOTE5LC0yMSwtNjEsODIxLC0xOCwtOTYsODg1LDEyOCwtODcsNzk1LDI2NCwtMTQyLDgzNiwxMTksLTE1NCw4NjUsLTUsLTE1Miw2MzAsLTQsMTQwLDY0NywyMzYsMTc3LDY1NCwwLDIxMSw2NjksMTM5LDE4NF0sXG4gICAgICAgICAgZmFjZXM6IFsyLDQsMywxLDQsNSwyLDUsNCw2LDgsOSw5LDcsNiwyLDAsNV1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6ICdtZXNoJyxcbiAgICAgICAgICB2ZXJ0aWNlczogWzI3NCwtMTIsLTUyMCwzMDUsNTIwLC01MzYsMjc0LC0xMiwtNTM1LDI4OSwtMTIsLTUyOCwyNzQsMjU0LC01MjAsMjc4LDI1NCwtNTM1LDI4OSwyNTQsLTUyNCwyMTUsNDc0LC01NTIsMjY4LDQ5NSwtNTQwLDI3Niw0ODMsLTU1NCwzMTQsNDUyLC01ODgsMzI5LDQ0MiwtNTcwLDI3MSw0OTAsLTUxNCwzMzcsNDI5LC02MzAsMzAzLDQ5MywtNTM1LDI5Myw0NTQsLTU4NCwzMDAsNDYxLC01MzQsMjg5LDQ0NCwtNTAzLDI3Nyw0MzYsLTUwNCwyNzQsNDM1LC00NjksMzExLDQ0OCwtNDk3LDI5OSw0NDYsLTUzMywzNDMsNDQxLC01MzQsMzIwLDQ0NCwtNTE2LDMwMCw0NTcsLTUzNCwzMjgsNDY3LC01NTgsMzMyLDQ3MCwtNTQwLDMwMSw0NzYsLTUzNSwzMDUsNTE2LC01MzYsMzAzLDUzNywtNTMzLDMwOCw1NDAsLTU1NV0sXG4gICAgICAgICAgZmFjZXM6IFs0LDEsNSw1LDMsMiwzLDEsNiw2LDEsNCw2LDAsMyw0LDIsMCw3LDgsOSw5LDgsMTQsNywxMiw4LDEzLDEwLDExLDE0LDgsMTIsMTEsMTAsMTYsMTMsMTUsMTAsMTYsMTAsMTUsMTksMTcsMTgsMTgsMTcsMjEsMTksMjAsMTcsMjEsMTcsMjAsMjMsMjIsMjQsMjYsMjUsMjcsMjksMjgsMzAsNSwxLDMsNiw0LDAsNCw1LDJdXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICAnaGV4YWdvbnMnOiBbXG4gICAgICAgIHt0eXBlOiAnZXh0cnVkZScsIHZlcnRpY2VzOiBbLTAuMTk4LCAtMC4zMDIsIDAuMTk3LCAtMC4zLCAwLjM3MiwgMCwgMC4xOTksIDAuMjk4LCAtMC4yMDIsIDAuMjk4LCAtMC4zNjgsIDBdIH1cbiAgICAgIF0sXG4gICAgICAndG93ZXJzJzogW1xuICAgICAgICB7dHlwZTogJ2V4dHJ1ZGUnLCB2ZXJ0aWNlczogIFstMC4wNTQsIC0wLjE3OCwgLTAuMDA3LCAtMC4xODIsIDAuMDY5LCAtMC4wMjcsIDAuMTg5LCAwLjA3OSwgMC4xNzgsIDAuMTI0LCAtMC4wMDcsIDAuMDk3LCAtMC4xNDUsIDAuMTgyLCAtMC4xNzgsIDAuMTQ0LCAtMC4wNzksIC0wLjAyMV19LFxuICAgICAgICB7dHlwZTogJ2xhdGhlJywgc2VnbWVudHM6IDQsIHZlcnRpY2VzOiBbMC4wMDQsIDAuMDIsIDAuMDEyLCAwLjA5MiwgMC4wNDIsIDAuMTY2LCAwLjA2NywgMC41NSwgMC4xMDEsIDAuNTk0LCAwLjEwNSwgMC44MzgsIDAuMTkzLCAwLjkzNCwgMC4xOCwgMC45OTRdfSxcbiAgICAgICAge3R5cGU6ICdsYXRoZScsIHNlZ21lbnRzOiA1LCB2ZXJ0aWNlczogWzAuMDY5LCAwLjIxNiwgMC4wNjcsIDAuNTYyLCAwLjEyNiwgMC41NjIsIDAuMTI4LCAwLjc3NCwgMC4xOTEsIDAuNzc0LCAwLjE5MywgMC45ODZdfVxuICAgICAgXSxcbiAgICAgICd0cmVlcyc6IFtcbiAgICAgICAge3R5cGU6ICdsYXRoZScsIG5vaXNlOiAwLjAxNSwgc2VnbWVudHM6IDYsIHZlcnRpY2VzOiBbMC4wMDAwMDEsIDAuODI2LCAwLjA1NCwgMC44MzIsIDAuMTA1LCAwLjg1NCwgMC4xMzYsIDAuOSwgMC4xMzYsIDAuOTU4LCAwLjExOCwgMC45OTRdfSxcbiAgICAgICAge3R5cGU6ICdsYXRoZScsIG5vaXNlOiAwLjAxNSwgc2VnbWVudHM6IDE0LCB2ZXJ0aWNlczogIFswLjAwMDAwMSwgMC4wMSwgMC4wNjksIDAuMDIyLCAwLjEzLCAwLjA2OCwgMC4xNzgsIDAuMTgsIDAuMTg5LCAwLjMyLCAwLjE5MSwgMC41OSwgMC4xOTMsIDAuNzUsIDAuMTM4LCAwLjc5LCAwLjAxOCwgMC44MDgsIDAuMDE4LCAwLjk5Nl19LFxuICAgICAgICB7dHlwZTogJ2xhdGhlJywgbm9pc2U6IDAuMDE1LCBzZWdtZW50czogMTQsIHZlcnRpY2VzOiBbMC4wMDAwMDEsIDAuNDM2LCAwLjEyNiwgMC40NiwgMC4yMDEsIDAuNTcsIDAuMjE5LCAwLjcyLCAwLjE1NCwgMC44NDYsIDAuMDI4LCAwLjg4NCwgMC4wMzQsIDAuOTk2XX1cbiAgICAgIF0sXG4gICAgICAnYXBwYXJhdHVzJzogW1xuICAgICAgICB7dHlwZTogJ2xhdGhlJywgc2VnbWVudHM6IDEwLCB2ZXJ0aWNlczogWzAuMDAwMDAxLCAwLjIzLCAwLjA0MiwgMC4yMywgMC4wNjksIDAuMzYsIDAuMDM4LCAwLjM2MiwgMC4wMzgsIDAuMzcyLCAwLjA2LCAwLjM3MiwgMC4wNzMsIDAuNTcyLCAwLjAyNCwgMC41NzIsIDAuMDI0LCAwLjY3LCAwLjA2OSwgMC42NywgMC4wNzUsIDAuNzIyLCAwLjA5NywgMC43MjQsIDAuMTA1LCAwLjg1MiwgMC4wODMsIDAuOTAyLCAwLjA2NSwgMC45MDIsIDAuMDY1LCAwLjkyNCwgMC4xMjgsIDAuOTI0LCAwLjE0NiwgMC45OTZdfSxcbiAgICAgICAge3R5cGU6ICdsYXRoZScsIHNlZ21lbnRzOiAxNiwgdmVydGljZXM6IFswLjAwMDAwMSwgMC4yMzIsIDAuMjI5LCAwLjE4MiwgMC40ODYsIDAuMDcsIDAuMzU2LCAwLjE4MiwgMC4yMTMsIDAuMjQyLCAwLjE1NCwgMC4yNDIsIDAuMTQ0LCAwLjI2MiwgMC4xNzgsIDAuMjYyLCAwLjEyNiwgMC4zMTQsIDAuMDQsIDAuMzI4LCAwLjAzOCwgMC4zNzQsIDAuMDU4LCAwLjM3NCwgMC4wNzEsIDAuNDA4LCAwLjAyNiwgMC40MDYsIDAuMDMsIDAuNDIsIDAuMDkxLCAwLjQxOCwgMC4wMzQsIDAuNDk2LCAwLjAxLCAwLjQ5OCwgMC4wMywgMC41MDYsIDAuMDE0LCAwLjk5OF19LFxuICAgICAgXSxcbiAgICAgICdtdXNocm9vbXMnOiBbXG4gICAgICAgIHt0eXBlOiAnbGF0aGUnLCBub2lzZTogMC4wMiwgc2VnbWVudHM6IDE0LCB2ZXJ0aWNlczogIFswLjAwMDAwMSwgMC4wMDYsIDAuMTMsIDAuMDE4LCAwLjM0MSwgMC4wODQsIDAuNDM3LCAwLjE0NCwgMC40OTIsIDAuMjM0LCAwLjQ4NCwgMC4yNDYsIDAuMjc2LCAwLjIzMiwgMC4xMDcsIDAuMjg0LCAwLjA0NiwgMC4zNDYsIDAuMDYyLCAwLjg1MiwgMC4wOTcsIDAuOTU2LCAwLjE2NiwgMC45OThdfSxcbiAgICAgICAge3R5cGU6ICdsYXRoZScsIG5vaXNlOiAwLjAyLCBzZWdtZW50czogMTAsIHZlcnRpY2VzOiAgWzAuMDAwMDAxLCAwLjU2MiwgMC4wOTEsIDAuNTcyLCAwLjE3MiwgMC42MSwgMC4yMjMsIDAuNjY2LCAwLjI1NiwgMC43NCwgMC4yNTgsIDAuODA2LCAwLjI0NiwgMC44MjQsIDAuMDYyLCAwLjgyNiwgMC4wNjUsIDAuOTQ4LCAwLjA5NywgMC45OThdfSxcbiAgICAgICAge3R5cGU6ICdsYXRoZScsIG5vaXNlOiAwLjAyLCBzZWdtZW50czogMTAsIHZlcnRpY2VzOiAgWzAuMDAwMDAxLCAwLjc2OCwgMC4wOTksIDAuNzcyLCAwLjIxOSwgMC44MDIsIDAuMzA2LCAwLjg0NCwgMC4zNTIsIDAuODg2LCAwLjM1MiwgMC45MDgsIDAuMTE4LCAwLjkwNCwgMC4xMDcsIDAuOTMsIDAuMTE1LCAwLjk2NiwgMC4xNCwgMC45OTZdfVxuICAgICAgXVxuICAgIH07XG5cbiAgICAvLyBzY2FsZSBkb3duIGRyZXNzaW5nIG1lc2hlcyAoY29vcmRpbmF0ZXMgd2VyZSBzYXZlZCBpbiBpbnRlZ2VycyBmb3IgYmV0dGVyIGNvbXByZXNzaW9uKVxuICAgIGZvciAodmFyIGkgaW4gdGhpcy5hc3NldHMpe1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0aGlzLmFzc2V0c1tpXS5sZW5ndGg7IGorKykge1xuICAgICAgICB2YXIgYXNzZXQgPSB0aGlzLmFzc2V0c1tpXVtqXTtcbiAgICAgICAgaWYgKGFzc2V0LnR5cGUgIT0gJ21lc2gnKSBjb250aW51ZTtcbiAgICAgICAgZm9yICh2YXIgdiA9IDAsIGxlbiA9IGFzc2V0LnZlcnRpY2VzLmxlbmd0aDsgdiA8IGxlbjsgdisrKSB7XG4gICAgICAgICAgYXNzZXQudmVydGljZXNbdl0gLz0gMTAwMC4wO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gc2F2ZSBjdXJyZW50IHNjZW5lIGZvZ1xuICAgIHRoaXMudXNlckZvZyA9IHRoaXMuZWwuc2NlbmVFbC5nZXRBdHRyaWJ1dGUoJ2ZvZycpO1xuXG4gICAgLy8gY3JlYXRlIHNreVxuICAgIHRoaXMuc2t5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYS1za3knKTtcbiAgICB0aGlzLnNreS5zZXRBdHRyaWJ1dGUoJ3JhZGl1cycsIHRoaXMuU1RBR0VfU0laRSk7XG4gICAgdGhpcy5za3kuc2V0QXR0cmlidXRlKCd0aGV0YS1sZW5ndGgnLCAxMTApO1xuICAgIHRoaXMuc2t5LmNsYXNzTGlzdC5hZGQoJ2Vudmlyb25tZW50Jyk7XG5cbiAgICAvLyBzdGFycyBhcmUgY3JlYXRlZCB3aGVuIG5lZWRlZFxuICAgIHRoaXMuc3RhcnMgPSBudWxsO1xuXG4gICAgLy8gY3JlYXRlIGdyb3VuZFxuICAgIHRoaXMuZ3JvdW5kTWF0ZXJpYWwgPSBudWxsO1xuICAgIHRoaXMuZ3JvdW5kID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYS1lbnRpdHknKTtcbiAgICB0aGlzLmdyb3VuZC5zZXRBdHRyaWJ1dGUoJ3JvdGF0aW9uJywgJy05MCAwIDAnKTtcbiAgICB0aGlzLmdyb3VuZC5jbGFzc0xpc3QuYWRkKCdlbnZpcm9ubWVudEdyb3VuZCcpO1xuICAgIHRoaXMuZ3JvdW5kLmNsYXNzTGlzdC5hZGQoJ2Vudmlyb25tZW50Jyk7XG4gICAgdGhpcy5ncm91bmRDYW52YXMgPSBudWxsO1xuICAgIHRoaXMuZ3JvdW5kVGV4dHVyZSA9IG51bGw7XG4gICAgdGhpcy5ncm91bmRNYXRlcmlhbCA9IG51bGw7XG4gICAgdGhpcy5ncm91bmRHZW9tZXRyeSA9IG51bGw7XG5cbiAgICB0aGlzLmRyZXNzaW5nMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EtZW50aXR5Jyk7XG4gICAgdGhpcy5kcmVzc2luZzEuY2xhc3NMaXN0LmFkZCgnZW52aXJvbm1lbnREcmVzc2luZycpO1xuICAgIHRoaXMuZHJlc3NpbmcxLmNsYXNzTGlzdC5hZGQoJ2Vudmlyb25tZW50Jyk7XG4gICAgdGhpcy5kcmVzc2luZzIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhLWVudGl0eScpO1xuICAgIHRoaXMuZHJlc3NpbmcyLmNsYXNzTGlzdC5hZGQoJ2Vudmlyb25tZW50RHJlc3NpbmcnKTtcbiAgICB0aGlzLmRyZXNzaW5nMi5jbGFzc0xpc3QuYWRkKCdlbnZpcm9ubWVudCcpO1xuXG4gICAgdGhpcy5ncmlkQ2FudmFzID0gbnVsbDtcbiAgICB0aGlzLmdyaWRUZXh0dXJlID0gbnVsbDtcblxuICAgIC8vIGNyZWF0ZSBsaWdodHMgKG9uZSBhbWJpZW50IGhlbWlzcGhlcmUgbGlnaHQsIGFuZCBvbmUgZGlyZWN0aW9uYWwgZm9yIHRoZSBzdW4pXG4gICAgdGhpcy5oZW1pbGlnaHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhLWVudGl0eScpO1xuICAgIHRoaXMuaGVtaWxpZ2h0LmNsYXNzTGlzdC5hZGQoJ2Vudmlyb25tZW50Jyk7XG4gICAgdGhpcy5oZW1pbGlnaHQuc2V0QXR0cmlidXRlKCdwb3NpdGlvbicsICcwIDUwIDAnKTtcbiAgICB0aGlzLmhlbWlsaWdodC5zZXRBdHRyaWJ1dGUoJ2xpZ2h0Jywge1xuICAgICAgdHlwZTogJ2hlbWlzcGhlcmUnLFxuICAgICAgY29sb3I6ICcjQ0VFNEYwJyxcbiAgICAgIGludGVuc2l0eTogMC40XG4gICAgfSk7XG4gICAgdGhpcy5zdW5saWdodCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EtZW50aXR5Jyk7XG4gICAgdGhpcy5zdW5saWdodC5jbGFzc0xpc3QuYWRkKCdlbnZpcm9ubWVudCcpO1xuICAgIHRoaXMuc3VubGlnaHQuc2V0QXR0cmlidXRlKCdwb3NpdGlvbicsIHRoaXMuZGF0YS5saWdodFBvc2l0aW9uKTtcbiAgICB0aGlzLnN1bmxpZ2h0LnNldEF0dHJpYnV0ZSgnbGlnaHQnLCB7aW50ZW5zaXR5OiAwLjZ9KTtcblxuICAgIC8vIGFkZCBldmVyeXRoaW5nIHRvIHRoZSBzY2VuZVxuICAgIHRoaXMuZWwuYXBwZW5kQ2hpbGQodGhpcy5oZW1pbGlnaHQpO1xuICAgIHRoaXMuZWwuYXBwZW5kQ2hpbGQodGhpcy5zdW5saWdodCk7XG4gICAgdGhpcy5lbC5hcHBlbmRDaGlsZCh0aGlzLmdyb3VuZCk7XG4gICAgdGhpcy5lbC5hcHBlbmRDaGlsZCh0aGlzLmRyZXNzaW5nMSk7XG4gICAgdGhpcy5lbC5hcHBlbmRDaGlsZCh0aGlzLmRyZXNzaW5nMik7XG4gICAgdGhpcy5lbC5hcHBlbmRDaGlsZCh0aGlzLnNreSk7XG4gIH0sXG5cbiAgLy8gcmV0dXJucyBhIGZvZyBjb2xvciBmcm9tIGEgc3BlY2lmaWMgc2t5IHR5cGUgYW5kIHN1biBoZWlnaHRcbiAgZ2V0Rm9nQ29sb3I6IGZ1bmN0aW9uIChza3lUeXBlLCBzdW5IZWlnaHQpIHtcblxuICAgIHZhciBmb2dDb2xvcjtcbiAgICBpZiAoc2t5VHlwZSA9PSAnY29sb3InIHx8IHNreVR5cGUgPT0gJ25vbmUnKXtcbiAgICAgIGZvZ0NvbG9yID0gbmV3IFRIUkVFLkNvbG9yKHRoaXMuZGF0YS5za3lDb2xvciksIHRoaXMucmFuZG9tO1xuICAgIH1cbiAgICBlbHNlIGlmIChza3lUeXBlID09ICdncmFkaWVudCcpe1xuICAgICAgZm9nQ29sb3IgPSBuZXcgVEhSRUUuQ29sb3IodGhpcy5kYXRhLmhvcml6b25Db2xvciksIHRoaXMucmFuZG9tO1xuICAgIH1cbiAgICBlbHNlIGlmIChza3lUeXBlID09ICdhdG1vc3BoZXJlJylcbiAgICB7XG4gICAgICB2YXIgZm9nUmF0aW9zID0gWyAgICAgICAgMSwgICAgICAgMC41LCAgICAgIDAuMjIsICAgICAgIDAuMSwgICAgICAwLjA1LCAgICAgMF07XG4gICAgICB2YXIgZm9nQ29sb3JzID0gWycjQzBDRENGJywgJyM4MUFEQzUnLCAnIzUyNWU2MicsICcjMmEyZDJkJywgJyMxNDE2MTYnLCAnIzAwMCddO1xuXG4gICAgICBpZiAoc3VuSGVpZ2h0IDw9IDApIHJldHVybiAnIzAwMCc7XG5cbiAgICAgIHN1bkhlaWdodCA9IE1hdGgubWluKDEsIHN1bkhlaWdodCk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9nUmF0aW9zLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgaWYgKHN1bkhlaWdodCA+IGZvZ1JhdGlvc1tpXSl7XG4gICAgICAgICAgdmFyIGMxID0gdmFyeUNvbG9yKG5ldyBUSFJFRS5Db2xvcihmb2dDb2xvcnNbaSAtIDFdKSwgdGhpcy5yYW5kb20sIHRoaXMuZGF0YS52YXJ5Q29sb3IpO1xuICAgICAgICAgIHZhciBjMiA9IHZhcnlDb2xvcihuZXcgVEhSRUUuQ29sb3IoZm9nQ29sb3JzW2ldKSwgdGhpcy5yYW5kb20sIHRoaXMuZGF0YS52YXJ5Q29sb3IpO1xuICAgICAgICAgIHZhciBhID0gKHN1bkhlaWdodCAtIGZvZ1JhdGlvc1tpXSkgLyAoZm9nUmF0aW9zW2kgLSAxXSAtIGZvZ1JhdGlvc1tpXSk7XG4gICAgICAgICAgYzIubGVycChjMSwgYSk7XG4gICAgICAgICAgZm9nQ29sb3IgPSBjMjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvLyBkaW0gZG93biB0aGUgY29sb3JcbiAgICBmb2dDb2xvci5tdWx0aXBseVNjYWxhcigwLjkpO1xuICAgIC8vIG1peCBpdCBhIGJpdCB3aXRoIGdyb3VuZCBjb2xvclxuICAgIGZvZ0NvbG9yLmxlcnAobmV3IFRIUkVFLkNvbG9yKHRoaXMuZGF0YS5ncm91bmRDb2xvciksIDAuMyk7XG5cbiAgICByZXR1cm4gJyMnICsgZm9nQ29sb3IuZ2V0SGV4U3RyaW5nKCk7XG4gIH0sXG5cbiAgdXBkYXRlOiBmdW5jdGlvbiAob2xkRGF0YSkge1xuICAgIC8vIHByZXNldCBjaGFuZ2VkXG4gICAgaWYgKCFvbGREYXRhIHx8IChvbGREYXRhLnByZXNldCA9PT0gdW5kZWZpbmVkIHx8IG9sZERhdGEucHJlc2V0ICE9PSB0aGlzLmRhdGEucHJlc2V0KSkge1xuICAgICAgdmFyIG5ld0RhdGEgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnByZXNldHNbdGhpcy5kYXRhLnByZXNldF0pO1xuICAgICAgaWYgKCFvbGREYXRhIHx8IG9sZERhdGEucHJlc2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihuZXdEYXRhLCB0aGlzLmVsLmNvbXBvbmVudHMuZW52aXJvbm1lbnQuYXR0clZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZWwuc2V0QXR0cmlidXRlKCdlbnZpcm9ubWVudCcsIG5ld0RhdGEpO1xuICAgICAgaWYgKG9sZERhdGEpIHsgcmV0dXJuOyB9IGVsc2UgeyBvbGREYXRhID0ge307IH1cbiAgICB9XG5cbiAgICB0aGlzLnNlZWQgPSAodGhpcy5kYXRhLnNlZWQgKyAnJykuc3BsaXQoJycpLm1hcCgoeCwgaSkgPT4gJycrKGkrMikreCkucmVkdWNlKChhLGIpID0+IGEgKyBwYXJzZUludChiKSAqIGIuY2hhckNvZGVBdCgxKSwgMCk7XG5cbiAgICB2YXIgc2t5VHlwZSA9IHRoaXMuZGF0YS5za3lUeXBlO1xuICAgIHZhciBzdW5Qb3MgPSBuZXcgVEhSRUUuVmVjdG9yMyh0aGlzLmRhdGEubGlnaHRQb3NpdGlvbi54LCB0aGlzLmRhdGEubGlnaHRQb3NpdGlvbi55LCB0aGlzLmRhdGEubGlnaHRQb3NpdGlvbi56KTtcbiAgICBzdW5Qb3Mubm9ybWFsaXplKCk7XG5cbiAgICAvLyB1cGRhdGUgbGlnaHQgY29sb3JzIGFuZCBpbnRlbnNpdGllc1xuICAgIGlmICh0aGlzLnN1bmxpZ2h0KSB7XG4gICAgICB0aGlzLnN1bmxpZ2h0LnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLCB0aGlzLmRhdGEubGlnaHRQb3NpdGlvbik7XG4gICAgICBpZiAoc2t5VHlwZSAhPSAnYXRtb3NwaGVyZScpIHtcbiAgICAgICAgLy8gZGltIGRvd24gdGhlIHNreSBjb2xvciBmb3IgdGhlIGxpZ2h0XG4gICAgICAgIHZhciBza3ljb2wgPSBuZXcgVEhSRUUuQ29sb3IodGhpcy5kYXRhLnNreUNvbG9yKTtcbiAgICAgICAgc2t5Y29sLnIgPSAoc2t5Y29sLnIgKyAxLjApIC8gMi4wO1xuICAgICAgICBza3ljb2wuZyA9IChza3ljb2wuZyArIDEuMCkgLyAyLjA7XG4gICAgICAgIHNreWNvbC5iID0gKHNreWNvbC5iICsgMS4wKSAvIDIuMDtcbiAgICAgICAgdGhpcy5oZW1pbGlnaHQuc2V0QXR0cmlidXRlKCdsaWdodCcsIHsnY29sb3InOiAnIycgKyBza3ljb2wuZ2V0SGV4U3RyaW5nKCl9KTtcbiAgICAgICAgdGhpcy5zdW5saWdodC5zZXRBdHRyaWJ1dGUoJ2xpZ2h0JywgeydpbnRlbnNpdHknOiAwLjZ9KTtcbiAgICAgICAgdGhpcy5oZW1pbGlnaHQuc2V0QXR0cmlidXRlKCdsaWdodCcsIHsnaW50ZW5zaXR5JzogMC42fSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5zdW5saWdodC5zZXRBdHRyaWJ1dGUoJ2xpZ2h0JywgeydpbnRlbnNpdHknOiAwLjEgKyBzdW5Qb3MueSAqIDAuNX0pO1xuICAgICAgICB0aGlzLmhlbWlsaWdodC5zZXRBdHRyaWJ1dGUoJ2xpZ2h0JywgeydpbnRlbnNpdHknOiAwLjEgKyBzdW5Qb3MueSAqIDAuNX0pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnN1bmxpZ2h0LnNldEF0dHJpYnV0ZSgnbGlnaHQnLCB7XG4gICAgICAgIGNhc3RTaGFkb3c6IHRoaXMuZGF0YS5zaGFkb3csXG4gICAgICAgIHNoYWRvd0NhbWVyYUxlZnQ6IC10aGlzLmRhdGEuc2hhZG93U2l6ZSxcbiAgICAgICAgc2hhZG93Q2FtZXJhQm90dG9tOiAtdGhpcy5kYXRhLnNoYWRvd1NpemUsXG4gICAgICAgIHNoYWRvd0NhbWVyYVJpZ2h0OiB0aGlzLmRhdGEuc2hhZG93U2l6ZSxcbiAgICAgICAgc2hhZG93Q2FtZXJhVG9wOiB0aGlzLmRhdGEuc2hhZG93U2l6ZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gdXBkYXRlIHNreSBjb2xvcnNcbiAgICBpZiAoc2t5VHlwZSAhPSBvbGREYXRhLnNreVR5cGUgfHxcbiAgICAgIHRoaXMuZGF0YS5za3lDb2xvciAhPSBvbGREYXRhLnNreUNvbG9yIHx8XG4gICAgICB0aGlzLmRhdGEuaG9yaXpvbkNvbG9yICE9IG9sZERhdGEuaG9yaXpvbkNvbG9yKSB7XG5cbiAgICAgIHRoaXMuc2t5LnJlbW92ZUF0dHJpYnV0ZSgnbWF0ZXJpYWwnKTtcblxuICAgICAgdmFyIG1hdCA9IHt9O1xuICAgICAgbWF0LnNoYWRlciA9IHsnbm9uZSc6ICdmbGF0JywgJ2NvbG9yJzogJ2ZsYXQnLCAnZ3JhZGllbnQnOiAnZ3JhZGllbnRzaGFkZXInLCAnYXRtb3NwaGVyZSc6ICdza3lzaGFkZXInfVtza3lUeXBlXTtcbiAgICAgIGlmICh0aGlzLnN0YXJzKSB7XG4gICAgICAgIHRoaXMuc3RhcnMuc2V0QXR0cmlidXRlKCd2aXNpYmxlJywgc2t5VHlwZSA9PSAnYXRtb3NwaGVyZScpO1xuICAgICAgfVxuICAgICAgaWYgKHNreVR5cGUgPT0gJ2NvbG9yJykge1xuICAgICAgICBtYXQuY29sb3IgPSB0aGlzLmRhdGEuc2t5Q29sb3I7XG4gICAgICAgIG1hdC5mb2cgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHNreVR5cGUgPT0gJ2dyYWRpZW50Jykge1xuICAgICAgICBtYXQudG9wQ29sb3IgPSB0aGlzLmRhdGEuc2t5Q29sb3I7XG4gICAgICAgIG1hdC5ib3R0b21Db2xvciA9IHRoaXMuZGF0YS5ob3Jpem9uQ29sb3I7XG4gICAgICB9XG4gICAgICB0aGlzLnNreS5zZXRBdHRyaWJ1dGUoJ21hdGVyaWFsJywgbWF0KTtcbiAgICB9XG5cbiAgICAvLyBzZXQgYXRtb3NwaGVyZSBzdW4gcG9zaXRpb24gYW5kIHN0YXJzXG4gICAgaWYgKHNreVR5cGUgPT0gJ2F0bW9zcGhlcmUnKSB7XG4gICAgICB0aGlzLnNreS5zZXRBdHRyaWJ1dGUoJ21hdGVyaWFsJywgeydzdW5Qb3NpdGlvbic6IHN1blBvc30pO1xuICAgICAgdGhpcy5zZXRTdGFycygoMSAtIE1hdGgubWF4KDAsIChzdW5Qb3MueSArIDAuMDgpICogOCkpICogMjAwMCApO1xuICAgIH1cblxuICAgIC8vIHNldCBmb2cgY29sb3JcbiAgICBpZiAodGhpcy5kYXRhLmZvZyA+IDApIHtcbiAgICAgIHRoaXMuZWwuc2NlbmVFbC5zZXRBdHRyaWJ1dGUoJ2ZvZycsIHtcbiAgICAgICAgY29sb3I6IHRoaXMuZ2V0Rm9nQ29sb3Ioc2t5VHlwZSwgc3VuUG9zLnkpLFxuICAgICAgICBmYXI6ICgxLjAxIC0gdGhpcy5kYXRhLmZvZykgKiB0aGlzLlNUQUdFX1NJWkUgKiAyXG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmVsLnNjZW5lRWwucmVtb3ZlQXR0cmlidXRlKCdmb2cnKTtcbiAgICB9XG5cbiAgICAvLyBzY2VuZSBsaWdodHNcbiAgICB0aGlzLnN1bmxpZ2h0LnNldEF0dHJpYnV0ZSgnbGlnaHQnLCB7dHlwZTogdGhpcy5kYXRhLmxpZ2h0aW5nID09ICdwb2ludCcgPyAncG9pbnQnIDogJ2RpcmVjdGlvbmFsJ30pO1xuICAgIHRoaXMuc3VubGlnaHQuc2V0QXR0cmlidXRlKCd2aXNpYmxlJywgdGhpcy5kYXRhLmxpZ2h0aW5nICE9PSAnbm9uZScpO1xuICAgIHRoaXMuaGVtaWxpZ2h0LnNldEF0dHJpYnV0ZSgndmlzaWJsZScsIHRoaXMuZGF0YS5saWdodGluZyAhPT0gJ25vbmUnKTtcblxuICAgIC8vIGNoZWNrIGlmIGdyb3VuZCBnZW9tZXRyeSBuZWVkcyB0byBiZSBjYWxjdWxhdGVkXG4gICAgdmFyIHVwZGF0ZUdyb3VuZEdlb21ldHJ5ID1cbiAgICAgICF0aGlzLmdyb3VuZEdlb21ldHJ5IHx8XG4gICAgICB0aGlzLmRhdGEuc2VlZCAhPSBvbGREYXRhLnNlZWQgfHxcbiAgICAgIHRoaXMuZGF0YS5ncm91bmQgIT0gb2xkRGF0YS5ncm91bmQgfHxcbiAgICAgIHRoaXMuZGF0YS5wbGF5QXJlYSAhPSBvbGREYXRhLnBsYXlBcmVhIHx8XG4gICAgICB0aGlzLmRhdGEuZmxhdFNoYWRpbmcgIT0gb2xkRGF0YS5mbGF0U2hhZGluZztcblxuICAgIC8vIGNoZWNrIGlmIGFueSBwYXJhbWV0ZXIgb2YgdGhlIGdyb3VuZCB3YXMgY2hhbmdlZCwgYW5kIHVwZGF0ZSBpdFxuICAgIGlmICh1cGRhdGVHcm91bmRHZW9tZXRyeSB8fFxuICAgICAgICB0aGlzLmRhdGEuZ3JvdW5kQ29sb3IgIT0gb2xkRGF0YS5ncm91bmRDb2xvciB8fFxuICAgICAgICB0aGlzLmRhdGEuZ3JvdW5kQ29sb3IyICE9IG9sZERhdGEuZ3JvdW5kQ29sb3IyIHx8XG4gICAgICAgIHRoaXMuZGF0YS5ncm91bmRZU2NhbGUgIT0gb2xkRGF0YS5ncm91bmRZU2NhbGUgfHxcbiAgICAgICAgdGhpcy5kYXRhLmdyb3VuZFRleHR1cmUgIT0gb2xkRGF0YS5ncm91bmRUZXh0dXJlIHx8XG4gICAgICAgIHRoaXMuZGF0YS5ncmlkQ29sb3IgIT0gb2xkRGF0YS5ncmlkQ29sb3IgfHxcbiAgICAgICAgdGhpcy5kYXRhLmdyaWQgIT0gb2xkRGF0YS5ncmlkXG4gICAgICAgIClcbiAgICB7XG4gICAgICB0aGlzLnVwZGF0ZUdyb3VuZCh1cGRhdGVHcm91bmRHZW9tZXRyeSk7XG4gICAgICAvLyBzZXQgYm91bmNlIGxpZ2h0IGNvbG9yIHRvIGdyb3VuZCBjb2xvclxuICAgICAgaWYgKHRoaXMuaGVtaWxpZ2h0KSB0aGlzLmhlbWlsaWdodC5zZXRBdHRyaWJ1dGUoJ2xpZ2h0Jywgeydncm91bmRDb2xvcic6IHRoaXMuZGF0YS5ncm91bmRDb2xvcn0pO1xuICAgIH1cblxuICAgIC8vIHVwZGF0ZSBkcmVzc2luZ1xuICAgIHRoaXMudXBkYXRlRHJlc3NpbmcoMSk7XG4gICAgdGhpcy51cGRhdGVEcmVzc2luZygyKTtcblxuICAgIHRoaXMuc2t5LnNldEF0dHJpYnV0ZSgndmlzaWJsZScsIHNreVR5cGUgIT09ICdub25lJyk7XG5cbiAgICB0aGlzLmVsLnNldEF0dHJpYnV0ZSgndmlzaWJsZScsIHRoaXMuZGF0YS5hY3RpdmUpO1xuICAgIGlmICghdGhpcy5kYXRhLmFjdGl2ZSkge1xuICAgICAgaWYgKHRoaXMudXNlckZvZykge1xuICAgICAgICB0aGlzLmVsLnNjZW5lRWwuc2V0QXR0cmlidXRlKCdmb2cnLCB0aGlzLnVzZXJGb2cpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuZWwuc2NlbmVFbC5yZW1vdmVBdHRyaWJ1dGUoJ2ZvZycpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGR1bXAgY3VycmVudCBjb21wb25lbnQgc2V0dGluZ3MgdG8gY29uc29sZVxuICAgIHRoaXMuZHVtcFBhcmFtZXRlcnNEaWZmKCk7XG4gIH0sXG5cbiAgLy8gbG9ncyBjdXJyZW50IHBhcmFtZXRlcnMgdG8gY29uc29sZSwgZm9yIHNhdmluZyB0byBhIHByZXNldFxuICBsb2dQcmVzZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc3RyID0gJ3snO1xuICAgIGZvciAodmFyIGkgaW4gdGhpcy5zY2hlbWEpe1xuICAgICAgaWYgKGkgPT0gJ3ByZXNldCcpIGNvbnRpbnVlO1xuICAgICAgc3RyICs9IGkgKyAnOiAnO1xuICAgICAgdmFyIHR5cGUgPSB0aGlzLnNjaGVtYVtpXS50eXBlO1xuICAgICAgaWYgKHR5cGUgPT0gJ3ZlYzMnKSB7XG4gICAgICAgIHN0ciArPSAneyB4OiAnICsgdGhpcy5kYXRhW2ldLnggKyAnLCB5OiAnICsgdGhpcy5kYXRhW2ldLnkgKyAnLCB6OiAnICsgdGhpcy5kYXRhW2ldLnogKyAnfSc7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh0eXBlID09ICdzdHJpbmcnIHx8IHR5cGUgPT0gJ2NvbG9yJykge1xuICAgICAgICBzdHIgKz0gJ1wiJyArIHRoaXMuZGF0YVtpXSArICdcIic7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc3RyICs9IHRoaXMuZGF0YVtpXTtcbiAgICAgIH1cbiAgICAgIHN0ciArPSAnLCAnO1xuICAgIH1cbiAgICBzdHIgKz0gJ30nO1xuICAgIGNvbnNvbGUubG9nKHN0cik7XG4gIH0sXG5cbiAgLy8gZHVtcHMgY3VycmVudCBjb21wb25lbnQgc2V0dGluZ3MgdG8gY29uc29sZS5cbiAgZHVtcFBhcmFtZXRlcnNEaWZmOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAvLyB0cmltIG51bWJlciB0byAzIGRlY2ltYWxzXG4gICAgZnVuY3Rpb24gZGVjMyAodikge1xuICAgICAgcmV0dXJuIE1hdGguZmxvb3IodiAqIDEwMDApIC8gMTAwMDtcbiAgICB9XG5cbiAgICB2YXIgcGFyYW1zID0gW107XG4gICAgdmFyIHVzaW5nUHJlc2V0ID0gdGhpcy5kYXRhLnByZXNldCAhPSAnbm9uZScgPyB0aGlzLnByZXNldHNbdGhpcy5kYXRhLnByZXNldF0gOiBmYWxzZTtcblxuICAgIGlmICh1c2luZ1ByZXNldCkge1xuICAgICAgcGFyYW1zLnB1c2goJ3ByZXNldDogJyArIHRoaXMuZGF0YS5wcmVzZXQpO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgaW4gdGhpcy5zY2hlbWEpIHtcbiAgICAgIGlmIChpID09ICdwcmVzZXQnIHx8ICh1c2luZ1ByZXNldCAmJiB1c2luZ1ByZXNldFtpXSA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZhciBkZWYgPSB1c2luZ1ByZXNldCA/IHVzaW5nUHJlc2V0W2ldIDogdGhpcy5zY2hlbWFbaV0uZGVmYXVsdDtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5kYXRhW2ldO1xuICAgICAgdmFyIHR5cGUgPSB0aGlzLnNjaGVtYVtpXS50eXBlO1xuICAgICAgaWYgKHR5cGUgPT0gJ3ZlYzMnKSB7XG4gICAgICAgIHZhciBjb29yZHMgPSBkZWY7XG4gICAgICAgIGlmICh0eXBlb2YoZGVmKSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgIGRlZiA9IGRlZi5zcGxpdCgnICcpO1xuICAgICAgICAgIGNvb3JkcyA9IHt4OiBkZWZbMF0sIHk6IGRlZlsxXSwgejogZGVmWzJdfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVjMyhjb29yZHMueCkgIT0gZGVjMyhkYXRhLngpIHx8IGRlYzMoY29vcmRzLnkpICE9IGRlYzMoZGF0YS55KSB8fCBkZWMzKGNvb3Jkcy56KSAhPSBkZWMzKGRhdGEueikpIHtcbiAgICAgICAgICBwYXJhbXMucHVzaChpICsgJzogJyArIGRlYzMoZGF0YS54KSArICcgJyArIGRlYzMoZGF0YS55KSArICcgJyArIGRlYzMoZGF0YS56KSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBpZiAoZGVmICE9IGRhdGEpIHtcbiAgICAgICAgICBpZiAodGhpcy5zY2hlbWFbaV0udHlwZSA9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgZGF0YSA9IGRlYzMoZGF0YSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhcmFtcy5wdXNoKGkgKyAnOiAnICsgZGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgY29uc29sZS5sb2coJyVjJyArIHBhcmFtcy5qb2luKCc7ICcpLCAnY29sb3I6ICNmNDg7Zm9udC13ZWlnaHQ6Ym9sZCcpO1xuICB9LFxuXG4gIC8vIEN1c3RvbSBNYXRoLnJhbmRvbSgpIHdpdGggc2VlZC4gR2l2ZW4gdGhpcy5kYXRhLnNlZWQgYW5kIHgsIGl0IGFsd2F5cyByZXR1cm5zIHRoZSBzYW1lIFwicmFuZG9tXCIgbnVtYmVyXG4gIHJhbmRvbTogZnVuY3Rpb24gKHgpIHtcbiAgICB2YXIgc2VlZDtcbiAgICB2YXIgdmFsO1xuICAgIHZhbCA9IHBhcnNlRmxvYXQoJzAuJyArIE1hdGguc2luKHRoaXMuc2VlZCAqIDk5OTkgKiB4KS50b1N0cmluZygpLnN1YnN0cig3KSk7XG4gICAgaWYgKHZhbCA9PT0gMCkge1xuICAgICAgdmFsID0gcGFyc2VGbG9hdCgnMC4nICsgTWF0aC5zaW4odGhpcy5zZWVkICogOTk5OTkgKiB4KS50b1N0cmluZygpLnN1YnN0cig3KSk7XG4gICAgfVxuICAgIHJldHVybiB2YWw7XG4gIH0sXG5cblxuICAvLyB1cGRhdGVzIGdyb3VuZCBhdHRyaWJ1dGVzLCBhbmQgZ2VvbWV0cnkgaWYgcmVxdWlyZWRcbiAgdXBkYXRlR3JvdW5kOiBmdW5jdGlvbiAodXBkYXRlR2VvbWV0cnkpIHtcblxuICAgIHZhciByZXNvbHV0aW9uID0gNjQ7IC8vIG51bWJlciBvZiBkaXZpc2lvbnMgb2YgdGhlIGdyb3VuZCBtZXNoXG5cbiAgICBpZiAodXBkYXRlR2VvbWV0cnkpIHtcbiAgICAgIHZhciB2aXNpYmxlZ3JvdW5kID0gdGhpcy5kYXRhLmdyb3VuZCAhPSAnbm9uZSc7XG4gICAgICB0aGlzLmdyb3VuZC5zZXRBdHRyaWJ1dGUoJ3Zpc2libGUnLCB2aXNpYmxlZ3JvdW5kKTtcbiAgICAgIGlmICghdmlzaWJsZWdyb3VuZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5ncm91bmRHZW9tZXRyeSkge1xuICAgICAgICB0aGlzLmdyb3VuZEdlb21ldHJ5ID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkodGhpcy5TVEFHRV9TSVpFICsgMiwgdGhpcy5TVEFHRV9TSVpFICsgMiwgcmVzb2x1dGlvbiAtIDEsIHJlc29sdXRpb24gLSAxKTtcbiAgICAgIH1cbiAgICAgIHZhciBwZXJsaW4gPSBuZXcgUGVybGluTm9pc2UoKTtcbiAgICAgIHZhciB2ZXJ0cyA9IHRoaXMuZ3JvdW5kR2VvbWV0cnkudmVydGljZXM7XG4gICAgICB2YXIgbnVtVmVydHMgPSB0aGlzLmdyb3VuZEdlb21ldHJ5LnZlcnRpY2VzLmxlbmd0aDtcbiAgICAgIHZhciBmcmVxdWVuY3kgPSAxMDtcbiAgICAgIHZhciBpbmMgPSBmcmVxdWVuY3kgLyByZXNvbHV0aW9uO1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgeCA9IDAsIHkgPSAwOyBpIDwgbnVtVmVydHM7IGkrKykge1xuICAgICAgICBpZiAodGhpcy5kYXRhLmdyb3VuZCA9PSAnZmxhdCcpIHtcbiAgICAgICAgICB2ZXJ0c1tpXS56ID0gMDtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBoO1xuICAgICAgICBzd2l0Y2ggKHRoaXMuZGF0YS5ncm91bmQpIHtcbiAgICAgICAgICBjYXNlICdoaWxscyc6IHtcbiAgICAgICAgICAgIGggPSBNYXRoLm1heCgwLCBwZXJsaW4ubm9pc2UoeCwgeSwgMCkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgJ2Nhbnlvbic6IHtcbiAgICAgICAgICAgIGggPSAwLjIgKyBwZXJsaW4ubm9pc2UoeCwgeSwgMCkgKiAwLjg7XG4gICAgICAgICAgICBoID0gTWF0aC5taW4oMSwgTWF0aC5wb3coaCwgMikgKiAxMCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSAnc3Bpa2VzJzoge1xuICAgICAgICAgICAgaCA9IHRoaXMucmFuZG9tKGkpIDwgMC4wMiA/IHRoaXMucmFuZG9tKGkgKyAxKSA6IDA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSAnbm9pc2UnOiB7XG4gICAgICAgICAgICBoID0gdGhpcy5yYW5kb20oaSkgPCAwLjM1ID8gdGhpcy5yYW5kb20oaSArIDEpIDogMDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGggKz0gdGhpcy5yYW5kb20oaSArIDIpICogMC4xOyAvLyBhZGQgc29tZSByYW5kb21uZXNzXG5cbiAgICAgICAgLy8gZmxhdCBncm91bmQgaW4gdGhlIGNlbnRlclxuICAgICAgICB2YXIgeHggPSB4ICogMiAvIGZyZXF1ZW5jeSAtIDE7XG4gICAgICAgIHZhciB5eSA9IHkgKiAyIC8gZnJlcXVlbmN5IC0gMTtcbiAgICAgICAgdmFyIHBhID0gdGhpcy5kYXRhLnBsYXlBcmVhO1xuICAgICAgICB4eCA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIChNYXRoLmFicyh4eCkgLSAocGEgLSAwLjkpKSAqICgxIC8gcGEpICkpO1xuICAgICAgICB5eSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIChNYXRoLmFicyh5eSkgLSAocGEgLSAwLjkpKSAqICgxIC8gcGEpICkpO1xuICAgICAgICBoICo9IHh4ID4geXkgPyB4eCA6IHl5O1xuICAgICAgICBpZiAoaCA8IDAuMDEpIGggPSAwOyAvLyBzdGljayB0byB0aGUgZmxvb3JcblxuICAgICAgICAvLyBzZXQgaGVpZ2h0XG4gICAgICAgIHZlcnRzW2ldLnogPSBoO1xuXG4gICAgICAgIC8vIGNhbGN1bGF0ZSBuZXh0IHgseSBncm91bmQgY29vcmRpbmF0ZXNcbiAgICAgICAgeCArPSBpbmM7XG4gICAgICAgIGlmICh4ID49IDEwKSB7XG4gICAgICAgICAgeCA9IDA7XG4gICAgICAgICAgeSArPSBpbmM7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5ncm91bmRHZW9tZXRyeS5jb21wdXRlRmFjZU5vcm1hbHMoKTtcbiAgICAgIGlmICh0aGlzLmRhdGEuZmxhdFNoYWRpbmcpIHtcbiAgICAgICAgdGhpcy5ncm91bmRHZW9tZXRyeS5jb21wdXRlRmxhdFZlcnRleE5vcm1hbHMoKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLmdyb3VuZEdlb21ldHJ5LmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZ3JvdW5kR2VvbWV0cnkudmVydGljZXNOZWVkVXBkYXRlID0gdHJ1ZTtcbiAgICAgIHRoaXMuZ3JvdW5kR2VvbWV0cnkubm9ybWFsc05lZWRVcGRhdGUgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIGFwcGx5IFkgc2NhbGUuIFRoZXJlJ3Mgbm8gbmVlZCB0byByZWNhbGN1bGF0ZSB0aGUgZ2VvbWV0cnkgZm9yIHRoaXMuIEp1c3QgY2hhbmdlIHNjYWxlXG4gICAgdGhpcy5ncm91bmQub2JqZWN0M0Quc2NhbGUueiA9IE1hdGgubWF4KHRoaXMucmFuZG9tKDEwMDApICogMTAwLCAxLjApO1xuXG4gICAgLy8gdXBkYXRlIGdyb3VuZCwgcGxheWFyZWEgYW5kIGdyaWQgdGV4dHVyZXMuXG4gICAgdmFyIGdyb3VuZFJlc29sdXRpb24gPSAyMDQ4O1xuICAgIHZhciB0ZXhNZXRlcnMgPSAyMDsgLy8gZ3JvdW5kIHRleHR1cmUgb2YgMjAgeCAyMCBtZXRlcnNcbiAgICB2YXIgdGV4UmVwZWF0ID0gdGhpcy5TVEFHRV9TSVpFIC8gdGV4TWV0ZXJzO1xuXG4gICAgaWYgKCF0aGlzLmdyb3VuZENhbnZhcyB8fCB0aGlzLmdyb3VuZENhbnZhcy53aWR0aCAhPSBncm91bmRSZXNvbHV0aW9uKSB7XG4gICAgICB0aGlzLmdyaWRDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgIHRoaXMuZ3JpZENhbnZhcy53aWR0aCA9IGdyb3VuZFJlc29sdXRpb247XG4gICAgICB0aGlzLmdyaWRDYW52YXMuaGVpZ2h0ID0gZ3JvdW5kUmVzb2x1dGlvbjtcbiAgICAgIHRoaXMuZ3JpZFRleHR1cmUgPSBuZXcgVEhSRUUuVGV4dHVyZSh0aGlzLmdyaWRDYW52YXMpO1xuICAgICAgdGhpcy5ncmlkVGV4dHVyZS53cmFwUyA9IFRIUkVFLlJlcGVhdFdyYXBwaW5nO1xuICAgICAgdGhpcy5ncmlkVGV4dHVyZS53cmFwVCA9IFRIUkVFLlJlcGVhdFdyYXBwaW5nO1xuICAgICAgdGhpcy5ncmlkVGV4dHVyZS5yZXBlYXQuc2V0KHRleFJlcGVhdCwgdGV4UmVwZWF0KTtcblxuICAgICAgdGhpcy5ncm91bmRDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgIHRoaXMuZ3JvdW5kQ2FudmFzLndpZHRoID0gZ3JvdW5kUmVzb2x1dGlvbjtcbiAgICAgIHRoaXMuZ3JvdW5kQ2FudmFzLmhlaWdodCA9IGdyb3VuZFJlc29sdXRpb247XG4gICAgICB0aGlzLmdyb3VuZFRleHR1cmUgPSBuZXcgVEhSRUUuVGV4dHVyZSh0aGlzLmdyb3VuZENhbnZhcyk7XG4gICAgICB0aGlzLmdyb3VuZFRleHR1cmUud3JhcFMgPSBUSFJFRS5SZXBlYXRXcmFwcGluZztcbiAgICAgIHRoaXMuZ3JvdW5kVGV4dHVyZS53cmFwVCA9IFRIUkVFLlJlcGVhdFdyYXBwaW5nO1xuICAgICAgdGhpcy5ncm91bmRUZXh0dXJlLnJlcGVhdC5zZXQodGV4UmVwZWF0LCB0ZXhSZXBlYXQpO1xuXG4gICAgICAvLyBncm91bmQgbWF0ZXJpYWwgZGlmZnVzZSBtYXAgaXMgdGhlIHJlZ3VsYXIgZ3JvdW5kIHRleHR1cmUgYW5kIHRoZSBncmlkIHRleHR1cmVcbiAgICAgIC8vIGlzIHVzZWQgaW4gdGhlIGVtaXNzaXZlIG1hcC4gVGhpcyB3YXksIHRoZSBncmlkIGlzIGFsd2F5cyBlcXVhbGx5IHZpc2libGUsIGV2ZW4gYXQgbmlnaHQuXG4gICAgICB0aGlzLmdyb3VuZE1hdGVyaWFsUHJvcHMgPSB7XG4gICAgICAgIG1hcDogdGhpcy5ncm91bmRUZXh0dXJlLFxuICAgICAgICBlbWlzc2l2ZTogbmV3IFRIUkVFLkNvbG9yKDB4RkZGRkZGKSxcbiAgICAgICAgZW1pc3NpdmVNYXA6IHRoaXMuZ3JpZFRleHR1cmVcbiAgICAgIH07XG5cbiAgICAgIC8vIHVzZSAuc2hhZGluZyBmb3IgQS1GcmFtZSA8IDAuNy4wIGFuZCAuZmxhdFNoYWRpbmcgZm9yIEEtRnJhbWUgPj0gMC43LjBcbiAgICAgIGlmIChuZXcgVEhSRUUuTWF0ZXJpYWwoKS5oYXNPd25Qcm9wZXJ0eSgnc2hhZGluZycpKSB7XG4gICAgICAgIHRoaXMuZ3JvdW5kTWF0ZXJpYWxQcm9wcy5zaGFkaW5nID0gdGhpcy5kYXRhLmZsYXRTaGFkaW5nID8gVEhSRUUuRmxhdFNoYWRpbmcgOiBUSFJFRS5TbW9vdGhTaGFkaW5nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5ncm91bmRNYXRlcmlhbFByb3BzLmZsYXRTaGFkaW5nID0gdGhpcy5kYXRhLmZsYXRTaGFkaW5nO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmdyb3VuZE1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hMYW1iZXJ0TWF0ZXJpYWwodGhpcy5ncm91bmRNYXRlcmlhbFByb3BzKTtcbiAgICB9XG5cbiAgICB2YXIgZ3JvdW5kY3R4ID0gdGhpcy5ncm91bmRDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICB2YXIgZ3JpZGN0eCA9IHRoaXMuZ3JpZENhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgdGhpcy5kcmF3VGV4dHVyZShncm91bmRjdHgsIGdyb3VuZFJlc29sdXRpb24sIHRleE1ldGVycyk7XG5cbiAgICBncmlkY3R4LmZpbGxTdHlsZSA9ICcjMDAwMDAwJztcbiAgICBncmlkY3R4LmZpbGxSZWN0KDAsIDAsIGdyb3VuZFJlc29sdXRpb24sIGdyb3VuZFJlc29sdXRpb24pO1xuICAgIHRoaXMuZHJhd0dyaWQoZ3JpZGN0eCwgZ3JvdW5kUmVzb2x1dGlvbiwgdGV4TWV0ZXJzKTtcblxuICAgIHRoaXMuZ3JvdW5kVGV4dHVyZS5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgdGhpcy5ncmlkVGV4dHVyZS5uZWVkc1VwZGF0ZSA9IHRydWU7XG5cbiAgICBpZiAodXBkYXRlR2VvbWV0cnkpIHtcbiAgICAgIHZhciBtZXNoID0gbmV3IFRIUkVFLk1lc2godGhpcy5ncm91bmRHZW9tZXRyeSwgdGhpcy5ncm91bmRNYXRlcmlhbCk7XG4gICAgICB0aGlzLmdyb3VuZC5zZXRPYmplY3QzRCgnbWVzaCcsIG1lc2gpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuZ3JvdW5kLmdldE9iamVjdDNEKCdtZXNoJykubWF0ZXJpYWwgPSB0aGlzLmdyb3VuZE1hdGVyaWFsO1xuICAgIH1cblxuICAgIHRoaXMuZ3JvdW5kLnNldEF0dHJpYnV0ZSgnc2hhZG93Jywge1xuICAgICAgY2FzdDogZmFsc2UsXG4gICAgICByZWNlaXZlOiB0aGlzLmRhdGEuc2hhZG93XG4gICAgfSk7XG4gIH0sXG5cbiAgLy8gZHJhdyBncmlkIHRvIGEgY2FudmFzIGNvbnRleHRcbiAgZHJhd0dyaWQ6IGZ1bmN0aW9uIChjdHgsIHNpemUsIHRleE1ldGVycykge1xuXG4gICAgaWYgKHRoaXMuZGF0YS5ncmlkID09ICdub25lJykgcmV0dXJuO1xuXG4gICAgLy8gb25lIGdyaWQgZmVhdHVyZSBlYWNoIDIgbWV0ZXJzXG5cbiAgICB2YXIgbnVtID0gTWF0aC5mbG9vcih0ZXhNZXRlcnMgLyAyKTtcbiAgICB2YXIgc3RlcCA9IHNpemUgLyAodGV4TWV0ZXJzIC8gMik7IC8vIDIgbWV0ZXJzID09IDxzdGVwPiBwaXhlbHNcbiAgICB2YXIgaSwgaiwgaWk7XG5cbiAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5kYXRhLmdyaWRDb2xvcjtcblxuICAgIHN3aXRjaCAodGhpcy5kYXRhLmdyaWQpIHtcbiAgICAgIGNhc2UgJzF4MSc6XG4gICAgICBjYXNlICcyeDInOiB7XG4gICAgICAgIGlmICh0aGlzLmRhdGEuZ3JpZCA9PSAnMXgxJykge1xuICAgICAgICAgIG51bSA9IG51bSAqIDI7XG4gICAgICAgICAgc3RlcCA9IHNpemUgLyB0ZXhNZXRlcnM7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG51bTsgaSsrKSB7XG4gICAgICAgICAgaWkgPSBNYXRoLmZsb29yKGkgKiBzdGVwKTtcbiAgICAgICAgICBjdHguZmlsbFJlY3QoMCwgaWksIHNpemUsIDEpO1xuICAgICAgICAgIGN0eC5maWxsUmVjdChpaSwgMCwgMSwgc2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdjcm9zc2VzJzoge1xuICAgICAgICB2YXIgbCA9IE1hdGguZmxvb3Ioc3RlcCAvIDIwKTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG51bSArIDE7IGkrKykge1xuICAgICAgICAgIGlpID0gTWF0aC5mbG9vcihpICogc3RlcCk7XG4gICAgICAgICAgZm9yIChqID0gMDsgaiA8IG51bSArIDE7IGorKykge1xuICAgICAgICAgICAgdmFyIGpqID0gTWF0aC5mbG9vcigtbCArIGogKiBzdGVwKTtcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdChqaiwgaWksIGwgKiAyLCAxKTtcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdChpaSwgamosIDEsIGwgKiAyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdkb3RzJzoge1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbnVtICsgMTsgaSsrKSB7XG4gICAgICAgICAgZm9yIChqID0gMDsgaiA8IG51bSArIDE7IGorKykge1xuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpOyBjdHguYXJjKE1hdGguZmxvb3IoaiAqIHN0ZXApLCBNYXRoLmZsb29yKGkgKiBzdGVwKSwgNCwgMCwgTWF0aC5QSSAqIDIpOyBjdHguZmlsbCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3hsaW5lcyc6IHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG51bTsgaSsrKSB7XG4gICAgICAgICAgY3R4LmZpbGxSZWN0KE1hdGguZmxvb3IoaSAqIHN0ZXApLCAwLCAxLCBzaXplKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3lsaW5lcyc6IHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG51bTsgaSsrKSB7XG4gICAgICAgICAgY3R4LmZpbGxSZWN0KDAsIE1hdGguZmxvb3IoaSAqIHN0ZXApLCBzaXplLCAxKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgLy8gZHJhdyBncm91bmQgdGV4dHVyZSB0byBhIGNhbnZhcyBjb250ZXh0XG4gIGRyYXdUZXh0dXJlOiBmdW5jdGlvbihjdHgsIHNpemUsIHRleE1ldGVycykge1xuICAgIC8vIGZpbGwgYWxsIHdpdGggZ3JvdW5kIENvbG9yXG4gICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuZGF0YS5ncm91bmRDb2xvcjtcbiAgICBjdHguZmlsbFJlY3QoMCwgMCwgc2l6ZSwgc2l6ZSk7XG5cbiAgICB2YXIgaSwgY29sLCBjb2wxLCBjb2wyLCBpbSwgaW1kYXRhLCBudW1waXhlbHM7XG5cbiAgICBpZiAodGhpcy5kYXRhLmdyb3VuZFRleHR1cmUgPT0gJ25vbmUnKSByZXR1cm47XG4gICAgc3dpdGNoKHRoaXMuZGF0YS5ncm91bmRUZXh0dXJlKSB7XG4gICAgICBjYXNlICdjaGVja2VyYm9hcmQnOiB7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmRhdGEuZ3JvdW5kQ29sb3IyO1xuICAgICAgICB2YXIgbnVtID0gTWF0aC5mbG9vcih0ZXhNZXRlcnMgLyAyKTtcbiAgICAgICAgdmFyIHN0ZXAgPSBzaXplIC8gKHRleE1ldGVycyAvIDIpOyAvLyAyIG1ldGVycyA9PSA8c3RlcD4gcGl4ZWxzXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBudW0gKyAxOyBpICs9IDIpIHtcbiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG51bSArIDE7IGogKyspIHtcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdChNYXRoLmZsb29yKChpICsgaiAlIDIpICogc3RlcCksIE1hdGguZmxvb3IoaiAqIHN0ZXApLCBNYXRoLmZsb29yKHN0ZXApLCBNYXRoLmZsb29yKHN0ZXApKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdzcXVhcmVzJzoge1xuICAgICAgICB2YXIgbnVtU3F1YXJlcyA9IDE2O1xuICAgICAgICB2YXIgc3F1YXJlU2l6ZSA9IHNpemUgLyBudW1TcXVhcmVzO1xuICAgICAgICBjb2wxID0gdmFyeUNvbG9yKG5ldyBUSFJFRS5Db2xvcih0aGlzLmRhdGEuZ3JvdW5kQ29sb3IpLCB0aGlzLnJhbmRvbSwgdGhpcy5kYXRhLnZhcnlDb2xvcik7XG4gICAgICAgIGNvbDIgPSB2YXJ5Q29sb3IobmV3IFRIUkVFLkNvbG9yKHRoaXMuZGF0YS5ncm91bmRDb2xvcjIpLCB0aGlzLnJhbmRvbSwgdGhpcy5kYXRhLnZhcnlDb2xvcik7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBudW1TcXVhcmVzICogbnVtU3F1YXJlczsgaSsrKSB7XG4gICAgICAgICAgY29sID0gdGhpcy5yYW5kb20oaSArIDMpID4gMC41ID8gY29sMS5jbG9uZSgpIDogY29sMi5jbG9uZSgpO1xuICAgICAgICAgIGNvbC5hZGRTY2FsYXIodGhpcy5yYW5kb20oaSArIDMpICogMC4xIC0gMC4wNSk7XG4gICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjJyArIGNvbC5nZXRIZXhTdHJpbmcoKTtcbiAgICAgICAgICBjdHguZmlsbFJlY3QoKGkgJSBudW1TcXVhcmVzKSAqIHNxdWFyZVNpemUsIE1hdGguZmxvb3IoaSAvIG51bVNxdWFyZXMpICogc3F1YXJlU2l6ZSwgc3F1YXJlU2l6ZSwgc3F1YXJlU2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdub2lzZSc6IHtcbiAgICAgIC8vIFRPRE86IGZpeFxuICAgICAgICBpbWRhdGEgPSBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIHNpemUsIHNpemUpO1xuICAgICAgICBpbSA9IGltZGF0YS5kYXRhO1xuICAgICAgICBjb2wxID0gdmFyeUNvbG9yKG5ldyBUSFJFRS5Db2xvcih0aGlzLmRhdGEuZ3JvdW5kQ29sb3IpLCB0aGlzLnJhbmRvbSwgdGhpcy5kYXRhLnZhcnlDb2xvcik7XG4gICAgICAgIGNvbDIgPSB2YXJ5Q29sb3IobmV3IFRIUkVFLkNvbG9yKHRoaXMuZGF0YS5ncm91bmRDb2xvcjIpLCB0aGlzLnJhbmRvbSwgdGhpcy5kYXRhLnZhcnlDb2xvcik7XG4gICAgICAgIHZhciBkaWZmID0gbmV3IFRIUkVFLkNvbG9yKGNvbDIuciAtIGNvbDEuciwgY29sMi5nIC0gY29sMS5nLCBjb2wyLmIgLSBjb2wxLmIpO1xuICAgICAgICB2YXIgcGVybGluID0gbmV3IFBlcmxpbk5vaXNlKCk7XG4gICAgICAgIGZvciAoaSA9IDAsIGogPSAwLCBudW1waXhlbHMgPSBpbS5sZW5ndGg7IGkgPCBudW1waXhlbHM7IGkgKz0gNCwgaisrKXtcbiAgICAgICAgICAvL2NvbnNvbGUubG9nKCAoaiAlIHNpemUpIC8gc2l6ZSwgaiAvIHNpemUpXG4gICAgICAgICAgdmFyIHJuZCA9IHBlcmxpbi5ub2lzZSgoaiAlIHNpemUpIC8gc2l6ZSAqIDMsIGogLyBzaXplIC8gc2l6ZSAqIDMsIDApO1xuICAgICAgICAgIGltW2kgKyAwXSA9IE1hdGguZmxvb3IoKGNvbDEuciArIGRpZmYuciAqIHJuZCkgKiAyNTUpO1xuICAgICAgICAgIGltW2kgKyAxXSA9IE1hdGguZmxvb3IoKGNvbDEuZyArIGRpZmYuZyAqIHJuZCkgKiAyNTUpO1xuICAgICAgICAgIGltW2kgKyAyXSA9IE1hdGguZmxvb3IoKGNvbDEuYiArIGRpZmYuYiAqIHJuZCkgKiAyNTUpO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5wdXRJbWFnZURhdGEoaW1kYXRhLCAwLCAwKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICd3YWxrZXJub2lzZSc6IHtcbiAgICAgICAgdmFyIHMgPSBNYXRoLmZsb29yKHNpemUgLyAyKTtcbiAgICAgICAgdmFyIHRleCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICB0ZXgud2lkdGggPSBzO1xuICAgICAgICB0ZXguaGVpZ2h0ID0gcztcbiAgICAgICAgdmFyIHRleGN0eCA9IHRleC5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICB0ZXhjdHguZmlsbFN0eWxlID0gdGhpcy5kYXRhLmdyb3VuZENvbG9yO1xuICAgICAgICB0ZXhjdHguZmlsbFJlY3QoMCwgMCwgcywgcyk7XG4gICAgICAgIGltZGF0YSA9IHRleGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgcywgcyk7XG4gICAgICAgIGltID0gaW1kYXRhLmRhdGE7XG4gICAgICAgIGNvbDEgPSB2YXJ5Q29sb3IobmV3IFRIUkVFLkNvbG9yKHRoaXMuZGF0YS5ncm91bmRDb2xvciksIHRoaXMucmFuZG9tLCB0aGlzLmRhdGEudmFyeUNvbG9yKTtcbiAgICAgICAgY29sMiA9IHZhcnlDb2xvcihuZXcgVEhSRUUuQ29sb3IodGhpcy5kYXRhLmdyb3VuZENvbG9yMiksIHRoaXMucmFuZG9tLCB0aGlzLmRhdGEudmFyeUNvbG9yKTtcbiAgICAgICAgdmFyIHdhbGtlcnMgPSBbXTtcbiAgICAgICAgdmFyIG51bXdhbGtlcnMgPSAxMDAwO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbnVtd2Fsa2VyczsgaSsrKSB7XG4gICAgICAgICAgY29sID0gY29sMS5jbG9uZSgpLmxlcnAoY29sMiwgTWF0aC5yYW5kb20oKSk7XG4gICAgICAgICAgd2Fsa2Vycy5wdXNoKHtcbiAgICAgICAgICAgIHg6IE1hdGgucmFuZG9tKCkgKiBzLFxuICAgICAgICAgICAgeTogTWF0aC5yYW5kb20oKSAqIHMsXG4gICAgICAgICAgICByOiBNYXRoLmZsb29yKGNvbC5yICogMjU1KSxcbiAgICAgICAgICAgIGc6IE1hdGguZmxvb3IoY29sLmcgKiAyNTUpLFxuICAgICAgICAgICAgYjogTWF0aC5mbG9vcihjb2wuYiAqIDI1NSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaXRlcmF0aW9ucyA9IDUwMDA7XG4gICAgICAgIGZvciAodmFyIGl0ID0gMDsgaXQ8IGl0ZXJhdGlvbnM7IGl0Kyspe1xuICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBudW13YWxrZXJzOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB3YWxrZXIgPSB3YWxrZXJzW2ldO1xuICAgICAgICAgICAgdmFyIHBvcyA9IE1hdGguZmxvb3IoKHdhbGtlci55ICogcyArIHdhbGtlci54KSkgKiA0O1xuICAgICAgICAgICAgaW1bcG9zICsgMF0gPSB3YWxrZXIucjtcbiAgICAgICAgICAgIGltW3BvcyArIDFdID0gd2Fsa2VyLmc7XG4gICAgICAgICAgICBpbVtwb3MgKyAyXSA9IHdhbGtlci5iO1xuICAgICAgICAgICAgd2Fsa2VyLnggKz0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMykgLSAxO1xuICAgICAgICAgICAgd2Fsa2VyLnkgKz0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMykgLSAxO1xuICAgICAgICAgICAgaWYgKHdhbGtlci54ID49IHMpIHdhbGtlci54ID0gd2Fsa2VyLnggLSBzO1xuICAgICAgICAgICAgaWYgKHdhbGtlci55ID49IHMpIHdhbGtlci55ID0gd2Fsa2VyLnkgLSBzO1xuICAgICAgICAgICAgaWYgKHdhbGtlci54IDwgMCkgd2Fsa2VyLnggPSBzICsgd2Fsa2VyLng7XG4gICAgICAgICAgICBpZiAod2Fsa2VyLnkgPCAwKSB3YWxrZXIueSA9IHMgKyB3YWxrZXIueTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGV4Y3R4LnB1dEltYWdlRGF0YShpbWRhdGEsIDAsIDApO1xuICAgICAgICBjdHguZHJhd0ltYWdlKHRleCwgMCwgMCwgc2l6ZSwgc2l6ZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICAvLyByZXR1cm5zIGFuIGFycmF5IG9mIFRIUkVFLkdlb21ldHJ5IGZvciBzZXQgZHJlc3NpbmdcbiAgZ2V0QXNzZXRHZW9tZXRyeTogZnVuY3Rpb24oZGF0YSkge1xuICAgIGlmICghZGF0YSkgcmV0dXJuIG51bGw7XG4gICAgdmFyIGdlb3NldCA9IFtdO1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIGZ1bmN0aW9uIGFwcGx5Tm9pc2UoZ2VvLCBub2lzZSkge1xuICAgICAgdmFyIG4gPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIG51bVZlcnRzID0gZ2VvLnZlcnRpY2VzLmxlbmd0aDsgaSA8IG51bVZlcnRzOyBpKyspIHtcbiAgICAgICAgbi54ID0gKHNlbGYucmFuZG9tKGkpIC0gMC41KSAqIG5vaXNlO1xuICAgICAgICBuLnkgPSAoc2VsZi5yYW5kb20oaSArIG51bVZlcnRzKSAtIDAuNSkgKiBub2lzZTtcbiAgICAgICAgbi56ID0gKHNlbGYucmFuZG9tKGkgKyBudW1WZXJ0cyAqIDIpIC0gMC41KSAqIG5vaXNlO1xuICAgICAgICBnZW8udmVydGljZXNbaV0uYWRkKG4pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBpLCBnZW8sIHZlcnRzO1xuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBkYXRhLmxlbmd0aDsgaisrKSB7XG5cbiAgICAgIGlmIChkYXRhW2pdLnR5cGUgPT0gJ2xhdGhlJykge1xuICAgICAgICB2YXIgbWF4eSA9IC05OTk5OTtcbiAgICAgICAgdmFyIHBvaW50cyA9IFtdO1xuICAgICAgICB2ZXJ0cyA9IGRhdGFbal0udmVydGljZXM7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB2ZXJ0cy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgIHBvaW50cy5wdXNoKG5ldyBUSFJFRS5WZWN0b3IyKHZlcnRzW2ldLCB2ZXJ0c1tpICsgMV0pKTtcbiAgICAgICAgICBpZiAodmVydHNbaSArIDFdID4gbWF4eSkge1xuICAgICAgICAgICAgbWF4eSA9IHZlcnRzW2kgKyAxXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZ2VvID0gbmV3IFRIUkVFLkxhdGhlR2VvbWV0cnkocG9pbnRzLCBkYXRhW2pdWydzZWdtZW50cyddIHx8IDgpO1xuICAgICAgICBnZW8uYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlUm90YXRpb25Gcm9tRXVsZXIobmV3IFRIUkVFLkV1bGVyKC1NYXRoLlBJLCAwLCAwKSkpO1xuICAgICAgICBnZW8uYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oMCwgbWF4eSwgMCkpO1xuICAgICAgICBpZiAoZGF0YVtqXVsnbm9pc2UnXSkgYXBwbHlOb2lzZShnZW8sIGRhdGFbal0ubm9pc2UpO1xuICAgICAgICBnZW9zZXQucHVzaChnZW8pO1xuICAgICAgfVxuXG4gICAgICBlbHNlIGlmIChkYXRhW2pdLnR5cGUgPT0gJ2V4dHJ1ZGUnKSB7XG4gICAgICAgIHZhciBzaGFwZSA9IG5ldyBUSFJFRS5TaGFwZSgpO1xuICAgICAgICB2ZXJ0cyA9IGRhdGFbal0udmVydGljZXM7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB2ZXJ0cy5sZW5ndGg7IGkrPSAyKSB7XG4gICAgICAgICAgaWYgKGkgPT0gMCkgc2hhcGUubW92ZVRvKHZlcnRzW2ldLCB2ZXJ0c1tpICsgMV0pO1xuICAgICAgICAgIGVsc2Ugc2hhcGUubGluZVRvKHZlcnRzW2ldLCB2ZXJ0c1tpICsgMV0pO1xuICAgICAgICB9XG4gICAgICAgIGdlbyA9IG5ldyBUSFJFRS5FeHRydWRlR2VvbWV0cnkoc2hhcGUsIHthbW91bnQ6IDEsIGJldmVsRW5hYmxlZDogZmFsc2V9KTtcbiAgICAgICAgZ2VvLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVJvdGF0aW9uRnJvbUV1bGVyKG5ldyBUSFJFRS5FdWxlcigtTWF0aC5QSSAvIDIsIDAsIDApKSk7XG4gICAgICAgIGlmIChkYXRhW2pdWydub2lzZSddKSBhcHBseU5vaXNlKGdlbywgZGF0YVtqXS5ub2lzZSk7XG4gICAgICAgIGdlb3NldC5wdXNoKGdlbyk7XG4gICAgICB9XG5cbiAgICAgIGVsc2UgaWYgKGRhdGFbal0udHlwZSA9PSAnbWVzaCcpIHtcbiAgICAgICAgZ2VvID0gbmV3IFRIUkVFLkdlb21ldHJ5KCk7XG4gICAgICAgIHZlcnRzID0gZGF0YVtqXS52ZXJ0aWNlcztcbiAgICAgICAgdmFyIGZhY2VzID0gZGF0YVtqXS5mYWNlcztcbiAgICAgICAgZm9yICh2YXIgdiA9IDA7IHYgPCB2ZXJ0cy5sZW5ndGg7IHYgKz0gMykge1xuICAgICAgICAgIGdlby52ZXJ0aWNlcy5wdXNoKG5ldyBUSFJFRS5WZWN0b3IzKHZlcnRzW3ZdLCB2ZXJ0c1t2ICsgMV0sIHZlcnRzW3YgKyAyXSkpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGYgPSAwOyBmIDwgZmFjZXMubGVuZ3RoOyBmICs9IDMpIHtcbiAgICAgICAgICBnZW8uZmFjZXMucHVzaChuZXcgVEhSRUUuRmFjZTMoZmFjZXNbZl0sIGZhY2VzW2YgKyAxXSwgZmFjZXNbZiArIDJdKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5kYXRhLmZsYXRTaGFkaW5nIHx8IGRhdGFbal1bJ2ZsYXRTaGFkaW5nJ10pIHtcbiAgICAgICAgICBnZW8uY29tcHV0ZUZhY2VOb3JtYWxzKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZ2VvLmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0YVtqXVsnbWlycm9yJ10pIHtcbiAgICAgICAgICBnZW8ubWVyZ2UoZ2VvLCBuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VSb3RhdGlvbkZyb21FdWxlcihuZXcgVEhSRUUuRXVsZXIoMCwgTWF0aC5QSSwgMCkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhW2pdWydub2lzZSddKSBhcHBseU5vaXNlKGdlbywgZGF0YVtqXS5ub2lzZSk7XG4gICAgICAgIGdlb3NldC5wdXNoKGdlbyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBnZW9zZXQ7XG4gIH0sXG5cbiAgLy8gdXBkYXRlcyBzZXQgZHJlc3NpbmdcbiAgdXBkYXRlRHJlc3Npbmc6IGZ1bmN0aW9uICh3aGljaCkge1xuICAgIHZhciBkcmVzc2luZ09iamVjdCA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xuICAgIHZhciBkcmVzc3RyID0gJ2RyZXNzaW5nJyArIHdoaWNoO1xuICAgIHZhciBkcmVzc2luZ0VsID0gdGhpc1tkcmVzc3RyXTtcblxuICAgIHZhciBkcmVzc2luZyA9IHRoaXMuZGF0YVtkcmVzc3RyXTtcbiAgICB2YXIgZHJlc3NpbmdDb2xvciA9IHRoaXMuZGF0YVtkcmVzc3RyICsgJ0NvbG9yJ107XG4gICAgdmFyIGRyZXNzaW5nQW1vdW50ID0gdGhpcy5kYXRhW2RyZXNzdHIgKyAnQW1vdW50J107XG4gICAgdmFyIGRyZXNzaW5nVmFyaWFuY2UgPSB0aGlzLmRhdGFbZHJlc3N0ciArICdWYXJpYW5jZSddO1xuICAgIHZhciBkcmVzc2luZ1NjYWxlID0gdGhpcy5kYXRhW2RyZXNzdHIgKyAnU2NhbGUnXTtcbiAgICB2YXIgZHJlc3NpbmdVbmlmb3JtU2NhbGUgPSB0aGlzLmRhdGFbZHJlc3N0ciArICdVbmlmb3JtU2NhbGUnXTtcbiAgICB2YXIgZHJlc3NpbmdPblBsYXlBcmVhID0gdGhpcy5kYXRhW2RyZXNzdHIgKyAnT25QbGF5QXJlYSddO1xuXG4gICAgZHJlc3NpbmdFbC5zZXRBdHRyaWJ1dGUoJ3Zpc2libGUnLCBkcmVzc2luZyAhPSAnbm9uZScpO1xuICAgIGlmIChkcmVzc2luZyA9PSAnbm9uZScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGdlb21ldHJ5ID0gbmV3IFRIUkVFLkdlb21ldHJ5KCk7IC8vIG1vdGhlciBnZW9tZXRyeSB0aGF0IHdpbGwgaG9sZCBhbGwgaW5zdGFuY2VzXG5cbiAgICAvLyBnZXQgYXJyYXkgb2YgZ2VvbWV0cmllc1xuICAgIHZhciBnZW9zZXQ7XG4gICAgc3dpdGNoIChkcmVzc2luZyl7XG4gICAgICBjYXNlICdjdWJlcyc6IHtcbiAgICAgICAgZ2Vvc2V0ID0gW25ldyBUSFJFRS5Cb3hHZW9tZXRyeSgxLCAxLCAxKV07XG4gICAgICAgIGdlb3NldFswXS5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbigwLCAwLjUsIDApKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdweXJhbWlkcyc6IHtcbiAgICAgICAgZ2Vvc2V0ID0gW25ldyBUSFJFRS5Db25lR2VvbWV0cnkoMSwgMSwgNCwgMSwgdHJ1ZSldO1xuICAgICAgICBnZW9zZXRbMF0uYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oMCwgMC41LCAwKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnY3lsaW5kZXJzJzoge1xuICAgICAgICBnZW9zZXQgPSBbbmV3IFRIUkVFLkN5bGluZGVyR2VvbWV0cnkoMC41LCAwLjUsIDEsIDgsIDEsIHRydWUpXTtcbiAgICAgICAgZ2Vvc2V0WzBdLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKDAsIDAuNSwgMCkpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgZ2Vvc2V0ID0gdGhpcy5nZXRBc3NldEdlb21ldHJ5KHRoaXMuYXNzZXRzW2RyZXNzaW5nXSk7XG4gICAgICAgIGlmICghZ2Vvc2V0KSByZXR1cm47XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBkYW1vdW50ID0gZHJlc3NpbmdBbW91bnQgKyBNYXRoLmZsb29yKHRoaXMucmFuZG9tKCkgKiBkcmVzc2luZ0Ftb3VudCk7XG4gICAgY29uc29sZS5sb2coZGFtb3VudCk7XG4gICAgZm9yICh2YXIgaSA9IDAsIHIgPSA4ODM0MzsgaSA8IGRhbW91bnQ7IGkrKywgcisrKSB7XG5cbiAgICAgIHZhciBnZW8gPSBnZW9zZXRbTWF0aC5mbG9vcih0aGlzLnJhbmRvbSgzMyAqIHdoaWNoICsgaSkgKiBnZW9zZXQubGVuZ3RoKV07XG4vKlxuICAgICAgLy8gY2hhbmdlIHZlcnRleCBjb2xvcnNcbiAgICAgIHZhciBjb2xvciA9IG5ldyBUSFJFRS5Db2xvcigweEZGRkZGRikubXVsdGlwbHlTY2FsYXIoMSAtIHRoaXMucmFuZG9tKDY2ICsgaSkgKiAwLjMpO1xuXG4gICAgICBmb3IgKHZhciBmID0gMCwgZmwgPSBnZW8uZmFjZXMubGVuZ3RoOyBmIDwgZmw7IGYrKykge1xuICAgICAgICB2YXIgZmFjZSA9IGdlby5mYWNlc1tmXTtcbiAgICAgICAgZm9yICh2YXIgdiA9IDA7IHYgPCAzOyB2KyspIHtcbiAgICAgICAgICBwID0gZ2VvLnZlcnRpY2VzW2ZhY2VbZmFjZWluZGV4W3ZdXV07IC8vIGdldCB2ZXJ0ZXggcG9zaXRpb25cbiAgICAgICAgICB2YXIgZmxvb3JhbyA9ICBwLnkgLyA0ICsgMC43NTtcbiAgICAgICAgICBmYWNlLnZlcnRleENvbG9yc1t2XSA9IG5ldyBUSFJFRS5Db2xvcihjb2xvci5yICogZmxvb3JhbywgY29sb3IuZyAqIGZsb29yYW8sIGNvbG9yLmIgKiBmbG9vcmFvKTtcbiAgICAgICAgfVxuICAgICAgfVxuKi9cbiAgICAgIC8vIHNldCByYW5kb20gcG9zaXRpb24sIHJvdGF0aW9uIGFuZCBzY2FsZVxuICAgICAgdmFyIGRzID0gZHJlc3NpbmdTY2FsZTtcbiAgICAgIHZhciBkdiA9IG5ldyBUSFJFRS5WZWN0b3IzKGRyZXNzaW5nVmFyaWFuY2UueCwgZHJlc3NpbmdWYXJpYW5jZS55LCBkcmVzc2luZ1ZhcmlhbmNlLnopO1xuICAgICAgdmFyIGRpc3RhbmNlO1xuICAgICAgdmFyIHJ3ID0gciAqIHdoaWNoO1xuICAgICAgdmFyIG9uUGxheUFyZWEgPSB0aGlzLnJhbmRvbShydykgPCBkcmVzc2luZ09uUGxheUFyZWE7XG4gICAgICBpZiAob25QbGF5QXJlYSkge1xuICAgICAgICBkaXN0YW5jZSA9IHRoaXMucmFuZG9tKHJ3ICsgMSkgKiAxNTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBkaXN0YW5jZSA9IDEwICsgTWF0aC5tYXgoZHYueCwgZHYueikgKyAxMCAqIHRoaXMucmFuZG9tKHJ3ICsgMSkgKyB0aGlzLnJhbmRvbShydyArIDIpICogdGhpcy5TVEFHRV9TSVpFIC8gMztcbiAgICAgIH1cblxuICAgICAgdmFyIGRpcmVjdGlvbiA9IHRoaXMucmFuZG9tKHJ3ICsgMykgKiBNYXRoLlBJICogMjtcbiAgICAgIHZhciBtYXRyaXggPSBuZXcgVEhSRUUuTWF0cml4NCgpO1xuICAgICAgdmFyIHNjYWxlID0gdGhpcy5yYW5kb20ocncgKyA0KTtcbiAgICAgIHZhciB1bmlmb3JtU2NhbGUgPSBkcmVzc2luZ1VuaWZvcm1TY2FsZTtcblxuICAgICAgbWF0cml4LmNvbXBvc2UoXG4gICAgICAgIC8vIHBvc2l0aW9uXG4gICAgICAgIG5ldyBUSFJFRS5WZWN0b3IzKFxuICAgICAgICAgIE1hdGguY29zKGRpcmVjdGlvbikgKiBkaXN0YW5jZSxcbiAgICAgICAgICAwLFxuICAgICAgICAgIE1hdGguc2luKGRpcmVjdGlvbikgKiBkaXN0YW5jZVxuICAgICAgICAgICksXG4gICAgICAgIC8vIHJvdGF0aW9uXG4gICAgICAgIG5ldyBUSFJFRS5RdWF0ZXJuaW9uKCkuc2V0RnJvbUF4aXNBbmdsZShcbiAgICAgICAgICBuZXcgVEhSRUUuVmVjdG9yMygwLCAxLCAwKSxcbiAgICAgICAgICAodGhpcy5yYW5kb20ocncgKyA1KSAtIDAuNSkgKiBkdi5sZW5ndGgoKSAqIE1hdGguUEkgKiAyXG4gICAgICAgICAgKSxcbiAgICAgICAgLy8gc2NhbGVcbiAgICAgICAgbmV3IFRIUkVFLlZlY3RvcjMoXG4gICAgICAgICAgIGRzICsgKHVuaWZvcm1TY2FsZSA/IHNjYWxlIDogdGhpcy5yYW5kb20ocncgKyA2KSkgKiBkdi54LFxuICAgICAgICAgICBkcyArICh1bmlmb3JtU2NhbGUgPyBzY2FsZSA6IHRoaXMucmFuZG9tKHJ3ICsgNykpICogZHYueSxcbiAgICAgICAgICAgZHMgKyAodW5pZm9ybVNjYWxlID8gc2NhbGUgOiB0aGlzLnJhbmRvbShydyArIDgpKSAqIGR2LnpcbiAgICAgICAgICApXG4gICAgICAgICk7XG5cbiAgICAgIC8vIG1lcmdlIHdpdGggbW90aGVyIGdlb21ldHJ5XG4gICAgICBnZW9tZXRyeS5tZXJnZShnZW8sIG1hdHJpeCk7XG4gICAgfVxuXG4gICAgLy8gY29udmVydCBnZW9tZXRyeSB0byBidWZmZXJnZW9tZXRyeVxuICAgIHZhciBidWZnZW8gPSBuZXcgVEhSRUUuQnVmZmVyR2VvbWV0cnkoKTtcbiAgICBidWZnZW8uZnJvbUdlb21ldHJ5KGdlb21ldHJ5KTtcblxuICAgIC8vIHNldHVwIG1hdGVyaWFsXG4gICAgdmFyIG1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hMYW1iZXJ0TWF0ZXJpYWwoe1xuICAgICAgY29sb3I6IHZhcnlDb2xvcihuZXcgVEhSRUUuQ29sb3IoZHJlc3NpbmdDb2xvciksIHRoaXMucmFuZG9tLCB0aGlzLmRhdGEudmFyeUNvbG9yKSxcbiAgICAgIHZlcnRleENvbG9yczogVEhSRUUuVmVydGV4Q29sb3JzXG4gICAgfSk7XG5cbiAgICBpZiAodGhpcy5kYXRhLmZsYXRTaGFkaW5nKSB7XG4gICAgICBidWZnZW8uY29tcHV0ZVZlcnRleE5vcm1hbHMoKTtcbiAgICB9XG5cbiAgICAvLyBjcmVhdGUgbWVzaFxuICAgIHZhciBtZXNoID0gbmV3IFRIUkVFLk1lc2goYnVmZ2VvLCBtYXRlcmlhbCk7XG4gICAgZHJlc3NpbmdPYmplY3QuYWRkKG1lc2gpO1xuICAgIC8vIGFkZCB0byBzY2VuZVxuICAgIGRyZXNzaW5nRWwuc2V0T2JqZWN0M0QoJ21lc2gnLCBkcmVzc2luZ09iamVjdCk7XG4gICAgZHJlc3NpbmdFbC5vYmplY3QzRC5tYXRlcmlhbFRvQW5pbWF0ZSA9IG1hdGVyaWFsO1xuICB9LFxuXG4gIC8vIGluaXRpYWxpemVzIHRoZSBCdWZmZXJHZW9tZXRyeSBmb3IgdGhlIHN0YXJzXG4gIGNyZWF0ZVN0YXJzOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbnVtU3RhcnMgPSAyMDAwO1xuICAgIHZhciBnZW9tZXRyeSA9IG5ldyBUSFJFRS5CdWZmZXJHZW9tZXRyeSgpO1xuICAgIHZhciBwb3NpdGlvbnMgPSBuZXcgRmxvYXQzMkFycmF5KCBudW1TdGFycyAqIDMgKTtcbiAgICB2YXIgcmFkaXVzID0gdGhpcy5TVEFHRV9TSVpFIC0gMTtcbiAgICB2YXIgdiA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb3NpdGlvbnMubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgIHYuc2V0KHRoaXMucmFuZG9tKGkgKyAyMykgLSAwLjUsIHRoaXMucmFuZG9tKGkgKyAyNCksIHRoaXMucmFuZG9tKGkgKyAyNSkgLSAwLjUpO1xuICAgICAgdi5ub3JtYWxpemUoKTtcbiAgICAgIHYubXVsdGlwbHlTY2FsYXIocmFkaXVzKTtcbiAgICAgIHBvc2l0aW9uc1tpICBdID0gdi54O1xuICAgICAgcG9zaXRpb25zW2krMV0gPSB2Lnk7XG4gICAgICBwb3NpdGlvbnNbaSsyXSA9IHYuejtcbiAgICB9XG4gICAgZ2VvbWV0cnkuYWRkQXR0cmlidXRlKCdwb3NpdGlvbicsIG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUocG9zaXRpb25zLCAzKSk7XG4gICAgZ2VvbWV0cnkuc2V0RHJhd1JhbmdlKDAsIDApOyAvLyBkb24ndCBkcmF3IGFueSB5ZXRcbiAgICB2YXIgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuUG9pbnRzTWF0ZXJpYWwoe3NpemU6IDAuMDEsIGNvbG9yOiAweENDQ0NDQywgZm9nOiBmYWxzZX0pO1xuICAgIHRoaXMuc3RhcnMuc2V0T2JqZWN0M0QoJ21lc2gnLCBuZXcgVEhSRUUuUG9pbnRzKGdlb21ldHJ5LCBtYXRlcmlhbCkpO1xuICB9LFxuXG4gIC8vIFNldHMgdGhlIG51bWJlciBvZiBzdGFycyB2aXNpYmxlLiBDYWxscyBjcmVhdGVTdGFycygpIHRvIGluaXRpYWxpemUgaWYgbmVlZGVkLlxuICBzZXRTdGFyczogZnVuY3Rpb24gKG51bVN0YXJzKSB7XG4gICAgaWYgKCF0aGlzLnN0YXJzKXtcbiAgICAgIHRoaXMuc3RhcnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhLWVudGl0eScpO1xuICAgICAgdGhpcy5zdGFycy5pZD0gJ3N0YXJzJztcbiAgICAgIHRoaXMuY3JlYXRlU3RhcnMoKTtcbiAgICAgIHRoaXMuZWwuYXBwZW5kQ2hpbGQodGhpcy5zdGFycyk7XG4gICAgfVxuICAgIG51bVN0YXJzID0gTWF0aC5mbG9vcihNYXRoLm1pbigyMDAwLCBNYXRoLm1heCgwLCBudW1TdGFycykpKTtcbiAgICB0aGlzLnN0YXJzLmdldE9iamVjdDNEKCdtZXNoJykuZ2VvbWV0cnkuc2V0RHJhd1JhbmdlKDAsIG51bVN0YXJzKTtcbiAgfVxufSk7XG5cbi8vIGF0bW9zcGhlcmUgc2t5IHNoYWRlci4gRnJvbSBodHRwczovL2dpdGh1Yi5jb20vYWZyYW1ldnIvYWZyYW1lL2Jsb2IvbWFzdGVyL2V4YW1wbGVzL3Rlc3Qvc2hhZGVycy9zaGFkZXJzL3NreS5qc1xuQUZSQU1FLnJlZ2lzdGVyU2hhZGVyKCdza3lzaGFkZXInLCB7XG4gIHNjaGVtYToge1xuICAgIGx1bWluYW5jZTogeyB0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogMSwgbWluOiAwLCBtYXg6IDIsIGlzOiAndW5pZm9ybScgfSxcbiAgICB0dXJiaWRpdHk6IHsgdHlwZTogJ251bWJlcicsIGRlZmF1bHQ6IDIsIG1pbjogMCwgbWF4OiAyMCwgaXM6ICd1bmlmb3JtJyB9LFxuICAgIHJlaWxlaWdoOiB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiAxLCBtaW46IDAsIG1heDogNCwgaXM6ICd1bmlmb3JtJyB9LFxuICAgIG1pZUNvZWZmaWNpZW50OiB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiAwLjAwNSwgbWluOiAwLCBtYXg6IDAuMSwgaXM6ICd1bmlmb3JtJyB9LFxuICAgIG1pZURpcmVjdGlvbmFsRzogeyB0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogMC44LCBtaW46IDAsIG1heDogMSwgaXM6ICd1bmlmb3JtJyB9LFxuICAgIHN1blBvc2l0aW9uOiB7IHR5cGU6ICd2ZWMzJywgZGVmYXVsdDoge3g6IDAsIHk6IDAsIHo6IC0xfSwgaXM6ICd1bmlmb3JtJyB9LFxuICAgIGNvbG9yOiB7dHlwZTogJ2NvbG9yJywgZGVmYXVsdDogJyNmZmYnfSAvL3BsYWNlaG9sZGVyIHRvIHJlbW92ZSB3YXJuaW5nXG4gIH0sXG5cbiAgdmVydGV4U2hhZGVyOiBbXG4gICAgJ3ZhcnlpbmcgdmVjMyB2V29ybGRQb3NpdGlvbjsnLFxuICAgICd2b2lkIG1haW4oKSB7JyxcbiAgICAndmVjNCB3b3JsZFBvc2l0aW9uID0gbW9kZWxNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7JyxcbiAgICAndldvcmxkUG9zaXRpb24gPSB3b3JsZFBvc2l0aW9uLnh5ejsnLFxuICAgICdnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7JyxcbiAgICAnfSdcbiAgXS5qb2luKCdcXG4nKSxcblxuICBmcmFnbWVudFNoYWRlcjogW1xuICAgICd1bmlmb3JtIHNhbXBsZXIyRCBza3lTYW1wbGVyOycsXG4gICAgJ3VuaWZvcm0gdmVjMyBzdW5Qb3NpdGlvbjsnLFxuICAgICd2YXJ5aW5nIHZlYzMgdldvcmxkUG9zaXRpb247JyxcblxuICAgICd2ZWMzIGNhbWVyYVBvcyA9IHZlYzMoMC4sIDAuLCAwLik7JyxcblxuICAgICd1bmlmb3JtIGZsb2F0IGx1bWluYW5jZTsnLFxuICAgICd1bmlmb3JtIGZsb2F0IHR1cmJpZGl0eTsnLFxuICAgICd1bmlmb3JtIGZsb2F0IHJlaWxlaWdoOycsXG4gICAgJ3VuaWZvcm0gZmxvYXQgbWllQ29lZmZpY2llbnQ7JyxcbiAgICAndW5pZm9ybSBmbG9hdCBtaWVEaXJlY3Rpb25hbEc7JyxcblxuICAgIC8vIGNvbnN0YW50cyBmb3IgYXRtb3NwaGVyaWMgc2NhdHRlcmluZydcbiAgICAnY29uc3QgZmxvYXQgZSA9IDIuNzE4MjgxODI4NDU5MDQ1MjM1MzYwMjg3NDcxMzUyNjYyNDk3NzU3MjQ3MDkzNjk5OTU5NTc7JyxcbiAgICAnY29uc3QgZmxvYXQgcGkgPSAzLjE0MTU5MjY1MzU4OTc5MzIzODQ2MjY0MzM4MzI3OTUwMjg4NDE5NzE2OTsnLFxuXG4gICAgLy8gcmVmcmFjdGl2ZSBpbmRleCBvZiBhaXJcbiAgICAnY29uc3QgZmxvYXQgbiA9IDEuMDAwMzsnLFxuICAgIC8vIG51bWJlciBvZiBtb2xlY3VsZXMgcGVyIHVuaXQgdm9sdW1lIGZvciBhaXIgYXQnXG4gICAgJ2NvbnN0IGZsb2F0IE4gPSAyLjU0NUUyNTsnICxcbiAgICAvLyAyODguMTVLIGFuZCAxMDEzbWIgKHNlYSBsZXZlbCAtNDUgY2Vsc2l1cylcbiAgICAvLyBkZXBvbGF0aXphdGlvbiBmYWN0b3IgZm9yIHN0YW5kYXJkIGFpclxuICAgICdjb25zdCBmbG9hdCBwbiA9IDAuMDM1OycsXG4gICAgLy8gd2F2ZWxlbmd0aCBvZiB1c2VkIHByaW1hcmllcywgYWNjb3JkaW5nIHRvIHByZWV0aGFtXG4gICAgJ2NvbnN0IHZlYzMgbGFtYmRhID0gdmVjMyg2ODBFLTksIDU1MEUtOSwgNDUwRS05KTsnLFxuXG4gICAgLy8gbWllIHN0dWZmXG4gICAgLy8gSyBjb2VmZmljaWVudCBmb3IgdGhlIHByaW1hcmllc1xuICAgICdjb25zdCB2ZWMzIEsgPSB2ZWMzKDAuNjg2LCAwLjY3OCwgMC42NjYpOycsXG4gICAgJ2NvbnN0IGZsb2F0IHYgPSA0LjA7JyxcblxuICAgIC8vIG9wdGljYWwgbGVuZ3RoIGF0IHplbml0aCBmb3IgbW9sZWN1bGVzXG4gICAgJ2NvbnN0IGZsb2F0IHJheWxlaWdoWmVuaXRoTGVuZ3RoID0gOC40RTM7JyxcbiAgICAnY29uc3QgZmxvYXQgbWllWmVuaXRoTGVuZ3RoID0gMS4yNUUzOycsXG4gICAgJ2NvbnN0IHZlYzMgdXAgPSB2ZWMzKDAuMCwgMS4wLCAwLjApOycsXG5cbiAgICAnY29uc3QgZmxvYXQgRUUgPSAxMDAwLjA7JyxcbiAgICAnY29uc3QgZmxvYXQgc3VuQW5ndWxhckRpYW1ldGVyQ29zID0gMC45OTk5NTY2NzY5NDY0NDg0NDM1NTM1NzQ2MTk5MDY5NzY0Nzg5MjY4NDg2OTI4NzM5MDA4NTkzMjQ7JyxcbiAgICAvLyA2NiBhcmMgc2Vjb25kcyAtPiBkZWdyZWVzLCBhbmQgdGhlIGNvc2luZSBvZiB0aGF0XG5cbiAgICAvLyBlYXJ0aCBzaGFkb3cgaGFjaydcbiAgICAnY29uc3QgZmxvYXQgY3V0b2ZmQW5nbGUgPSBwaS8xLjk1OycsXG4gICAgJ2NvbnN0IGZsb2F0IHN0ZWVwbmVzcyA9IDEuNTsnLFxuXG4gICAgJ3ZlYzMgdG90YWxSYXlsZWlnaCh2ZWMzIGxhbWJkYSknLFxuICAgICd7JyxcbiAgICAncmV0dXJuICg4LjAgKiBwb3cocGksIDMuMCkgKiBwb3cocG93KG4sIDIuMCkgLSAxLjAsIDIuMCkgKiAoNi4wICsgMy4wICogcG4pKSAvICgzLjAgKiBOICogcG93KGxhbWJkYSwgdmVjMyg0LjApKSAqICg2LjAgLSA3LjAgKiBwbikpOycsXG4gICAgJ30nLFxuXG4gICAgLy8gc2VlIGh0dHA6Ly9ibGVuZGVyYXJ0aXN0cy5vcmcvZm9ydW0vc2hvd3RocmVhZC5waHA/MzIxMTEwLVNoYWRlcnMtYW5kLVNreWJveC1tYWRuZXNzXG4gICAgLy8gQSBzaW1wbGllZCB2ZXJzaW9uIG9mIHRoZSB0b3RhbCBSYXlsZWlnaCBzY2F0dGVyaW5nIHRvIHdvcmtzIG9uIGJyb3dzZXJzIHRoYXQgdXNlIEFOR0xFXG4gICAgJ3ZlYzMgc2ltcGxpZmllZFJheWxlaWdoKCknLFxuICAgICd7JyxcbiAgICAncmV0dXJuIDAuMDAwNSAvIHZlYzMoOTQsIDQwLCAxOCk7JyxcbiAgICAnfScsXG5cbiAgICAnZmxvYXQgcmF5bGVpZ2hQaGFzZShmbG9hdCBjb3NUaGV0YSknLFxuICAgICd7ICAgJyxcbiAgICAncmV0dXJuICgzLjAgLyAoMTYuMCpwaSkpICogKDEuMCArIHBvdyhjb3NUaGV0YSwgMi4wKSk7JyxcbiAgICAnfScsXG5cbiAgICAndmVjMyB0b3RhbE1pZSh2ZWMzIGxhbWJkYSwgdmVjMyBLLCBmbG9hdCBUKScsXG4gICAgJ3snLFxuICAgICdmbG9hdCBjID0gKDAuMiAqIFQgKSAqIDEwRS0xODsnLFxuICAgICdyZXR1cm4gMC40MzQgKiBjICogcGkgKiBwb3coKDIuMCAqIHBpKSAvIGxhbWJkYSwgdmVjMyh2IC0gMi4wKSkgKiBLOycsXG4gICAgJ30nLFxuXG4gICAgJ2Zsb2F0IGhnUGhhc2UoZmxvYXQgY29zVGhldGEsIGZsb2F0IGcpJyxcbiAgICAneycsXG4gICAgJ3JldHVybiAoMS4wIC8gKDQuMCpwaSkpICogKCgxLjAgLSBwb3coZywgMi4wKSkgLyBwb3coMS4wIC0gMi4wKmcqY29zVGhldGEgKyBwb3coZywgMi4wKSwgMS41KSk7JyxcbiAgICAnfScsXG5cbiAgICAnZmxvYXQgc3VuSW50ZW5zaXR5KGZsb2F0IHplbml0aEFuZ2xlQ29zKScsXG4gICAgJ3snLFxuICAgICdyZXR1cm4gRUUgKiBtYXgoMC4wLCAxLjAgLSBleHAoLSgoY3V0b2ZmQW5nbGUgLSBhY29zKHplbml0aEFuZ2xlQ29zKSkvc3RlZXBuZXNzKSkpOycsXG4gICAgJ30nLFxuXG4gICAgJy8vIEZpbG1pYyBUb25lTWFwcGluZyBodHRwOi8vZmlsbWljZ2FtZXMuY29tL2FyY2hpdmVzLzc1JyxcbiAgICAnZmxvYXQgQSA9IDAuMTU7JyxcbiAgICAnZmxvYXQgQiA9IDAuNTA7JyxcbiAgICAnZmxvYXQgQyA9IDAuMTA7JyxcbiAgICAnZmxvYXQgRCA9IDAuMjA7JyxcbiAgICAnZmxvYXQgRSA9IDAuMDI7JyxcbiAgICAnZmxvYXQgRiA9IDAuMzA7JyxcbiAgICAnZmxvYXQgVyA9IDEwMDAuMDsnLFxuXG4gICAgJ3ZlYzMgVW5jaGFydGVkMlRvbmVtYXAodmVjMyB4KScsXG4gICAgJ3snLFxuICAgICdyZXR1cm4gKCh4KihBKngrQypCKStEKkUpLyh4KihBKngrQikrRCpGKSktRS9GOycsXG4gICAgJ30nLFxuXG4gICAgJ3ZvaWQgbWFpbigpICcsXG4gICAgJ3snLFxuICAgICdmbG9hdCBzdW5mYWRlID0gMS4wLWNsYW1wKDEuMC1leHAoKHN1blBvc2l0aW9uLnkvNDUwMDAwLjApKSwwLjAsMS4wKTsnLFxuXG4gICAgJ2Zsb2F0IHJlaWxlaWdoQ29lZmZpY2llbnQgPSByZWlsZWlnaCAtICgxLjAqICgxLjAtc3VuZmFkZSkpOycsXG5cbiAgICAndmVjMyBzdW5EaXJlY3Rpb24gPSBub3JtYWxpemUoc3VuUG9zaXRpb24pOycsXG5cbiAgICAnZmxvYXQgc3VuRSA9IHN1bkludGVuc2l0eShkb3Qoc3VuRGlyZWN0aW9uLCB1cCkpOycsXG5cbiAgICAvLyBleHRpbmN0aW9uIChhYnNvcmJ0aW9uICsgb3V0IHNjYXR0ZXJpbmcpXG4gICAgLy8gcmF5bGVpZ2ggY29lZmZpY2llbnRzXG5cbiAgICAndmVjMyBiZXRhUiA9IHNpbXBsaWZpZWRSYXlsZWlnaCgpICogcmVpbGVpZ2hDb2VmZmljaWVudDsnLFxuXG4gICAgLy8gbWllIGNvZWZmaWNpZW50c1xuICAgICd2ZWMzIGJldGFNID0gdG90YWxNaWUobGFtYmRhLCBLLCB0dXJiaWRpdHkpICogbWllQ29lZmZpY2llbnQ7JyxcblxuICAgIC8vIG9wdGljYWwgbGVuZ3RoXG4gICAgLy8gY3V0b2ZmIGFuZ2xlIGF0IDkwIHRvIGF2b2lkIHNpbmd1bGFyaXR5IGluIG5leHQgZm9ybXVsYS5cbiAgICAnZmxvYXQgemVuaXRoQW5nbGUgPSBhY29zKG1heCgwLjAsIGRvdCh1cCwgbm9ybWFsaXplKHZXb3JsZFBvc2l0aW9uIC0gY2FtZXJhUG9zKSkpKTsnLFxuICAgICdmbG9hdCBzUiA9IHJheWxlaWdoWmVuaXRoTGVuZ3RoIC8gKGNvcyh6ZW5pdGhBbmdsZSkgKyAwLjE1ICogcG93KDkzLjg4NSAtICgoemVuaXRoQW5nbGUgKiAxODAuMCkgLyBwaSksIC0xLjI1MykpOycsXG4gICAgJ2Zsb2F0IHNNID0gbWllWmVuaXRoTGVuZ3RoIC8gKGNvcyh6ZW5pdGhBbmdsZSkgKyAwLjE1ICogcG93KDkzLjg4NSAtICgoemVuaXRoQW5nbGUgKiAxODAuMCkgLyBwaSksIC0xLjI1MykpOycsXG5cbiAgICAvLyBjb21iaW5lZCBleHRpbmN0aW9uIGZhY3RvclxuICAgICd2ZWMzIEZleCA9IGV4cCgtKGJldGFSICogc1IgKyBiZXRhTSAqIHNNKSk7JyxcblxuICAgIC8vIGluIHNjYXR0ZXJpbmdcbiAgICAnZmxvYXQgY29zVGhldGEgPSBkb3Qobm9ybWFsaXplKHZXb3JsZFBvc2l0aW9uIC0gY2FtZXJhUG9zKSwgc3VuRGlyZWN0aW9uKTsnLFxuXG4gICAgJ2Zsb2F0IHJQaGFzZSA9IHJheWxlaWdoUGhhc2UoY29zVGhldGEqMC41KzAuNSk7JyxcbiAgICAndmVjMyBiZXRhUlRoZXRhID0gYmV0YVIgKiByUGhhc2U7JyxcblxuICAgICdmbG9hdCBtUGhhc2UgPSBoZ1BoYXNlKGNvc1RoZXRhLCBtaWVEaXJlY3Rpb25hbEcpOycsXG4gICAgJ3ZlYzMgYmV0YU1UaGV0YSA9IGJldGFNICogbVBoYXNlOycsXG5cbiAgICAndmVjMyBMaW4gPSBwb3coc3VuRSAqICgoYmV0YVJUaGV0YSArIGJldGFNVGhldGEpIC8gKGJldGFSICsgYmV0YU0pKSAqICgxLjAgLSBGZXgpLHZlYzMoMS41KSk7JyxcbiAgICAnTGluICo9IG1peCh2ZWMzKDEuMCkscG93KHN1bkUgKiAoKGJldGFSVGhldGEgKyBiZXRhTVRoZXRhKSAvIChiZXRhUiArIGJldGFNKSkgKiBGZXgsdmVjMygxLjAvMi4wKSksY2xhbXAocG93KDEuMC1kb3QodXAsIHN1bkRpcmVjdGlvbiksNS4wKSwwLjAsMS4wKSk7JyxcblxuICAgIC8vbmlnaHRza3lcbiAgICAndmVjMyBkaXJlY3Rpb24gPSBub3JtYWxpemUodldvcmxkUG9zaXRpb24gLSBjYW1lcmFQb3MpOycsXG4gICAgJ2Zsb2F0IHRoZXRhID0gYWNvcyhkaXJlY3Rpb24ueSk7IC8vIGVsZXZhdGlvbiAtLT4geS1heGlzLCBbLXBpLzIsIHBpLzJdJyxcbiAgICAnZmxvYXQgcGhpID0gYXRhbihkaXJlY3Rpb24ueiwgZGlyZWN0aW9uLngpOyAvLyBhemltdXRoIC0tPiB4LWF4aXMgWy1waS8yLCBwaS8yXScsXG4gICAgJ3ZlYzIgdXYgPSB2ZWMyKHBoaSwgdGhldGEpIC8gdmVjMigyLjAqcGksIHBpKSArIHZlYzIoMC41LCAwLjApOycsXG4gICAgLy8gdmVjMyBMMCA9IHRleHR1cmUyRChza3lTYW1wbGVyLCB1dikucmdiKzAuMSAqIEZleDtcbiAgICAndmVjMyBMMCA9IHZlYzMoMC4xKSAqIEZleDsnLFxuXG4gICAgLy8gY29tcG9zaXRpb24gKyBzb2xhciBkaXNjXG4gICAgJ2Zsb2F0IHN1bmRpc2sgPSBzbW9vdGhzdGVwKHN1bkFuZ3VsYXJEaWFtZXRlckNvcyxzdW5Bbmd1bGFyRGlhbWV0ZXJDb3MrMC4wMDAwMixjb3NUaGV0YSk7JyxcbiAgICAnTDAgKz0gKHN1bkUgKiAxOTAwMC4wICogRmV4KSpzdW5kaXNrOycsXG5cbiAgICAndmVjMyB3aGl0ZVNjYWxlID0gMS4wL1VuY2hhcnRlZDJUb25lbWFwKHZlYzMoVykpOycsXG5cbiAgICAndmVjMyB0ZXhDb2xvciA9IChMaW4rTDApOyAgICcsXG4gICAgJ3RleENvbG9yICo9IDAuMDQgOycsXG4gICAgJ3RleENvbG9yICs9IHZlYzMoMC4wLDAuMDAxLDAuMDAyNSkqMC4zOycsXG5cbiAgICAnZmxvYXQgZ19mTWF4THVtaW5hbmNlID0gMS4wOycsXG4gICAgJ2Zsb2F0IGZMdW1TY2FsZWQgPSAwLjEgLyBsdW1pbmFuY2U7ICAgICAnLFxuICAgICdmbG9hdCBmTHVtQ29tcHJlc3NlZCA9IChmTHVtU2NhbGVkICogKDEuMCArIChmTHVtU2NhbGVkIC8gKGdfZk1heEx1bWluYW5jZSAqIGdfZk1heEx1bWluYW5jZSkpKSkgLyAoMS4wICsgZkx1bVNjYWxlZCk7ICcsXG5cbiAgICAnZmxvYXQgRXhwb3N1cmVCaWFzID0gZkx1bUNvbXByZXNzZWQ7JyxcblxuICAgICd2ZWMzIGN1cnIgPSBVbmNoYXJ0ZWQyVG9uZW1hcCgobG9nMigyLjAvcG93KGx1bWluYW5jZSw0LjApKSkqdGV4Q29sb3IpOycsXG4gICAgJ3ZlYzMgY29sb3IgPSBjdXJyKndoaXRlU2NhbGU7JyxcblxuICAgICd2ZWMzIHJldENvbG9yID0gcG93KGNvbG9yLHZlYzMoMS4wLygxLjIrKDEuMipzdW5mYWRlKSkpKTsnLFxuXG4gICAgJ2dsX0ZyYWdDb2xvci5yZ2IgPSByZXRDb2xvcjsnLFxuXG4gICAgJ2dsX0ZyYWdDb2xvci5hID0gMS4wOycsXG4gICAgJ30nXG4gIF0uam9pbignXFxuJylcbn0pO1xuXG5cbi8vIGdyYWRpZW50IHNreSBzaGFkZXJcblxuQUZSQU1FLnJlZ2lzdGVyU2hhZGVyKCdncmFkaWVudHNoYWRlcicsIHtcbiAgc2NoZW1hOiB7XG4gICAgdG9wQ29sb3I6IHt0eXBlOiAnY29sb3InLCBkZWZhdWx0OiAnMSAwIDAnLCBpczogJ3VuaWZvcm0nfSxcbiAgICBib3R0b21Db2xvcjoge3R5cGU6ICdjb2xvcicsIGRlZmF1bHQ6ICcwIDAgMScsIGlzOiAndW5pZm9ybSd9XG4gIH0sXG5cbiAgdmVydGV4U2hhZGVyOiBbXG4gICAgJ3ZhcnlpbmcgdmVjMyB2V29ybGRQb3NpdGlvbjsnLFxuICAgICd2b2lkIG1haW4oKSB7JyxcbiAgICAnIHZlYzQgd29ybGRQb3NpdGlvbiA9IG1vZGVsTWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApOycsXG4gICAgJyB2V29ybGRQb3NpdGlvbiA9IHdvcmxkUG9zaXRpb24ueHl6OycsXG4gICAgJyBnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KHBvc2l0aW9uLCAxLjAgKTsnLFxuICAgICd9J1xuICBdLmpvaW4oJ1xcbicpLFxuXG4gIGZyYWdtZW50U2hhZGVyOiBbXG4gICAgJ3VuaWZvcm0gdmVjMyBib3R0b21Db2xvcjsnLFxuICAgICd1bmlmb3JtIHZlYzMgdG9wQ29sb3I7JyxcbiAgICAndW5pZm9ybSBmbG9hdCBvZmZzZXQ7JyxcbiAgICAndmFyeWluZyB2ZWMzIHZXb3JsZFBvc2l0aW9uOycsXG4gICAgJ3ZvaWQgbWFpbigpIHsnLFxuICAgICcgZmxvYXQgaCA9IG5vcm1hbGl6ZSggdldvcmxkUG9zaXRpb24gKS55OycsXG4gICAgJyBnbF9GcmFnQ29sb3IgPSB2ZWM0KCBtaXgoIGJvdHRvbUNvbG9yLCB0b3BDb2xvciwgbWF4KCBwb3coIG1heChoLCAwLjAgKSwgMC44ICksIDAuMCApICksIDEuMCApOycsXG4gICAgJ30nXG4gIF0uam9pbignXFxuJylcbn0pO1xuXG4vLyBwZXJsaW4gbm9pc2UgZ2VuZXJhdG9yXG4vLyBmcm9tIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2JhbmtzZWFuLzMwNDUyMlxuXG52YXIgUGVybGluTm9pc2UgPSBmdW5jdGlvbihyKSB7XG4gIGlmIChyID09IHVuZGVmaW5lZCkgciA9IE1hdGg7XG4gIHRoaXMuZ3JhZDMgPSBbWzEsMSwwXSxbLTEsMSwwXSxbMSwtMSwwXSxbLTEsLTEsMF0sWzEsMCwxXSxbLTEsMCwxXSxbMSwwLC0xXSxbLTEsMCwtMV0sWzAsMSwxXSxbMCwtMSwxXSxbMCwxLC0xXSxbMCwtMSwtMV1dO1xuICB0aGlzLnAgPSBbXTtcbiAgdmFyIGk7XG4gIGZvciAoaT0wOyBpPDI1NjsgaSsrKSB7XG4gICAgdGhpcy5wW2ldID0gTWF0aC5mbG9vcihyLnJhbmRvbSg2NjYpKjI1Nik7XG4gIH1cbiAgLy8gVG8gcmVtb3ZlIHRoZSBuZWVkIGZvciBpbmRleCB3cmFwcGluZywgZG91YmxlIHRoZSBwZXJtdXRhdGlvbiB0YWJsZSBsZW5ndGhcbiAgdGhpcy5wZXJtID0gW107XG4gIGZvcihpPTA7IGk8NTEyOyBpKyspIHtcbiAgICB0aGlzLnBlcm1baV09dGhpcy5wW2kgJiAyNTVdO1xuICB9XG59O1xuXG5QZXJsaW5Ob2lzZS5wcm90b3R5cGUuZG90ID0gZnVuY3Rpb24oZywgeCwgeSwgeikge1xuICByZXR1cm4gZ1swXSp4ICsgZ1sxXSp5ICsgZ1syXSp6O1xufTtcblxuUGVybGluTm9pc2UucHJvdG90eXBlLm1peCA9IGZ1bmN0aW9uKGEsIGIsIHQpIHtcbiAgcmV0dXJuICgxLjAtdCkqYSArIHQqYjtcbn07XG5cblBlcmxpbk5vaXNlLnByb3RvdHlwZS5mYWRlID0gZnVuY3Rpb24odCkge1xuICByZXR1cm4gdCp0KnQqKHQqKHQqNi4wLTE1LjApKzEwLjApO1xufTtcblxuLy8gQ2xhc3NpYyBQZXJsaW4gbm9pc2UsIDNEIHZlcnNpb25cblBlcmxpbk5vaXNlLnByb3RvdHlwZS5ub2lzZSA9IGZ1bmN0aW9uKHgsIHksIHopIHtcbiAgLy8gRmluZCB1bml0IGdyaWQgY2VsbCBjb250YWluaW5nIHBvaW50XG4gIHZhciBYID0gTWF0aC5mbG9vcih4KTtcbiAgdmFyIFkgPSBNYXRoLmZsb29yKHkpO1xuICB2YXIgWiA9IE1hdGguZmxvb3Ioeik7XG5cbiAgLy8gR2V0IHJlbGF0aXZlIHh5eiBjb29yZGluYXRlcyBvZiBwb2ludCB3aXRoaW4gdGhhdCBjZWxsXG4gIHggPSB4IC0gWDtcbiAgeSA9IHkgLSBZO1xuICB6ID0geiAtIFo7XG5cbiAgLy8gV3JhcCB0aGUgaW50ZWdlciBjZWxscyBhdCAyNTUgKHNtYWxsZXIgaW50ZWdlciBwZXJpb2QgY2FuIGJlIGludHJvZHVjZWQgaGVyZSlcbiAgWCA9IFggJiAyNTU7XG4gIFkgPSBZICYgMjU1O1xuICBaID0gWiAmIDI1NTtcblxuICAvLyBDYWxjdWxhdGUgYSBzZXQgb2YgZWlnaHQgaGFzaGVkIGdyYWRpZW50IGluZGljZXNcbiAgdmFyIGdpMDAwID0gdGhpcy5wZXJtW1grdGhpcy5wZXJtW1krdGhpcy5wZXJtW1pdXV0gJSAxMjtcbiAgdmFyIGdpMDAxID0gdGhpcy5wZXJtW1grdGhpcy5wZXJtW1krdGhpcy5wZXJtW1orMV1dXSAlIDEyO1xuICB2YXIgZ2kwMTAgPSB0aGlzLnBlcm1bWCt0aGlzLnBlcm1bWSsxK3RoaXMucGVybVtaXV1dICUgMTI7XG4gIHZhciBnaTAxMSA9IHRoaXMucGVybVtYK3RoaXMucGVybVtZKzErdGhpcy5wZXJtW1orMV1dXSAlIDEyO1xuICB2YXIgZ2kxMDAgPSB0aGlzLnBlcm1bWCsxK3RoaXMucGVybVtZK3RoaXMucGVybVtaXV1dICUgMTI7XG4gIHZhciBnaTEwMSA9IHRoaXMucGVybVtYKzErdGhpcy5wZXJtW1krdGhpcy5wZXJtW1orMV1dXSAlIDEyO1xuICB2YXIgZ2kxMTAgPSB0aGlzLnBlcm1bWCsxK3RoaXMucGVybVtZKzErdGhpcy5wZXJtW1pdXV0gJSAxMjtcbiAgdmFyIGdpMTExID0gdGhpcy5wZXJtW1grMSt0aGlzLnBlcm1bWSsxK3RoaXMucGVybVtaKzFdXV0gJSAxMjtcblxuICAvLyBUaGUgZ3JhZGllbnRzIG9mIGVhY2ggY29ybmVyIGFyZSBub3c6XG4gIC8vIGcwMDAgPSBncmFkM1tnaTAwMF07XG4gIC8vIGcwMDEgPSBncmFkM1tnaTAwMV07XG4gIC8vIGcwMTAgPSBncmFkM1tnaTAxMF07XG4gIC8vIGcwMTEgPSBncmFkM1tnaTAxMV07XG4gIC8vIGcxMDAgPSBncmFkM1tnaTEwMF07XG4gIC8vIGcxMDEgPSBncmFkM1tnaTEwMV07XG4gIC8vIGcxMTAgPSBncmFkM1tnaTExMF07XG4gIC8vIGcxMTEgPSBncmFkM1tnaTExMV07XG4gIC8vIENhbGN1bGF0ZSBub2lzZSBjb250cmlidXRpb25zIGZyb20gZWFjaCBvZiB0aGUgZWlnaHQgY29ybmVyc1xuICB2YXIgbjAwMD0gdGhpcy5kb3QodGhpcy5ncmFkM1tnaTAwMF0sIHgsIHksIHopO1xuICB2YXIgbjEwMD0gdGhpcy5kb3QodGhpcy5ncmFkM1tnaTEwMF0sIHgtMSwgeSwgeik7XG4gIHZhciBuMDEwPSB0aGlzLmRvdCh0aGlzLmdyYWQzW2dpMDEwXSwgeCwgeS0xLCB6KTtcbiAgdmFyIG4xMTA9IHRoaXMuZG90KHRoaXMuZ3JhZDNbZ2kxMTBdLCB4LTEsIHktMSwgeik7XG4gIHZhciBuMDAxPSB0aGlzLmRvdCh0aGlzLmdyYWQzW2dpMDAxXSwgeCwgeSwgei0xKTtcbiAgdmFyIG4xMDE9IHRoaXMuZG90KHRoaXMuZ3JhZDNbZ2kxMDFdLCB4LTEsIHksIHotMSk7XG4gIHZhciBuMDExPSB0aGlzLmRvdCh0aGlzLmdyYWQzW2dpMDExXSwgeCwgeS0xLCB6LTEpO1xuICB2YXIgbjExMT0gdGhpcy5kb3QodGhpcy5ncmFkM1tnaTExMV0sIHgtMSwgeS0xLCB6LTEpO1xuICAvLyBDb21wdXRlIHRoZSBmYWRlIGN1cnZlIHZhbHVlIGZvciBlYWNoIG9mIHgsIHksIHpcbiAgdmFyIHUgPSB0aGlzLmZhZGUoeCk7XG4gIHZhciB2ID0gdGhpcy5mYWRlKHkpO1xuICB2YXIgdyA9IHRoaXMuZmFkZSh6KTtcbiAgIC8vIEludGVycG9sYXRlIGFsb25nIHggdGhlIGNvbnRyaWJ1dGlvbnMgZnJvbSBlYWNoIG9mIHRoZSBjb3JuZXJzXG4gIHZhciBueDAwID0gdGhpcy5taXgobjAwMCwgbjEwMCwgdSk7XG4gIHZhciBueDAxID0gdGhpcy5taXgobjAwMSwgbjEwMSwgdSk7XG4gIHZhciBueDEwID0gdGhpcy5taXgobjAxMCwgbjExMCwgdSk7XG4gIHZhciBueDExID0gdGhpcy5taXgobjAxMSwgbjExMSwgdSk7XG4gIC8vIEludGVycG9sYXRlIHRoZSBmb3VyIHJlc3VsdHMgYWxvbmcgeVxuICB2YXIgbnh5MCA9IHRoaXMubWl4KG54MDAsIG54MTAsIHYpO1xuICB2YXIgbnh5MSA9IHRoaXMubWl4KG54MDEsIG54MTEsIHYpO1xuICAvLyBJbnRlcnBvbGF0ZSB0aGUgdHdvIGxhc3QgcmVzdWx0cyBhbG9uZyB6XG4gIHZhciBueHl6ID0gdGhpcy5taXgobnh5MCwgbnh5MSwgdyk7XG5cbiAgcmV0dXJuIG54eXo7XG59O1xuXG5mdW5jdGlvbiB2YXJ5Q29sb3IgKGNvbG9yLCByYW5kb20sIHZhcnlFbmFibGVkKSB7XG4gIGlmICghdmFyeUVuYWJsZWQpIHsgcmV0dXJuIGNvbG9yOyB9XG5cbiAgaWYgKHJhbmRvbSgxKSA8IDAuNSkge1xuICAgIGNvbG9yLnIgKz0gcmFuZG9tKDIpICogMC4yO1xuICB9IGVsc2Uge1xuICAgIGNvbG9yLnIgLT0gcmFuZG9tKDMpICogMC4yO1xuICB9XG5cbiAgaWYgKHJhbmRvbSg0KSA8IDAuNSkge1xuICAgIGNvbG9yLmcgKz0gcmFuZG9tKDUpICogMC4yO1xuICB9IGVsc2Uge1xuICAgIGNvbG9yLmcgLT0gcmFuZG9tKDYpICogMC4yO1xuICB9XG5cbiAgaWYgKHJhbmRvbSg3KSA8IDAuNSkge1xuICAgIGNvbG9yLmIgKz0gcmFuZG9tKDgpICogMC4yO1xuICB9IGVsc2Uge1xuICAgIGNvbG9yLmIgLT0gcmFuZG9tKDkpICogMC4yO1xuICB9XG5cbiAgcmV0dXJuIGNvbG9yO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvZW52aXJvbm1lbnQuanMiLCJ2YXIgSElOVFNfT1BFTkVEID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaGludHNPcGVuZWQnKSB8fCAne30nKTtcblxuQUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCdoaW50Jywge1xuICBzY2hlbWE6IHtcbiAgICBuZWFyOiB7ZGVmYXVsdDogZmFsc2V9XG4gIH0sXG5cbiAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgIHZhciBjYW1lcmE7XG4gICAgdmFyIGNhbWVyYUZyb250O1xuICAgIHZhciBlbCA9IHRoaXMuZWw7XG4gICAgdmFyIHRleHRFbDtcblxuICAgIC8vIE1lc3NhZ2UuXG4gICAgdGV4dEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYS1lbnRpdHknKTtcbiAgICB0ZXh0RWwuY2xhc3NMaXN0LmFkZCgnaXRlbVRleHQnKTtcbiAgICB0ZXh0RWwuc2V0QXR0cmlidXRlKCdtaXhpbicsICdpdGVtVGV4dCcpO1xuICAgIHRleHRFbC5vYmplY3QzRC5wb3NpdGlvbi5jb3B5KGVsLm9iamVjdDNELnBvc2l0aW9uKTtcbiAgICB0ZXh0RWwub2JqZWN0M0QucG9zaXRpb24ueSA9IC0xO1xuICAgIHRleHRFbC5vYmplY3QzRC5wb3NpdGlvbi56IC09IDAuNTtcbiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Jyb256ZWtleScpID09PSAndHJ1ZScgfHwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2phZGVrZXknKSA9PT0gJ3RydWUnKSB7XG4gICAgICB0ZXh0RWwuc2V0QXR0cmlidXRlKCd0ZXh0JywgJ3ZhbHVlJywgdGhpcy5kYXRhLm5lYXJcbiAgICAgICAgPyAnVEhFIEVHRyBJUyBORUFSXFxuV09VTEQgWU9VIEtJTkRMWS4uLktFRVAgSFVOVElORz9cXG5+J1xuICAgICAgICA6ICdPVVIgRUdHIElTIElOIEFOT1RIRVIgQ0FTVExFXFxuficpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0ZXh0RWwuc2V0QXR0cmlidXRlKCd0ZXh0JywgJ3ZhbHVlJywgYEZJTkQgVEhFIEtFWVxcblNPTUVUSU1FUyBZT1UgSlVTVCBIQVZFIFRPXFxuR08gQkFDS1dBUkRTXFxufmApO1xuICAgIH1cbiAgICBlbC5zY2VuZUVsLmFwcGVuZENoaWxkKHRleHRFbCk7XG5cbiAgICAvLyBBbHJlYWR5IHRvdWNoZWQuXG4gICAgaWYgKEhJTlRTX09QRU5FRFt3aW5kb3cubG9jYXRpb24uaHJlZl0pIHtcbiAgICAgIGVsLm9iamVjdDNELnZpc2libGUgPSBmYWxzZTtcbiAgICAgIHRleHRFbC5vYmplY3QzRC5wb3NpdGlvbi55ID0gMS42O1xuICAgICAgdGV4dEVsLm9iamVjdDNELmxvb2tBdCgwLCAxLjYsIDApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNhbWVyYUZyb250ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbWVyYUZyb250Jyk7XG5cbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVkJywgKCkgPT4ge1xuICAgICAgY2FtZXJhRnJvbnQub2JqZWN0M0QuZ2V0V29ybGRQb3NpdGlvbih0ZXh0RWwub2JqZWN0M0QucG9zaXRpb24pO1xuICAgICAgdGV4dEVsLm9iamVjdDNELmxvb2tBdChjYW1lcmEub2JqZWN0M0QuZ2V0V29ybGRQb3NpdGlvbigpKTtcbiAgICAgIHRleHRFbC5lbWl0KCdpdGVtdG91Y2hlZCcpO1xuICAgICAgSElOVFNfT1BFTkVEW3dpbmRvdy5sb2NhdGlvbi5ocmVmXSA9IHRydWU7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaGludHNPcGVuZWQnLCBKU09OLnN0cmluZ2lmeShISU5UU19PUEVORUQpKTtcbiAgICB9KTtcbiAgfVxufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9oaW50LmpzIiwiQUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCdpdGVtJywge1xuICBzY2hlbWE6IHtcbiAgICBtZXNzYWdlOiB7dHlwZTogJ3N0cmluZyd9LFxuICAgIHN0b3JlQXM6IHt0eXBlOiAnc3RyaW5nJ31cbiAgfSxcblxuICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNhbWVyYTtcbiAgICB2YXIgY2FtZXJhRnJvbnQ7XG4gICAgdmFyIGVsID0gdGhpcy5lbDtcbiAgICB2YXIgdGV4dEVsO1xuXG4gICAgZWwuc2V0QXR0cmlidXRlKCdtaXhpbicsIGVsLmdldEF0dHJpYnV0ZSgnbWl4aW4nKSArICcgaXRlbScpO1xuXG4gICAgLy8gTWVzc2FnZS5cbiAgICB0ZXh0RWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhLWVudGl0eScpO1xuICAgIHRleHRFbC5jbGFzc0xpc3QuYWRkKCdpdGVtVGV4dCcpO1xuICAgIHRleHRFbC5zZXRBdHRyaWJ1dGUoJ21peGluJywgJ2l0ZW1UZXh0Jyk7XG4gICAgdGV4dEVsLnNldEF0dHJpYnV0ZSgndGV4dCcsICd2YWx1ZScsIHRoaXMuZGF0YS5tZXNzYWdlKTtcbiAgICB0ZXh0RWwub2JqZWN0M0QucG9zaXRpb24uY29weShlbC5vYmplY3QzRC5wb3NpdGlvbik7XG4gICAgdGV4dEVsLm9iamVjdDNELnBvc2l0aW9uLnkgPSAtMTtcbiAgICB0ZXh0RWwub2JqZWN0M0QucG9zaXRpb24ueiAtPSAwLjU7XG4gICAgZWwuc2NlbmVFbC5hcHBlbmRDaGlsZCh0ZXh0RWwpO1xuXG4gICAgLy8gU2hhZG93LlxuICAgIHNoYWRvd0VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYS1lbnRpdHknKTtcbiAgICBzaGFkb3dFbC5zZXRBdHRyaWJ1dGUoJ21peGluJywgJ3NoYWRvdycpO1xuICAgIHNoYWRvd0VsLm9iamVjdDNELnBvc2l0aW9uLmNvcHkoZWwub2JqZWN0M0QucG9zaXRpb24pO1xuICAgIHNoYWRvd0VsLm9iamVjdDNELnBvc2l0aW9uLnkgPSAwLjE7XG4gICAgZWwuc2NlbmVFbC5hcHBlbmRDaGlsZChzaGFkb3dFbCk7XG5cbiAgICAvLyBBbHJlYWR5IGhhdmUgaXRlbS5cbiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5kYXRhLnN0b3JlQXMpID09PSAndHJ1ZScpIHtcbiAgICAgIGVsLm9iamVjdDNELnZpc2libGUgPSBmYWxzZTtcbiAgICAgIHRleHRFbC5vYmplY3QzRC5wb3NpdGlvbi55ID0gMS42O1xuICAgICAgdGV4dEVsLm9iamVjdDNELmxvb2tBdCgwLCAxLjYsIDApO1xuICAgICAgdGV4dEVsLnNldEF0dHJpYnV0ZSgnbWl4aW4nLCAnaXRlbVRleHQgaG92ZXJBbmltYXRpb24nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjYW1lcmEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FtZXJhJyk7XG4gICAgY2FtZXJhRnJvbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FtZXJhRnJvbnQnKTtcblxuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZWQnLCAoKSA9PiB7XG4gICAgICB0ZXh0RWwuc2V0QXR0cmlidXRlKCd0ZXh0JywgJ3ZhbHVlJywgdGhpcy5kYXRhLm1lc3NhZ2UpO1xuXG4gICAgICBjYW1lcmFGcm9udC5vYmplY3QzRC5nZXRXb3JsZFBvc2l0aW9uKHRleHRFbC5vYmplY3QzRC5wb3NpdGlvbik7XG4gICAgICB0ZXh0RWwub2JqZWN0M0QubG9va0F0KGNhbWVyYS5vYmplY3QzRC5nZXRXb3JsZFBvc2l0aW9uKCkpO1xuICAgICAgdGV4dEVsLm9iamVjdDNELnBvc2l0aW9uLnkgPSAtMTtcblxuICAgICAgdGV4dEVsLmVtaXQoJ2l0ZW10b3VjaGVkJyk7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLmRhdGEuc3RvcmVBcywgJ3RydWUnKTtcbiAgICB9KTtcbiAgfVxufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9pdGVtLmpzIiwiQUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCdvYXNpcy1hdWRpbycsIHtcbiAgc2NoZW1hOiB7XG4gICAgaXNIb21lOiB7dHlwZTogJ3N0cmluZyd9LFxuICAgIHpvbmVTb25nOiB7dHlwZTogJ3N0cmluZyd9XG4gIH0sXG5cbiAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgIHZhciBhdWRpbztcbiAgICB2YXIgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICB2YXIgZWwgPSB0aGlzLmVsO1xuICAgIHZhciBzb25nO1xuXG4gICAgaWYgKGRhdGEuaXNIb21lKSB7XG4gICAgICBzb25nID0gdXRpbHMuYXNzZXRQYXRoKCdhc3NldHMvYXVkaW8vd29ybGRpbm15ZXllcy5tcDMnKTtcbiAgICB9IGVsc2UgaWYgKGVsLmhhc0F0dHJpYnV0ZSgndXBzaWRlZG93bicpKSB7XG4gICAgICBzb25nID0gJ2h0dHBzOi8vc3VwZXJtZWRpdW0uZ2l0aHViLmlvL29hc2lzLWF1ZGlvL2VnZy9zdHJhbmdlcnRoaW5ncy5tcDMnO1xuICAgIH0gZWxzZSB7XG4gICAgICBzb25nID0gdGhpcy5kYXRhLnpvbmVTb25nO1xuICAgIH1cblxuICAgIGF1ZGlvID0gbmV3IEF1ZGlvKHNvbmcpO1xuICAgIGF1ZGlvLnZvbHVtZSA9IDAuNTtcbiAgICBhdWRpby5sb29wID0gdHJ1ZTtcbiAgICBhdWRpby5wbGF5KCk7XG4gIH1cbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvb2FzaXMtYXVkaW8uanMiLCJ2YXIgU291bmRQb29sID0gcmVxdWlyZSgnLi4vbGliL3NvdW5kcG9vbCcpO1xuXG52YXIgcHJldmlvdXNab25lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3ByZXZpb3VzWm9uZScpO1xudmFyIHZpc2l0ZWRab25lcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Zpc2l0ZWRab25lcycpIHx8ICd7fScpO1xuXG52YXIgaG92ZXJTb3VuZFBvb2w7XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBob3ZlclNvdW5kUG9vbCA9IFNvdW5kUG9vbCh1dGlscy5hc3NldFBhdGgoJ2Fzc2V0cy9hdWRpby9ob3Zlci5tcDMnKSwgMC41LCAyKTtcbn0pO1xuXG5BRlJBTUUucmVnaXN0ZXJDb21wb25lbnQoJ29hc2lzLXBvcnRhbCcsIHtcbiAgc2NoZW1hOiB7XG4gICAgY29sb3I6IHt0eXBlOiAnc3RyaW5nJ30sXG4gICAgaHJlZjoge3R5cGU6ICdzdHJpbmcnfSxcbiAgICBpc0JhY2tQb3J0YWw6IHtkZWZhdWx0OiBmYWxzZX0sXG4gICAgaXNIb21lUG9ydGFsOiB7ZGVmYXVsdDogZmFsc2V9XG4gIH0sXG5cbiAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgIHZhciBlbCA9IHRoaXMuZWw7XG4gICAgdmFyIHBvcnRhbFNvdW5kO1xuXG4gICAgcG9ydGFsU291bmQgPSBuZXcgQXVkaW8odXRpbHMuYXNzZXRQYXRoKCdhc3NldHMvYXVkaW8vcG9ydGFsLm1wMycpKTtcbiAgICBwb3J0YWxTb3VuZC52b2x1bWUgPSAwLjI1O1xuXG4gICAgLy8gSGlkZSBiYWNrIHBvcnRhbCBpZiB0aGVyZSBpcyBubyBiYWNrIHRvIGdvIHRvLlxuICAgIGlmICh0aGlzLmRhdGEuaXNCYWNrUG9ydGFsKSB7XG4gICAgICBpZiAoIXByZXZpb3VzWm9uZSB8fCBwcmV2aW91c1pvbmUgPT09IHdpbmRvdy5sb2NhdGlvbi5ocmVmKSB7XG4gICAgICAgIGVsLm9iamVjdDNELnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE5hdmlnYXRlLlxuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgcG9ydGFsU291bmQucGxheSgpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmRhdGEuaXNCYWNrUG9ydGFsKSB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJldmlvdXNab25lJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmlzaXRlZFpvbmVzW3RoaXMuZGF0YS5ocmVmXSA9IHRydWU7XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3ByZXZpb3VzWm9uZScsIHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndmlzaXRlZFpvbmVzJywgSlNPTi5zdHJpbmdpZnkodmlzaXRlZFpvbmVzKSk7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB0aGlzLmRhdGEuaHJlZjtcbiAgICAgICAgfVxuICAgICAgfSwgNTAwKTtcbiAgICB9KTtcblxuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCAoKSA9PiB7XG4gICAgICB0aGlzLnNldENvbG9yKCcjRkZGJyk7XG4gICAgICBob3ZlclNvdW5kUG9vbC5wbGF5KCk7XG4gICAgfSk7XG5cbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKCkgPT4ge1xuICAgICAgdGhpcy5zZXRDb2xvcih0aGlzLm9yaWdpbmFsQ29sb3IpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGVsLm9iamVjdDNELnNjYWxlLnNldCgxLCAxLCAxKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5vcmlnaW5hbENvbG9yID0gJyM5OTknO1xuICAgIGlmICh0aGlzLmRhdGEuaXNCYWNrUG9ydGFsKSB7XG4gICAgICB0aGlzLm9yaWdpbmFsQ29sb3IgPSAnIzY2ODhjYyc7XG4gICAgfSBlbHNlIGlmICh0aGlzLmRhdGEuaXNIb21lUG9ydGFsKSB7XG4gICAgICB0aGlzLm9yaWdpbmFsQ29sb3IgPSAnIzMzYWEzMyc7XG4gICAgfSBlbHNlIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnd2F5YmFja21hY2hpbmUnKSA9PT0gJ3RydWUnICYmXG4gICAgICAgICAgICAgICB2aXNpdGVkWm9uZXNbdGhpcy5kYXRhLmhyZWZdID09PSB0cnVlKSB7XG4gICAgICAvLyBDaGFuZ2UgYm9yZGVyIGNvbG9yIGlmIHZpc2l0ZWQgYWxyZWFkeS5cbiAgICAgIHRoaXMub3JpZ2luYWxDb2xvciA9ICcjQUY1NUFGJztcbiAgICB9XG5cbiAgICB0aGlzLnNldENvbG9yKHRoaXMub3JpZ2luYWxDb2xvcik7XG4gIH0sXG5cbiAgdXBkYXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuZGF0YS5jb2xvcikgeyB0aGlzLm9yaWdpbmFsQ29sb3IgPSB0aGlzLmRhdGEuY29sb3I7IH1cbiAgfSxcblxuICBzZXRDb2xvcjogZnVuY3Rpb24gKGNvbG9yKSB7XG4gICAgdmFyIGVsID0gdGhpcy5lbDtcbiAgICBlbC5xdWVyeVNlbGVjdG9yKCcucG9ydGFsRWZmZWN0MScpLnNldEF0dHJpYnV0ZSgnbWF0ZXJpYWwnLCAnY29sb3InLCBjb2xvcik7XG4gICAgZWwucXVlcnlTZWxlY3RvcignLnBvcnRhbFRleHQnKS5zZXRBdHRyaWJ1dGUoJ3RleHQnLCAnY29sb3InLCBjb2xvcik7XG5cbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ2FuaW1hdGlvbl9fbW91c2VlbnRlcicsICdmcm9tJywgY29sb3IpO1xuICAgIGVsLnNldEF0dHJpYnV0ZSgnYW5pbWF0aW9uX19tb3VzZWxlYXZlJywgJ3RvJywgY29sb3IpO1xuICB9XG59KTtcblxuQUZSQU1FLnJlZ2lzdGVyU2hhZGVyKCdvYXNpc1BvcnRhbCcsIHtcbiAgc2NoZW1hOiB7XG4gICAgYmFja2dyb3VuZENvbG9yOiB7ZGVmYXVsdDogJ3JlZCcsIHR5cGU6ICdjb2xvcicsIGlzOiAndW5pZm9ybSd9LFxuICAgIGlzR3JheXNjYWxlOiB7dHlwZTogJ2ludCcsIGlzOiAndW5pZm9ybScsIGRlZmF1bHQ6IDAuMH0sXG4gICAgcGFubzoge3R5cGU6ICdtYXAnLCBpczogJ3VuaWZvcm0nfSxcbiAgICB0aW1lOiB7dHlwZTogJ3RpbWUnLCBpczogJ3VuaWZvcm0nfVxuICB9LFxuXG4gIHZlcnRleFNoYWRlcjogcmVxdWlyZSgnLi9zaGFkZXJzL29hc2lzUG9ydGFsVmVydGV4Lmdsc2wnKSxcblxuICBmcmFnbWVudFNoYWRlcjogcmVxdWlyZSgnLi9zaGFkZXJzL29hc2lzUG9ydGFsRnJhZ21lbnQuZ2xzbCcpXG59KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL29hc2lzLXBvcnRhbC5qcyIsIi8qKlxuICogUGxheSBhdWRpbyBlbGVtZW50IG9uIGV2ZW50LlxuICovXG5BRlJBTUUucmVnaXN0ZXJDb21wb25lbnQoJ3BsYXktYXVkaW8nLCB7XG4gIHNjaGVtYToge1xuICAgIGF1ZGlvOiB7dHlwZTogJ3N0cmluZyd9LFxuICAgIGV2ZW50OiB7dHlwZTogJ3N0cmluZyd9LFxuICAgIHZvbHVtZToge3R5cGU6ICdudW1iZXInLCBkZWZhdWx0OiAxfVxuICB9LFxuXG4gIG11bHRpcGxlOiB0cnVlLFxuXG4gIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYXVkaW87XG4gICAgYXVkaW8gPSBuZXcgQXVkaW8odGhpcy5kYXRhLmF1ZGlvKTtcbiAgICBhdWRpby52b2x1bWUgPSB0aGlzLmRhdGEudm9sdW1lO1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmRhdGEuZXZlbnQsIGV2dCA9PiB7XG4gICAgICBpZiAoIWF1ZGlvLnBhdXNlZCkge1xuICAgICAgICBhdWRpby5wYXVzZSgpO1xuICAgICAgICBhdWRpby5jdXJyZW50VGltZSA9IDBcbiAgICAgIH1cbiAgICAgIGF1ZGlvLnBsYXkoKTtcbiAgICB9KTtcbiAgfVxufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9wbGF5LWF1ZGlvLmpzIiwiQUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCdyYXljYXN0YWJsZScsIHt9KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL3JheWNhc3RhYmxlLmpzIiwiLyoqXG4gKiBQdWxsIGEgc3VibWVzaCBvdXQgb2YgYSBtb2RlbCBmaWxlLlxuICovXG5BRlJBTUUucmVnaXN0ZXJDb21wb25lbnQoJ3N1Yi1vYmplY3QnLCB7XG4gIHNjaGVtYToge1xuICAgIGZyb206IHtkZWZhdWx0OiAnJywgdHlwZTogJ3NlbGVjdG9yJ30sXG4gICAgbmFtZToge2RlZmF1bHQ6ICcnfVxuICB9LFxuXG4gIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZWwgPSB0aGlzLmVsO1xuICAgIHZhciBkYXRhID0gdGhpcy5kYXRhO1xuXG4gICAgZGF0YS5mcm9tLmFkZEV2ZW50TGlzdGVuZXIoJ21vZGVsLWxvYWRlZCcsIGV2dCA9PiB7XG4gICAgICB2YXIgbW9kZWw7XG4gICAgICB2YXIgc3Vic2V0O1xuICAgICAgbW9kZWwgPSBldnQuZGV0YWlsLm1vZGVsO1xuICAgICAgc3Vic2V0ID0gbW9kZWwuZ2V0T2JqZWN0QnlOYW1lKGRhdGEubmFtZSk7XG4gICAgICBpZiAoIXN1YnNldCl7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJTdWItb2JqZWN0XCIsIGRhdGEubmFtZSwgXCJub3QgZm91bmQgaW4gI1wiK2RhdGEuZnJvbS5pZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGVsLnNldE9iamVjdDNEKCdtZXNoJywgc3Vic2V0LmNsb25lKCkpO1xuICAgICAgZWwuZW1pdCgnc3Vib2JqZWN0bG9hZGVkJywgZWwuZ2V0T2JqZWN0M0QoJ21lc2gnKSk7XG4gICAgfSk7XG4gIH1cbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvc3ViLW9iamVjdC5qcyIsInZhciBTb3VuZFBvb2wgPSByZXF1aXJlKCcuLi9saWIvc291bmRwb29sJyk7XG5cbi8qKlxuICogQWxsb3cgdGVsZXBvcnQgaW50byBwb3J0YWwuXG4gKiBVcGRhdGUgbGluZSBhbmQgaGl0IGVudGl0eSBjb2xvcnMuXG4gKi9cbkFGUkFNRS5yZWdpc3RlckNvbXBvbmVudCgndGVsZXBvcnQtbGlzdGVuZXInLCB7XG4gIGRlcGVuZGVuY2llczogWyd0ZWxlcG9ydC1jb250cm9scyddLFxuXG4gIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZWwgPSB0aGlzLmVsO1xuICAgIHZhciBoaXRFbnRpdHk7XG4gICAgdmFyIGludGVyc2VjdGlvbnM7XG4gICAgdmFyIHNvdW5kUG9vbDtcbiAgICB2YXIgdGVsZXBvcnRFbnRpdHk7XG4gICAgdmFyIHRlbGVwb3J0RmFkZXI7XG5cbiAgICB0aGlzLmN1cnJlbnRJbnRlcnNlY3Rpb24gPSBudWxsO1xuICAgIGludGVyc2VjdGlvbnMgPSBlbC5jb21wb25lbnRzWyd0ZWxlcG9ydC1jb250cm9scyddLmludGVyc2VjdGlvbnM7XG5cbiAgICAvLyBMaXN0ZW4gdG8gdGVsZXBvcnRlZCBmb3IgYmxpbmsgZWZmZWN0IGFuZCBwbGF5IHNvdW5kLlxuICAgIHNvdW5kUG9vbCA9IFNvdW5kUG9vbCh1dGlscy5hc3NldFBhdGgoJ2Fzc2V0cy9hdWRpby9wb3J0YWwud2F2JyksIDAuNiwgNSk7XG4gICAgdGVsZXBvcnRGYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZWxlcG9ydEZhZGVyJyk7XG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCd0ZWxlcG9ydGVkJywgKCkgPT4ge1xuICAgICAgdmFyIGZhZGVyVGltZW91dDtcblxuICAgICAgaWYgKCFpbnRlcnNlY3Rpb25zLmxlbmd0aCkgeyByZXR1cm47IH1cblxuICAgICAgdGVsZXBvcnRGYWRlci5vYmplY3QzRC52aXNpYmxlID0gdHJ1ZTtcbiAgICAgIGZhZGVyVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0ZWxlcG9ydEZhZGVyLm9iamVjdDNELnZpc2libGUgPSBmYWxzZTtcbiAgICAgIH0sIDE2MCk7XG5cbiAgICAgIGlmIChpbnRlcnNlY3Rpb25zWzBdLm9iamVjdC5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcnRhbCcpKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChmYWRlclRpbWVvdXQpO1xuICAgICAgICBpbnRlcnNlY3Rpb25zWzBdLm9iamVjdC5lbC5lbWl0KCdjbGljaycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc291bmRQb29sLnBsYXkoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEFwcGx5IGVmZmVjdHMgdG8gaGl0RW50aXR5LlxuICAgIGhpdEVudGl0eSA9IHRoaXMuaGl0RW50aXR5ID0gZWwuY29tcG9uZW50c1sndGVsZXBvcnQtY29udHJvbHMnXS5oaXRFbnRpdHk7XG4gICAgaGl0RW50aXR5Lm9iamVjdDNELnJvdGF0aW9uLnggPSAtMSAqIE1hdGguUEkgLyAyO1xuICAgIGhpdEVudGl0eS5zZXRBdHRyaWJ1dGUoJ21hdGVyaWFsJywgJ2VtaXNzaXZlSW50ZW5zaXR5JywgMC45KTtcbiAgICBoaXRFbnRpdHkuc2V0QXR0cmlidXRlKCdtYXRlcmlhbCcsICdlbWlzc2l2ZUNvbG9yJywgJyNmZjlmMmInKTtcbiAgICBoaXRFbnRpdHkuc2V0QXR0cmlidXRlKCdhbmltYXRpb25fX3NjYWxlJywge1xuICAgICAgcHJvcGVydHk6ICdzY2FsZScsXG4gICAgICBmcm9tOiAnMSAxIDEuMicsXG4gICAgICB0bzogJzEuNSAxLjUgMy4yJyxcbiAgICAgIGVhc2luZzogJ2Vhc2VJbk91dEN1YmljJyxcbiAgICAgIGRpcjogJ2FsdGVybmF0ZScsXG4gICAgICBkdXI6IDYwMCxcbiAgICAgIGxvb3A6IHRydWVcbiAgICB9KTtcblxuICAgIC8vIEFwcGx5IGVmZmVjdHMgdG8gdGVsZXBvcnRSYXkuXG4gICAgdGhpcy50ZWxlcG9ydEVudGl0eSA9IGVsLmNvbXBvbmVudHNbJ3RlbGVwb3J0LWNvbnRyb2xzJ10udGVsZXBvcnRFbnRpdHk7XG4gICAgdGhpcy50ZWxlcG9ydEVudGl0eS5nZXRPYmplY3QzRCgnbWVzaCcpLm1hdGVyaWFsLm9wYWNpdHkgPSAwLjU7XG4gIH0sXG5cbiAgdGljazogZnVuY3Rpb24gKCkge1xuICAgIHZhciBlbCA9IHRoaXMuZWw7XG4gICAgdmFyIGludGVyc2VjdGlvbjtcbiAgICB2YXIgaW50ZXJzZWN0aW5nUG9ydGFsO1xuXG4gICAgaWYgKCFlbC5jb21wb25lbnRzWyd0ZWxlcG9ydC1jb250cm9scyddLmFjdGl2ZSkgeyByZXR1cm47IH1cblxuICAgIGludGVyc2VjdGlvbiA9IGVsLmNvbXBvbmVudHNbJ3RlbGVwb3J0LWNvbnRyb2xzJ10uaW50ZXJzZWN0aW9uc1swXTtcblxuICAgIGlmICghaW50ZXJzZWN0aW9uKSB7XG4gICAgICBpZiAodGhpcy5jdXJyZW50SW50ZXJzZWN0aW9uKSB7IHRoaXMuY3VycmVudEludGVyc2VjdGlvbi5lbWl0KCdtb3VzZWxlYXZlJyk7IH1cbiAgICAgIHRoaXMuY3VycmVudEludGVyc2VjdGlvbiA9IG51bGw7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGludGVyc2VjdGlvbi5vYmplY3QuZWwgPT09IHRoaXMuY3VycmVudEludGVyc2VjdGlvbikgeyByZXR1cm47IH1cblxuICAgIGludGVyc2VjdGluZ1BvcnRhbCA9IGludGVyc2VjdGlvbi5vYmplY3QuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3J0YWwnKTtcbiAgICB0aGlzLmhpdEVudGl0eS5jaGlsZHJlblswXS5vYmplY3QzRC52aXNpYmxlID0gIWludGVyc2VjdGluZ1BvcnRhbDtcbiAgICB0aGlzLmhpdEVudGl0eS5jaGlsZHJlblsxXS5vYmplY3QzRC52aXNpYmxlID0gIWludGVyc2VjdGluZ1BvcnRhbDtcbiAgICB0aGlzLnRlbGVwb3J0RW50aXR5LmdldE9iamVjdDNEKCdtZXNoJykudmlzaWJsZSA9IGludGVyc2VjdGluZ1BvcnRhbDtcblxuICAgIGlmICh0aGlzLmN1cnJlbnRJbnRlcnNlY3Rpb24pIHsgdGhpcy5jdXJyZW50SW50ZXJzZWN0aW9uLmVtaXQoJ21vdXNlbGVhdmUnKTsgfVxuICAgIGludGVyc2VjdGlvbi5vYmplY3QuZWwuZW1pdCgnbW91c2VlbnRlcicpO1xuICAgIHRoaXMuY3VycmVudEludGVyc2VjdGlvbiA9IGludGVyc2VjdGlvbi5vYmplY3QuZWw7XG4gIH1cbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvdGVsZXBvcnQtbGlzdGVuZXIuanMiLCJBRlJBTUUucmVnaXN0ZXJDb21wb25lbnQoJ3RlbGVwb3J0LXJlZnJlc2gnLCB7XG4gIHBsYXk6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaTtcbiAgICB2YXIgdGVsZXBvcnRFbnRpdGllcztcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRlbGVwb3J0RW50aXRpZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdhLWVudGl0eVt0ZWxlcG9ydC1jb250cm9sc10nKTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCB0ZWxlcG9ydEVudGl0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRlbGVwb3J0RW50aXRpZXNbaV0uY29tcG9uZW50c1sndGVsZXBvcnQtY29udHJvbHMnXS5yZWZyZXNoTWVzaGVzKCk7XG4gICAgICB9XG4gICAgfSwgMjUwKTtcbiAgfVxufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy90ZWxlcG9ydC1yZWZyZXNoLmpzIiwiQUZSQU1FLnJlZ2lzdGVyU3lzdGVtKCd0b3VjaCcsIHtcbiAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMudG91Y2hhYmxlcyA9IFtdO1xuICB9LFxuXG4gIHJlZ2lzdGVyOiBmdW5jdGlvbiAoZWwpIHtcbiAgICB0aGlzLnRvdWNoYWJsZXMucHVzaChlbCk7XG4gIH1cbn0pO1xuXG5BRlJBTUUucmVnaXN0ZXJDb21wb25lbnQoJ3RvdWNoJywge1xuICBzY2hlbWE6IHtcbiAgICBkaXN0YW5jZToge2RlZmF1bHQ6IDAuNTB9XG4gIH0sXG5cbiAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMudG91Y2hlZCA9IFtdO1xuICAgIHRoaXMud29ybGRWZWMzID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgICB0aGlzLnRpY2sgPSBBRlJBTUUudXRpbHMudGhyb3R0bGVUaWNrKHRoaXMudGljay5iaW5kKHRoaXMpLCA1MDApO1xuICB9LFxuXG4gIHRpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZWwgPSB0aGlzLmVsO1xuICAgIHZhciBpO1xuICAgIHZhciB0b3VjaGFibGVzID0gZWwuc2NlbmVFbC5zeXN0ZW1zLnRvdWNoLnRvdWNoYWJsZXM7XG5cbiAgICBpZiAoIXRvdWNoYWJsZXMgfHwgIXRvdWNoYWJsZXMubGVuZ3RoKSB7IHJldHVybjsgfVxuXG4gICAgZWwub2JqZWN0M0QuZ2V0V29ybGRQb3NpdGlvbih0aGlzLndvcmxkVmVjMyk7XG5cbiAgICB0aGlzLnRvdWNoZWQubGVuZ3RoID0gMDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgdG91Y2hhYmxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMud29ybGRWZWMzLmRpc3RhbmNlVG8odG91Y2hhYmxlc1tpXS5vYmplY3QzRC5wb3NpdGlvbikgPCB0aGlzLmRhdGEuZGlzdGFuY2UpIHtcbiAgICAgICAgdGhpcy50b3VjaGVkLnB1c2godG91Y2hhYmxlc1tpXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnRvdWNoZWQubGVuZ3RoKSB7IHJldHVybjsgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IHRoaXMudG91Y2hlZC5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy50b3VjaGVkW2ldLmVtaXQoJ3RvdWNoZWQnKTtcbiAgICAgIHRvdWNoYWJsZXMuc3BsaWNlKHRoaXMudG91Y2hlZFtpXSwgMSk7XG4gICAgfVxuICB9XG59KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL3RvdWNoLmpzIiwiQUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCd0b3VjaGFibGUnLCB7XG4gIHBsYXk6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVsLnNjZW5lRWwuc3lzdGVtcy50b3VjaC5yZWdpc3Rlcih0aGlzLmVsKTtcbiAgfVxufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy90b3VjaGFibGUuanMiLCJmdW5jdGlvbiByZXF1aXJlQWxsIChyZXEpIHsgcmVxLmtleXMoKS5mb3JFYWNoKHJlcSk7IH1cblxucmVxdWlyZSgnLi91dGlscycpO1xuXG5yZXF1aXJlKCdhZnJhbWUtYW5pbWF0aW9uLWNvbXBvbmVudCcpO1xucmVxdWlyZSgnYWZyYW1lLWV2ZW50LXNldC1jb21wb25lbnQnKTtcbnJlcXVpcmUoJ2FmcmFtZS1sYXlvdXQtY29tcG9uZW50Jyk7XG5yZXF1aXJlKCdhZnJhbWUtbG9vay1hdC1jb21wb25lbnQnKTtcbnJlcXVpcmUoJ2FmcmFtZS1wcm94eS1ldmVudC1jb21wb25lbnQnKTtcbnJlcXVpcmUoJ2FmcmFtZS1yYW5kb21pemVyLWNvbXBvbmVudHMnKTtcbnJlcXVpcmUoJ2FmcmFtZS1zbGljZTktY29tcG9uZW50Jyk7XG5yZXF1aXJlKCdhZnJhbWUtdGVsZXBvcnQtY29udHJvbHMnKTtcblxucmVxdWlyZSgnbmV0d29ya2VkLWFmcmFtZScpO1xuXG5yZXF1aXJlQWxsKHJlcXVpcmUuY29udGV4dCgnLi9jb21wb25lbnRzLycsIHRydWUsIC9cXC5qcyQvKSk7XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYS1zY2VuZScpLmRhdGFzZXQuaXNIb21lID09PSAndHJ1ZScpIHtcbiAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3Rlcignc2VydmljZVdvcmtlci5qcycpO1xuICB9IGVsc2Uge1xuICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKCcuLi9zZXJ2aWNlV29ya2VyLmpzJyk7XG4gIH1cbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2luZGV4LmpzIiwibW9kdWxlLmV4cG9ydHMgPSBcIiNkZWZpbmUgUkVDSVBST0NBTF9QSTIgMC4xNTkxNTQ5NFxcbnVuaWZvcm0gZmxvYXQgdGltZTtcXG51bmlmb3JtIGludCBpc0dyYXlzY2FsZTtcXG51bmlmb3JtIHNhbXBsZXIyRCBwYW5vO1xcbnVuaWZvcm0gdmVjMyBiYWNrZ3JvdW5kQ29sb3I7XFxudmFyeWluZyBmbG9hdCB2RGlzdGFuY2U7XFxudmFyeWluZyBmbG9hdCB2RGlzdGFuY2VUb0NlbnRlcjtcXG52YXJ5aW5nIHZlYzMgdldvcmxkUG9zaXRpb247XFxuXFxudm9pZCBtYWluKCkge1xcbiAgZmxvYXQgYWxwaGE7XFxuICBmbG9hdCBncmF5O1xcbiAgdmVjMyBjb2xvcjtcXG4gIHZlYzMgZGlyZWN0aW9uID0gbm9ybWFsaXplKHZXb3JsZFBvc2l0aW9uIC0gY2FtZXJhUG9zaXRpb24pO1xcbiAgdmVjMiBzYW1wbGVVVjtcXG4gIHZlYzIgc2FtcGxlQTtcXG4gIHZlYzIgc2FtcGxlQjtcXG5cXG4gIGZsb2F0IGJvcmRlclRoaWNrbmVzcyA9IDAuOTQ7XFxuXFxuICBzYW1wbGVVVi54ID0gYXRhbihkaXJlY3Rpb24ueiwgLWRpcmVjdGlvbi54KSAqIC1SRUNJUFJPQ0FMX1BJMiArIDAuNTtcXG4gIHNhbXBsZVVWLnkgPSBzYXR1cmF0ZShkaXJlY3Rpb24ueSAqIDAuNSAgKyAwLjUpO1xcblxcbiAgLy8gd29iYmxlXFxuICBzYW1wbGVBID0gc2FtcGxlVVYgKyBzaW4odGltZS8xMDAwLjAgKyBzYW1wbGVVVi54ICogMjQuMCArIHNhbXBsZVVWLnkgKiAxOC4wKSAqIDAuMDA0O1xcbiAgc2FtcGxlQiA9IHNhbXBsZVVWICsgc2luKHRpbWUvMTAwMC4wICsgc2FtcGxlVVYueCAqIDI0LjAgKyBzYW1wbGVVVi55ICogMTguMCkgKiAwLjAwNTtcXG4gICAgXFxuICAvLyBPcGFjaXR5IHBvcnRhbCBlZmZlY3QsIHBvc2l0aXZlIHNpbiB3YXZlIGZyb20gMC41IHRvIDEuMC5cXG4gIGFscGhhID0gc2luKHRpbWUgLyA4MDAuMCk7XFxuICBhbHBoYSA9IChhbHBoYSArIDEuMCkgLyAyLjA7XFxuICBhbHBoYSA9IG1peCgwLjg1LCAxLjAsIGFscGhhKTtcXG4gIGNvbG9yID0gdmVjMyh0ZXh0dXJlMkQocGFubywgc2FtcGxlQikueCwgdGV4dHVyZTJEKHBhbm8sIHNhbXBsZUEpLnl6KTtcXG4gIGFscGhhID0gc21vb3Roc3RlcCgwLjA1LCAxLjAsIDEuNiAtIHZEaXN0YW5jZVRvQ2VudGVyKTtcXG4gIGdsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IsIGFscGhhKTtcXG5cXG4gIGlmIChpc0dyYXlzY2FsZSA9PSAxKSB7XFxuICAgIGdyYXkgPSAoY29sb3IuciArIGNvbG9yLmcgKyBjb2xvci5iKSAvIDMuMDtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdmVjNChncmF5LCBncmF5LCBncmF5LCBhbHBoYSk7XFxuICB9XFxufVxcblwiXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvY29tcG9uZW50cy9zaGFkZXJzL29hc2lzUG9ydGFsRnJhZ21lbnQuZ2xzbFxuLy8gbW9kdWxlIGlkID0gNDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBcInZhcnlpbmcgdmVjMyB2V29ybGRQb3NpdGlvbjtcXG52YXJ5aW5nIGZsb2F0IHZEaXN0YW5jZVRvQ2VudGVyO1xcblxcbnZvaWQgbWFpbigpIHtcXG4gIHZEaXN0YW5jZVRvQ2VudGVyID0gY2xhbXAobGVuZ3RoKHBvc2l0aW9uIC0gdmVjMygwLjAsIDAuMCwgMC4wKSksIDAuMCwgMS4wKTtcXG4gIHZXb3JsZFBvc2l0aW9uID0gKG1vZGVsTWF0cml4ICogdmVjNChwb3NpdGlvbiwgMS4wKSkueHl6O1xcbiAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbW9kZWxWaWV3TWF0cml4ICogdmVjNChwb3NpdGlvbiwgMS4wKTtcXG59XFxuXCJcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9jb21wb25lbnRzL3NoYWRlcnMvb2FzaXNQb3J0YWxWZXJ0ZXguZ2xzbFxuLy8gbW9kdWxlIGlkID0gNDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGc7XHJcblxyXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxyXG5nID0gKGZ1bmN0aW9uKCkge1xyXG5cdHJldHVybiB0aGlzO1xyXG59KSgpO1xyXG5cclxudHJ5IHtcclxuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcclxuXHRnID0gZyB8fCBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkgfHwgKDEsZXZhbCkoXCJ0aGlzXCIpO1xyXG59IGNhdGNoKGUpIHtcclxuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxyXG5cdGlmKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpXHJcblx0XHRnID0gd2luZG93O1xyXG59XHJcblxyXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXHJcbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXHJcbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZztcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzXG4vLyBtb2R1bGUgaWQgPSA0M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9