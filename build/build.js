(function(e){function t(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(n,'a',n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=40)})([function(e){e.exports=function(e,t,n){var o,a,r=0,s=[];for(o=0;o<n;o++)a=new Audio(e),a.volume=t,a.load(),s.push(a);return{play:function(){(0===s[r].currentTime||s[r].ended)&&s[r].play(),r=(r+1)%n}}}},function(e,t,n){function o(e,t){var n,o,a,r;return a=t.split('.'),o=a[0],r=a[1],n=e.components[o]||AFRAME.components[o],n?r&&!n.schema[r]?null:r?n.schema[r].type:n.schema.type:null}function a(e){e.x=THREE.Math.degToRad(e.x),e.y=THREE.Math.degToRad(e.y),e.z=THREE.Math.degToRad(e.z)}function r(e,t,n){var o;for(o=0;o<t.length;o++)e.addEventListener(t[o],n)}function s(e,t,n){var o;for(o=0;o<t.length;o++)e.removeEventListener(t[o],n)}function l(e,t){var n,o,a;for(o=c(t),a=e,n=0;n<o.length;n++)a=a[o[n]];return a}function d(e,t,n,o){var a,r,s,l;for(r=c(t),l=e,a=0;a<r.length-1;a++)l=l[r[a]];return s=r[r.length-1],o===v?void('r'in l[s]?(l[s].r=n.r,l[s].g=n.g,l[s].b=n.b):(l[s].x=n.r,l[s].y=n.g,l[s].z=n.b)):void(l[s]=n)}function c(e){return e in b?b[e]:(b[e]=e.split('.'),b[e])}function p(e){return e.isRawProperty||e.property.startsWith(A)||e.property.startsWith(x)}var u=n(12);if(AFRAME.anime=u,'undefined'==typeof AFRAME)throw new Error('Component attempted to register before AFRAME was available.');var m=new THREE.Color,g=new THREE.Color,y=AFRAME.utils,h=y.entity.getComponentProperty,f=y.entity.setComponentProperty,b={},v='color',C='rotation',A='components',x='object3D';AFRAME.registerComponent('animation',{schema:{autoplay:{default:!0},delay:{default:0},dir:{default:''},dur:{default:1e3},easing:{default:'easeInQuad'},elasticity:{default:400},from:{default:''},loop:{default:0,parse:function(e){return!0===e||'true'===e||(!1===e||'false'===e?!1:parseInt(e,10))}},property:{default:''},startEvents:{type:'array'},pauseEvents:{type:'array'},resumeEvents:{type:'array'},to:{default:''},type:{default:''},isRawProperty:{default:!1}},multiple:!0,init:function(){var e=this;this.eventDetail={name:this.attrName},this.time=0,this.animation=null,this.animationIsPlaying=!1,this.onStartEvent=this.onStartEvent.bind(this),this.beginAnimation=this.beginAnimation.bind(this),this.pauseAnimation=this.pauseAnimation.bind(this),this.resumeAnimation=this.resumeAnimation.bind(this),this.fromColor={},this.toColor={},this.targets={},this.targetsArray=[],this.config={complete:function(){e.animationIsPlaying=!1,e.el.emit('animationcomplete',e.eventDetail)}}},update:function(){var e=this.config,t=this.data;this.animationIsPlaying=!1,t.property&&(e.autoplay=!1,e.direction=t.dir,e.duration=t.dur,e.easing=t.easing,e.elasticity=t.elasticity,e.loop=t.loop,this.createAndStartAnimation())},tick:function(e,t){this.animationIsPlaying&&(this.time+=t,this.animation.tick(this.time))},remove:function(){this.pauseAnimation(),this.removeEventListeners()},pause:function(){this.paused=!0,this.pausedWasPlaying=!0,this.pauseAnimation(),this.removeEventListeners()},play:function(){this.paused&&(this.paused=!1,this.addEventListeners(),this.pausedWasPlaying&&(this.resumeAnimation(),this.pausedWasPlaying=!1))},createAndStartAnimation:function(){var e=this.data;return this.updateConfig(),this.animationIsPlaying=!1,this.animation=u(this.config),this.removeEventListeners(),this.addEventListeners(),!e.autoplay||e.startEvents&&e.startEvents.length?void 0:e.delay?void setTimeout(this.beginAnimation,e.delay):void this.beginAnimation()},beginAnimation:function(){this.updateConfig(),this.time=0,this.animation.seek(0),this.animationIsPlaying=!0,this.stopRelatedAnimations(),this.el.emit('animationbegin',this.eventDetail)},pauseAnimation:function(){this.animationIsPlaying=!1},resumeAnimation:function(){this.animationIsPlaying=!0},onStartEvent:function(){return this.data.delay?void setTimeout(this.beginAnimation,this.data.delay):void this.beginAnimation()},updateConfigForRawColor:function(){var e,t,n,o=this.config,a=this.data,r=this.el;for(t in e=a.from||l(r,a.property),n=a.to,this.setColorConfig(e,n),e=this.fromColor,n=this.toColor,this.targetsArray.length=0,this.targetsArray.push(e),o.targets=this.targetsArray,n)o[t]=n[t];o.update=function(){var t={r:e.r,g:e.g,b:e.b};return function(e){var n;n=e.animatables[0].target,n.r===t.r&&n.g===t.g&&n.b===t.b||d(r,a.property,n,a.type)}}()},updateConfigForDefault:function(){var e,t,n,o,a=this.config,r=this.data,s=this.el;e=r.from||(p(r)?l(s,r.property):h(s,r.property)),o=r.to,n=!isNaN(e||o),n?(e=parseFloat(e),o=parseFloat(o)):(e=e?e.toString():e,o=o?o.toString():o),t='true'===o||'false'===o,t&&(e='true'===r.from?1:0,o='true'===r.to?1:0),this.targets.aframeProperty=e,a.targets=this.targets,a.aframeProperty=o,a.update=function(){var n=e;return function(e){var o;o=e.animatables[0].target.aframeProperty,o===n||(n=o,t&&(o=!!(1<=o)),p(r)?d(s,r.property,o,r.type):f(s,r.property,o))}}()},updateConfigForVector:function(){var e,t,n,o=this.config,r=this.data,s=this.el;for(e in t=r.from?AFRAME.utils.coordinates.parse(r.from):h(s,r.property),n=AFRAME.utils.coordinates.parse(r.to),r.property===C&&(a(t),a(n)),this.targetsArray.length=0,this.targetsArray.push(t),o.targets=this.targetsArray,n)o[e]=n[e];return r.property==='position'||r.property===C||r.property==='scale'?void(o.update=function(){var e={x:t.x,y:t.y,z:t.z};return function(t){var n=t.animatables[0].target;n.x===e.x&&n.y===e.y&&n.z===e.z||(e.x=n.x,e.y=n.y,e.z=n.z,s.object3D[r.property].set(n.x,n.y,n.z))}}()):void(o.update=function(){var e={x:t.x,y:t.y,z:t.z};return function(t){var n=t.animations[0].target;n.x===e.x&&n.y===e.y&&n.z===e.z||(e.x=n.x,e.y=n.y,e.z=n.z,f(s,r.property,n))}}())},updateConfig:function(){var e;e=o(this.el,this.data.property),p(this.data)&&this.data.type===v?this.updateConfigForRawColor():'vec2'===e||'vec3'===e||'vec4'===e?this.updateConfigForVector():this.updateConfigForDefault()},stopRelatedAnimations:function(){var e,t;for(t in this.el.components)(e=this.el.components[t],t!==this.attrName)&&'animation'===e.name&&e.data.property===this.data.property&&(e.animationIsPlaying=!1)},addEventListeners:function(){var e=this.data,t=this.el;r(t,e.startEvents,this.onStartEvent),r(t,e.pauseEvents,this.pauseAnimation),r(t,e.resumeEvents,this.resumeAnimation)},removeEventListeners:function(){var e=this.data,t=this.el;s(t,e.startEvents,this.onStartEvent),s(t,e.pauseEvents,this.pauseAnimation),s(t,e.resumeEvents,this.resumeAnimation)},setColorConfig:function(e,t){m.set(e),g.set(t),e=this.fromColor,t=this.toColor,e.r=m.r,e.g=m.g,e.b=m.b,t.r=g.r,t.g=g.g,t.b=g.b}})},function(){var e=AFRAME.utils.styleParser;if('undefined'==typeof AFRAME)throw new Error('Component attempted to register before AFRAME was available.');AFRAME.registerComponent('event-set',{schema:{default:'',parse:function(t){return e.parse(t)}},multiple:!0,init:function(){this.eventHandler=null,this.eventName=null},update:function(){this.removeEventListener(),this.updateEventListener(),this.addEventListener()},remove:function(){this.removeEventListener()},pause:function(){this.removeEventListener()},play:function(){this.addEventListener()},updateEventListener:function(){var e,t,n,o=this.data,a=this.el;e=o._event||this.id,t=o._target,n=t?a.sceneEl.querySelector(t):a,this.eventName=e,this.eventHandler=function(){for(var e in o)'_event'!==e&&'_target'!==e&&AFRAME.utils.entity.setComponentProperty.call(this,n,e,o[e])}},addEventListener:function(){this.el.addEventListener(this.eventName,this.eventHandler)},removeEventListener:function(){this.el.removeEventListener(this.eventName,this.eventHandler)}})},function(e){function t(e,t,n){var o,a,r,s=[],l=Math.ceil(t/e.columns);o=e.marginColumn,a=e.marginRow,n&&(o=e.margin,a=e.margin);for(var d=0;d<l;d++)for(var c=0;c<e.columns;c++)r=[0,0,0],0===e.plane.indexOf('x')&&(r[0]=c*o),0===e.plane.indexOf('y')&&(r[1]=c*o),1===e.plane.indexOf('y')&&(r[1]=d*a),1===e.plane.indexOf('z')&&(r[2]=d*a),s.push(r);return s}function n(e,t){for(var n=[],o=0;o<t;o++){var a=isNaN(e.angle)?o*(2*Math.PI)/t:0.01745329252*(o*e.angle);var r=[];0===e.plane.indexOf('x')&&(r[0]=e.radius*p(a)),0===e.plane.indexOf('y')&&(r[1]=e.radius*p(a)),1===e.plane.indexOf('y')&&(r[1]=e.radius*c(a)),1===e.plane.indexOf('z')&&(r[2]=e.radius*c(a)),n.push(r)}return n}function o(e,n){return e.columns=n,t(e,n,!0)}function a(e){return l([[1,0,0],[0,1,0],[0,0,1],[-1,0,0],[0,-1,0],[0,0,-1]],e.radius/2)}function r(e){var t=(1+2.23606797749979)/2,n=1/t,o=2-t,a=-1*n,r=-1*o;return l([[-1,o,0],[-1,r,0],[0,-1,o],[0,-1,r],[0,1,o],[0,1,r],[1,o,0],[1,r,0],[n,n,n],[n,n,a],[n,a,n],[n,a,a],[o,0,1],[o,0,-1],[a,n,n],[a,n,a],[a,a,n],[a,a,a],[r,0,1],[r,0,-1]],e.radius/2)}function s(e){var t=-1/1.7320508075688772;return l([[0,0,1.7320508075688772+t],[-1,0,t],[1,0,t],[0,0.816496580927726*2,0]],e.radius/2)}function l(e,t){return e.map(function(e){return e.map(function(e){return e*t})})}function d(e,t){e.forEach(function(e,n){var o=t[n];e.setAttribute('position',{x:o[0],y:o[1],z:o[2]})})}var c=Math.sin,p=Math.cos;AFRAME.registerComponent('layout',{schema:{angle:{type:'number',default:!1,min:0,max:360,if:{type:['circle']}},columns:{default:1,min:0,if:{type:['box']}},margin:{default:1,min:0,if:{type:['box','line']}},marginColumn:{default:1,min:0,if:{type:['box']}},marginRow:{default:1,min:0,if:{type:['box']}},plane:{default:'xy'},radius:{default:1,min:0,if:{type:['circle','cube','dodecahedron','pyramid']}},reverse:{default:!1},type:{default:'line',oneOf:['box','circle','cube','dodecahedron','line','pyramid']},fill:{default:!0,if:{type:['circle']}}},init:function(){var e=this,t=this.el;this.children=t.getChildEntities(),this.initialPositions=[],this.children.forEach(function(t){function n(){var n=t.getAttribute('position');e.initialPositions.push([n.x,n.y,n.z])}return t.hasLoaded?n():void t.addEventListener('loaded',n)}),t.addEventListener('child-attached',function(n){n.detail.el.parentNode!==t||(e.children.push(n.detail.el),e.update())}),t.addEventListener('child-detached',function(t){-1===e.children.indexOf(t.detail.el)||(e.children.splice(e.children.indexOf(t.detail.el),1),e.initialPositions.splice(e.children.indexOf(t.detail.el),1),e.update())})},update:function(){var e,l,c=this.children,p=this.data,u=this.el,m=c.length;switch(p.type){case'box':{e=t;break}case'circle':{e=n;break}case'cube':{e=a;break}case'dodecahedron':{e=r;break}case'pyramid':{e=s;break}default:e=o;}l=e(p,m,'margin'in u.getDOMAttribute('layout')),p.reverse&&l.reverse(),d(c,l)},remove:function(){this.el.removeEventListener('child-attached',this.childAttachedCallback),d(this.children,this.initialPositions)}}),e.exports.getBoxPositions=t,e.exports.getCirclePositions=n,e.exports.getLinePositions=o,e.exports.getCubePositions=a,e.exports.getDodecahedronPositions=r,e.exports.getPyramidPositions=s},function(){var e=AFRAME.utils.debug,t=AFRAME.utils.coordinates,n=e('components:look-at:warn'),o=t.isCoordinates||t.isCoordinate;delete AFRAME.components['look-at'],AFRAME.registerComponent('look-at',{schema:{default:'',parse:function(e){return o(e)||'object'==typeof e?t.parse(e):e},stringify:function(e){return'object'==typeof e?t.stringify(e):e}},init:function(){this.target3D=null,this.vector=new THREE.Vector3},update:function(){var e,t=this,o=t.data,a=t.el.object3D;return o&&('object'!=typeof o||Object.keys(o).length)?'object'==typeof o?a.lookAt(new THREE.Vector3(o.x,o.y,o.z)):(e=t.el.sceneEl.querySelector(o),e?e.hasLoaded?t.beginTracking(e):e.addEventListener('loaded',function(){t.beginTracking(e)}):void n('"'+o+'" does not point to a valid entity to look-at')):t.remove()},tick:function(){var e,t=this.target3D,n=this.el.object3D,o=this.vector;t&&(e=n.parent.worldToLocal(t.getWorldPosition()),this.el.getObject3D('camera')?o.subVectors(n.position,e).add(n.position):o=e,n.lookAt(o))},beginTracking:function(e){this.target3D=e.object3D}})},function(){AFRAME.registerComponent('proxy-event',{schema:{captureBubbles:{default:!1},event:{type:'string'},to:{type:'string'},as:{type:'string'},bubbles:{default:!1}},multiple:!0,init:function(){var e,t=this.data,n=this.el,o=this;e='CHILDREN'===t.to?n.querySelectorAll('*'):'SELF'===t.to?[n]:document.querySelectorAll(t.to),n.addEventListener(t.event,function(t){var a,r=o.data;if(r.captureBubbles||t.target===n)for(a=0;a<e.length;a++)e[a].emit(r.as||r.event,null,r.bubbles)})}})},function(){var e=Math.sin,t=Math.cos;if('undefined'==typeof AFRAME)throw new Error('Component attempted to register before AFRAME was available.');AFRAME.registerComponent('random-color',{schema:{min:{default:{x:0,y:0,z:0},type:'vec3'},max:{default:{x:1,y:1,z:1},type:'vec3'}},update:function(){var e=this.data,t=e.max,n=e.min;this.el.setAttribute('material','color','#'+new THREE.Color(Math.random()*t.x+n.x,Math.random()*t.y+n.y,Math.random()*t.z+n.z).getHexString())}}),AFRAME.registerComponent('random-position',{schema:{min:{default:{x:-10,y:-10,z:-10},type:'vec3'},max:{default:{x:10,y:10,z:10},type:'vec3'}},update:function(){var e=this.data,t=e.max,n=e.min;this.el.setAttribute('position',{x:Math.random()*(t.x-n.x)+n.x,y:Math.random()*(t.y-n.y)+n.y,z:Math.random()*(t.z-n.z)+n.z})}}),AFRAME.registerComponent('random-spherical-position',{schema:{radius:{default:10},startX:{default:0},lengthX:{default:360},startY:{default:0},lengthY:{default:360}},update:function(){var n=this.data,o=THREE.Math.degToRad(Math.random()*n.lengthX+n.startX),a=THREE.Math.degToRad(Math.random()*n.lengthY+n.startY);this.el.setAttribute('position',{x:n.radius*t(o)*e(a),y:n.radius*e(o)*e(a),z:n.radius*t(a)})}}),AFRAME.registerComponent('random-rotation',{schema:{min:{default:{x:0,y:0,z:0},type:'vec3'},max:{default:{x:360,y:360,z:360},type:'vec3'}},update:function(){var e=this.data,t=e.max,n=e.min;this.el.setAttribute('rotation',{x:Math.random()*t.x+n.x,y:Math.random()*t.y+n.y,z:Math.random()*t.z+n.z})}}),AFRAME.registerComponent('random-scale',{schema:{min:{default:{x:0,y:0,z:0},type:'vec3'},max:{default:{x:2,y:2,z:2},type:'vec3'}},update:function(){var e=this.data,t=e.max,n=e.min;this.el.setAttribute('scale',{x:Math.random()*t.x+n.x,y:Math.random()*t.y+n.y,z:Math.random()*t.z+n.z})}})},function(){function e(e){return'back'===e?THREE.BackSide:'double'===e?THREE.DoubleSide:THREE.FrontSide}if('undefined'==typeof AFRAME)throw new Error('Component attempted to register before AFRAME was available.');AFRAME.registerComponent('slice9',{schema:{bottom:{default:0,min:0},color:{type:'color',default:'#fff'},debug:{default:!1},height:{default:1,min:0},left:{default:0,min:0},opacity:{default:1,min:0,max:1},padding:{default:0.1,min:0.01},right:{default:0,min:0},side:{default:'front',oneOf:['front','back','double']},src:{type:'map'},top:{default:0,min:0},transparent:{default:!0},width:{default:1,min:0},usingCustomMaterial:{default:!1},usingAtlas:{default:!1},uvAtlasMin:{type:'vec2'},uvAtlasMax:{type:'vec2'}},init:function(){var e,t,n=this.data;this.textureSrc=null,e=this.geometry=new THREE.PlaneBufferGeometry(n.width,n.height,3,3),n.usingCustomMaterial?this.plane=new THREE.Mesh(e):(t=this.material=new THREE.MeshBasicMaterial({color:n.color,opacity:n.opacity,transparent:n.transparent,wireframe:n.debug}),this.plane=new THREE.Mesh(e,t)),this.el.setObject3D('mesh',this.plane)},regenerateMesh:function(){function e(e,t,n){s[3*e]=t,s[3*e+1]=n}function t(e,t,n){r.usingAtlas&&(t=r.uvAtlasMin.x+t*(r.uvAtlasMax.x-r.uvAtlasMin.x),n=r.uvAtlasMin.y+n*(r.uvAtlasMax.y-r.uvAtlasMin.y)),l[2*e]=t,l[2*e+1]=n}var n,o,a,r=this.data,s=this.geometry.attributes.position.array,l=this.geometry.attributes.uv.array;if(!this.material||this.material.map){r.usingCustomMaterial?(n=1,a=1):(n=this.material.map.image.width,a=this.material.map.image.width),o={left:r.left/a,right:r.right/a,top:r.top/n,bottom:r.bottom/n},t(1,o.left,1),t(2,o.right,1),t(4,0,o.bottom),t(5,o.left,o.bottom),t(6,o.right,o.bottom),t(7,1,o.bottom),t(8,0,o.top),t(9,o.left,o.top),t(10,o.right,o.top),t(11,1,o.top),t(13,o.left,0),t(14,o.right,0),r.usingAtlas&&(t(0,0,1),t(3,1,1),t(12,0,0),t(15,1,0));var d=r.width/2,c=r.height/2,p=-d+r.padding,u=d-r.padding,m=c-r.padding,g=-c+r.padding;e(0,-d,c),e(1,p,c),e(2,u,c),e(3,d,c),e(4,-d,m),e(5,p,m),e(6,u,m),e(7,d,m),e(8,-d,g),e(9,p,g),e(10,u,g),e(11,d,g),e(13,p,-c),e(14,u,-c),e(12,-d,-c),e(15,d,-c),this.geometry.attributes.position.needsUpdate=!0,this.geometry.attributes.uv.needsUpdate=!0}},update:function(t){var n,o=this.data;n=AFRAME.utils.diff(o,t),o.usingCustomMaterial||(this.material.color.setStyle(o.color),this.material.opacity=o.opacity,this.material.transparent=o.transparent,this.material.wireframe=o.debug,this.material.side=e(o.side),'src'in n&&this.updateMap()),('width'in n||'height'in n||'padding'in n||'left'in n||'top'in n||'bottom'in n||'right'in n)&&this.regenerateMesh()},updateMap:function(){function e(e){this.material.map=e,this.material.needsUpdate=!0,this.regenerateMesh()}var t=this.data.src;return t?t===this.textureSrc?void 0:(this.textureSrc=t,void this.el.sceneEl.systems.material.loadTexture(t,{src:t},e.bind(this))):void(!this.material.map||e(null))}})},function(e,t,n){function o(e){var t='line'===e.type?2:e.curveNumberPoints;return new d(t,e.curveLineWidth)}function a(e){var t,n,o;return n=document.createElement('a-entity'),n.className='hitEntity',n.setAttribute('visible',!1),o=document.createElement('a-entity'),o.setAttribute('geometry',{primitive:'torus',radius:e.hitCylinderRadius,radiusTubular:0.01}),o.setAttribute('material',{shader:'flat',color:e.hitCylinderColor,side:'double',depthTest:!1}),o.setAttribute('rotation','-90 0 0'),n.appendChild(o),t=document.createElement('a-entity'),t.setAttribute('position',{x:0,y:e.hitCylinderHeight/2,z:0}),t.setAttribute('geometry',{primitive:'cylinder',segmentsHeight:1,radius:e.hitCylinderRadius,height:e.hitCylinderHeight,openEnded:!0}),t.setAttribute('material',{shader:'flat',color:e.hitCylinderColor,side:'double',src:s,transparent:!0,depthTest:!1}),n.appendChild(t),n}function r(){var e,t;return e=new THREE.PlaneBufferGeometry(100,100),e.rotateX(-Math.PI/2),t=new THREE.MeshBasicMaterial({color:16776960}),new THREE.Mesh(e,t)}var s=n(15),l=n(13),d=n(14);if('undefined'==typeof AFRAME)throw new Error('Component attempted to register before AFRAME was available.');Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;0<=--n&&t.item(n)!==this;);return-1<n}),AFRAME.registerComponent('teleport-controls',{schema:{type:{default:'parabolic',oneOf:['parabolic','line']},button:{default:'trackpad',oneOf:['trackpad','trigger','grip','menu']},startEvents:{type:'array'},endEvents:{type:'array'},collisionEntities:{default:''},checkCollisionChildren:{default:!0},direction:{type:'vec3',default:new THREE.Vector3(0,0,-1)},hitEntity:{type:'selector'},hitEntityAlignNormal:{default:!0},cameraRig:{type:'selector'},teleportOrigin:{type:'selector'},hitCylinderColor:{type:'color',default:'#99ff99'},hitCylinderRadius:{default:0.25,min:0},hitCylinderHeight:{default:0.3,min:0},interval:{default:0},maxLength:{default:10,min:0,if:{type:['line']}},curveNumberPoints:{default:30,min:2,if:{type:['parabolic']}},curveLineWidth:{default:0.025},curveHitColor:{type:'color',default:'#99ff99'},curveMissColor:{type:'color',default:'#ff0000'},curveShootingSpeed:{default:5,min:0,if:{type:['parabolic']}},defaultPlaneSize:{default:100},landingNormal:{type:'vec3',default:'0 1 0'},landingMaxAngle:{default:'45',min:0,max:360}},init:function(){var e,t,n=this.data,o=this.el;if(this.active=!1,this.obj=o.object3D,this.hitPoint=new THREE.Vector3,this.rigWorldPosition=new THREE.Vector3,this.newRigWorldPosition=new THREE.Vector3,this.teleportEventDetail={oldPosition:this.rigWorldPosition,newPosition:this.newRigWorldPosition,hitPoint:this.hitPoint},this.intersections=[],this.meshes=[],this.hit=!1,this.prevCheckTime=void 0,this.prevHitHeight=0,this.referenceNormal=new THREE.Vector3,this.curveMissColor=new THREE.Color,this.curveHitColor=new THREE.Color,this.raycaster=new THREE.Raycaster,this.defaultPlane=r(this.data.defaultPlaneSize),this.defaultCollisionMeshes=[this.defaultPlane],e=this.teleportEntity=document.createElement('a-entity'),e.classList.add('teleportRay'),e.object3D.visible=!1,o.sceneEl.appendChild(this.teleportEntity),this.onButtonDown=this.onButtonDown.bind(this),this.onButtonUp=this.onButtonUp.bind(this),this.data.startEvents.length&&this.data.endEvents.length){for(t=0;t<this.data.startEvents.length;t++)o.addEventListener(this.data.startEvents[t],this.onButtonDown);for(t=0;t<this.data.endEvents.length;t++)o.addEventListener(this.data.endEvents[t],this.onButtonUp)}else o.addEventListener(n.button+'down',this.onButtonDown),o.addEventListener(n.button+'up',this.onButtonUp);this.refreshMeshes()},update:function(e){var t=this.data,n=AFRAME.utils.diff(t,e);this.referenceNormal.copy(t.landingNormal),this.curveMissColor.set(t.curveMissColor),this.curveHitColor.set(t.curveHitColor),(!this.line||'curveLineWidth'in n||'curveNumberPoints'in n||'type'in n)&&(this.line=o(t),this.teleportEntity.setObject3D('mesh',this.line.mesh)),t.hitEntity?this.hitEntity=t.hitEntity:(!this.hitEntity||'hitCylinderColor'in n||'hitCylinderHeight'in n||'hitCylinderRadius'in n)&&(this.hitEntity&&this.hitEntity.parentNode.removeChild(this.hitEntity),this.hitEntity=a(t),this.el.sceneEl.appendChild(this.hitEntity)),this.hitEntity.object3D.visible=!1,'collisionEntities'in n&&this.refreshMeshes()},remove:function(){var e=this.el,t=this.hitEntity,n=this.teleportEntity;t&&t.parentNode.removeChild(t),n&&n.parentNode.removeChild(n),e.sceneEl.removeEventListener('child-attached',this.childAttachHandler),e.sceneEl.removeEventListener('child-detached',this.childDetachHandler)},tick:function(){var e=new THREE.Vector3,n=new THREE.Vector3,o=new THREE.Vector3(0,-9.8,0),a=new THREE.Vector3,r=new THREE.Vector3,s=new THREE.Quaternion,d=new THREE.Vector3,c=new THREE.Vector3,p=new THREE.Vector3,u=new THREE.Vector3,m=new THREE.Vector3;return function(g){if(this.active&&!(this.prevCheckTime&&g-this.prevCheckTime<this.data.interval)){this.prevCheckTime=g;var y=this.obj.matrixWorld;y.decompose(d,s,c);var h=p.copy(this.data.direction).applyQuaternion(s).normalize();if(this.line.setDirection(m.copy(h)),this.obj.getWorldPosition(e),r.copy(e),this.teleportEntity.object3D.visible=!0,this.line.material.color.set(this.curveMissColor),this.hitEntity.object3D.visible=!1,this.hit=!1,'parabolic'===this.data.type){n.copy(h).multiplyScalar(this.data.curveShootingSpeed);for(var f,t=0;t<this.line.numPoints;t++){f=t/(this.line.numPoints-1),l(e,n,o,f,a);var b=u.copy(a).sub(r).normalize();if(this.raycaster.far=b.length(),this.raycaster.set(r,b),this.checkMeshCollisions(t,a))break;r.copy(a)}}else'line'===this.data.type&&(a.copy(r).add(m.copy(h).multiplyScalar(this.data.maxLength)),this.raycaster.far=this.data.maxLength,this.raycaster.set(e,h),this.line.setPoint(0,e),this.checkMeshCollisions(1,a))}}}(),refreshMeshes:function(){var e,t,n,o=this.data,a=this.el;if(!o.collisionEntities)return void(this.collisionEntities=[]);if(e=[].slice.call(a.sceneEl.querySelectorAll(o.collisionEntities)),this.collisionEntities=e,this.data.checkCollisionChildren&&(a.sceneEl.removeEventListener('child-attached',this.childAttachHandler),this.childAttachHandler=function(t){t.detail.el.matches(o.collisionEntities)&&e.push(t.detail.el)},a.sceneEl.addEventListener('child-attached',this.childAttachHandler),a.sceneEl.removeEventListener('child-detached',this.childDetachHandler),this.childDetachHandler=function(t){var n;t.detail.el.matches(o.collisionEntities)&&(n=e.indexOf(t.detail.el),-1===n||e.splice(n,1))},a.sceneEl.addEventListener('child-detached',this.childDetachHandler)),this.data.collisionEntities){var n=this.meshes=[];for(t=0;t<this.collisionEntities.length;t++){var r=this.collisionEntities[t].getObject3D('mesh');r?this.meshes.push(r):this.collisionEntities[t].addEventListener('object3dset',function(e){e.target!==this||'mesh'!==e.detail.type||n.push(e.detail.object)})}}else this.meshes=this.defaultCollisionMeshes},onButtonDown:function(){this.active=!0,this.el.emit('teleportstart')},onButtonUp:function(){const e=new THREE.Vector3,t=new THREE.Vector3,n=[new THREE.Vector3,new THREE.Vector3],o=new THREE.Vector3;return function(){if(this.active&&(this.active=!1,this.hitEntity.object3D.visible=!1,this.teleportEntity.object3D.visible=!1,!!this.hit)){const s=this.data.cameraRig||this.el.sceneEl.camera.el;s.object3D.getWorldPosition(this.rigWorldPosition),this.newRigWorldPosition.copy(this.hitPoint);const l=this.data.teleportOrigin;if(l&&(l.object3D.getWorldPosition(e),this.newRigWorldPosition.sub(e).add(this.rigWorldPosition)),this.newRigWorldPosition.y=this.rigWorldPosition.y+this.hitPoint.y-this.prevHitHeight,this.prevHitHeight=this.hitPoint.y,t.copy(this.newRigWorldPosition),s.object3D.parent&&s.object3D.parent.worldToLocal(t),s.object3D.position.copy(t),!this.data.cameraRig)for(var a=document.querySelectorAll('a-entity[tracked-controls]'),r=0;r<a.length;r++)a[r].object3D.getWorldPosition(o),n[r].copy(this.newRigWorldPosition).sub(this.rigWorldPosition).add(o),a[r].object3D.position.copy(n[r]);this.el.emit('teleported',this.teleportEventDetail)}}}(),checkMeshCollisions:function(){var e=new THREE.Vector3;return function(t,n){var t,o=this.intersections;if(o.length=0,this.raycaster.intersectObjects(this.meshes,!0,o),0<o.length&&!this.hit&&this.isValidNormalsAngle(o[0].face.normal)){var a=o[0].point;this.line.material.color.set(this.curveHitColor),this.hitEntity.object3D.position.copy(a),this.hitEntity.object3D.visible=!0,this.hit=!0,this.hitPoint.copy(o[0].point),this.data.hitEntityAlignNormal&&(e.copy(o[0].point).add(o[0].face.normal),o[0].object.localToWorld(e),this.hitEntity.object3D.lookAt(e));for(var r=t;r<this.line.numPoints;r++)this.line.setPoint(r,this.hitPoint);return!0}return this.line.setPoint(t,n),!1}}(),isValidNormalsAngle:function(e){var t=this.referenceNormal.angleTo(e);return THREE.Math.RAD2DEG*t<=this.data.landingMaxAngle}})},function(){window.utils={},window.utils.drawLine=function(){var e={};return function(t,n,o,a){e[t]||(e[t]=document.createElement('a-entity'),e[t].setAttribute('line','color',a||'#FFF'),e[t].setAttribute('id',t),AFRAME.scenes[0].appendChild(e[t])),e[t].setAttribute('line','start',n.clone()),e[t].setAttribute('line','end',o.clone())}}(),window.utils.drawVec3=function(){var e={};return function(t,n,o){e[t]||(e[t]=document.createElement('a-sphere'),e[t].setAttribute('color',o||'#FFF'),e[t].setAttribute('radius',0.02),e[t].setAttribute('id',t),e[t].setAttribute('text',{align:'center',value:t,side:'double'}),AFRAME.scenes[0].appendChild(e[t])),e[t].setAttribute('position',n.clone())}}(),window.utils.getFaceCenter=function(){return function(e,t,n){return n=n||new THREE.Vector3,n.copy(e.geometry.vertices[t.a]).add(e.geometry.vertices[t.b]).add(e.geometry.vertices[t.c]).divideScalar(3)}}(),window.utils.assetPath=function(e){return'true'===AFRAME.scenes[0].dataset.isHome?e:`../${e}`},window.utils.random=function(e){var t,n;for(n=0,t=0;t<window.location.href.length;t++)n+=window.location.href.charCodeAt(t);return parseFloat('0.'+Math.sin(9999*n*e).toString().substr(7))}},function(){var e=Math.sign,t=Math.abs,n=String.prototype,o=Math.max;(function(e){function t(o){if(n[o])return n[o].exports;var a=n[o]={exports:{},id:o,loaded:!1};return e[o].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p='',t(0)})([function(e,t,n){'use strict';n(1),n(45),n(47),n(58),n(59),n(65)},function(e,t,n){'use strict';function o(e,t,n){return new Promise(function(o){u(t).then(function(){h[e]={template:l(t)(n.trim()),type:t},o(h[e])})})}function a(e,t,n){return t===v?e(n):t===C?e(n):t===A?Mustache.render(e,n):t===x?e.render(n):m(e,n)}function r(e,t){var n=document.querySelector(e),a=n.getAttribute('type'),r=n.innerHTML;if(!t){if(!a)throw new Error('Must provide `type` attribute for <script> templates (e.g., handlebars, jade, nunjucks, html)');if(-1!==a.indexOf('handlebars'))t=v;else if(-1!==a.indexOf('jade'))t=C;else if(-1!==a.indexOf('mustache'))t=A;else if(-1!==a.indexOf('nunjucks'))t=x;else if(-1!==a.indexOf('html'))t=S;else return void f('Template type could not be inferred from the script tag. Please add a type.')}return new Promise(function(n){o(e,t,r).then(function(e){n(e,t)})})}function s(e,t){return new Promise(function(n){var a;a=new XMLHttpRequest,a.addEventListener('load',function(){o(e,t,a.response).then(function(e){n(e,t)})}),a.open('GET',e),a.send()})}function l(e){return e===v?d:e===C?c:e===A?d:e===x?p:function(e){return e}}function d(e){return Handlebars.compile(e)}function c(e){return jade.compile(e)}function p(e){return nunjucks.compile(e)}function u(e){return new Promise(function(t){if(!e||'html'===e)return t();var n=k[e];if(!0===k[e])return t();n||(n=document.createElement('script'),k[e]=n,n.setAttribute('src',E[e]),b('Lazy-loading %s engine. Please add <script src="%s"> to your page.',e,E[e]),document.body.appendChild(n));var o=n.onload||function(){};n.onload=function(){o(),k[e]=!0,t()}})}var m=n(2),g=AFRAME.utils.debug,y=AFRAME.utils.extend,h={},f=g('template-component:error'),b=g('template-component:info'),v='handlebars',C='jade',A='mustache',x='nunjucks',S='html',k={};k[v]=!!window.Handlebars,k[C]=!!window.jade,k[A]=!!window.Mustache,k[x]=!!window.nunjucks;var E={};E[v]='https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js',E[C]='https://cdnjs.cloudflare.com/ajax/libs/jade/1.11.0/jade.min.js',E[A]='https://cdnjs.cloudflare.com/ajax/libs/mustache.js/2.2.1/mustache.min.js',E[x]='https://cdnjs.cloudflare.com/ajax/libs/nunjucks/2.3.0/nunjucks.min.js',AFRAME.registerComponent('template',{schema:{insert:{default:'beforeend'},type:{default:''},src:{default:''},data:{default:''}},update:function(e){var t=this.data,n=this.el,o='#'===t.src[0]?r:s,a=h[t.src];if(e&&e.src!==t.src)for(;n.firstChild;)n.removeChild(n.firstChild);return a?void this.renderTemplate(a):void o(t.src,t.type).then(this.renderTemplate.bind(this))},renderTemplate:function(e){var t=this.el,n=this.data,o={};Object.keys(t.dataset).forEach(function(e){o[e]=t.dataset[e]}),n.data&&(o=y(o,t.getAttribute(n.data)));var r=a(e.template,e.type,o);t.insertAdjacentHTML(n.insert,r),t.emit('templaterendered')}});AFRAME.registerComponent('template-set',{schema:{on:{type:'string'},src:{type:'string'},data:{type:'string'}},init:function(){var e=this.data,t=this.el;t.addEventListener(e.on,function(){t.setAttribute('template',{src:e.src,data:e.data})})}})},function(e,t,n){'use strict';var o=n(3),a=n(41);e.exports=function(e,t){return a(o(e),t,arguments[2])}},function(e,t,n){'use strict';var o,a,r,s,l,d,c,p,u,m,g=n(4);l=function(e){return'\\'===e?d:'$'===e?c:(a+=e,l)},d=function(e){return'\\'!==e&&'$'!==e&&(a+='\\'),a+=e,l},c=function(e){return'{'===e?(r.push(a),a='',p):'$'===e?(a+='$',c):(a+='$'+e,l)},p=function(){var e,t=m.slice(o);return(g(t,'}',function(t){return 0<=g.nest?g.next():void(e=t)}),null!=e)?(s.push(m.slice(o,o+e)),o+=e,a='',l):(e=t.length,o+=e,a+=t,p)},u=function(e){return'\\'!==e&&'}'!==e&&(a+='\\'),a+=e,p},e.exports=function(e){var t,n,g;for(a='',r=[],s=[],m=e+'',t=m.length,n=l,o=0;o<t;++o)n=n(m[o]);return n===l?r.push(a):n===d?r.push(a+'\\'):n===c?r.push(a+'$'):n===p?r[r.length-1]+='${'+a:n===u&&(r[r.length-1]+='${'+a+'\\'),g={literals:r,substitutions:s},r=s=null,g}},function(e,t,n){'use strict';var o,a,r,s,l,c,p,u,m,g,y,h,f,b,v,C,A,x,S,k,E,w,P,D,T,O,j,L=n(5),z=n(37),I=n(20),N=n(35),R=n(11),d=n(38),M=n(39),V=Object.prototype.hasOwnProperty,U=z.apply(null,L(';{=([,<>+-*/%&|^!~?:}')),F=z.apply(null,L(';{=([,<>+-*/%&|^!~?:})].'));o=function(e){if(h&&!(y>=e))for(;y!==e;){if(!h)return;V.call(M,h)?V.call(d,h)&&(b=y,++f):C=h,h=k[++y]}},a=function(e){null!=T&&x.push([O,T,e]),O={point:y+1,line:f,column:y+1-b},T=y},r=function(){var e;return O.raw=k.slice(T,y),S.push(O),x.length?(e=x.pop(),O=e[0],T=e[1],void(j=e[2])):void(O=null,T=null,j=null)},s=function(){var e=j;return j=A,++A,o(y+1),a(e),l},c=function(){if('\''===h||'"'===h)return D=h,h=k[++y],p;if('('===h||'{'===h||'['===h)++A;else if(')'===h||'}'===h||']'===h)j===--A&&r();else if('/'===h&&V.call(U,C))return h=k[++y],g;return h===E&&(w||!C||v||V.call(F,C))?P(y,C,A):(C=h,h=k[++y],l)},u=function(){for(;;){if(!h)return;if(V.call(d,h))return b=y+1,void++f;h=k[++y]}},m=function(){for(;;){if(!h)return;if('*'===h){if(h=k[++y],'/'===h)return;continue}V.call(d,h)&&(b=y+1,++f),h=k[++y]}},l=function(){var e;for(v=!1;;){if(!h)return;if(V.call(M,h))v=!0,V.call(d,h)&&(b=y+1,++f);else if('/'!==h)break;else if(e=k[y+1],'/'===e)h=k[y+=2],v=!0,u();else if('*'===e)h=k[y+=2],v=!0,m();else break;h=k[++y]}return c},p=function(){for(;;){if(!h)return;if(h===D)return h=k[++y],C=D,l;'\\'===h&&V.call(d,k[++y])&&(b=y+1,++f),h=k[++y]}},g=function(){for(;;){if(!h)return;if('/'===h)return C='/',h=k[++y],l;'\\'===h&&++y,h=k[++y]}},e.exports=t=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,n,o){var a;if(k=I(e)+'',E=I(n)+'',1!==E.length)throw new TypeError(E+' should be one character long string');for(P=N(o),w=V.call(F,E),y=0,h=k[y],f=1,b=0,v=!1,C=null,A=0,x=[],S=[],t.forceStop=!1,a=l;a;)a=a();return S}),Object.defineProperties(t,{$ws:R(l),$common:R(c),collectNest:R(s),move:R(o),index:R.gs(function(){return y}),line:R.gs(function(){return f}),nest:R.gs(function(){return A}),columnIndex:R.gs(function(){return b}),next:R(function(e){if(h)return o(y+(e||1)),l()}),resume:R(function(){return c})})},function(e,t,n){'use strict';e.exports=n(6)()?Array.from:n(7)},function(e){'use strict';e.exports=function(){var e,t,n=Array.from;return!('function'!=typeof n)&&(e=['raz','dwa'],t=n(e),!!(t&&t!==e&&'dwa'===t[1]))}},function(e,t,n){'use strict';var o=n(8).iterator,a=n(28),r=n(29),s=n(30),l=n(35),d=n(20),c=n(18),p=n(36),u=Array.isArray,m=Function.prototype.call,g={configurable:!0,enumerable:!0,writable:!0,value:null},y=Object.defineProperty;e.exports=function(e){var t,n,h,f,b,v,C,A,x,S,k=arguments[1],E=arguments[2];if(e=Object(d(e)),c(k)&&l(k),!this||this===Array||!r(this)){if(!k){if(a(e))return(b=e.length,1!==b)?Array.apply(null,e):(f=[,],f[0]=e[0],f);if(u(e)){for(f=Array(b=e.length),n=0;n<b;++n)f[n]=e[n];return f}}f=[]}else t=this;if(!u(e))if(void 0!==(x=e[o])){for(C=l(x).call(e),t&&(f=new t),A=C.next(),n=0;!A.done;)S=k?m.call(k,E,A.value,n):A.value,t?(g.value=S,y(f,n,g)):f[n]=S,A=C.next(),++n;b=n}else if(p(e)){for(b=e.length,t&&(f=new t),(n=0,h=0);n<b;++n)S=e[n],n+1<b&&(v=S.charCodeAt(0),55296<=v&&56319>=v&&(S+=e[++n])),S=k?m.call(k,E,S,h):S,t?(g.value=S,y(f,h,g)):f[h]=S,++h;b=h}if(void 0===b)for(b=s(e.length),t&&(f=new t(b)),n=0;n<b;++n)S=k?m.call(k,E,e[n],n):e[n],t?(g.value=S,y(f,n,g)):f[n]=S;return t&&(g.value=null,f.length=b),f}},function(e,t,n){'use strict';e.exports=n(9)()?Symbol:n(10)},function(e){'use strict';var t='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},n={object:!0,symbol:!0};e.exports=function(){var e;if('function'!=typeof Symbol)return!1;e=Symbol('test symbol');try{}catch(t){return!1}return!!n[t(Symbol.iterator)]&&!!n[t(Symbol.toPrimitive)]&&!!n[t(Symbol.toStringTag)]}},function(e,t,n){'use strict';var o,a,r,s,l='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},c=n(11),d=n(26),p=Object.create,u=Object.defineProperties,m=Object.defineProperty,g=Object.prototype,y=p(null);if('function'==typeof Symbol){o=Symbol;try{o()+'',s=!0}catch(e){}}var h=function(){var e=p(null);return function(t){for(var n,o,a=0;e[t+(a||'')];)++a;return t+=a||'',e[t]=!0,n='@@'+t,m(g,n,c.gs(null,function(e){o||(o=!0,m(this,n,c(e)),o=!1)})),n}}();r=function(e){if(this instanceof r)throw new TypeError('Symbol is not a constructor');return a(e)},e.exports=a=function e(t){var n;if(this instanceof e)throw new TypeError('Symbol is not a constructor');return s?o(t):(n=p(r.prototype),t=void 0===t?'':t+'',u(n,{__description__:c('',t),__name__:c('',h(t))}))},u(a,{for:c(function(e){return y[e]?y[e]:y[e]=a(e+'')}),keyFor:c(function(e){for(var t in d(e),y)if(y[t]===e)return t}),hasInstance:c('',o&&o.hasInstance||a('hasInstance')),isConcatSpreadable:c('',o&&o.isConcatSpreadable||a('isConcatSpreadable')),iterator:c('',o&&o.iterator||a('iterator')),match:c('',o&&o.match||a('match')),replace:c('',o&&o.replace||a('replace')),search:c('',o&&o.search||a('search')),species:c('',o&&o.species||a('species')),split:c('',o&&o.split||a('split')),toPrimitive:c('',o&&o.toPrimitive||a('toPrimitive')),toStringTag:c('',o&&o.toStringTag||a('toStringTag')),unscopables:c('',o&&o.unscopables||a('unscopables'))}),u(r.prototype,{constructor:c(a),toString:c('',function(){return this.__name__})}),u(a.prototype,{toString:c(function(){return'Symbol ('+d(this).__description__+')'}),valueOf:c(function(){return d(this)})}),m(a.prototype,a.toPrimitive,c('',function(){var e=d(this);return'symbol'===('undefined'==typeof e?'undefined':l(e))?e:e.toString()})),m(a.prototype,a.toStringTag,c('c','Symbol')),m(r.prototype,a.toStringTag,c('c',a.prototype[a.toStringTag])),m(r.prototype,a.toPrimitive,c('c',a.prototype[a.toPrimitive]))},function(e,t,n){'use strict';var o,a=n(12),r=n(21),s=n(22),l=n(23);o=e.exports=function(t,n){var o,s,d,p,u;return 2>arguments.length||'string'!=typeof t?(p=n,n=t,t=null):p=arguments[2],null==t?(o=d=!0,s=!1):(o=l.call(t,'c'),s=l.call(t,'e'),d=l.call(t,'w')),u={value:n,configurable:o,enumerable:s,writable:d},p?a(r(p),u):u},o.gs=function(t,n,o){var d,p,u,m;return'string'==typeof t?u=arguments[3]:(u=o,o=n,n=t,t=null),null==n?n=void 0:s(n)?null==o?o=void 0:!s(o)&&(u=o,o=void 0):(u=n,n=o=void 0),null==t?(d=!0,p=!1):(d=l.call(t,'c'),p=l.call(t,'e')),m={get:n,set:o,configurable:d,enumerable:p},u?a(r(u),m):m}},function(e,t,n){'use strict';e.exports=n(13)()?Object.assign:n(14)},function(e){'use strict';e.exports=function(){var e,t=Object.assign;return!('function'!=typeof t)&&(e={foo:'raz'},t(e,{bar:'dwa'},{trzy:'trzy'}),'razdwatrzy'===e.foo+e.bar+e.trzy)}},function(e,t,n){'use strict';var a=n(15),r=n(20);e.exports=function(e,t){var n,s,l,d=o(arguments.length,2);for(e=Object(r(e)),l=function(o){try{e[o]=t[o]}catch(t){n||(n=t)}},s=1;s<d;++s)t=arguments[s],a(t).forEach(l);if(n!==void 0)throw n;return e}},function(e,t,n){'use strict';e.exports=n(16)()?Object.keys:n(17)},function(e){'use strict';e.exports=function(){try{return Object.keys('primitive'),!0}catch(t){return!1}}},function(e,t,n){'use strict';var o=n(18),a=Object.keys;e.exports=function(e){return a(o(e)?Object(e):e)}},function(e,t,n){'use strict';var o=n(19)();e.exports=function(e){return e!==o&&null!==e}},function(e){'use strict';e.exports=function(){}},function(e,t,n){'use strict';var o=n(18);e.exports=function(e){if(!o(e))throw new TypeError('Cannot use null or undefined');return e}},function(e,t,n){'use strict';var o=n(18),a=Array.prototype.forEach,r=Object.create,s=function(e,t){for(var n in e)t[n]=e[n]};e.exports=function(){var e=r(null);return a.call(arguments,function(t){o(t)&&s(Object(t),e)}),e}},function(e){'use strict';e.exports=function(e){return'function'==typeof e}},function(e,t,o){'use strict';e.exports=o(24)()?n.contains:o(25)},function(e){'use strict';var t='razdwatrzy';e.exports=function(){return!('function'!=typeof t.contains)&&!0===t.contains('dwa')&&!1===t.contains('foo')}},function(e){'use strict';var t=n.indexOf;e.exports=function(e){return-1<t.call(this,e,arguments[1])}},function(e,t,n){'use strict';var o=n(27);e.exports=function(e){if(!o(e))throw new TypeError(e+' is not a symbol');return e}},function(e){'use strict';var t='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e};e.exports=function(e){return!!e&&(!('symbol'!==('undefined'==typeof e?'undefined':t(e)))||!!e.constructor&&!('Symbol'!==e.constructor.name)&&'Symbol'===e[e.constructor.toStringTag])}},function(e){'use strict';var t=Object.prototype.toString,n=t.call(function(){return arguments}());e.exports=function(e){return t.call(e)===n}},function(e,t,n){'use strict';var o=Object.prototype.toString,a=o.call(n(19));e.exports=function(e){return'function'==typeof e&&o.call(e)===a}},function(e,t,n){'use strict';var a=n(31);e.exports=function(e){return o(0,a(e))}},function(e,n,o){'use strict';var a=o(32),r=Math.floor;e.exports=function(e){return isNaN(e)?0:(e=+e,0!==e&&isFinite(e)?a(e)*r(t(e)):e)}},function(t,n,o){'use strict';t.exports=o(33)()?e:o(34)},function(t){'use strict';t.exports=function(){var t=e;return!('function'!=typeof t)&&1===t(10)&&-1===t(-20)}},function(e){'use strict';e.exports=function(e){return e=+e,isNaN(e)||0===e?e:0<e?1:-1}},function(e){'use strict';e.exports=function(e){if('function'!=typeof e)throw new TypeError(e+' is not a function');return e}},function(e){'use strict';var t='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},n=Object.prototype.toString,o=n.call('');e.exports=function(e){return'string'==typeof e||e&&'object'===('undefined'==typeof e?'undefined':t(e))&&(e instanceof String||n.call(e)===o)||!1}},function(e){'use strict';var t=Array.prototype.forEach,n=Object.create;e.exports=function(){var e=n(null);return t.call(arguments,function(t){e[t]=!0}),e}},function(e,t,n){'use strict';var o=n(5),a=n(37);e.exports=a.apply(null,o('\n\r\u2028\u2029'))},function(e,t,n){'use strict';var o=n(37),a=n(38),r=n(40);e.exports=o.apply(null,Object.keys(a).concat(Object.keys(r)))},function(e,t,n){'use strict';var o=n(5),a=n(37);e.exports=a.apply(null,o(' \f\t\x0B\u200B\xA0\u1680\u200B\u180E\u2000\u200B\u2001\u2002\u200B\u2003\u2004\u200B\u2005\u2006\u200B\u2007\u2008\u200B\u2009\u200A\u200B\u200B\u200B\u202F\u205F\u200B\u3000'))},function(e,t,n){'use strict';var o=n(42),a=n(44);e.exports=function(e,t){return a.apply(null,o(e,t,arguments[2]))}},function(e,t,n){'use strict';var o=n(20),a=n(21),r=n(43),s=Array.prototype.map,l=Object.keys,d=JSON.stringify;e.exports=function(e,t){var n,c,p,u=Object(arguments[2]);return o(e)&&o(e.literals)&&o(e.substitutions),t=a(t),n=l(t).filter(r),c=n.join(', '),p=n.map(function(e){return t[e]}),[e.literals].concat(s.call(e.substitutions,function(t){var e;if(t){try{e=new Function(c,'return ('+t+')')}catch(n){throw new TypeError('Unable to compile expression:\n\targs: '+d(c)+'\n\tbody: '+d(t)+'\n\terror: '+n.stack)}try{return e.apply(null,p)}catch(n){if(u.partial)return'${'+t+'}';throw new TypeError('Unable to resolve expression:\n\targs: '+d(c)+'\n\tbody: '+d(t)+'\n\terror: '+n.stack)}}}))}},function(e){'use strict';e.exports=RegExp.prototype.test.bind(/^(?!(?:do|if|in|for|let|new|try|var|case|else|enum|eval|null|this|true|void|with|await|break|catch|class|const|false|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$)(?:[\$A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D])(?:[\$0-9A-Z_a-z\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF])*$/)},function(e){'use strict';var t=Array.prototype.reduce;e.exports=function(e){var n=arguments;return t.call(e,function(e,t,o){return e+(n[o]===void 0?'':n[o]+'')+t})}},function(e,t,n){'use strict';if('undefined'==typeof AFRAME)throw new Error('Component attempted to register before AFRAME was available.');var o=THREE.Math.degToRad,r=n(46);AFRAME.registerComponent('lerp',{schema:{properties:{default:['position','rotation','scale']}},init:function(){var e=this.el;this.lastPosition=e.getAttribute('position'),this.lastRotation=e.getAttribute('rotation'),this.lastScale=e.getAttribute('scale'),this.lerpingPosition=!1,this.lerpingRotation=!1,this.lerpingScale=!1,this.timeOfLastUpdate=0},tick:function(){var e,t=this.now(),n=this.el.object3D;this.checkForComponentChanged(),this.lerpingPosition&&(e=(t-this.startLerpTimePosition)/this.duration,n.position.lerpVectors(this.startPosition,this.targetPosition,e),1<=e&&(this.lerpingPosition=!1)),this.lerpingRotation&&(e=(t-this.startLerpTimeRotation)/this.duration,THREE.Quaternion.slerp(this.startRotation,this.targetRotation,n.quaternion,e),1<=e&&(this.lerpingRotation=!1)),this.lerpingScale&&(e=(t-this.startLerpTimeScale)/this.duration,n.scale.lerpVectors(this.startScale,this.targetScale,e),1<=e&&(this.lerpingScale=!1))},checkForComponentChanged:function(){var e=this.el,t=!1,n=e.getAttribute('position');this.isLerpable('position')&&!this.almostEqualVec3(this.lastPosition,n)&&(this.toPosition(this.lastPosition,n),this.lastPosition=n,t=!0);var o=e.getAttribute('rotation');this.isLerpable('rotation')&&!this.almostEqualVec3(this.lastRotation,o)&&(this.toRotation(this.lastRotation,o),this.lastRotation=o,t=!0);var a=e.getAttribute('scale');this.isLerpable('scale')&&!this.almostEqualVec3(this.lastScale,a)&&(this.toScale(this.lastScale,a),this.lastScale=a,t=!0),t&&this.updateDuration()},isLerpable:function(e){return-1!=this.data.properties.indexOf(e)},updateDuration:function(){var e=this.now();this.duration=e-this.timeOfLastUpdate,this.timeOfLastUpdate=e},toPosition:function(e,t){this.lerpingPosition=!0,this.startLerpTimePosition=this.now(),this.startPosition=new THREE.Vector3(e.x,e.y,e.z),this.targetPosition=new THREE.Vector3(t.x,t.y,t.z)},toRotation:function(e,t){this.lerpingRotation=!0,this.startLerpTimeRotation=this.now(),this.startRotation=new THREE.Quaternion,this.startRotation.setFromEuler(new THREE.Euler(o(e.x),o(e.y),o(e.z),'YXZ')),this.targetRotation=new THREE.Quaternion,this.targetRotation.setFromEuler(new THREE.Euler(o(t.x),o(t.y),o(t.z),'YXZ'))},toScale:function(e,t){this.lerpingScale=!0,this.startLerpTimeScale=this.now(),this.startScale=new THREE.Vector3(e.x,e.y,e.z),this.targetScale=new THREE.Vector3(t.x,t.y,t.z)},almostEqualVec3:function(e,t){return r(e.x,t.x)&&r(e.y,t.y)&&r(e.z,t.z)},now:function(){return Date.now()}})},function(e){'use strict';function n(e,t,a,s){var l=o(e-t);return null==a&&(a=n.DBL_EPSILON),null==s&&(s=a),!!(l<=a)||!!(l<=s*r(o(e),o(t)))||e===t}var o=t,r=Math.min;n.FLT_EPSILON=1.1920929e-7,n.DBL_EPSILON=2.220446049250313e-16,e.exports=n},function(e,t,n){'use strict';var o=n(48),a=n(49),r=n(50),s=n(51),l=n(52),d=n(54),c=n(55),p={};p.app='',p.room='',p.clientId='',p.options=o,p.utils=a,p.log=new r,p.schemas=new s,p.version='0.5.2',p.adapters=new c;var u=new l,m=new d(u);p.connection=m,p.entities=u,e.exports=window.NAF=p},function(e){'use strict';e.exports={debug:!1,updateRate:15,compressSyncPackets:!1,useLerp:!0}},function(e){'use strict';function t(e){for(;e&&!(e.components&&e.components.networked);)e=e.parentNode;return e}e.exports.whenEntityLoaded=function(e,t){e.hasLoaded&&t(),e.addEventListener('loaded',function(){t()})},e.exports.createHtmlNodeFromString=function(e){var t=document.createElement('div');t.innerHTML=e;var n=t.firstChild;return n},e.exports.getNetworkOwner=function(e){var t=e.components;return t.hasOwnProperty('networked')?t.networked.data.owner:null},e.exports.getNetworkId=function(e){var t=e.components;return t.hasOwnProperty('networked')?t.networked.networkId:null},e.exports.now=function(){return Date.now()},e.exports.createNetworkId=function(){return Math.random().toString(36).substring(2,9)},e.exports.delimiter='---',e.exports.childSchemaToKey=function(t){var n=(t.selector||'')+e.exports.delimiter+(t.component||'')+e.exports.delimiter+(t.property||'');return n},e.exports.keyToChildSchema=function(t){var n=t.split(e.exports.delimiter,3);return{selector:n[0]||void 0,component:n[1],property:n[2]||void 0}},e.exports.isChildSchemaKey=function(t){return-1!=t.indexOf(e.exports.delimiter)},e.exports.childSchemaEqual=function(e,t){return e.selector==t.selector&&e.component==t.component&&e.property==t.property};e.exports.getNetworkedEntity=t,e.exports.takeOwnership=function(e){var n=t(e);return n?n.components.networked.takeOwnership():NAF.log.error('takeOwnership() must be called on an entity or child of an entity with the [networked] component.')},e.exports.isMine=function(e){return t(e).components.networked.isMine()}},function(e){'use strict';function t(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var n=function(){function e(e,t){for(var n,o=0;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),o=function(){function e(){t(this,e),this.debug=!1}return n(e,[{key:'setDebug',value:function(e){this.debug=e}},{key:'write',value:function(){this.debug&&console.log.apply(this,arguments)}},{key:'error',value:function(){console.error.apply(this,arguments)}}]),e}();e.exports=o},function(e){'use strict';function t(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var n=function(){function e(e,t){for(var n,o=0;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),o=function(){function e(){t(this,e),this.dict={}}return n(e,[{key:'add',value:function(e){this.validate(e)?this.dict[e.template]=e:(NAF.log.error('Schema not valid: ',e),NAF.log.error('See https://github.com/haydenjameslee/networked-aframe#syncing-custom-components'))}},{key:'hasTemplate',value:function(e){return this.dict.hasOwnProperty(e)}},{key:'getComponents',value:function(e){var t=['position','rotation'];return this.hasTemplate(e)&&(t=this.dict[e].components),t}},{key:'validate',value:function(e){return e.hasOwnProperty('template')&&e.hasOwnProperty('components')}},{key:'remove',value:function(e){delete this.dict[e]}},{key:'clear',value:function(){this.dict={}}}]),e}();e.exports=o},function(e,t,n){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var a=function(){function e(e,t){for(var n,o=0;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(53),s=function(){function e(){o(this,e),this.entities={},this.childCache=new r,this.onRemoteEntityCreatedEvent=new Event('remoteEntityCreated')}return a(e,[{key:'registerEntity',value:function(e,t){this.entities[e]=t}},{key:'createRemoteEntity',value:function(e){NAF.log.write('Creating remote entity',e);var t=e.networkId,n=document.createElement('a-entity');return n.setAttribute('id','naf-'+t),this.initPosition(n,e.components),this.initRotation(n,e.components),this.addNetworkComponent(n,e),this.registerEntity(t,n),n}},{key:'initPosition',value:function(e,t){var n=t.hasOwnProperty('position');if(n){var o=t.position;e.setAttribute('position',o)}}},{key:'initRotation',value:function(e,t){var n=t.hasOwnProperty('rotation');if(n){var o=t.rotation;e.setAttribute('rotation',o)}}},{key:'addNetworkComponent',value:function(e,t){var n={template:t.template,owner:t.owner,networkId:t.networkId};e.setAttribute('networked',n),e.firstUpdateData=t}},{key:'updateEntity',value:function(e,t,n){var o=1==n[0],a=o?n[1]:n.networkId;this.hasEntity(a)?this.entities[a].emit('networkUpdate',{entityData:n},!1):!o&&this.isFullSync(n)&&this.receiveFirstUpdateFromEntity(n)}},{key:'isFullSync',value:function(e){var t=Object.keys(e.components).length,n=NAF.schemas.getComponents(e.template).length;return t===n}},{key:'receiveFirstUpdateFromEntity',value:function(e){var t=e.parent,n=e.networkId,o=t&&!this.hasEntity(t);if(o)this.childCache.addChild(t,e);else{var a=this.createRemoteEntity(e);this.createAndAppendChildren(n,a),this.addEntityToPage(a,t)}}},{key:'createAndAppendChildren',value:function(e,t){for(var n=this.childCache.getChildren(e),o=0;o<n.length;o++){var a=n[o],r=a.networkId;if(this.hasEntity(r)){console.warn('Tried to instantiate entity multiple times',r,a,'Existing entity:',this.getEntity(r));continue}var s=this.createRemoteEntity(a);this.createAndAppendChildren(r,s),t.appendChild(s)}}},{key:'addEntityToPage',value:function(e,t){this.hasEntity(t)?this.addEntityToParent(e,t):this.addEntityToSceneRoot(e)}},{key:'addEntityToParent',value:function(e,t){var n=document.getElementById('naf-'+t);n.appendChild(e)}},{key:'addEntityToSceneRoot',value:function(e){var t=document.querySelector('a-scene');t.appendChild(e)}},{key:'completeSync',value:function(e){for(var t in this.entities)this.entities.hasOwnProperty(t)&&this.entities[t].emit('syncAll',{targetClientId:e},!1)}},{key:'removeRemoteEntity',value:function(e,t,n){var o=n.networkId;return this.removeEntity(o)}},{key:'removeEntitiesOfClient',value:function(e){var t=[];for(var n in this.entities){var o=NAF.utils.getNetworkOwner(this.entities[n]);if(o==e){var a=this.removeEntity(n);t.push(a)}}return t}},{key:'removeEntity',value:function(e){if(this.hasEntity(e)){var t=this.entities[e];return delete this.entities[e],t.parentNode.removeChild(t),t}return null}},{key:'getEntity',value:function(e){return this.entities.hasOwnProperty(e)?this.entities[e]:null}},{key:'hasEntity',value:function(e){return this.entities.hasOwnProperty(e)}},{key:'removeRemoteEntities',value:function(){for(var e in this.childCache=new r,this.entities){var t=this.entities[e].getAttribute('networked').owner;t!=NAF.clientId&&this.removeEntity(e)}}}]),e}();e.exports=s},function(e){'use strict';function t(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var n=function(){function e(e,t){for(var n,o=0;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),o=function(){function e(){t(this,e),this.dict={}}return n(e,[{key:'addChild',value:function(e,t){this.hasParent(e)||(this.dict[e]=[]),this.dict[e].push(t)}},{key:'getChildren',value:function(e){if(!this.hasParent(e))return[];var t=this.dict[e];return delete this.dict[e],t}},{key:'hasParent',value:function(e){return this.dict.hasOwnProperty(e)}}]),e}();e.exports=o},function(e){'use strict';function t(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var n=function(){function e(e,t){for(var n,o=0;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),o={Update:'u',Remove:'r'},a=function(){function e(n){t(this,e),this.entities=n,this.setupDefaultDataSubscriptions(),this.connectedClients={},this.activeDataChannels={}}return n(e,[{key:'setNetworkAdapter',value:function(e){this.adapter=e}},{key:'setupDefaultDataSubscriptions',value:function(){this.dataChannelSubs={},this.dataChannelSubs[o.Update]=this.entities.updateEntity.bind(this.entities),this.dataChannelSubs[o.Remove]=this.entities.removeRemoteEntity.bind(this.entities)}},{key:'connect',value:function(e,t,n){var o=3<arguments.length&&void 0!==arguments[3]&&arguments[3];NAF.app=t,NAF.room=n,this.adapter.setServerUrl(e),this.adapter.setApp(t),this.adapter.setRoom(n);this.adapter.setWebRtcOptions({audio:o,video:!1,datachannel:!0}),this.adapter.setServerConnectListeners(this.connectSuccess.bind(this),this.connectFailure.bind(this)),this.adapter.setDataChannelListeners(this.dataChannelOpen.bind(this),this.dataChannelClosed.bind(this),this.receivedData.bind(this)),this.adapter.setRoomOccupantListener(this.occupantsReceived.bind(this)),this.adapter.connect()}},{key:'onConnect',value:function(e){this.onConnectCallback=e,this.isConnected()?e():document.body.addEventListener('connected',e,!1)}},{key:'connectSuccess',value:function(e){NAF.log.write('Networked-Aframe Client ID:',e),NAF.clientId=e;var t=new CustomEvent('connected',{detail:{clientId:e}});document.body.dispatchEvent(t)}},{key:'connectFailure',value:function(e){NAF.log.error(e,'failure to connect')}},{key:'occupantsReceived',value:function(e){var t=Object.assign({},this.connectedClients);this.connectedClients=e,this.checkForDisconnectingClients(t,e),this.checkForConnectingClients(e)}},{key:'checkForDisconnectingClients',value:function(e,t){for(var n in e){var o=t.hasOwnProperty(n);o||(NAF.log.write('Closing stream to ',n),this.adapter.closeStreamConnection(n))}}},{key:'checkForConnectingClients',value:function(e){for(var t in e){var n=this.isNewClient(t)&&this.adapter.shouldStartConnectionTo(e[t]);n&&(NAF.log.write('Opening datachannel to ',t),this.adapter.startStreamConnection(t))}}},{key:'getConnectedClients',value:function(){return this.connectedClients}},{key:'isConnected',value:function(){return!!NAF.clientId}},{key:'isMineAndConnected',value:function(e){return this.isConnected()&&NAF.clientId===e}},{key:'isNewClient',value:function(e){return!this.isConnectedTo(e)}},{key:'isConnectedTo',value:function(e){return this.adapter.getConnectStatus(e)===NAF.adapters.IS_CONNECTED}},{key:'dataChannelOpen',value:function(e){NAF.log.write('Opened data channel from '+e),this.activeDataChannels[e]=!0,this.entities.completeSync(e);var t=new CustomEvent('clientConnected',{detail:{clientId:e}});document.body.dispatchEvent(t)}},{key:'dataChannelClosed',value:function(e){NAF.log.write('Closed data channel from '+e),this.activeDataChannels[e]=!1,this.entities.removeEntitiesOfClient(e);var t=new CustomEvent('clientDisconnected',{detail:{clientId:e}});document.body.dispatchEvent(t)}},{key:'hasActiveDataChannel',value:function(e){return this.activeDataChannels.hasOwnProperty(e)&&this.activeDataChannels[e]}},{key:'broadcastData',value:function(e,t){this.adapter.broadcastData(e,t)}},{key:'broadcastDataGuaranteed',value:function(e,t){this.adapter.broadcastDataGuaranteed(e,t)}},{key:'sendData',value:function(e,t,n,o){this.hasActiveDataChannel(e)&&(o?this.adapter.sendDataGuaranteed(e,t,n):this.adapter.sendData(e,t,n))}},{key:'sendDataGuaranteed',value:function(e,t,n){this.sendData(e,t,n,!0)}},{key:'subscribeToDataChannel',value:function(e,t){return this.isReservedDataType(e)?void NAF.log.error('NetworkConnection@subscribeToDataChannel: '+e+' is a reserved dataType. Choose another'):void(this.dataChannelSubs[e]=t)}},{key:'unsubscribeToDataChannel',value:function(e){return this.isReservedDataType(e)?void NAF.log.error('NetworkConnection@unsubscribeToDataChannel: '+e+' is a reserved dataType. Choose another'):void delete this.dataChannelSubs[e]}},{key:'isReservedDataType',value:function(e){return e==o.Update||e==o.Remove}},{key:'receivedData',value:function(e,t,n){this.dataChannelSubs.hasOwnProperty(t)?this.dataChannelSubs[t](e,t,n):NAF.log.error('NetworkConnection@receivedData: '+t+' has not been subscribed to yet. Call subscribeToDataChannel()')}},{key:'getServerTime',value:function(){return this.adapter.getServerTime()}},{key:'disconnect',value:function(){this.entities.removeRemoteEntities(),this.adapter.disconnect(),NAF.app='',NAF.room='',NAF.clientId='',this.connectedClients={},this.activeDataChannels={},this.adapter=null,this.setupDefaultDataSubscriptions(),document.body.removeEventListener('connected',this.onConnectCallback)}}]),e}();e.exports=a},function(e,t,n){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var a=function(){function e(e,t){for(var n,o=0;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(56),s=n(57),l=function(){function e(){o(this,e),this.adapters={wseasyrtc:r,easyrtc:s},this.IS_CONNECTED=e.IS_CONNECTED,this.CONNECTING=e.CONNECTING,this.NOT_CONNECTED=e.NOT_CONNECTED}return a(e,[{key:'register',value:function(e,t){this.adapters[e]=t}},{key:'make',value:function(e){var t=e.toLowerCase();if(this.adapters[t]){var n=this.adapters[t];return new n}throw new Error('Adapter: '+e+' not registered. Please use NAF.adapters.register() to register this adapter.')}}]),e}();l.IS_CONNECTED='IS_CONNECTED',l.CONNECTING='CONNECTING',l.NOT_CONNECTED='NOT_CONNECTED',e.exports=l},function(e){'use strict';function t(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var n=function(){function e(e,t){var n,o=[],a=!0,r=!1;try{for(var s,l=e[Symbol.iterator]();!(a=(s=l.next()).done)&&(o.push(s.value),!(t&&o.length===t));a=!0);}catch(e){r=!0,n=e}finally{try{!a&&l['return']&&l['return']()}finally{if(r)throw n}}return o}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),o=function(){function e(e,t){for(var n,o=0;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function(){function e(n){t(this,e),this.easyrtc=n||window.easyrtc,this.app='default',this.room='default',this.connectedClients=[],this.serverTimeRequests=0,this.timeOffsets=[],this.avgTimeOffset=0}return o(e,[{key:'setServerUrl',value:function(e){this.serverUrl=e,this.easyrtc.setSocketUrl(e)}},{key:'setApp',value:function(e){this.app=e}},{key:'setRoom',value:function(e){this.room=e,this.easyrtc.joinRoom(e,null)}},{key:'setWebRtcOptions',value:function(){}},{key:'setServerConnectListeners',value:function(e,t){this.connectSuccess=e,this.connectFailure=t}},{key:'setRoomOccupantListener',value:function(e){this.easyrtc.setRoomOccupantListener(function(t,n){e(n)})}},{key:'setDataChannelListeners',value:function(e,t,n){this.openListener=e,this.closedListener=t,this.easyrtc.setPeerListener(n)}},{key:'updateTimeOffset',value:function(){var e=this,t=Date.now()+this.avgTimeOffset;return fetch(document.location.href,{method:'HEAD',cache:'no-cache'}).then(function(n){var o=new Date(n.headers.get('Date')).getTime()+1e3/2,a=Date.now(),r=o+(a-t)/2-a;e.serverTimeRequests++,10>=e.serverTimeRequests?e.timeOffsets.push(r):e.timeOffsets[e.serverTimeRequests%10]=r,e.avgTimeOffset=e.timeOffsets.reduce(function(e,t){return e+=t},0)/e.timeOffsets.length,10<e.serverTimeRequests?setTimeout(function(){return e.updateTimeOffset()},300000):e.updateTimeOffset()})}},{key:'connect',value:function(){var e=this;Promise.all([this.updateTimeOffset(),new Promise(function(t,n){e.easyrtc.connect(e.app,t,n)})]).then(function(t){var o=n(t,2),a=o[0],r=o[1];e.connectSuccess(r)}).catch(this.connectFailure)}},{key:'shouldStartConnectionTo',value:function(){return!0}},{key:'startStreamConnection',value:function(e){this.connectedClients.push(e),this.openListener(e)}},{key:'closeStreamConnection',value:function(e){var t=this.connectedClients.indexOf(e);-1<t&&this.connectedClients.splice(t,1),this.closedListener(e)}},{key:'sendData',value:function(e,t,n){this.easyrtc.sendDataWS(e,t,n)}},{key:'sendDataGuaranteed',value:function(e,t,n){this.sendData(e,t,n)}},{key:'broadcastData',value:function(e,t){var n={targetRoom:this.room};this.easyrtc.sendDataWS(n,e,t)}},{key:'broadcastDataGuaranteed',value:function(e,t){this.broadcastData(e,t)}},{key:'getConnectStatus',value:function(e){var t=-1!=this.connectedClients.indexOf(e);return t?NAF.adapters.IS_CONNECTED:NAF.adapters.NOT_CONNECTED}},{key:'getServerTime',value:function(){return Date.now()+this.avgTimeOffset}},{key:'disconnect',value:function(){this.easyrtc.disconnect()}}]),e}();e.exports=a},function(e){'use strict';function t(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var n=function(){function e(e,t){var n,o=[],a=!0,r=!1;try{for(var s,l=e[Symbol.iterator]();!(a=(s=l.next()).done)&&(o.push(s.value),!(t&&o.length===t));a=!0);}catch(e){r=!0,n=e}finally{try{!a&&l['return']&&l['return']()}finally{if(r)throw n}}return o}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),o=function(){function e(e,t){for(var n,o=0;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function(){function e(n){t(this,e),this.easyrtc=n||window.easyrtc,this.app='default',this.room='default',this.audioStreams={},this.pendingAudioRequest={},this.serverTimeRequests=0,this.timeOffsets=[],this.avgTimeOffset=0}return o(e,[{key:'setServerUrl',value:function(e){this.easyrtc.setSocketUrl(e)}},{key:'setApp',value:function(e){this.app=e}},{key:'setRoom',value:function(e){this.room=e,this.easyrtc.joinRoom(e,null)}},{key:'setWebRtcOptions',value:function(e){this.easyrtc.enableDataChannels(e.datachannel),this.easyrtc.enableVideo(!1),this.easyrtc.enableAudio(e.audio),this.easyrtc.enableVideoReceive(!1),this.easyrtc.enableAudioReceive(e.audio)}},{key:'setServerConnectListeners',value:function(e,t){this.connectSuccess=e,this.connectFailure=t}},{key:'setRoomOccupantListener',value:function(e){this.easyrtc.setRoomOccupantListener(function(t,n){e(n)})}},{key:'setDataChannelListeners',value:function(e,t,n){this.easyrtc.setDataChannelOpenListener(e),this.easyrtc.setDataChannelCloseListener(t),this.easyrtc.setPeerListener(n)}},{key:'updateTimeOffset',value:function(){var e=this,t=Date.now()+this.avgTimeOffset;return fetch(document.location.href,{method:'HEAD',cache:'no-cache'}).then(function(n){var o=new Date(n.headers.get('Date')).getTime()+1e3/2,a=Date.now(),r=o+(a-t)/2-a;e.serverTimeRequests++,10>=e.serverTimeRequests?e.timeOffsets.push(r):e.timeOffsets[e.serverTimeRequests%10]=r,e.avgTimeOffset=e.timeOffsets.reduce(function(e,t){return e+=t},0)/e.timeOffsets.length,10<e.serverTimeRequests?setTimeout(function(){return e.updateTimeOffset()},300000):e.updateTimeOffset()})}},{key:'connect',value:function(){var e=this;Promise.all([this.updateTimeOffset(),new Promise(function(t,n){e.easyrtc.audioEnabled?e._connectWithAudio(t,n):e.easyrtc.connect(e.app,t,n)})]).then(function(t){var o=n(t,2),a=o[0],r=o[1];e._storeAudioStream(e.easyrtc.myEasyrtcid,e.easyrtc.getLocalStream()),e._myRoomJoinTime=e._getRoomJoinTime(r),e.connectSuccess(r)}).catch(this.connectFailure)}},{key:'shouldStartConnectionTo',value:function(e){return this._myRoomJoinTime<=e.roomJoinTime}},{key:'startStreamConnection',value:function(e){this.easyrtc.call(e,function(e,t){'datachannel'===t&&NAF.log.write('Successfully started datachannel to ',e)},function(e,t){console.error(e,t)},function(){})}},{key:'closeStreamConnection',value:function(){}},{key:'sendData',value:function(e,t,n){this.easyrtc.sendData(e,t,n)}},{key:'sendDataGuaranteed',value:function(e,t,n){this.easyrtc.sendDataWS(e,t,n)}},{key:'broadcastData',value:function(e,t){var n=this.easyrtc.getRoomOccupantsAsMap(this.room);for(var o in n)n.hasOwnProperty(o)&&o!==this.easyrtc.myEasyrtcid&&this.easyrtc.sendData(o,e,t)}},{key:'broadcastDataGuaranteed',value:function(e,t){var n={targetRoom:this.room};this.easyrtc.sendDataWS(n,e,t)}},{key:'getConnectStatus',value:function(e){var t=this.easyrtc.getConnectStatus(e);return t==this.easyrtc.IS_CONNECTED?NAF.adapters.IS_CONNECTED:t==this.easyrtc.NOT_CONNECTED?NAF.adapters.NOT_CONNECTED:NAF.adapters.CONNECTING}},{key:'getMediaStream',value:function(e){console.log('getMediaStream',e);var t=this;return this.audioStreams[e]?(NAF.log.write('Already had audio for '+e),Promise.resolve(this.audioStreams[e])):(NAF.log.write('Waiting on audio for '+e),new Promise(function(n){t.pendingAudioRequest[e]=n}))}},{key:'disconnect',value:function(){this.easyrtc.disconnect()}},{key:'_storeAudioStream',value:function(e,t){this.audioStreams[e]=t,this.pendingAudioRequest[e]&&(NAF.log.write('got pending audio for '+e),this.pendingAudioRequest[e](t),delete this.pendingAudioRequest[e](t))}},{key:'_connectWithAudio',value:function(e,t){var n=this;this.easyrtc.setStreamAcceptor(this._storeAudioStream.bind(this)),this.easyrtc.setOnStreamClosed(function(e){delete n.audioStreams[e]}),this.easyrtc.initMediaSource(function(){n.easyrtc.connect(n.app,e,t)},function(e,t){console.error(e,t)})}},{key:'_getRoomJoinTime',value:function(e){var t=NAF.room,n=easyrtc.getRoomOccupantsAsMap(t)[e].roomJoinTime;return n}},{key:'getServerTime',value:function(){return Date.now()+this.avgTimeOffset}}]),e}();e.exports=a},function(e,t,n){'use strict';n(47);AFRAME.registerComponent('networked-scene',{schema:{serverURL:{default:'/'},app:{default:'default'},room:{default:'default'},connectOnLoad:{default:!0},onConnect:{default:'onConnect'},adapter:{default:'wsEasyRtc'},audio:{default:!1},debug:{default:!1}},init:function(){var e=this.el;this.connect=this.connect.bind(this),e.addEventListener('connect',this.connect),this.data.connectOnLoad&&e.emit('connect',null,!1)},connect:function(){NAF.log.setDebug(this.data.debug),NAF.log.write('Networked-Aframe Connecting...'),this.checkDeprecatedProperties(),this.setupNetworkAdapter(),this.hasOnConnectFunction()&&this.callOnConnect(),NAF.connection.connect(this.data.serverURL,this.data.app,this.data.room,this.data.audio)},checkDeprecatedProperties:function(){},setupNetworkAdapter:function(){var e=this.data.adapter,t=NAF.adapters.make(e);NAF.connection.setNetworkAdapter(t)},hasOnConnectFunction:function(){return''!=this.data.onConnect&&window.hasOwnProperty(this.data.onConnect)},callOnConnect:function(){NAF.connection.onConnect(window[this.data.onConnect])},remove:function(){NAF.log.write('networked-scene disconnected'),this.el.removeEventListener('connect',this.connect),NAF.connection.disconnect()}})},function(e,t,n){'use strict';var o=n(47),a=n(60),r=n(64),s=AFRAME.utils.bind;AFRAME.registerComponent('networked',{schema:{template:{default:''},showLocalTemplate:{default:!0},networkId:{default:''},owner:{default:''}},init:function(){this.OWNERSHIP_GAINED='ownership-gained',this.OWNERSHIP_CHANGED='ownership-changed',this.OWNERSHIP_LOST='ownership-lost';var e=this.wasCreatedByNetwork();this.onConnected=s(this.onConnected,this),this.onSyncAll=s(this.onSyncAll,this),this.syncDirty=s(this.syncDirty,this),this.networkUpdateHandler=s(this.networkUpdateHandler,this),this.cachedData={},this.initNetworkParent(),''===this.data.networkId&&this.el.setAttribute(this.name,{networkId:NAF.utils.createNetworkId()}),''!=this.data.template&&this.initTemplate(),e?(this.firstUpdate(),this.attachLerp()):this.registerEntity(this.data.networkId),this.lastOwnerTime=-1,NAF.clientId?this.onConnected():document.body.addEventListener('connected',this.onConnected,!1),document.body.dispatchEvent(this.entityCreatedEvent())},takeOwnership:function(){var e=this.data.owner,t=this.lastOwnerTime,n=NAF.connection.getServerTime();return e&&!this.isMine()&&t<n&&(this.lastOwnerTime=n,this.removeLerp(),this.el.setAttribute('networked',{owner:NAF.clientId}),this.syncAll(),this.el.emit(this.OWNERSHIP_GAINED,{el:this.el,oldOwner:e}),this.el.emit(this.OWNERSHIP_CHANGED,{el:this.el,oldOwner:e,newOwner:NAF.clientId}),!0)},wasCreatedByNetwork:function(){return!!this.el.firstUpdateData},initNetworkParent:function(){var e=this.el.parentElement;this.parent=e.hasOwnProperty('components')&&e.components.hasOwnProperty('networked')?e:null},attachLerp:function(){NAF.options.useLerp&&this.el.setAttribute('lerp','')},removeLerp:function(){NAF.options.useLerp&&this.el.removeAttribute('lerp')},registerEntity:function(e){NAF.entities.registerEntity(e,this.el)},initTemplate:function(){var e=this.data,t=!this.wasCreatedByNetwork()&&e.showLocalTemplate;this.attachAndShowTemplate(e.template,e.showLocalTemplate)},attachAndShowTemplate:function(e,t){var n=this.el,o=this.data;this.templateEl&&n.removeChild(this.templateEl);var a=document.createElement('a-entity');a.setAttribute('template','src:'+e),a.setAttribute('visible',t),n.appendChild(a),this.templateEl=a},firstUpdate:function(){var e=this,t=this.el.firstUpdateData;this.networkUpdate(t),this.waitForTemplate(function(){e.networkUpdate(t)})},waitForTemplate:function(e){this.templateEl?this.templateEl.addEventListener('templaterendered',function(){setTimeout(e)}):setTimeout(e)},onConnected:function(){var e=this;''===this.data.owner&&(this.lastOwnerTime=NAF.connection.getServerTime(),this.el.setAttribute(this.name,{owner:NAF.clientId}),this.waitForTemplate(function(){e.syncAll()})),document.body.removeEventListener('connected',this.onConnected,!1)},isMine:function(){return this.data.owner===NAF.clientId},play:function(){this.bindEvents()},bindEvents:function(){var e=this.el;e.addEventListener('sync',this.syncDirty),e.addEventListener('syncAll',this.onSyncAll),e.addEventListener('networkUpdate',this.networkUpdateHandler)},pause:function(){this.unbindEvents()},unbindEvents:function(){var e=this.el;e.removeEventListener('sync',this.syncDirty),e.removeEventListener('syncAll',this.onSyncAll),e.removeEventListener('networkUpdate',this.networkUpdateHandler)},tick:function(){this.isMine()&&this.needsToSync()&&this.syncDirty()},onSyncAll:function(t){var e=t.detail.targetClientId;this.syncAll(e)},syncAll:function(e){if(this.canSync()){this.updateNextSyncTime();var t=this.getAllSyncedComponents(),n=a.gatherComponentsData(this.el,t),o=this.createSyncData(n);e?NAF.connection.sendDataGuaranteed(e,'u',o):NAF.connection.broadcastDataGuaranteed('u',o),this.updateCache(n)}},syncDirty:function(){if(this.canSync()){this.updateNextSyncTime();var e=this.getAllSyncedComponents(),t=a.findDirtyComponents(this.el,e,this.cachedData);if(0!=t.length){var n=a.gatherComponentsData(this.el,t),o=this.createSyncData(n);NAF.options.compressSyncPackets&&(o=r.compressSyncData(o,e)),NAF.connection.broadcastData('u',o),this.updateCache(n)}}},canSync:function(){return this.data.owner&&this.isMine()},needsToSync:function(){return NAF.utils.now()>=this.nextSyncTime},updateNextSyncTime:function(){this.nextSyncTime=NAF.utils.now()+1e3/NAF.options.updateRate},createSyncData:function(e){var t=this.data,n={0:0,networkId:t.networkId,owner:t.owner,lastOwnerTime:this.lastOwnerTime,template:t.template,parent:this.getParentId(),components:e};return n},getParentId:function(){if(this.initNetworkParent(),!this.parent)return null;var e=this.parent.getAttribute('networked');return e.networkId},getAllSyncedComponents:function(){return NAF.schemas.getComponents(this.data.template)},updateCache:function(e){for(var t in e)this.cachedData[t]=e[t]},networkUpdateHandler:function(e){var t=e.detail.entityData;this.networkUpdate(t)},networkUpdate:function(e){if(1==e[0]&&(e=r.decompressSyncData(e,this.getAllSyncedComponents())),!(e.lastOwnerTime<this.lastOwnerTime||this.lastOwnerTime===e.lastOwnerTime&&this.data.owner>e.owner)){if(this.data.owner!==e.owner){var t=this.isMine();this.lastOwnerTime=e.lastOwnerTime,this.attachLerp();var n=this.data.owner,o=e.owner;t&&this.el.emit(this.OWNERSHIP_LOST,{el:this.el,newOwner:o}),this.el.emit(this.OWNERSHIP_CHANGED,{el:this.el,oldOwner:n,newOwner:o}),this.el.setAttribute('networked',{owner:e.owner})}this.updateComponents(e.components)}},updateComponents:function(e){var t=this.el;for(var n in e)if(this.isSyncableComponent(n)){var o=e[n];if(NAF.utils.isChildSchemaKey(n)){var a=NAF.utils.keyToChildSchema(n),r=a.selector?t.querySelector(a.selector):t;r&&(a.property?r.setAttribute(a.component,a.property,o):r.setAttribute(a.component,o))}else t.setAttribute(n,o)}},isSyncableComponent:function(e){if(NAF.utils.isChildSchemaKey(e)){var t=NAF.utils.keyToChildSchema(e);return this.hasThisChildSchema(t)}return-1!=this.getAllSyncedComponents().indexOf(e)},hasThisChildSchema:function(e){var t=this.getAllSyncedComponents();for(var n in t){var o=t[n];if(NAF.utils.childSchemaEqual(o,e))return!0}return!1},remove:function(){if(this.isMine()&&NAF.connection.isConnected()){var e={networkId:this.data.networkId};NAF.connection.broadcastDataGuaranteed('r',e)}document.body.dispatchEvent(this.entityRemovedEvent(this.data.networkId))},entityCreatedEvent:function(){return new CustomEvent('entityCreated',{detail:{el:this.el}})},entityRemovedEvent:function(e){return new CustomEvent('entityRemoved',{detail:{networkId:e}})}})},function(e,t,n){'use strict';var o=n(61),a=['position','rotation','scale','visible'];e.exports.gatherComponentsData=function(e,t){var n={};for(var o in t){var a=t[o];if(!('string'==typeof a)){var r=NAF.utils.childSchemaToKey(a),s=a.selector?e.querySelector(a.selector):e;if(s)if(s.getAttribute(a.component)){var l=a.property?e.getAttribute(a.component)[a.property]:e.getAttribute(a.component);n[r]=AFRAME.utils.clone(l)}else;}else if(e.getAttribute(a)){var d=a;n[d]=AFRAME.utils.clone(e.getAttribute(d))}}return n},e.exports.findDirtyComponents=function(e,t,n){for(var r=[],s=0;s<t.length;s++){var l,d,c=t[s];if('string'==typeof c){var p=e.getAttribute(c);if(!p&&-1===a.indexOf(t[s]))continue;l=c,d=e.getAttribute(c)}else{var u=c.selector,m=c.component,g=c.property,y=u?e.querySelector(u):e,p=y&&y.getAttribute(m);if(!p)continue;l=NAF.utils.childSchemaToKey(c),d=y.getAttribute(m),g&&(d=d[g])}var h=n.hasOwnProperty(l);if(!h){r.push(c);continue}var f=n[l];o(f,d)||r.push(c)}return r}},function(e,t,n){'use strict';function o(e){return null===e||e===void 0}function r(e){return e&&'object'===('undefined'==typeof e?'undefined':s(e))&&'number'==typeof e.length&&('function'!=typeof e.copy||'function'!=typeof e.slice?!1:0<e.length&&'number'!=typeof e[0]?!1:!0)}function a(e,t,n){var u,m;if(o(e)||o(t))return!1;if(e.prototype!==t.prototype)return!1;if(c(e))return!!c(t)&&(e=l.call(e),t=l.call(t),p(e,t,n));if(r(e)){if(!r(t))return!1;if(e.length!==t.length)return!1;for(u=0;u<e.length;u++)if(e[u]!==t[u])return!1;return!0}try{var g=d(e),y=d(t)}catch(t){return!1}if(g.length!=y.length)return!1;for(g.sort(),y.sort(),u=g.length-1;0<=u;u--)if(g[u]!=y[u])return!1;for(u=g.length-1;0<=u;u--)if(m=g[u],!p(e[m],t[m],n))return!1;return('undefined'==typeof e?'undefined':s(e))===('undefined'==typeof t?'undefined':s(t))}var s='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},l=Array.prototype.slice,d=n(62),c=n(63),p=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e&&t&&('object'==('undefined'==typeof e?'undefined':s(e))||'object'==('undefined'==typeof t?'undefined':s(t)))?a(e,t,n):n.strict?e===t:e==t)}},function(e,t){'use strict';function n(e){var t=[];for(var n in e)t.push(n);return t}t=e.exports='function'==typeof Object.keys?Object.keys:n,t.shim=n},function(e,t){'use strict';function n(e){return'[object Arguments]'==Object.prototype.toString.call(e)}function o(e){return e&&'object'==('undefined'==typeof e?'undefined':a(e))&&'number'==typeof e.length&&Object.prototype.hasOwnProperty.call(e,'callee')&&!Object.prototype.propertyIsEnumerable.call(e,'callee')||!1}var a='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},r='[object Arguments]'==function(){return Object.prototype.toString.call(arguments)}();t=e.exports=r?n:o,t.supported=n;t.unsupported=o},function(e){'use strict';e.exports.compressSyncData=function(e,t){var n=[1,e.networkId,e.owner,e.parent,e.template],o=this.compressComponents(e.components,t);return n.push(o),n},e.exports.compressComponents=function(e,t){for(var n={},o=0;o<t.length;o++){var a;a='string'==typeof t[o]?t[o]:NAF.utils.childSchemaToKey(t[o]),e.hasOwnProperty(a)&&(n[o]=e[a])}return n},e.exports.decompressSyncData=function(e,t){var n={0:0,networkId:e[1],owner:e[2],parent:e[3],template:e[4]},o=e[5],t=this.decompressComponents(o,t);return n.components=t,n},e.exports.decompressComponents=function(e,t){var n={};for(var o in e){var a,r=t[o];a='string'==typeof r?r:NAF.utils.childSchemaToKey(r),n[a]=e[o]}return n}},function(e,t,n){'use strict';var o=n(47);AFRAME.registerComponent('networked-audio-source',{schema:{positional:{default:!0},distanceModel:{default:'inverse',oneOf:['linear','inverse','exponential']},maxDistance:{default:1e4},refDistance:{default:1},rolloffFactor:{default:1}},init:function(){this.listener=null,this.stream=null,this._setMediaStream=this._setMediaStream.bind(this);var e=NAF.utils.getNetworkedEntity(this.el),t=e&&e.components.networked.data.owner;t?NAF.connection.adapter.getMediaStream(t).then(this._setMediaStream).catch(function(n){return o.log.error('Error getting media stream for '+t,n)}):''===t||o.log.error('[networked-audio-source] must be added on an entity, or a child of an entity, with the [networked] component.')},update:function(){this._setPannerProperties()},_setMediaStream:function(e){this.sound||this.setupSound(),e!=this.stream&&(this.stream&&this.sound.disconnect(),e&&(this.audioEl=new Audio,this.audioEl.setAttribute('autoplay','autoplay'),this.audioEl.setAttribute('playsinline','playsinline'),this.audioEl.srcObject=e,this.audioEl.volume=0,this.sound.setNodeSource(this.sound.context.createMediaStreamSource(e))),this.stream=e)},_setPannerProperties:function(){this.sound&&this.data.positional&&(this.sound.setDistanceModel(this.data.distanceModel),this.sound.setMaxDistance(this.data.maxDistance),this.sound.setRefDistance(this.data.refDistance),this.sound.setRolloffFactor(this.data.rolloffFactor))},remove:function(){this.sound&&(this.el.removeObject3D(this.attrName),this.stream&&this.sound.disconnect())},setupSound:function(){var e=this.el,t=e.sceneEl;this.sound&&e.removeObject3D(this.attrName),t.audioListener||(t.audioListener=new THREE.AudioListener,t.camera&&t.camera.add(t.audioListener),t.addEventListener('camera-set-active',function(e){e.detail.cameraEl.getObject3D('camera').add(t.audioListener)})),this.listener=t.audioListener,this.sound=this.data.positional?new THREE.PositionalAudio(this.listener):new THREE.Audio(this.listener),e.setObject3D(this.attrName,this.sound),this._setPannerProperties()}})}])},function(e,t,n){function o(e){return n(a(e))}function a(e){var t=r[e];if(!(t+1))throw new Error('Cannot find module \''+e+'\'.');return t}var r={"./additive.js":16,"./debug-controller.js":17,"./debug-cursor.js":18,"./eggs/animated-sun.js":19,"./eggs/cromulon.js":20,"./eggs/dalek.js":21,"./eggs/mechagodzilla.js":22,"./eggs/random-color-environment.js":23,"./eggs/shifting-colors.js":24,"./eggs/solidsnake.js":25,"./eggs/upsidedown.js":26,"./eggs/wayback-machine.js":27,"./environment.js":28,"./hint.js":29,"./item.js":30,"./oasis-audio.js":31,"./oasis-portal.js":32,"./play-audio.js":33,"./raycastable.js":34,"./sub-object.js":35,"./teleport-listener.js":36,"./teleport-refresh.js":37,"./touch.js":38,"./touchable.js":39};o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=11},function(t,n,e){var o=Math.pow,r=Math.min,s=Math.max,l=Math.PI;(function(a){var d,c,p,g={scope:{}};g.defineProperty='function'==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){if(n.get||n.set)throw new TypeError('ES3 does not support getters and setters.');t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},g.getGlobal=function(t){return'undefined'!=typeof window&&window===t?t:'undefined'!=typeof a&&null!=a?a:t},g.global=g.getGlobal(this),g.SYMBOL_PREFIX='jscomp_symbol_',g.initSymbol=function(){g.initSymbol=function(){},g.global.Symbol||(g.global.Symbol=g.Symbol)},g.symbolCounter_=0,g.Symbol=function(t){return g.SYMBOL_PREFIX+(t||'')+g.symbolCounter_++},g.initSymbolIterator=function(){g.initSymbol();var t=g.global.Symbol.iterator;t||(t=g.global.Symbol.iterator=g.global.Symbol('iterator')),'function'!=typeof Array.prototype[t]&&g.defineProperty(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return g.arrayIterator(this)}}),g.initSymbolIterator=function(){}},g.arrayIterator=function(t){var e=0;return g.iteratorPrototype(function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}})},g.iteratorPrototype=function(t){return g.initSymbolIterator(),t={next:t},t[g.global.Symbol.iterator]=function(){return this},t},g.array=g.array||{},g.iteratorFromArray=function(t,e){g.initSymbolIterator(),t instanceof String&&(t+='');var n=0,o={next:function(){if(n<t.length){var a=n++;return{value:e(a,t[a]),done:!1}}return o.next=function(){return{done:!0,value:void 0}},o.next()}};return o[Symbol.iterator]=function(){return o},o},g.polyfill=function(t,e,n,o){if(e){for(n=g.global,t=t.split('.'),o=0;o<t.length-1;o++){var a=t[o];a in n||(n[a]={}),n=n[a]}t=t[t.length-1],o=n[t],e=e(o),e!=o&&null!=e&&g.defineProperty(n,t,{configurable:!0,writable:!0,value:e})}},g.polyfill('Array.prototype.keys',function(t){return t?t:function(){return g.iteratorFromArray(this,function(t){return t})}},'es6-impl','es3');var e=this;(function(o,e){c=[],d=e,p='function'==typeof d?d.apply(n,c):d,!(p!==void 0&&(t.exports=p))})(this,function(){function t(e){if(!W.col(e))try{return document.querySelectorAll(e)}catch(e){}}function g(e,t){for(var o=e.length,a=2<=arguments.length?arguments[1]:void 0,r=[],s=0;s<o;s++)if(s in e){var n=e[s];t.call(a,n,s,e)&&r.push(n)}return r}function n(e){return e.reduce(function(e,t){return e.concat(W.arr(t)?n(t):t)},[])}function p(e){return W.arr(e)?e:(W.str(e)&&(e=t(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function m(e,t){return e.some(function(e){return e===t})}function u(e){var t,n={};for(t in e)n[t]=e[t];return n}function C(e,t){var n,o=u(e);for(n in e)o[n]=t.hasOwnProperty(n)?t[n]:e[n];return o}function x(e,t){var n,o=u(e);for(n in t)o[n]=W.und(e[n])?t[n]:e[n];return o}function k(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,o){return t+t+n+n+o+o});var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);e=parseInt(t[1],16);var n=parseInt(t[2],16),t=parseInt(t[3],16);return'rgba('+e+','+n+','+t+',1)'}function w(e){function t(e,t,n){return 0>n&&(n+=1),1<n&&--n,n<1/6?e+6*(t-e)*n:.5>n?t:n<2/3?e+6*((t-e)*(2/3-n)):e}var o=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e);e=parseInt(o[1])/360;var a=parseInt(o[2])/100,r=parseInt(o[3])/100,o=o[4]||1;if(0==a)r=a=e=r;else{var s=.5>r?r*(1+a):r+a-r*a,n=2*r-s,r=t(n,s,e+1/3),a=t(n,s,e);e=t(n,s,e-1/3)}return'rgba('+255*r+','+255*a+','+255*e+','+o+')'}function D(e){if(e=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e))return e[2]}function y(e){return-1<e.indexOf('translate')||'perspective'===e?'px':-1<e.indexOf('rotate')||-1<e.indexOf('skew')?'deg':void 0}function T(e,t){return W.fnc(e)?e(t.target,t.id,t.total):e}function f(e,t){if(t in e.style)return getComputedStyle(e).getPropertyValue(t.replace(/([a-z])([A-Z])/g,'$1-$2').toLowerCase())||'0'}function E(e,t){return W.dom(e)&&m(S,t)?'transform':W.dom(e)&&(e.getAttribute(t)||W.svg(e)&&e[t])?'attribute':W.dom(e)&&'transform'!==t&&f(e,t)?'css':null==e[t]?void 0:'object'}function d(e,t){var o=y(t),o=-1<t.indexOf('scale')?1:0+o;if(e=e.style.transform,!e)return o;for(var r=[],s=[],l=[],n=/(\w+)\((.+?)\)/g;r=n.exec(e);)s.push(r[1]),l.push(r[2]);return e=g(l,function(e,n){return s[n]===t}),e.length?e[0]:o}function j(e,t){switch(E(e,t)){case'transform':return d(e,t);case'css':return f(e,t);case'attribute':return e.getAttribute(t);}return e[t]||0}function z(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var o=D(e)||0;switch(t=parseFloat(t),e=parseFloat(e.replace(n[0],'')),n[0][0]){case'+':return t+e+o;case'-':return t-e+o;case'*':return t*e+o;}}function L(e,t){return Math.sqrt(o(t.x-e.x,2)+o(t.y-e.y,2))}function b(e){e=e.points;for(var t,n,o=0,a=0;a<e.numberOfItems;a++)n=e.getItem(a),0<a&&(o+=L(t,n)),t=n;return o}function I(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case'circle':return 2*l*e.getAttribute('r');case'rect':return 2*e.getAttribute('width')+2*e.getAttribute('height');case'line':return L({x:e.getAttribute('x1'),y:e.getAttribute('y1')},{x:e.getAttribute('x2'),y:e.getAttribute('y2')});case'polyline':return b(e);case'polygon':var t=e.points;return b(e)+L(t.getItem(t.numberOfItems-1),t.getItem(0));}}function a(e,t){function o(n){return n=void 0===n?0:n,e.el.getPointAtLength(1<=t+n?t+n:0)}var a=o(),r=o(-1),s=o(1);switch(e.property){case'x':return a.x;case'y':return a.y;case'angle':return 180*Math.atan2(s.y-r.y,s.x-r.x)/l;}}function N(e,t){var n,o=/-?\d*\.?\d+/g;if(n=W.pth(e)?e.totalLength:e,!W.col(n))a=(a=D(n))?n.substr(0,n.length-a.length):n,n=t&&!/\s/g.test(n)?a+t:a;else if(W.rgb(n)){var a=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(n);n=a?'rgba('+a[1]+',1)':n}else n=W.hex(n)?k(n):W.hsl(n)?w(n):void 0;return n+='',{original:n,numbers:n.match(o)?n.match(o).map(Number):[0],strings:W.str(e)||t?n.split(o):[]}}function O(e){return e=e?n(W.arr(e)?e.map(p):p(e)):[],g(e,function(e,t,n){return n.indexOf(e)===t})}function P(e){var t=O(e);return t.map(function(e,n){return{target:e,id:n,total:t.length}})}function c(e,t){var n=u(t);if(W.arr(e)){var o=e.length;2!==o||W.obj(e[0])?W.fnc(t.duration)||(n.duration=t.duration/o):e={value:e}}return p(e).map(function(e,n){return n=n?0:t.delay,e=W.obj(e)&&!W.pth(e)?e:{value:e},W.und(e.delay)&&(e.delay=n),e}).map(function(e){return x(e,n)})}function M(e,t){var n,o={};for(n in e){var a=T(e[n],t);W.arr(a)&&(a=a.map(function(e){return T(e,t)}),1===a.length&&(a=a[0])),o[n]=a}return o.duration=parseFloat(o.duration),o.delay=parseFloat(o.delay),o}function V(e){return W.arr(e)?h.apply(this,e):A[e]}function U(t,n){var o;return t.tweens.map(function(a){a=M(a,n);var l=a.value,d=j(n.target,t.name),e=o?o.to.original:d,e=W.arr(l)?l[0]:e,c=z(W.arr(l)?l[1]:l,e),d=D(c)||D(e)||D(d);return a.from=N(e,d),a.to=N(c,d),a.start=o?o.end:t.offset,a.end=a.start+a.delay+a.duration,a.easing=V(a.easing),a.elasticity=(1E3-r(s(a.elasticity,1),999))/1E3,a.isPath=W.pth(l),a.isColor=W.col(a.from.original),a.isColor&&(a.round=1),o=a})}function F(e,t){return g(n(e.map(function(e){return t.map(function(t){var n=E(e.target,t.name);if(n){var o=U(t,e);t={type:n,property:t.name,animatable:e,tweens:o,duration:o[o.length-1].end,delay:o[0].delay}}else t=void 0;return t})})),function(e){return!W.und(e)})}function G(e,t,n,o){var a='delay'===e;return t.length?(a?r:s).apply(Math,t.map(function(t){return t[e]})):a?o.delay:n.offset+o.delay+o.duration}function R(t){var n,o=C(H,t),r=C(Y,t),s=P(t.targets),l=[],d=x(o,r);for(n in t)d.hasOwnProperty(n)||'targets'===n||l.push({name:n,offset:d.offset,tweens:c(t[n],r)});return t=F(s,l),x(o,{children:[],animatables:s,animations:t,duration:G('duration',t,o,r),delay:G('delay',t,o,r)})}function _(n){function o(){return window.Promise&&new Promise(function(e){return l=e})}function c(e){return A.reversed?A.duration-e:e}function d(o){for(var u=0,y={},c=A.animations,d=c.length;u<d;){var v=c[u],e=v.animatable,C=v.tweens,h=C.length-1,n=C[h];h&&(n=g(C,function(e){return o<e.end})[0]||n);for(var C=r(s(o-n.start-n.delay,0),n.duration)/n.duration,l=isNaN(C)?1:n.easing(C,n.elasticity),C=n.to.strings,S=n.round,h=[],p=void 0,p=n.to.numbers.length,m=0;m<p;m++){var t=void 0,t=n.to.numbers[m],x=n.from.numbers[m],t=n.isPath?a(n.value,l*t):x+l*(t-x);S&&(n.isColor&&2<m||(t=Math.round(t*S)/S)),h.push(t)}if(n=C.length)for(p=C[0],l=0;l<n;l++)S=C[l+1],m=h[l],isNaN(m)||(p=S?p+(m+S):p+(m+' '));else p=h[0];Z[v.type](e.target,v.property,p,y,e.id),v.currentValue=p,u++}if(u=Object.keys(y).length)for(c=0;c<u;c++)q||(q=f(document.body,'transform')?'transform':'-webkit-transform'),A.animatables[c].target.style[q]=y[c].join(' ');A.currentTime=o,A.progress=100*(o/A.duration)}function y(e){A[e]&&A[e](A)}function b(){A.remaining&&!0!==A.remaining&&A.remaining--}function e(e){var a=A.duration,s=A.offset,n=s+A.delay,m=A.currentTime,r=A.reversed,g=c(e);if(A.children.length){var f=A.children,u=f.length;if(g>=A.currentTime)for(var v=0;v<u;v++)f[v].seek(g);else for(;u--;)f[u].seek(g)}(g>=n||!a)&&(A.began||(A.began=!0,y('begin')),y('run')),g>s&&g<a?d(g):(g<=s&&0!==m&&(d(0),r&&b()),g>=a&&m!==a||!a)&&(d(a),r||b()),y('update'),e>=a&&(A.remaining?(h=C,'alternate'===A.direction&&(A.reversed=!A.reversed)):(A.pause(),A.completed||(A.completed=!0,y('complete'),'Promise'in window&&(l(),p=o()))),t=0)}n=void 0===n?{}:n;var C,h,t=0,l=null,p=o(),A=R(n);return A.reset=function(){var e=A.direction,t=A.loop;for(A.currentTime=0,A.progress=0,A.paused=!0,A.began=!1,A.completed=!1,A.reversed='reverse'===e,A.remaining='alternate'===e&&1===t?2:t,d(0),e=A.children.length;e--;)A.children[e].reset()},A.tick=function(n){C=n,h||(h=C),e((t+C-h)*_.speed)},A.seek=function(t){e(c(t))},A.pause=function(){var e=K.indexOf(A);-1<e&&K.splice(e,1),A.paused=!0},A.play=function(){A.paused&&(A.paused=!1,h=0,t=c(A.currentTime),K.push(A),v||B())},A.reverse=function(){A.reversed=!A.reversed,h=0,t=c(A.currentTime)},A.restart=function(){A.pause(),A.reset(),A.play()},A.finished=p,A.reset(),A.autoplay&&A.play(),A}var q,H={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:'normal',autoplay:!0,offset:0},Y={duration:1E3,delay:0,easing:'easeOutElastic',elasticity:500,round:0},S=['translateX','translateY','translateZ','rotate','rotateX','rotateY','rotateZ','scale','scaleX','scaleY','scaleZ','skewX','skewY','perspective'],W={arr:function(e){return Array.isArray(e)},obj:function(e){return-1<Object.prototype.toString.call(e).indexOf('Object')},pth:function(e){return W.obj(e)&&e.hasOwnProperty('totalLength')},svg:function(e){return e instanceof SVGElement},dom:function(e){return e.nodeType||W.svg(e)},str:function(e){return'string'==typeof e},fnc:function(e){return'function'==typeof e},und:function(e){return'undefined'==typeof e},hex:function(e){return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return /^rgb/.test(e)},hsl:function(e){return /^hsl/.test(e)},col:function(e){return W.hex(e)||W.rgb(e)||W.hsl(e)}},h=function(){function t(e,t,n){return(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e}return function(o,a,r,s){if(0<=o&&1>=o&&0<=r&&1>=r){var d=new Float32Array(11);if(o!==a||r!==s)for(var e=0;11>e;++e)d[e]=t(.1*e,o,r);return function(e){if(o===a&&r===s)return e;if(0===e)return 0;if(1===e)return 1;for(var c=0,p=1;10!==p&&d[p]<=e;++p)c+=.1;--p;var p=c+.1*((e-d[p])/(d[p+1]-d[p])),l=3*(1-3*r+3*o)*p*p+2*(3*r-6*o)*p+3*o;if(.001<=l){for(c=0;4>c&&(l=3*(1-3*r+3*o)*p*p+2*(3*r-6*o)*p+3*o,0!=l);++c)var n=t(p,o,r)-e,p=p-n/l;e=p}else if(0==l)e=p;else{var p=c,c=c+.1,u=0;do n=p+(c-p)/2,l=t(n,o,r)-e,0<l?c=n:p=n;while(1e-7<Math.abs(l)&&10>++u);e=n}return t(e,a,s)}}}}(),A=function(){function t(e,t){return 0===e||1===e?e:-o(2,10*(e-1))*Math.sin(2*(e-1-1.5707963267948966*(t/(2*l)))*l/t)}var n,r=['Quad','Cubic','Quart','Quint','Sine','Expo','Circ','Back','Elastic'],e={In:[[0.55,0.085,0.68,0.53],[0.55,0.055,0.675,0.19],[0.895,0.03,0.685,0.22],[0.755,0.05,0.855,0.06],[0.47,0,0.745,0.715],[0.95,0.05,0.795,0.035],[0.6,0.04,0.98,0.335],[0.6,-0.28,0.735,0.045],t],Out:[[0.25,0.46,0.45,0.94],[0.215,0.61,0.355,1],[0.165,0.84,0.44,1],[0.23,1,0.32,1],[0.39,0.575,0.565,1],[0.19,1,0.22,1],[0.075,0.82,0.165,1],[0.175,0.885,0.32,1.275],function(e,n){return 1-t(1-e,n)}],InOut:[[0.455,0.03,0.515,0.955],[0.645,0.045,0.355,1],[0.77,0,0.175,1],[0.86,0,0.07,1],[0.445,0.05,0.55,0.95],[1,0,0,1],[0.785,0.135,0.15,0.86],[0.68,-0.55,0.265,1.55],function(e,n){return .5>e?t(2*e,n)/2:1-t(-2*e+2,n)/2}]},s={linear:h(.25,.25,.75,.75)},a={};for(n in e)a.type=n,e[a.type].forEach(function(t){return function(n,o){s['ease'+t.type+r[o]]=W.fnc(n)?n:h.apply(e,n)}}(a)),a={type:a.type};return s}(),Z={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,o,a){o[a]||(o[a]=[]),o[a].push(t+'('+n+')')}},K=[],v=0,B=function(){function e(){v=requestAnimationFrame(t)}function t(t){var n=K.length;if(n){for(var o=0;o<n;)K[o]&&K[o].tick(t),o++;e()}else cancelAnimationFrame(v),v=0}return e}();return _.version='2.2.0',_.speed=1,_.running=K,_.remove=function(e){e=O(e);for(var t=K.length;t--;)for(var n=K[t],o=n.animations,a=o.length;a--;)m(e,o[a].animatable.target)&&(o.splice(a,1),o.length||n.pause())},_.getValue=j,_.path=function(e,n){var o=W.str(e)?t(e)[0]:e;return function(e){return{el:o,property:e,totalLength:I(o)*((n||100)/100)}}},_.setDashoffset=function(e){var t=I(e);return e.setAttribute('stroke-dasharray',t),t},_.bezier=h,_.easings=A,_.timeline=function(t){var n=_(t);return n.pause(),n.duration=0,n.add=function(e){return n.children.forEach(function(e){e.began=!0,e.completed=!0}),p(e).forEach(function(o){var a=x(o,C(Y,t||{}));a.targets=a.targets||t.targets,o=n.duration;var r=a.offset;a.autoplay=!1,a.direction=n.direction,a.offset=W.und(r)?o:z(r,o),n.began=!0,n.completed=!0,n.seek(a.offset),a=_(a),a.began=!0,a.completed=!0,a.duration>o&&(n.duration=a.duration),n.children.push(a)}),n.seek(0),n.reset(),n.autoplay&&n.restart(),n},n},_.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},_})}).call(n,e(43))},function(e){function n(e,n,o,a){return e+n*a+0.5*o*a*a}e.exports=function(e,o,r,a,t){return t.x=n(e.x,o.x,r.x,a),t.y=n(e.y,o.y,r.y,a),t.z=n(e.z,o.z,r.z,a),t}},function(e){var t=function(e,t){this.geometry=new THREE.BufferGeometry,this.vertices=new Float32Array(2*(3*e)),this.uvs=new Float32Array(2*(2*e)),this.width=t,this.geometry.addAttribute('position',new THREE.BufferAttribute(this.vertices,3).setDynamic(!0)),this.material=new THREE.MeshBasicMaterial({side:THREE.DoubleSide,color:16711680}),this.mesh=new THREE.Mesh(this.geometry,this.material),this.mesh.drawMode=THREE.TriangleStripDrawMode,this.mesh.frustumCulled=!1,this.mesh.vertices=this.vertices,this.direction=new THREE.Vector3,this.numPoints=e};t.prototype={setDirection:function(e){var t=new THREE.Vector3(0,1,0);this.direction.copy(e).cross(t).normalize().multiplyScalar(this.width/2)},setWidth:function(e){this.width=e},setPoint:function(){var e=new THREE.Vector3,t=new THREE.Vector3;return function(n,o){e.copy(o).add(this.direction),t.copy(o).sub(this.direction);var a=6*n;this.vertices[a++]=e.x,this.vertices[a++]=e.y,this.vertices[a++]=e.z,this.vertices[a++]=t.x,this.vertices[a++]=t.y,this.vertices[a++]=t.z,this.geometry.attributes.position.needsUpdate=!0}}()},e.exports=t},function(e){e.exports='url(data:image/png;base64,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)'},function(){AFRAME.registerComponent('additive',{init:function(){this.el.addEventListener('subobjectloaded',function(e){e.detail.material.blending=THREE.AdditiveBlending}),this.el.addEventListener('model-loaded',function(e){e.detail.model.material.blending=THREE.AdditiveBlending})}})},function(){AFRAME.registerComponent('debug-controller',{schema:{enabled:{default:!1}},init:function(){var e,e;this.data.enabled&&AFRAME.utils.getUrlParameter('debug')&&(console.log('%c debug-controller enabled ','background: #111; color: red'),this.isTriggerDown=!1,e=document.getElementById('primaryHand'),e.object3D.position.set(0.2,1.5,-0.5),document.addEventListener('keydown',(t)=>{var n,o;if(t.shiftKey){if(32===t.keyCode)return void(this.isTriggerDown?(e.emit('triggerup'),this.isTriggerDown=!1):(e.emit('triggerdown'),this.isTriggerDown=!0));n=e.object3D.position,72===t.keyCode&&(n.x-=0.01),74===t.keyCode&&(n.y-=0.01),75===t.keyCode&&(n.y+=0.01),76===t.keyCode&&(n.x+=0.01),(59===t.keyCode||186===t.keyCode)&&(n.z-=0.01),222===t.keyCode&&(n.z+=0.01);var o;o=e.getAttribute('rotation'),89===t.keyCode&&(o.x-=10),79===t.keyCode&&(o.x+=10),85===t.keyCode&&(o.y-=10),73===t.keyCode&&(o.y+=10),e.setAttribute('rotation',AFRAME.utils.clone(o))}}))},play:function(){setTimeout(()=>{document.getElementById('primaryHand').emit('controllerconnected',{name:'vive-controls'})},1e3)}})},function(){AFRAME.registerComponent('debug-cursor',{init:function(){},log:function(e,t,n){t.id?console.log(`%c[${e}] ${t.id}`,`color: ${n}`):(console.log(`%c[${e}]`,`color: ${n}`),console.log(t))}})},function(){AFRAME.registerComponent('animated-sun',{depdendencies:['environment'],play:function(){var e=this.el;setTimeout(()=>{e.components.environment.sunlight.setAttribute('animation__light',{property:'components.light.light.intensity',dir:'alternate',dur:1200,easing:'easeInOutCubic',from:e.components.environment.sunlight.getAttribute('light').intensity,loop:!0,to:0.2}),e.components.environment.sunlight.setAttribute('animation__position',{property:'object3D.position.x',dir:'alternate',dur:3e3,easing:'easeInOutCubic',from:'-10',loop:!0,to:10})},1e3)}})},function(){function e(e){var t,n;for(n=0,t=0;t<window.location.href.length;t++)n+=window.location.href.charCodeAt(t);return parseFloat('0.'+Math.sin(9999*n*e).toString().substr(7))}function t(t){return`#${new THREE.Color(e(t),e(t+1),e(t+2)).getHexString()}`}var n=window.utils;AFRAME.registerComponent('cromulon',{init:function(){var t,o,a,r,s=this.el;for(o=0,a=0,r=0;o<Math.floor(5*e(30))+3;o++,a++,r++)this.createCromulon(o,a,r);t=new Audio(n.assetPath('assets/audio/cromulon.mp3')),t.volume=0.5,setInterval(()=>{0.11>Math.random()&&t.play()},1e3)},createCromulon:function(o,a,r){var s,l;s=document.createElement('a-image'),s.setAttribute('src',n.assetPath('assets/img/cromulon.png')),s.setAttribute('color',t(r)),l=30*e(r)+10,s.object3D.scale.set(l,l,l),s.object3D.position.set(150*e(a)-75,30*e(a+20)+25,150*e(a+10)-75),s.object3D.lookAt(0,0,0),s.object3D.visible=!1,s.addEventListener('materialtextureloaded',()=>{s.object3D.visible=!0}),this.el.sceneEl.appendChild(s)}})},function(){AFRAME.registerComponent('dalek',{init:function(){var e;for(i=0;i<Math.floor(4*utils.random(500))+2;i++)e=document.createElement('a-entity'),e.setAttribute('obj-model',{obj:utils.assetPath('assets/models/dalek/model.obj'),mtl:utils.assetPath('assets/models/dalek/materials.mtl')}),e.setAttribute('dalek-sound',''),e.setAttribute('shadow',{cast:!0,receive:!1}),e.object3D.scale.set(8,8,8),e.object3D.rotation.set(0,Math.PI,0),e.object3D.position.set(20*utils.random(i+99)-10,1,20*utils.random(i+89)-10),this.el.appendChild(e)}})},function(){AFRAME.registerComponent('mechagodzilla',{init:function(){var e;e=document.createElement('a-entity'),e.setAttribute('obj-model',{obj:utils.assetPath('assets/models/mechagodzilla/model.obj'),mtl:utils.assetPath('assets/models/mechagodzilla/materials.mtl')}),e.object3D.scale.set(10,10,10),e.object3D.rotation.set(0,Math.PI,0),e.object3D.position.set(40*window.utils.random(100),25,-30),this.el.appendChild(e)}})},function(){function e(e){var t,n;for(n=0,t=0;t<window.location.href.length;t++)n+=window.location.href.charCodeAt(t);return parseFloat('0.'+Math.sin(9999*n*e).toString().substr(7))}function t(t){return`#${new THREE.Color(e(t),e(t+1),e(t+2)).getHexString()}`}AFRAME.registerComponent('random-color-environment',{dependencies:['environment'],init:function(){this.el.setAttribute('environment',{dressing1Color:t(0),dressing2Color:t(1),gridColor:t(2),groundColor:t(3),groundColor2:t(4),horizonColor:t(5),skyColor:t(6)})}})},function(){var e=Math.random(),n=Math.random(),o=Math.random(),a=Math.random(),r=Math.random(),s=Math.random();AFRAME.registerComponent('shifting-colors',{depdendencies:['environment'],init:function(){this.rDir=1,this.gDir=1,this.bDir=1,this.rDir2=1,this.gDir2=1,this.bDir2=1},tick:function(l,t){var d,c;t&&(c=this.el.components.environment.dressing1.getObject3D('mesh'),c&&(c=c.children[0],d=c.material.color,d.r+=1/(200*t*e)*this.rDir,d.g+=1/(200*t*n)*this.gDir,d.b+=1/(200*t*o)*this.bDir,1<d.r&&(d.r=1,this.rDir=-1),0>d.r&&(d.r=0,this.rDir=1),1<d.g&&(d.g=1,this.gDir=-1),0>d.g&&(d.g=0,this.gDir=1),1<d.b&&(d.b=1,this.bDir=-1),0>d.b&&(d.b=0,this.bDir=1)),dressing2=this.el.components.environment.dressing2.getObject3D('mesh'),dressing2&&(dressing2=dressing2.children[0],d=dressing2.material.color,d.r+=1/(200*t*a)*this.rDir2,d.g+=1/(200*t*r)*this.gDir2,d.b+=1/(200*t*s)*this.bDir2,1<d.r&&(d.r=1,this.rDir2=-1),0>d.r&&(d.r=0,this.rDir2=1),1<d.g&&(d.g=1,this.gDir2=-1),0>d.g&&(d.g=0,this.gDir2=1),1<d.b&&(d.b=1,this.bDir2=-1),0>d.b&&(d.b=0,this.bDir2=1)))}})},function(){var e=Math.PI;AFRAME.registerComponent('solidsnake',{init:function(){var t,n=this.el,o=this.data;var a;t=document.createElement('a-entity'),t.classList.add('solidsnake'),t.setAttribute('obj-model',{obj:utils.assetPath('assets/models/box/box.obj')}),t.setAttribute('material',{color:'brown',metalness:0,roughness:1,side:'double'}),t.setAttribute('shadow',''),t.object3D.position.set(10*window.utils.random(205),0,10*window.utils.random(206)),t.setAttribute('touchable',''),t.object3D.lookAt(0,0,0),t.addEventListener('object3dset',()=>{t.object3D.mesh=t.getObject3D('mesh'),t.setAttribute('animation__touched',{dur:750,easing:'easeOutQuad',from:0,property:'object3D.mesh.rotation.x',startEvents:'touched',to:-1*e/2.5}),t.setAttribute('animation__touched2',{dur:750,easing:'easeOutQuad',from:0,property:'object3D.mesh.position.z',startEvents:'touched',to:-1}),t.setAttribute('animation__touched3',{dur:750,easing:'easeOutQuad',from:0,property:'object3D.mesh.position.y',startEvents:'touched',to:0.5})}),n.appendChild(t),a=document.createElement('a-entity'),a.setAttribute('obj-model',{obj:utils.assetPath('assets/models/snake/Mesh_Cobra.obj'),mtl:utils.assetPath('assets/models/snake/Mesh_Cobra.mtl')}),a.object3D.position.copy(t.object3D.position),a.object3D.position.y+=0.3,a.object3D.scale.set(0.02,0.02,0.02),a.object3D.rotation.y+=e,n.appendChild(a),t.addEventListener('touched',()=>{var e;e=new Audio(utils.assetPath('assets/audio/alert.wav')),e.volume=0.5,e.play()})}})},function(){function e(e){var t;return e+=1234,t=utils.random(e),`#${new THREE.Color(t,t,t).getHexString()}`}AFRAME.registerComponent('upsidedown',{dependencies:['environment'],init:function(){var t,n,o;for(this.el.setAttribute('environment',{dressing1Color:e(0),dressing2Color:e(1),gridColor:e(2),groundColor:e(3),groundColor2:e(4),horizonColor:e(5),skyColor:e(6),varyColor:!1}),o=document.querySelectorAll('.portal'),t=0;t<o.length;t++)o[t].setAttribute('material','isGrayscale',1),o[t].setAttribute('oasis-portal','color','#FAFAFA'),o[t].querySelector('.portalText').setAttribute('text','color','#FAFAFA'),o[t].querySelector('.portalEffect1').setAttribute('material','color','#111'),o[t].querySelector('.portalEffect2').setAttribute('material','color','#AAA');n=[this.el.components.environment.hemilight,this.el.components.environment.sunlight],n[0].setAttribute('light','intensity',0),n[1].setAttribute('light','intensity',0)},flickerLight:function(e){e.setAttribute('light','intensity',.1),setTimeout(()=>{e.setAttribute('light','intensity',0)},300)}})},function(){AFRAME.registerComponent('wayback-machine',{init:function(){var e;'true'===localStorage.getItem('waybackmachine')||(e=document.createElement('a-entity'),e.classList.add('waybackMachine'),e.setAttribute('obj-model',{obj:utils.assetPath('assets/models/waybackmachine/model.obj'),mtl:utils.assetPath('assets/models/waybackmachine/materials.mtl')}),e.setAttribute('item',{message:`You got a Wayback Machine! Zones you've previously visited are now highlighted in purple.`,storeAs:'waybackmachine'}),e.object3D.position.set(10*window.utils.random(200),1.6,10*window.utils.random(201)),this.el.appendChild(e))}})},function(){function e(e,t,n){return n?(0.5>t(1)?e.r+=0.2*t(2):e.r-=0.2*t(3),0.5>t(4)?e.g+=0.2*t(5):e.g-=0.2*t(6),0.5>t(7)?e.b+=0.2*t(8):e.b-=0.2*t(9),e):e}var t=Math.min,n=Math.floor,o=Math.abs,a=Math.max,s=Math.sin,l=Math.PI;if('undefined'==typeof AFRAME)throw new Error('Component attempted to register before AFRAME was available.');var r=['none','cubes','pyramids','cylinders','hexagons','stones','trees','mushrooms','towers','apparatus','arches','torii','grass','islands'];AFRAME.registerComponent('environment',{schema:{active:{default:!1},preset:{default:'default',oneOf:['none','default','contact','egypt','checkerboard','forest','goaland','yavapai','goldmine','arches','threetowers','poison','tron','japan','dream','volcano','starry','osiris']},seed:{type:'string'},skyType:{default:'color',oneOf:['none','color','gradient','atmosphere']},skyColor:{type:'color'},horizonColor:{type:'color'},lighting:{default:'distant',oneOf:['none','distant','point']},shadow:{default:!1},shadowSize:{default:10},lightPosition:{type:'vec3',default:{x:0,y:1,z:-0.2}},fog:{type:'float',default:0,min:0,max:1},flatShading:{default:!1},playArea:{type:'float',default:1.5,min:0.5,max:10},ground:{default:'hills',oneOf:['none','flat','hills','canyon','spikes','noise']},groundYScale:{type:'float',default:20,min:0,max:50},groundTexture:{default:'none',oneOf:['none','checkerboard','squares','walkernoise']},groundColor:{type:'color',default:'#553e35'},groundColor2:{type:'color',default:'#694439'},dressing1:{default:'none',oneOf:r},dressing1Amount:{type:'int',default:10,min:0,max:1e3},dressing1Color:{type:'color',default:'#795449'},dressing1Scale:{type:'float',default:5,min:0,max:100},dressing1Variance:{type:'vec3',default:{x:1,y:1,z:1}},dressing1UniformScale:{default:!1},dressing1OnPlayArea:{type:'float',default:0,min:0,max:1},dressing2:{default:'none',oneOf:r},dressing2Amount:{type:'int',default:10,min:0,max:1e3},dressing2Color:{type:'color',default:'#795449'},dressing2Scale:{type:'float',default:5,min:0,max:100},dressing2Variance:{type:'vec3',default:{x:1,y:1,z:1}},dressing2UniformScale:{default:!1},dressing2OnPlayArea:{type:'float',default:0,min:0,max:1},grid:{default:'none',oneOf:['none','1x1','2x2','crosses','dots','xlines','ylines']},gridColor:{type:'color',default:'#ccc'},varyColor:{default:!0}},multiple:!1,presets:{none:{},default:{dressing2:'none',dressing2Amount:10,dressing2Color:'#795449',dressing2Scale:1,dressing2Variance:{x:0,y:0,z:0},dressing2UniformScale:!0,dressing2OnPlayArea:0,active:!0,seed:1,skyType:'atmosphere',skyColor:'#88c',horizonColor:'#ddd',lighting:'distant',lightPosition:{x:-0.11,y:1,z:0.33},fog:0.78,flatShading:!1,playArea:1.5,ground:'hills',groundYScale:3,groundTexture:'checkerboard',groundColor:'#454545',groundColor2:'#5d5d5d',dressing1:'none',dressing1Amount:10,dressing1Color:'#795449',dressing1Scale:1,dressing1Variance:{x:0,y:0,z:0},dressing1UniformScale:!0,dressing1OnPlayArea:0,grid:'none',gridColor:'#ccc',shadow:!1},contact:{dressing2:'apparatus',dressing2Amount:10,dressing2Color:'#657067',dressing2Scale:2,dressing2Variance:{x:10,y:10,z:10},dressing2UniformScale:!0,dressing2OnPlayArea:0.8,active:!0,seed:14,skyType:'gradient',skyColor:'#478d54',horizonColor:'#b696cb',lighting:'distant',lightPosition:{x:0,y:2.01,z:-1},fog:0.64,flatShading:!1,playArea:1.5,ground:'spikes',groundYScale:100,groundTexture:'none',groundColor:'#2e455f',groundColor2:'#694439',dressing1:'apparatus',dressing1Amount:30,dressing1Color:'#657067',dressing1Scale:20,dressing1Variance:{x:20,y:20,z:20},dressing1UniformScale:!0,dressing1OnPlayArea:0,grid:'1x1',gridColor:'#478d54',shadow:!1},egypt:{dressing2:'stones',dressing2Amount:200,dressing2Color:'#99694f',dressing2Scale:0.26,dressing2Variance:{x:0.2,y:0.2,z:0.2},dressing2UniformScale:!1,dressing2OnPlayArea:0.8,active:!0,seed:26,skyType:'gradient',skyColor:'#1b7660',horizonColor:'#e4b676',lighting:'distant',lightPosition:{x:0,y:1.65,z:-1},fog:0.75,flatShading:!1,playArea:1.5,ground:'hills',groundYScale:20,groundTexture:'walkernoise',groundColor:'#97684f',groundColor2:'#97684f',dressing1:'pyramids',dressing1Amount:20,dressing1Color:'#7c5c45',dressing1Scale:5,dressing1Variance:{x:20,y:20,z:20},dressing1UniformScale:!0,dressing1OnPlayArea:0,grid:'spots',gridColor:'#e4b676',shadow:!1},checkerboard:{dressing2:'islands',dressing2Amount:100,dressing2Color:'#e40548',dressing2Scale:0.14,dressing2Variance:{x:0,y:1,z:0},dressing2UniformScale:!0,dressing2OnPlayArea:0.7,active:!0,seed:1,skyType:'gradient',skyColor:'#404040',horizonColor:'#e40548',lighting:'distant',lightPosition:{x:0,y:1,z:-0.2},fog:0.71,flatShading:!0,playArea:1.5,ground:'spikes',groundYScale:30,groundTexture:'checkerboard',groundColor:'#252525',groundColor2:'#111111',dressing1:'islands',dressing1Amount:20,dressing1Color:'#6b4ff0',dressing1Scale:2.51,dressing1Variance:{x:10,y:15,z:10},dressing1UniformScale:!0,dressing1OnPlayArea:0,grid:'dots',gridColor:'#6b4ff0',shadow:!1},forest:{dressing2:'grass',dressing2Amount:1500,dressing2Color:'#888b1d',dressing2Scale:0.3,dressing2Variance:{x:1,y:2,z:0},dressing2UniformScale:!1,dressing2OnPlayArea:0.8,active:!0,seed:8,skyType:'gradient',skyColor:'#24b59f',horizonColor:'#eff9b7',lighting:'distant',lightPosition:{x:-1.2,y:0.88,z:-0.55},fog:0.8,flatShading:!1,playArea:1.5,ground:'noise',groundYScale:4.18,groundTexture:'squares',groundColor:'#937a24',groundColor2:'#987d2e',dressing1:'trees',dressing1Amount:500,dressing1Color:'#888b1d',dressing1Scale:1,dressing1Variance:{x:10,y:10,z:10},dressing1UniformScale:!0,dressing1OnPlayArea:0.01,grid:'none',gridColor:'#c5a543',shadow:!0},goaland:{dressing2:'grass',dressing2Amount:1500,dressing2Color:'#db4453',dressing2Scale:1,dressing2Variance:{x:1,y:2,z:0},dressing2UniformScale:!1,dressing2OnPlayArea:0.8,active:!0,seed:17,skyType:'gradient',skyColor:'#14645f',horizonColor:'#7ccb9a',lighting:'point',lightPosition:{x:0.1,y:4,z:0.56},fog:0.73,flatShading:!1,playArea:1.5,ground:'canyon',groundYScale:100,groundTexture:'none',groundColor:'#ae3241',groundColor2:'#db4453',dressing1:'mushrooms',dressing1Amount:150,dressing1Color:'#a9313d',dressing1Scale:5,dressing1Variance:{x:5,y:10,z:5},dressing1UniformScale:!0,dressing1OnPlayArea:0.01,grid:'none',gridColor:'#239893',shadow:!1},yavapai:{dressing2:'none',dressing2Amount:10,dressing2Color:'#795449',dressing2Scale:1,dressing2Variance:{x:0,y:0,z:0},dressing2UniformScale:!0,dressing2OnPlayArea:0,active:!0,seed:11,skyType:'gradient',skyColor:'#239849',horizonColor:'#cfe0af',lighting:'distant',lightPosition:{x:0.5,y:1,z:0},fog:0.8,flatShading:!0,playArea:1.5,ground:'canyon',groundYScale:9.76,groundTexture:'walkernoise',groundColor:'#C66344',groundColor2:'#c96b4b',dressing1:'stones',dressing1Amount:500,dressing1Color:'#C66344',dressing1Scale:0.06,dressing1Variance:{x:0.2,y:0.1,z:0.2},dressing1UniformScale:!0,dressing1OnPlayArea:1,grid:'none',gridColor:'#239893',shadow:!1},goldmine:{dressing2:'stones',dressing2Amount:300,dressing2Color:'#fe921b',dressing2Scale:.2,dressing2Variance:{x:0.2,y:0.2,z:0.2},dressing2UniformScale:!1,dressing2OnPlayArea:0.83,active:!0,seed:53,skyType:'gradient',skyColor:'#1e1c1a',horizonColor:'#8c7964',lighting:'point',lightPosition:{x:0,y:1.5,z:3.33},fog:0.25,flatShading:!0,playArea:1.5,ground:'canyon',groundYScale:100,groundTexture:'none',groundColor:'#353535',groundColor2:'#252525',dressing1:'hexagons',dressing1Amount:200,dressing1Color:'#fe921b',dressing1Scale:0.5,dressing1Variance:{x:4,y:14,z:4},dressing1UniformScale:!0,dressing1OnPlayArea:0.03,grid:'none',gridColor:'#222',shadow:!1},threetowers:{dressing2:'none',dressing2Amount:10,dressing2Color:'#795449',dressing2Scale:1,dressing2Variance:{x:0,y:0,z:0},dressing2UniformScale:!0,dressing2OnPlayArea:0,active:!0,seed:5,skyType:'gradient',skyColor:'#23a06b',horizonColor:'#f5e170',lighting:'distant',lightPosition:{x:0.5,y:1,z:0},fog:0.8,flatShading:!1,playArea:1.5,ground:'spikes',groundYScale:4.26,groundTexture:'walkernoise',groundColor:'#273a49',groundColor2:'#2b464f',dressing1:'towers',dressing1Amount:15,dressing1Color:'#5f6d94',dressing1Scale:50,dressing1Variance:{x:10,y:100,z:10},dressing1UniformScale:!0,dressing1OnPlayArea:0,grid:'none',gridColor:'#239893',shadow:!1,dressing2:'cubes',dressing2Amount:30},poison:{dressing2:'none',dressing2Amount:10,dressing2Color:'#795449',dressing2Scale:1,dressing2Variance:{x:0,y:0,z:0},dressing2UniformScale:!0,dressing2OnPlayArea:0,active:!0,seed:92,skyType:'gradient',skyColor:'#1ea84a',horizonColor:'#177132',lighting:'distant',lightPosition:{x:0.5,y:1,z:0},fog:0.8,flatShading:!1,playArea:1.5,ground:'canyon',groundYScale:9.76,groundTexture:'none',groundColor:'#851f31',groundColor2:'#912235',dressing1:'hexagons',dressing1Amount:40,dressing1Color:'#c7415b',dressing1Scale:20,dressing1Variance:{x:20,y:200,z:20},dressing1UniformScale:!1,dressing1OnPlayArea:0,grid:'crosses',gridColor:'#1ea84a',shadow:!1},arches:{dressing2:'islands',dressing2Amount:50,dressing2Color:'#e446fb',dressing2Scale:1,dressing2Variance:{x:1,y:2,z:0},dressing2UniformScale:!1,dressing2OnPlayArea:0.6,active:!0,seed:19,skyType:'atmosphere',skyColor:'#8cbdc8',horizonColor:'#ddd',lighting:'distant',lightPosition:{x:-0.11,y:0.16,z:0.33},fog:0.67,flatShading:!0,playArea:1.5,ground:'canyon',groundYScale:10,groundTexture:'walkernoise',groundColor:'#5c4566',groundColor2:'#443a4e',dressing1:'arches',dressing1Amount:30,dressing1Color:'#62536f',dressing1Scale:26,dressing1Variance:{x:20,y:40,z:20},dressing1UniformScale:!0,dressing1OnPlayArea:0.04,grid:'none',gridColor:'#ccc',shadow:!1},tron:{dressing2:'none',dressing2Amount:10,dressing2Color:'#795449',dressing2Scale:1,dressing2Variance:{x:0,y:0,z:0},dressing2UniformScale:!0,dressing2OnPlayArea:0,active:!0,seed:14,skyType:'gradient',skyColor:'#091b39',horizonColor:'#284a9e',lighting:'distant',lightPosition:{x:-0.72,y:0.62,z:0.4},fog:0.8,flatShading:!1,playArea:1.5,ground:'spikes',groundYScale:4.91,groundTexture:'none',groundColor:'#061123',groundColor2:'#694439',dressing1:'towers',dressing1Amount:20,dressing1Color:'#fb000e',dressing1Scale:15,dressing1Variance:{x:20,y:20,z:20},dressing1UniformScale:!0,dressing1OnPlayArea:0,grid:'1x1',gridColor:'#fb000e',shadow:!1},japan:{dressing2:'grass',dressing2Amount:1500,dressing2Color:'#db4453',dressing2Scale:0.5,dressing2Variance:{x:1,y:2,z:0},dressing2UniformScale:!1,dressing2OnPlayArea:0.6,active:!0,seed:14,skyType:'gradient',skyColor:'#7e5db5',horizonColor:'#b4adda',lighting:'distant',lightPosition:{x:1.33,y:1,z:0.24},fog:0.9,flatShading:!1,playArea:1.5,ground:'hills',groundYScale:25,groundTexture:'walkernoise',groundColor:'#7e5db5',groundColor2:'#cabdf5',dressing1:'torii',dressing1Amount:20,dressing1Color:'#db4453',dressing1Scale:15,dressing1Variance:{x:0,y:0,z:0},dressing1UniformScale:!0,dressing1OnPlayArea:0,grid:'spots',gridColor:'#e4b676',shadow:!1},dream:{dressing2:'none',dressing2Amount:10,dressing2Color:'#795449',dressing2Scale:1,dressing2Variance:{x:0,y:0,z:0},dressing2UniformScale:!0,dressing2OnPlayArea:0,active:!0,seed:17,skyType:'gradient',skyColor:'#87faf4',horizonColor:'#b34093',lighting:'distant',lightPosition:{x:-0.72,y:0.53,z:0.97},fog:0.8,flatShading:!1,playArea:1.5,ground:'hills',groundYScale:20,groundTexture:'checkerboard',groundColor:'#b34093',groundColor2:'#c050a2',dressing1:'mushrooms',dressing1Amount:300,dressing1Color:'#3cf7ed',dressing1Scale:0.2,dressing1Variance:{x:0.2,y:0.2,z:0.2},dressing1UniformScale:!0,dressing1OnPlayArea:1,grid:'none',gridColor:'#239893',shadow:!1},volcano:{dressing2:'none',dressing2Amount:10,dressing2Color:'#795449',dressing2Scale:1,dressing2Variance:{x:0,y:0,z:0},dressing2UniformScale:!0,dressing2OnPlayArea:0,active:!0,seed:92,skyType:'gradient',skyColor:'#4a070f',horizonColor:'#f62300',lighting:'point',lightPosition:{x:0.5,y:2.25,z:0},fog:0.87,flatShading:!1,playArea:1.5,ground:'canyon',groundYScale:9.76,groundTexture:'walkernoise',groundColor:'#fb0803',groundColor2:'#510000',dressing1:'arches',dressing1Amount:15,dressing1Color:'#fb0803',dressing1Scale:3,dressing1Variance:{x:10,y:100,z:10},dressing1UniformScale:!1,dressing1OnPlayArea:0.2,grid:'none',gridColor:'#fa0e00',shadow:!1},starry:{dressing2:'none',dressing2Amount:10,dressing2Color:'#795449',dressing2Scale:1,dressing2Variance:{x:0,y:0,z:0},dressing2UniformScale:!0,dressing2OnPlayArea:0,active:!0,seed:1,skyType:'atmosphere',skyColor:'#88c',horizonColor:'#ddd',lighting:'distant',lightPosition:{x:0,y:-0.01,z:-0.46},fog:0.7,flatShading:!1,playArea:1.5,ground:'hills',groundYScale:3,groundTexture:'none',groundColor:'#553e35',groundColor2:'#694439',dressing1:'none',dressing1Amount:100,dressing1Color:'#795449',dressing1Scale:5,dressing1Variance:{x:1,y:1,z:1},dressing1UniformScale:!0,grid:'1x1',dressing1OnPlayArea:0,gridColor:'#39d2f2',shadow:!1},osiris:{dressing2:'none',dressing2Amount:10,dressing2Color:'#795449',dressing2Scale:1,dressing2Variance:{x:0,y:0,z:0},dressing2UniformScale:!0,dressing2OnPlayArea:0,active:!0,seed:46,skyType:'atmosphere',skyColor:'#88c',horizonColor:'#ddd',lighting:'distant',lightPosition:{x:0,y:0.02,z:-0.46},fog:0,flatShading:!1,playArea:1.5,ground:'hills',groundYScale:3,groundTexture:'none',groundColor:'#9e7b47',groundColor2:'#9e7b47',dressing1:'pyramids',dressing1Amount:15,dressing1Color:'#9e7b47',dressing1Scale:5,dressing1Variance:{x:30,y:30,z:30},dressing1UniformScale:!0,grid:'dots',dressing1OnPlayArea:0,gridColor:'#daa452',shadow:!1}},init:function(){for(var e in this.STAGE_SIZE=200,this.random=this.random.bind(this),this.assets={arches:[{type:'mesh',vertices:[409,268,4,351,228,36,336,236,-57,-152,391,69,-135,358,88,-119,330,43,-20,358,-35,-153,357,-47,37,413,-26,-20,411,-14,-302,148,154,-339,121,-126,-389,200,-88,-477,193,-76,-314,346,-19,-314,306,-30,-250,296,-73,-267,237,-82,-212,303,-68,-245,200,-67,-223,304,108,-329,299,107,-289,350,76,-320,342,69,119,373,-39,38,370,8,113,367,52,492,202,-31,462,83,-104,447,71,-80,426,112,25,482,189,-7,222,372,6,121,402,41,87,382,67,221,346,55,559,93,-13,528,47,39,505,21,-111,528,54,-101,616,31,-53,442,256,-15,300,338,19,257,308,-79,408,256,-74,312,352,-26,384,297,-31,437,257,-47,-29,415,53,-232,377,59,-139,335,77,-132,344,2,-18,377,-37,-171,387,-28,-254,384,18,-651,-27,27,-435,-28,179,-345,149,165,-272,-28,23,-215,146,-2,-279,-29,-59,-211,145,-55,-337,-28,-128,-413,247,0,-293,363,24,-214,254,-36,-164,290,33,-284,150,94,-218,362,105,75,369,29,518,147,-63,447,190,-70,445,56,-105,391,185,-60,431,49,-33,459,83,26,470,162,42,130,390,53,167,341,-30,125,394,-45,239,368,-17,91,414,10,450,18,2,449,-27,-9,436,-28,-58,496,-27,-110,582,-28,-140,647,-27,-56,325,325,-45,-307,297,-56,-647,-28,-45,-188,310,-54,-264,197,113,-367,175,139,8,387,82,426,45,-55,114,359,-28,500,27,44,461,-29,13,-512,-27,-151,-152,376,-38,-490,-28,148,12,370,-28,442,160,42,465,194,32,381,183,-33,649,-27,-34,444,16,29,616,-28,25,417,267,-66,-132,352,-34,-322,-27,130,-271,86,-115,-635,-28,-121,-291,203,-99,176,405,-10,561,52,-93,371,305,9,311,237,-22,377,200,-81,-129,406,46,-154,371,99,-82,361,71,-21,354,26,-91,363,-27,-165,413,-12,-414,215,110,-238,127,26,-408,-28,-128,-674,-28,-94,-446,232,-39,-311,226,-90,-255,210,-61,-235,192,-11,-217,218,58,-269,299,124,-386,276,78,-399,281,42,15,373,58,16,393,75,549,107,-46,481,188,-68,409,120,-41,541,81,12,230,368,41,194,350,-50,224,361,-50,604,-28,-10,602,-27,35,486,56,-121,502,69,-120,457,-27,-110,226,317,-40,-584,-28,-124,439,-26,-30,467,-26,39,547,-27,-146,21,368,14,466,229,-29,578,-27,44,609,-27,-96,291,356,-15,290,306,34,255,321,28,231,311,-5,-251,386,50,-183,307,87,-152,307,24,-264,373,-12,-392,-27,190,-333,-28,84,-281,-27,54,-270,-28,-23,-308,-28,-101,-687,-27,-59,39,418,39,413,163,25,404,206,-90,54,400,-31,121,352,8,-454,41,148,-426,9,182,-564,115,3,-427,27,-107,-548,118,-32,-556,122,-53,-517,91,-101,-475,54,140,-461,52,-134,-558,119,-71,-434,286,59,-687,-31,52,-595,146,22,-670,-28,164,-537,166,122,-575,-28,217,-566,159,65,-470,152,136,-712,-29,102,-639,-29,211,-532,-30,181,-442,-30,-100],faces:[76,104,162,1,176,103,103,76,1,2,119,73,73,105,2,2,118,152,45,161,46,46,109,45,3,120,49,49,68,3,3,121,139,139,48,3,4,122,94,94,121,4,6,123,124,9,175,81,10,169,111,10,67,92,88,43,146,11,131,114,11,128,183,13,130,15,90,184,174,90,182,184,130,184,63,14,130,63,15,130,14,16,131,12,15,168,53,18,91,17,131,16,17,65,133,132,65,132,91,67,134,166,166,92,67,20,135,92,20,166,4,4,121,20,22,135,68,25,102,96,25,157,102,69,138,157,69,157,25,39,150,71,71,141,39,28,150,149,149,72,28,142,176,105,36,140,27,27,143,36,32,115,81,32,144,161,161,80,32,77,35,144,34,26,77,78,179,96,145,152,78,178,79,145,80,146,79,147,140,36,143,108,36,143,37,148,74,95,154,154,83,74,72,149,151,151,95,72,38,150,156,40,147,106,70,140,40,40,116,70,42,162,0,35,163,162,43,145,146,46,117,41,47,158,27,48,139,175,122,138,94,157,138,123,52,178,102,52,102,6,52,124,7,7,100,52,53,125,8,57,93,181,56,169,181,59,127,58,60,173,61,62,128,11,11,112,62,65,91,167,65,167,66,126,93,21,22,68,49,72,95,29,142,29,74,74,82,142,75,107,97,75,97,103,76,97,37,104,143,31,78,152,164,78,164,179,79,178,8,97,155,159,107,98,155,83,98,82,154,95,84,39,116,86,86,156,39,87,160,116,24,145,96,162,104,0,105,118,2,43,177,119,44,177,43,91,51,167,44,88,109,46,161,117,3,68,121,3,48,120,4,166,50,50,122,4,5,123,122,123,138,122,110,124,51,170,10,111,110,91,7,7,124,110,8,125,9,9,81,8,186,12,188,92,135,10,11,114,112,64,63,137,13,15,89,89,53,100,64,168,14,14,168,15,89,100,16,16,12,89,100,18,16,17,91,132,112,19,61,18,7,91,19,17,132,133,127,59,133,59,61,136,21,22,134,127,133,20,92,166,121,135,20,158,31,27,21,135,22,23,137,136,24,102,178,178,145,24,25,179,69,26,94,138,27,140,70,27,70,141,150,177,71,28,177,150,29,142,73,73,119,29,142,82,30,30,176,142,107,75,82,31,143,27,33,81,175,31,41,104,115,79,8,32,33,144,80,115,32,33,175,139,35,162,42,77,139,34,163,26,179,163,179,164,78,96,145,177,29,119,108,143,148,148,37,159,97,159,37,74,83,82,38,149,150,156,150,39,40,106,87,87,116,40,140,147,40,161,144,42,42,117,161,41,0,104,41,117,0,0,117,42,164,118,163,1,163,118,118,176,1,118,105,176,152,118,164,43,152,145,43,119,2,71,109,141,47,41,158,44,71,177,45,109,88,45,88,146,46,47,109,141,47,27,167,50,166,49,120,165,139,121,94,5,122,50,123,51,124,157,6,102,157,123,6,100,8,178,5,167,51,6,124,52,100,178,52,53,168,125,125,165,120,54,125,168,9,48,175,120,9,125,93,10,135,181,101,56,57,169,10,59,172,61,67,170,171,67,171,127,58,127,171,129,186,113,60,61,172,61,173,112,62,112,173,174,189,129,165,64,23,64,137,23,165,22,49,64,54,168,17,114,131,17,112,114,66,133,65,19,132,133,19,133,61,134,133,66,166,134,66,166,66,167,93,135,21,68,135,121,23,136,22,94,34,139,25,96,179,26,138,69,69,179,26,30,103,176,116,141,70,39,141,116,73,142,105,143,76,37,26,35,77,103,97,76,77,144,33,33,139,77,38,151,149,80,161,45,80,45,146,81,115,8,107,155,97,82,98,107,95,151,84,38,156,85,86,116,160,96,102,24,72,29,28,29,95,74,75,30,82,108,147,36,88,44,43,91,110,51,170,67,10,11,183,131,64,14,63,89,15,53,100,7,18,112,17,19,127,134,67,136,126,21,158,41,31,33,32,81,115,80,79,177,28,29,43,2,152,71,44,109,47,46,41,141,109,47,167,5,50,123,5,51,100,53,8,125,54,165,9,120,48,93,57,10,59,58,172,174,185,189,165,54,64,165,23,22,94,26,34,30,75,103,143,104,76,26,163,35,38,85,151,192,182,191,183,128,201,12,13,89,181,169,57,186,153,113,188,183,99,184,182,63,185,13,189,180,181,93,186,99,153,189,186,129,185,184,130,186,13,12,187,93,126,193,199,194,194,196,193,200,187,195,187,197,195,187,126,197,197,190,194,190,136,137,190,196,194,63,182,192,63,192,196,192,198,196,191,182,55,193,196,198,194,199,197,195,197,199,136,197,126,190,137,63,190,63,196,197,136,190,192,191,198,201,99,183,90,55,182,181,180,101,185,130,13,186,188,99,186,189,13,187,180,93,200,101,187,183,188,131,184,185,174,180,187,101,16,18,17,12,131,188,35,42,144,163,1,162,76,162,1,79,146,145]}],stones:[{type:'mesh',vertices:[-376,189,42,230,223,-310,353,162,-62,414,-23,-67,256,90,-475,24,85,-526,-418,-16,57,-432,66,-40,-199,151,-376,-155,49,467,-91,289,201,293,197,91,81,-17,-480,42,108,431,-359,-17,-250,383,-19,-243,194,-15,270,-272,180,293,-86,212,262,234,54,297,395,97,-302,-123,-21,-444,-416,-19,-123,-323,-18,267,-100,-16,429,-300,96,-361,163,-19,409,118,201,-431,-241,-18,391,-130,274,-309,306,-19,-399,-221,96,404],faces:[31,18,17,0,17,18,3,20,2,18,11,10,29,27,8,27,29,1,0,18,10,10,29,0,16,19,26,11,2,1,20,30,4,20,3,15,30,12,4,4,12,5,5,27,4,4,27,20,21,25,5,7,8,25,22,7,14,7,25,14,23,28,31,0,7,17,24,26,9,31,28,9,8,27,5,2,20,1,13,19,18,10,11,1,19,13,26,3,11,19,19,16,3,11,3,2,11,18,19,20,15,30,29,10,1,25,21,14,8,5,25,5,12,21,6,7,22,7,6,23,8,0,29,8,7,0,23,31,7,13,31,9,18,31,13,9,28,24,26,13,9,27,1,20,7,31,17]},{type:'mesh',vertices:[-217,34,-153,198,90,20,212,85,169,-131,93,171,197,113,30,173,121,164,315,29,-16,219,24,189,282,50,-102,232,38,-181,-195,-9,-166,-156,30,-207,-51,-9,-231,-180,91,-173,-19,73,-204,-280,23,96,-242,100,107,3,158,-82,109,88,221,275,-10,-40,236,-10,-135,-178,49,184,-1,-10,-243,265,-11,109,-12,-9,237,-36,46,251,-233,86,-81,93,77,-171,-163,133,69,18,16,263,296,44,93,131,-12,-226,-89,-10,-201,-273,-10,-51,-240,-9,110,190,-12,192,-253,-11,-92,42,43,-258,-115,-11,238,168,99,-88,-285,-10,24,71,124,-158,298,-10,10,116,150,-24,-282,44,39],faces:[44,16,26,13,26,16,0,26,13,27,14,41,4,5,1,7,30,2,28,5,43,41,39,27,17,43,41,43,4,39,13,28,17,17,41,13,28,43,17,24,29,38,29,35,7,18,25,29,5,18,2,18,5,3,30,42,6,30,35,23,19,20,8,8,20,9,9,39,8,1,30,8,31,37,9,11,14,37,14,27,37,32,11,12,11,37,12,11,0,13,33,40,44,44,26,33,33,0,36,34,38,15,44,40,15,21,3,16,27,39,9,2,30,1,21,25,3,16,3,28,28,3,5,4,43,5,41,43,39,13,16,28,25,21,38,38,29,25,7,18,29,29,24,35,18,7,2,18,3,25,30,23,42,30,7,35,8,30,6,6,19,8,6,42,19,8,39,1,37,31,22,27,9,37,9,20,31,10,11,32,11,10,0,12,37,22,14,13,41,14,11,13,33,26,0,36,0,10,21,44,15,16,44,21,15,40,34,38,21,15,4,1,39,5,2,1]},{type:'mesh',vertices:[-101,102,57,99,35,102,40,72,80,59,14,-168,-186,22,45,-176,25,-30,66,-7,146,153,-7,53,-110,47,-96,-90,-8,-146,150,-7,-12,-200,-7,8,-173,-7,-55,55,46,-60,125,-7,110,136,30,-10,-149,58,68,-15,82,-71,98,-7,-86,-34,-6,-194,-33,-7,171,-36,65,137,38,-8,-192,-103,-9,147,-12,62,-152],faces:[2,17,0,17,8,0,17,24,8,19,24,22,5,11,4,2,13,17,17,13,24,21,23,20,1,2,21,7,15,1,7,10,15,5,9,12,15,18,13,0,5,16,0,8,5,1,15,2,10,18,15,3,13,18,24,3,22,11,23,4,4,16,5,16,4,23,24,13,3,15,13,2,6,1,21,6,21,20,6,14,1,2,0,21,1,14,7,3,18,22,8,24,19,8,19,9,12,11,5,5,8,9,16,23,21,16,21,0]},{type:'mesh',vertices:[86,55,-18,58,38,73,97,-12,79,135,7,10,-93,-11,-72,-133,5,33,13,68,-32,94,-11,-57,-90,52,53,-24,-11,-106,-13,-10,104,-75,49,-69,-12,18,114,49,-12,-96,-46,-11,-85,-119,-11,-26,48,5,-111,-58,-11,105,-117,-12,52,-5,35,-93,123,-11,7],faces:[5,8,11,2,3,1,8,1,6,11,8,6,6,19,11,10,12,17,20,7,3,3,7,16,16,0,3,16,9,19,14,4,9,15,18,5,5,11,15,18,17,5,19,0,16,1,3,0,0,6,1,19,6,0,12,8,17,2,1,12,12,10,2,1,8,12,3,2,20,16,13,9,16,7,13,19,4,11,15,11,4,17,8,5,9,4,19]}],torii:[{type:'mesh',mirror:!0,flatShading:!0,vertices:[692,966,-52,661,834,-52,692,966,52,661,834,52,0,894,-52,0,776,-52,0,894,52,0,776,52,518,935,52,345,913,52,170,899,52,162,779,52,328,790,52,494,808,52,170,899,-52,345,913,-52,518,935,-52,494,808,-52,328,790,-52,162,779,-52,0,618,16,0,697,16,0,618,-16,0,697,-16,586,618,16,586,697,16,586,618,-16,586,697,-16,331,-29,-75,331,766,-52,369,-29,-65,357,766,-45,396,-29,-37,377,766,-26,406,-29,0,384,766,0,396,-29,37,377,766,26,369,-29,65,357,766,45,331,-29,75,331,766,52,294,-29,65,305,766,45,267,-29,37,286,766,26,257,-29,0,279,766,0,267,-29,-37,286,766,-26,294,-29,-65,305,766,-45,0,777,85,0,681,33,333,762,-75,333,806,-75,371,762,-65,371,806,-65,398,762,-37,398,806,-37,408,762,0,408,806,0,398,762,37,398,806,37,371,762,65,371,806,65,333,762,75,333,806,75,296,762,65,296,806,65,268,762,37,268,806,37,258,762,0,258,806,0,268,762,-37,268,806,-37,296,762,-65,296,806,-65,0,681,-33,0,777,-85,52,681,33,52,777,85,52,681,-33,52,777,-85],faces:[4,10,14,1,13,17,11,6,7,0,3,1,16,1,17,4,19,5,14,18,19,15,17,18,3,8,13,13,9,12,12,10,11,19,7,5,19,12,11,18,13,12,16,2,0,15,8,16,14,9,15,23,26,22,27,24,26,25,20,24,26,20,22,23,25,27,29,30,28,31,32,30,33,34,32,35,36,34,37,38,36,39,40,38,41,42,40,43,44,42,45,46,44,47,48,46,49,50,48,51,28,50,55,56,54,57,58,56,59,60,58,61,62,60,63,64,62,79,81,83,65,66,64,82,53,78,67,68,66,81,53,80,69,70,68,83,80,82,71,72,70,79,82,78,73,74,72,75,63,59,75,76,74,77,54,76,60,68,76,4,6,10,1,3,13,11,10,6,0,2,3,16,0,1,4,14,19,14,15,18,15,16,17,3,2,8,13,8,9,12,9,10,19,11,7,19,18,12,18,17,13,16,8,2,15,9,8,14,10,9,23,27,26,27,25,24,25,21,20,26,24,20,23,21,25,29,31,30,31,33,32,33,35,34,35,37,36,37,39,38,39,41,40,41,43,42,43,45,44,45,47,46,47,49,48,49,51,50,51,29,28,55,57,56,57,59,58,59,61,60,61,63,62,63,65,64,79,52,81,65,67,66,82,80,53,67,69,68,81,52,53,69,71,70,83,81,80,71,73,72,79,83,82,73,75,74,59,57,55,55,77,75,75,73,71,71,69,75,67,65,63,63,61,59,59,55,75,75,69,67,67,63,75,75,77,76,77,55,54,76,54,56,56,58,76,60,62,68,64,66,68,68,70,72,72,74,68,76,58,60,62,64,68,68,74,76]}],islands:[{type:'mesh',flatShading:!0,vertices:[0,3814,0,-358,4995,910,-991,4998,-4,-233,5033,-865,200,5270,1092,-610,5199,-726,115,7344,272,650,4860,400,1021,5613,-198,644,5628,735,-926,5949,-65,707,5187,-783,-478,5991,830,-438,6319,-585,220,6075,-797],faces:[0,7,1,0,1,2,0,2,3,0,3,11,2,1,10,1,4,12,4,9,6,5,10,13,8,14,6,14,13,6,13,12,6,13,10,12,12,4,6,6,9,8,8,11,14,3,13,14,3,5,13,11,3,14,5,2,10,10,1,12,4,7,9,9,7,8,7,11,8,3,2,5,7,0,11,1,7,4]}],grass:[{type:'mesh',vertices:[-63,-21,68,65,-37,19,58,237,31,231,391,10,136,228,61,6,-5,9,24,-14,-4,0,350,-25,-52,-10,-29,-83,-18,1,-5,333,115,-46,-15,76,102,-4,96,83,236,60,74,0,27,60,139,54],faces:[2,4,3,1,4,5,2,5,4,6,8,7,9,11,10,12,14,15,15,13,12,2,0,5]},{type:'mesh',vertices:[919,-21,-61,821,-18,-96,885,128,-87,795,264,-142,836,119,-154,865,-5,-152,630,-4,140,647,236,177,654,0,211,669,139,184],faces:[2,4,3,1,4,5,2,5,4,6,8,9,9,7,6,2,0,5]},{type:'mesh',vertices:[274,-12,-520,305,520,-536,274,-12,-535,289,-12,-528,274,254,-520,278,254,-535,289,254,-524,215,474,-552,268,495,-540,276,483,-554,314,452,-588,329,442,-570,271,490,-514,337,429,-630,303,493,-535,293,454,-584,300,461,-534,289,444,-503,277,436,-504,274,435,-469,311,448,-497,299,446,-533,343,441,-534,320,444,-516,300,457,-534,328,467,-558,332,470,-540,301,476,-535,305,516,-536,303,537,-533,308,540,-555],faces:[4,1,5,5,3,2,3,1,6,6,1,4,6,0,3,4,2,0,7,8,9,9,8,14,7,12,8,13,10,11,14,8,12,11,10,16,13,15,10,16,10,15,19,17,18,18,17,21,19,20,17,21,17,20,23,22,24,26,25,27,29,28,30,5,1,3,6,4,0,4,5,2]}],hexagons:[{type:'extrude',vertices:[-0.198,-0.302,0.197,-0.3,0.372,0,0.199,0.298,-0.202,0.298,-0.368,0]}],towers:[{type:'extrude',vertices:[-0.054,-0.178,-0.007,-0.182,0.069,-0.027,0.189,0.079,0.178,0.124,-0.007,0.097,-0.145,0.182,-0.178,0.144,-0.079,-0.021]},{type:'lathe',segments:4,vertices:[0.004,0.02,0.012,0.092,0.042,0.166,0.067,0.55,0.101,0.594,0.105,0.838,0.193,0.934,0.18,0.994]},{type:'lathe',segments:5,vertices:[0.069,0.216,0.067,0.562,0.126,0.562,0.128,0.774,0.191,0.774,0.193,0.986]}],trees:[{type:'lathe',noise:0.015,segments:6,vertices:[0.000001,0.826,0.054,0.832,0.105,0.854,0.136,0.9,0.136,0.958,0.118,0.994]},{type:'lathe',noise:0.015,segments:14,vertices:[0.000001,0.01,0.069,0.022,0.13,0.068,0.178,0.18,0.189,0.32,0.191,0.59,0.193,0.75,0.138,0.79,0.018,0.808,0.018,0.996]},{type:'lathe',noise:0.015,segments:14,vertices:[0.000001,0.436,0.126,0.46,0.201,0.57,0.219,0.72,0.154,0.846,0.028,0.884,0.034,0.996]}],apparatus:[{type:'lathe',segments:10,vertices:[0.000001,0.23,0.042,0.23,0.069,0.36,0.038,0.362,0.038,0.372,0.06,0.372,0.073,0.572,0.024,0.572,0.024,0.67,0.069,0.67,0.075,0.722,0.097,0.724,0.105,0.852,0.083,0.902,0.065,0.902,0.065,0.924,0.128,0.924,0.146,0.996]},{type:'lathe',segments:16,vertices:[0.000001,0.232,0.229,0.182,0.486,0.07,0.356,0.182,0.213,0.242,0.154,0.242,0.144,0.262,0.178,0.262,0.126,0.314,0.04,0.328,0.038,0.374,0.058,0.374,0.071,0.408,0.026,0.406,0.03,0.42,0.091,0.418,0.034,0.496,0.01,0.498,0.03,0.506,0.014,0.998]}],mushrooms:[{type:'lathe',noise:0.02,segments:14,vertices:[0.000001,0.006,0.13,0.018,0.341,0.084,0.437,0.144,0.492,0.234,0.484,0.246,0.276,0.232,0.107,0.284,0.046,0.346,0.062,0.852,0.097,0.956,0.166,0.998]},{type:'lathe',noise:0.02,segments:10,vertices:[0.000001,0.562,0.091,0.572,0.172,0.61,0.223,0.666,0.256,0.74,0.258,0.806,0.246,0.824,0.062,0.826,0.065,0.948,0.097,0.998]},{type:'lathe',noise:0.02,segments:10,vertices:[0.000001,0.768,0.099,0.772,0.219,0.802,0.306,0.844,0.352,0.886,0.352,0.908,0.118,0.904,0.107,0.93,0.115,0.966,0.14,0.996]}]},this.assets)for(var t,n=0;n<this.assets[e].length;n++)if(t=this.assets[e][n],'mesh'==t.type)for(var o=0,a=t.vertices.length;o<a;o++)t.vertices[o]/=1e3;this.userFog=this.el.sceneEl.getAttribute('fog'),this.sky=document.createElement('a-sky'),this.sky.setAttribute('radius',this.STAGE_SIZE),this.sky.setAttribute('theta-length',110),this.sky.classList.add('environment'),this.stars=null,this.groundMaterial=null,this.ground=document.createElement('a-entity'),this.ground.setAttribute('rotation','-90 0 0'),this.ground.classList.add('environmentGround'),this.ground.classList.add('environment'),this.groundCanvas=null,this.groundTexture=null,this.groundMaterial=null,this.groundGeometry=null,this.dressing1=document.createElement('a-entity'),this.dressing1.classList.add('environmentDressing'),this.dressing1.classList.add('environment'),this.dressing2=document.createElement('a-entity'),this.dressing2.classList.add('environmentDressing'),this.dressing2.classList.add('environment'),this.gridCanvas=null,this.gridTexture=null,this.hemilight=document.createElement('a-entity'),this.hemilight.classList.add('environment'),this.hemilight.setAttribute('position','0 50 0'),this.hemilight.setAttribute('light',{type:'hemisphere',color:'#CEE4F0',intensity:0.4}),this.sunlight=document.createElement('a-entity'),this.sunlight.classList.add('environment'),this.sunlight.setAttribute('position',this.data.lightPosition),this.sunlight.setAttribute('light',{intensity:0.6}),this.el.appendChild(this.hemilight),this.el.appendChild(this.sunlight),this.el.appendChild(this.ground),this.el.appendChild(this.dressing1),this.el.appendChild(this.dressing2),this.el.appendChild(this.sky)},getFogColor:function(n,o){var r;if('color'==n||'none'==n)r=new THREE.Color(this.data.skyColor),this.random;else if('gradient'==n)r=new THREE.Color(this.data.horizonColor),this.random;else if('atmosphere'==n){var s=[1,0.5,0.22,0.1,0.05,0],l=['#C0CDCF','#81ADC5','#525e62','#2a2d2d','#141616','#000'];if(0>=o)return'#000';o=t(1,o);for(var d=0;d<s.length;d++)if(o>s[d]){var c=e(new THREE.Color(l[d-1]),this.random,this.data.varyColor),p=e(new THREE.Color(l[d]),this.random,this.data.varyColor),u=(o-s[d])/(s[d-1]-s[d]);p.lerp(c,u),r=p;break}}return r.multiplyScalar(0.9),r.lerp(new THREE.Color(this.data.groundColor),0.3),'#'+r.getHexString()},update:function(e){if(!e||void 0===e.preset||e.preset!==this.data.preset){var t=Object.assign({},this.presets[this.data.preset]);if(e&&void 0!==e.preset||Object.assign(t,this.el.components.environment.attrValue),this.el.setAttribute('environment',t),e)return;e={}}this.seed=(this.data.seed+'').split('').map((e,t)=>''+(t+2)+e).reduce((e,t)=>e+parseInt(t)*t.charCodeAt(1),0);var n=this.data.skyType,o=new THREE.Vector3(this.data.lightPosition.x,this.data.lightPosition.y,this.data.lightPosition.z);if(o.normalize(),this.sunlight){if(this.sunlight.setAttribute('position',this.data.lightPosition),'atmosphere'!=n){var r=new THREE.Color(this.data.skyColor);r.r=(r.r+1)/2,r.g=(r.g+1)/2,r.b=(r.b+1)/2,this.hemilight.setAttribute('light',{color:'#'+r.getHexString()}),this.sunlight.setAttribute('light',{intensity:0.6}),this.hemilight.setAttribute('light',{intensity:0.6})}else this.sunlight.setAttribute('light',{intensity:0.1+0.5*o.y}),this.hemilight.setAttribute('light',{intensity:0.1+0.5*o.y});this.sunlight.setAttribute('light',{castShadow:this.data.shadow,shadowCameraLeft:-this.data.shadowSize,shadowCameraBottom:-this.data.shadowSize,shadowCameraRight:this.data.shadowSize,shadowCameraTop:this.data.shadowSize})}if(n!=e.skyType||this.data.skyColor!=e.skyColor||this.data.horizonColor!=e.horizonColor){this.sky.removeAttribute('material');var s={};s.shader={none:'flat',color:'flat',gradient:'gradientshader',atmosphere:'skyshader'}[n],this.stars&&this.stars.setAttribute('visible','atmosphere'==n),'color'==n?(s.color=this.data.skyColor,s.fog=!1):'gradient'==n&&(s.topColor=this.data.skyColor,s.bottomColor=this.data.horizonColor),this.sky.setAttribute('material',s)}'atmosphere'==n&&(this.sky.setAttribute('material',{sunPosition:o}),this.setStars(2e3*(1-a(0,8*(o.y+0.08))))),0<this.data.fog?this.el.sceneEl.setAttribute('fog',{color:this.getFogColor(n,o.y),far:2*((1.01-this.data.fog)*this.STAGE_SIZE)}):this.el.sceneEl.removeAttribute('fog'),this.sunlight.setAttribute('light',{type:'point'==this.data.lighting?'point':'directional'}),this.sunlight.setAttribute('visible','none'!==this.data.lighting),this.hemilight.setAttribute('visible','none'!==this.data.lighting);var l=!this.groundGeometry||this.data.seed!=e.seed||this.data.ground!=e.ground||this.data.playArea!=e.playArea||this.data.flatShading!=e.flatShading;(l||this.data.groundColor!=e.groundColor||this.data.groundColor2!=e.groundColor2||this.data.groundYScale!=e.groundYScale||this.data.groundTexture!=e.groundTexture||this.data.gridColor!=e.gridColor||this.data.grid!=e.grid)&&(this.updateGround(l),this.hemilight&&this.hemilight.setAttribute('light',{groundColor:this.data.groundColor})),this.updateDressing(1),this.updateDressing(2),this.sky.setAttribute('visible','none'!==n),this.el.setAttribute('visible',this.data.active),this.data.active||(this.userFog?this.el.sceneEl.setAttribute('fog',this.userFog):this.el.sceneEl.removeAttribute('fog')),this.dumpParametersDiff()},logPreset:function(){var e='{';for(var t in this.schema)if('preset'!=t){e+=t+': ';var n=this.schema[t].type;e+='vec3'==n?'{ x: '+this.data[t].x+', y: '+this.data[t].y+', z: '+this.data[t].z+'}':'string'==n||'color'==n?'"'+this.data[t]+'"':this.data[t],e+=', '}e+='}',console.log(e)},dumpParametersDiff:function(){function e(e){return n(1e3*e)/1e3}var t=[],o='none'!=this.data.preset&&this.presets[this.data.preset];for(var a in o&&t.push('preset: '+this.data.preset),this.schema)if(!('preset'==a||o&&void 0===o[a])){var r=o?o[a]:this.schema[a].default,s=this.data[a],l=this.schema[a].type;if('vec3'==l){var d=r;'string'==typeof r&&(r=r.split(' '),d={x:r[0],y:r[1],z:r[2]}),(e(d.x)!=e(s.x)||e(d.y)!=e(s.y)||e(d.z)!=e(s.z))&&t.push(a+': '+e(s.x)+' '+e(s.y)+' '+e(s.z))}else r!=s&&('number'==this.schema[a].type&&(s=e(s)),t.push(a+': '+s))}console.log('%c'+t.join('; '),'color: #f48;font-weight:bold')},random:function(e){var t;return t=parseFloat('0.'+s(9999*this.seed*e).toString().substr(7)),0===t&&(t=parseFloat('0.'+s(99999*this.seed*e).toString().substr(7))),t},updateGround:function(e){var n=64;if(e){var r='none'!=this.data.ground;if(this.ground.setAttribute('visible',r),!r)return;this.groundGeometry||(this.groundGeometry=new THREE.PlaneGeometry(this.STAGE_SIZE+2,this.STAGE_SIZE+2,n-1,n-1));for(var s=new d,l=this.groundGeometry.vertices,c=this.groundGeometry.vertices.length,p=10,u=p/n,m=0,g=0,f=0;m<c;m++){if('flat'==this.data.ground){l[m].z=0;continue}var y;switch(this.data.ground){case'hills':{y=a(0,s.noise(g,f,0));break}case'canyon':{y=0.2+0.8*s.noise(g,f,0),y=t(1,10*Math.pow(y,2));break}case'spikes':{y=0.02>this.random(m)?this.random(m+1):0;break}case'noise':{y=0.35>this.random(m)?this.random(m+1):0;break}}y+=0.1*this.random(m+2);var h=2*g/p-1,b=2*f/p-1,v=this.data.playArea;h=a(0,t(1,(o(h)-(v-0.9))*(1/v))),b=a(0,t(1,(o(b)-(v-0.9))*(1/v))),y*=h>b?h:b,0.01>y&&(y=0),l[m].z=y,g+=u,10<=g&&(g=0,f+=u)}this.groundGeometry.computeFaceNormals(),this.data.flatShading?this.groundGeometry.computeFlatVertexNormals():this.groundGeometry.computeVertexNormals(),this.groundGeometry.verticesNeedUpdate=!0,this.groundGeometry.normalsNeedUpdate=!0}this.ground.object3D.scale.z=a(100*this.random(1e3),1);var C=2048,A=20,x=this.STAGE_SIZE/A;this.groundCanvas&&this.groundCanvas.width==C||(this.gridCanvas=document.createElement('canvas'),this.gridCanvas.width=C,this.gridCanvas.height=C,this.gridTexture=new THREE.Texture(this.gridCanvas),this.gridTexture.wrapS=THREE.RepeatWrapping,this.gridTexture.wrapT=THREE.RepeatWrapping,this.gridTexture.repeat.set(x,x),this.groundCanvas=document.createElement('canvas'),this.groundCanvas.width=C,this.groundCanvas.height=C,this.groundTexture=new THREE.Texture(this.groundCanvas),this.groundTexture.wrapS=THREE.RepeatWrapping,this.groundTexture.wrapT=THREE.RepeatWrapping,this.groundTexture.repeat.set(x,x),this.groundMaterialProps={map:this.groundTexture,emissive:new THREE.Color(16777215),emissiveMap:this.gridTexture},new THREE.Material().hasOwnProperty('shading')?this.groundMaterialProps.shading=this.data.flatShading?THREE.FlatShading:THREE.SmoothShading:this.groundMaterialProps.flatShading=this.data.flatShading,this.groundMaterial=new THREE.MeshLambertMaterial(this.groundMaterialProps));var S=this.groundCanvas.getContext('2d'),k=this.gridCanvas.getContext('2d');if(this.drawTexture(S,C,A),k.fillStyle='#000000',k.fillRect(0,0,C,C),this.drawGrid(k,C,A),this.groundTexture.needsUpdate=!0,this.gridTexture.needsUpdate=!0,e){var E=new THREE.Mesh(this.groundGeometry,this.groundMaterial);this.ground.setObject3D('mesh',E)}else this.ground.getObject3D('mesh').material=this.groundMaterial;this.ground.setAttribute('shadow',{cast:!1,receive:this.data.shadow})},drawGrid:function(e,t,o){if('none'!=this.data.grid){var a,r,s,d=n(o/2),c=t/(o/2);switch(e.fillStyle=this.data.gridColor,this.data.grid){case'1x1':case'2x2':{for('1x1'==this.data.grid&&(d*=2,c=t/o),a=0;a<d;a++)s=n(a*c),e.fillRect(0,s,t,1),e.fillRect(s,0,1,t);break}case'crosses':{var p=n(c/20);for(a=0;a<d+1;a++)for(s=n(a*c),r=0;r<d+1;r++){var u=n(-p+r*c);e.fillRect(u,s,2*p,1),e.fillRect(s,u,1,2*p)}break}case'dots':{for(a=0;a<d+1;a++)for(r=0;r<d+1;r++)e.beginPath(),e.arc(n(r*c),n(a*c),4,0,2*l),e.fill();break}case'xlines':{for(a=0;a<d;a++)e.fillRect(n(a*c),0,1,t);break}case'ylines':{for(a=0;a<d;a++)e.fillRect(0,n(a*c),t,1);break}}}},drawTexture:function(t,o,a){t.fillStyle=this.data.groundColor,t.fillRect(0,0,o,o);var r,l,c,p,u,m,g;if('none'!=this.data.groundTexture)switch(this.data.groundTexture){case'checkerboard':{t.fillStyle=this.data.groundColor2;var y=n(a/2),h=o/(a/2);for(r=0;r<y+1;r+=2)for(var f=0;f<y+1;f++)t.fillRect(n((r+f%2)*h),n(f*h),n(h),n(h));break}case'squares':{var b=16,v=o/b;for(c=e(new THREE.Color(this.data.groundColor),this.random,this.data.varyColor),p=e(new THREE.Color(this.data.groundColor2),this.random,this.data.varyColor),r=0;r<b*b;r++)l=0.5<this.random(r+3)?c.clone():p.clone(),l.addScalar(0.1*this.random(r+3)-0.05),t.fillStyle='#'+l.getHexString(),t.fillRect(r%b*v,n(r/b)*v,v,v);break}case'noise':{m=t.getImageData(0,0,o,o),u=m.data,c=e(new THREE.Color(this.data.groundColor),this.random,this.data.varyColor),p=e(new THREE.Color(this.data.groundColor2),this.random,this.data.varyColor);var C=new THREE.Color(p.r-c.r,p.g-c.g,p.b-c.b),A=new d;for(r=0,f=0,g=u.length;r<g;r+=4,f++){var x=A.noise(3*(f%o/o),3*(f/o/o),0);u[r+0]=n(255*(c.r+C.r*x)),u[r+1]=n(255*(c.g+C.g*x)),u[r+2]=n(255*(c.b+C.b*x))}t.putImageData(m,0,0);break}case'walkernoise':{var S=n(o/2),s=document.createElement('canvas');s.width=S,s.height=S;var k=s.getContext('2d');k.fillStyle=this.data.groundColor,k.fillRect(0,0,S,S),m=k.getImageData(0,0,S,S),u=m.data,c=e(new THREE.Color(this.data.groundColor),this.random,this.data.varyColor),p=e(new THREE.Color(this.data.groundColor2),this.random,this.data.varyColor);var E=[],w=1e3;for(r=0;r<w;r++)l=c.clone().lerp(p,Math.random()),E.push({x:Math.random()*S,y:Math.random()*S,r:n(255*l.r),g:n(255*l.g),b:n(255*l.b)});for(var P=0;P<5e3;P++)for(r=0;r<w;r++){var D=E[r],T=4*n(D.y*S+D.x);u[T+0]=D.r,u[T+1]=D.g,u[T+2]=D.b,D.x+=n(3*Math.random())-1,D.y+=n(3*Math.random())-1,D.x>=S&&(D.x-=S),D.y>=S&&(D.y-=S),0>D.x&&(D.x=S+D.x),0>D.y&&(D.y=S+D.y)}k.putImageData(m,0,0),t.drawImage(s,0,0,o,o);break}}},getAssetGeometry:function(e){function t(e,t){for(var o=new THREE.Vector3,n=0,a=e.vertices.length;n<a;n++)o.x=(s.random(n)-0.5)*t,o.y=(s.random(n+a)-0.5)*t,o.z=(s.random(n+2*a)-0.5)*t,e.vertices[n].add(o)}if(!e)return null;for(var n,o,a,r=[],s=this,d=0;d<e.length;d++)if('lathe'==e[d].type){var c=-99999,p=[];for(a=e[d].vertices,n=0;n<a.length;n+=2)p.push(new THREE.Vector2(a[n],a[n+1])),a[n+1]>c&&(c=a[n+1]);o=new THREE.LatheGeometry(p,e[d].segments||8),o.applyMatrix(new THREE.Matrix4().makeRotationFromEuler(new THREE.Euler(-l,0,0))),o.applyMatrix(new THREE.Matrix4().makeTranslation(0,c,0)),e[d].noise&&t(o,e[d].noise),r.push(o)}else if('extrude'==e[d].type){var u=new THREE.Shape;for(a=e[d].vertices,n=0;n<a.length;n+=2)0==n?u.moveTo(a[n],a[n+1]):u.lineTo(a[n],a[n+1]);o=new THREE.ExtrudeGeometry(u,{amount:1,bevelEnabled:!1}),o.applyMatrix(new THREE.Matrix4().makeRotationFromEuler(new THREE.Euler(-l/2,0,0))),e[d].noise&&t(o,e[d].noise),r.push(o)}else if('mesh'==e[d].type){o=new THREE.Geometry,a=e[d].vertices;for(var m=e[d].faces,g=0;g<a.length;g+=3)o.vertices.push(new THREE.Vector3(a[g],a[g+1],a[g+2]));for(var y=0;y<m.length;y+=3)o.faces.push(new THREE.Face3(m[y],m[y+1],m[y+2]));this.data.flatShading||e[d].flatShading?o.computeFaceNormals():o.computeVertexNormals(),e[d].mirror&&o.merge(o,new THREE.Matrix4().makeRotationFromEuler(new THREE.Euler(0,l,0))),e[d].noise&&t(o,e[d].noise),r.push(o)}return r},updateDressing:function(t){var o=new THREE.Object3D,d='dressing'+t,c=this[d],p=this.data[d],u=this.data[d+'Color'],m=this.data[d+'Amount'],g=this.data[d+'Variance'],y=this.data[d+'Scale'],h=this.data[d+'UniformScale'],f=this.data[d+'OnPlayArea'];if(c.setAttribute('visible','none'!=p),'none'!=p){var b,v=new THREE.Geometry;switch(p){case'cubes':{b=[new THREE.BoxGeometry(1,1,1)],b[0].applyMatrix(new THREE.Matrix4().makeTranslation(0,0.5,0));break}case'pyramids':{b=[new THREE.ConeGeometry(1,1,4,1,!0)],b[0].applyMatrix(new THREE.Matrix4().makeTranslation(0,0.5,0));break}case'cylinders':{b=[new THREE.CylinderGeometry(0.5,0.5,1,8,1,!0)],b[0].applyMatrix(new THREE.Matrix4().makeTranslation(0,0.5,0));break}default:{if(b=this.getAssetGeometry(this.assets[p]),!b)return;break}}var C=m+n(this.random()*m);console.log(C);for(var A=0,x=88343;A<C;A++,x++){var r,S=b[n(this.random(33*t+A)*b.length)],k=y,E=new THREE.Vector3(g.x,g.y,g.z),w=x*t,P=this.random(w)<f;r=P?15*this.random(w+1):10+a(E.x,E.z)+10*this.random(w+1)+this.random(w+2)*this.STAGE_SIZE/3;var D=2*(this.random(w+3)*l),T=new THREE.Matrix4,O=this.random(w+4),j=h;T.compose(new THREE.Vector3(Math.cos(D)*r,0,s(D)*r),new THREE.Quaternion().setFromAxisAngle(new THREE.Vector3(0,1,0),2*((this.random(w+5)-0.5)*E.length()*l)),new THREE.Vector3(k+(j?O:this.random(w+6))*E.x,k+(j?O:this.random(w+7))*E.y,k+(j?O:this.random(w+8))*E.z)),v.merge(S,T)}var L=new THREE.BufferGeometry;L.fromGeometry(v);var z=new THREE.MeshLambertMaterial({color:e(new THREE.Color(u),this.random,this.data.varyColor),vertexColors:THREE.VertexColors});this.data.flatShading&&L.computeVertexNormals();var I=new THREE.Mesh(L,z);o.add(I),c.setObject3D('mesh',o),c.object3D.materialToAnimate=z}},createStars:function(){for(var e=new THREE.BufferGeometry,t=new Float32Array(3*2e3),n=this.STAGE_SIZE-1,o=new THREE.Vector3,a=0;a<t.length;a+=3)o.set(this.random(a+23)-0.5,this.random(a+24),this.random(a+25)-0.5),o.normalize(),o.multiplyScalar(n),t[a]=o.x,t[a+1]=o.y,t[a+2]=o.z;e.addAttribute('position',new THREE.BufferAttribute(t,3)),e.setDrawRange(0,0);var r=new THREE.PointsMaterial({size:0.01,color:13421772,fog:!1});this.stars.setObject3D('mesh',new THREE.Points(e,r))},setStars:function(e){this.stars||(this.stars=document.createElement('a-entity'),this.stars.id='stars',this.createStars(),this.el.appendChild(this.stars)),e=n(t(2e3,a(0,e))),this.stars.getObject3D('mesh').geometry.setDrawRange(0,e)}}),AFRAME.registerShader('skyshader',{schema:{luminance:{type:'number',default:1,min:0,max:2,is:'uniform'},turbidity:{type:'number',default:2,min:0,max:20,is:'uniform'},reileigh:{type:'number',default:1,min:0,max:4,is:'uniform'},mieCoefficient:{type:'number',default:5e-3,min:0,max:0.1,is:'uniform'},mieDirectionalG:{type:'number',default:0.8,min:0,max:1,is:'uniform'},sunPosition:{type:'vec3',default:{x:0,y:0,z:-1},is:'uniform'},color:{type:'color',default:'#fff'}},vertexShader:'varying vec3 vWorldPosition;\nvoid main() {\nvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\nvWorldPosition = worldPosition.xyz;\ngl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}',fragmentShader:'uniform sampler2D skySampler;\nuniform vec3 sunPosition;\nvarying vec3 vWorldPosition;\nvec3 cameraPos = vec3(0., 0., 0.);\nuniform float luminance;\nuniform float turbidity;\nuniform float reileigh;\nuniform float mieCoefficient;\nuniform float mieDirectionalG;\nconst float e = 2.71828182845904523536028747135266249775724709369995957;\nconst float pi = 3.141592653589793238462643383279502884197169;\nconst float n = 1.0003;\nconst float N = 2.545E25;\nconst float pn = 0.035;\nconst vec3 lambda = vec3(680E-9, 550E-9, 450E-9);\nconst vec3 K = vec3(0.686, 0.678, 0.666);\nconst float v = 4.0;\nconst float rayleighZenithLength = 8.4E3;\nconst float mieZenithLength = 1.25E3;\nconst vec3 up = vec3(0.0, 1.0, 0.0);\nconst float EE = 1000.0;\nconst float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;\nconst float cutoffAngle = pi/1.95;\nconst float steepness = 1.5;\nvec3 totalRayleigh(vec3 lambda)\n{\nreturn (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn));\n}\nvec3 simplifiedRayleigh()\n{\nreturn 0.0005 / vec3(94, 40, 18);\n}\nfloat rayleighPhase(float cosTheta)\n{   \nreturn (3.0 / (16.0*pi)) * (1.0 + pow(cosTheta, 2.0));\n}\nvec3 totalMie(vec3 lambda, vec3 K, float T)\n{\nfloat c = (0.2 * T ) * 10E-18;\nreturn 0.434 * c * pi * pow((2.0 * pi) / lambda, vec3(v - 2.0)) * K;\n}\nfloat hgPhase(float cosTheta, float g)\n{\nreturn (1.0 / (4.0*pi)) * ((1.0 - pow(g, 2.0)) / pow(1.0 - 2.0*g*cosTheta + pow(g, 2.0), 1.5));\n}\nfloat sunIntensity(float zenithAngleCos)\n{\nreturn EE * max(0.0, 1.0 - exp(-((cutoffAngle - acos(zenithAngleCos))/steepness)));\n}\n// Filmic ToneMapping http://filmicgames.com/archives/75\nfloat A = 0.15;\nfloat B = 0.50;\nfloat C = 0.10;\nfloat D = 0.20;\nfloat E = 0.02;\nfloat F = 0.30;\nfloat W = 1000.0;\nvec3 Uncharted2Tonemap(vec3 x)\n{\nreturn ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;\n}\nvoid main() \n{\nfloat sunfade = 1.0-clamp(1.0-exp((sunPosition.y/450000.0)),0.0,1.0);\nfloat reileighCoefficient = reileigh - (1.0* (1.0-sunfade));\nvec3 sunDirection = normalize(sunPosition);\nfloat sunE = sunIntensity(dot(sunDirection, up));\nvec3 betaR = simplifiedRayleigh() * reileighCoefficient;\nvec3 betaM = totalMie(lambda, K, turbidity) * mieCoefficient;\nfloat zenithAngle = acos(max(0.0, dot(up, normalize(vWorldPosition - cameraPos))));\nfloat sR = rayleighZenithLength / (cos(zenithAngle) + 0.15 * pow(93.885 - ((zenithAngle * 180.0) / pi), -1.253));\nfloat sM = mieZenithLength / (cos(zenithAngle) + 0.15 * pow(93.885 - ((zenithAngle * 180.0) / pi), -1.253));\nvec3 Fex = exp(-(betaR * sR + betaM * sM));\nfloat cosTheta = dot(normalize(vWorldPosition - cameraPos), sunDirection);\nfloat rPhase = rayleighPhase(cosTheta*0.5+0.5);\nvec3 betaRTheta = betaR * rPhase;\nfloat mPhase = hgPhase(cosTheta, mieDirectionalG);\nvec3 betaMTheta = betaM * mPhase;\nvec3 Lin = pow(sunE * ((betaRTheta + betaMTheta) / (betaR + betaM)) * (1.0 - Fex),vec3(1.5));\nLin *= mix(vec3(1.0),pow(sunE * ((betaRTheta + betaMTheta) / (betaR + betaM)) * Fex,vec3(1.0/2.0)),clamp(pow(1.0-dot(up, sunDirection),5.0),0.0,1.0));\nvec3 direction = normalize(vWorldPosition - cameraPos);\nfloat theta = acos(direction.y); // elevation --> y-axis, [-pi/2, pi/2]\nfloat phi = atan(direction.z, direction.x); // azimuth --> x-axis [-pi/2, pi/2]\nvec2 uv = vec2(phi, theta) / vec2(2.0*pi, pi) + vec2(0.5, 0.0);\nvec3 L0 = vec3(0.1) * Fex;\nfloat sundisk = smoothstep(sunAngularDiameterCos,sunAngularDiameterCos+0.00002,cosTheta);\nL0 += (sunE * 19000.0 * Fex)*sundisk;\nvec3 whiteScale = 1.0/Uncharted2Tonemap(vec3(W));\nvec3 texColor = (Lin+L0);   \ntexColor *= 0.04 ;\ntexColor += vec3(0.0,0.001,0.0025)*0.3;\nfloat g_fMaxLuminance = 1.0;\nfloat fLumScaled = 0.1 / luminance;     \nfloat fLumCompressed = (fLumScaled * (1.0 + (fLumScaled / (g_fMaxLuminance * g_fMaxLuminance)))) / (1.0 + fLumScaled); \nfloat ExposureBias = fLumCompressed;\nvec3 curr = Uncharted2Tonemap((log2(2.0/pow(luminance,4.0)))*texColor);\nvec3 color = curr*whiteScale;\nvec3 retColor = pow(color,vec3(1.0/(1.2+(1.2*sunfade))));\ngl_FragColor.rgb = retColor;\ngl_FragColor.a = 1.0;\n}'}),AFRAME.registerShader('gradientshader',{schema:{topColor:{type:'color',default:'1 0 0',is:'uniform'},bottomColor:{type:'color',default:'0 0 1',is:'uniform'}},vertexShader:'varying vec3 vWorldPosition;\nvoid main() {\n vec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n vWorldPosition = worldPosition.xyz;\n gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0 );\n}',fragmentShader:'uniform vec3 bottomColor;\nuniform vec3 topColor;\nuniform float offset;\nvarying vec3 vWorldPosition;\nvoid main() {\n float h = normalize( vWorldPosition ).y;\n gl_FragColor = vec4( mix( bottomColor, topColor, max( pow( max(h, 0.0 ), 0.8 ), 0.0 ) ), 1.0 );\n}'});var d=function(e){e==void 0&&(e=Math),this.grad3=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],this.p=[];var t;for(t=0;256>t;t++)this.p[t]=n(256*e.random(666));for(this.perm=[],t=0;512>t;t++)this.perm[t]=this.p[255&t]};d.prototype.dot=function(e,t,n,o){return e[0]*t+e[1]*n+e[2]*o},d.prototype.mix=function(e,n,o){return(1-o)*e+o*n},d.prototype.fade=function(e){return e*e*e*(e*(6*e-15)+10)},d.prototype.noise=function(e,t,o){var a=n(e),r=n(t),s=n(o);e-=a,t-=r,o-=s,a&=255,r&=255,s&=255;var l=this.perm[a+this.perm[r+this.perm[s]]]%12,d=this.perm[a+this.perm[r+this.perm[s+1]]]%12,c=this.perm[a+this.perm[r+1+this.perm[s]]]%12,p=this.perm[a+this.perm[r+1+this.perm[s+1]]]%12,m=this.perm[a+1+this.perm[r+this.perm[s]]]%12,g=this.perm[a+1+this.perm[r+this.perm[s+1]]]%12,y=this.perm[a+1+this.perm[r+1+this.perm[s]]]%12,h=this.perm[a+1+this.perm[r+1+this.perm[s+1]]]%12,f=this.dot(this.grad3[l],e,t,o),b=this.dot(this.grad3[m],e-1,t,o),C=this.dot(this.grad3[c],e,t-1,o),A=this.dot(this.grad3[y],e-1,t-1,o),x=this.dot(this.grad3[d],e,t,o-1),S=this.dot(this.grad3[g],e-1,t,o-1),k=this.dot(this.grad3[p],e,t-1,o-1),E=this.dot(this.grad3[h],e-1,t-1,o-1),P=this.fade(e),u=this.fade(t),v=this.fade(o),w=this.mix(f,b,P),D=this.mix(x,S,P),T=this.mix(C,A,P),O=this.mix(k,E,P),j=this.mix(w,T,u),L=this.mix(D,O,u),z=this.mix(j,L,v);return z}},function(){var e=JSON.parse(localStorage.getItem('hintsOpened')||'{}');AFRAME.registerComponent('hint',{schema:{near:{default:!1}},init:function(){var t,n,o,a=this.el;return o=document.createElement('a-entity'),o.classList.add('itemText'),o.setAttribute('mixin','itemText'),o.object3D.position.copy(a.object3D.position),o.object3D.position.y=-1,o.object3D.position.z-=0.5,'true'===localStorage.getItem('bronzekey')||'true'===localStorage.getItem('jadekey')?o.setAttribute('text','value',this.data.near?'THE EGG IS NEAR\nWOULD YOU KINDLY...KEEP HUNTING?\n~':'OUR EGG IS IN ANOTHER CASTLE\n~'):o.setAttribute('text','value',`FIND THE KEY\nSOMETIMES YOU JUST HAVE TO\nGO BACKWARDS\n~`),a.sceneEl.appendChild(o),e[window.location.href]?(a.object3D.visible=!1,o.object3D.position.y=1.6,void o.object3D.lookAt(0,1.6,0)):void(n=document.getElementById('cameraFront'),a.addEventListener('touched',()=>{n.object3D.getWorldPosition(o.object3D.position),o.object3D.lookAt(t.object3D.getWorldPosition()),o.emit('itemtouched'),e[window.location.href]=!0,localStorage.setItem('hintsOpened',JSON.stringify(e))}))}})},function(){AFRAME.registerComponent('item',{schema:{message:{type:'string'},storeAs:{type:'string'}},init:function(){var e,t,n,o=this.el;return o.setAttribute('mixin',o.getAttribute('mixin')+' item'),n=document.createElement('a-entity'),n.classList.add('itemText'),n.setAttribute('mixin','itemText'),n.setAttribute('text','value',this.data.message),n.object3D.position.copy(o.object3D.position),n.object3D.position.y=-1,n.object3D.position.z-=0.5,o.sceneEl.appendChild(n),shadowEl=document.createElement('a-entity'),shadowEl.setAttribute('mixin','shadow'),shadowEl.object3D.position.copy(o.object3D.position),shadowEl.object3D.position.y=0.1,o.sceneEl.appendChild(shadowEl),'true'===localStorage.getItem(this.data.storeAs)?(o.object3D.visible=!1,n.object3D.position.y=1.6,n.object3D.lookAt(0,1.6,0),void n.setAttribute('mixin','itemText hoverAnimation')):void(e=document.getElementById('camera'),t=document.getElementById('cameraFront'),o.addEventListener('touched',()=>{n.setAttribute('text','value',this.data.message),t.object3D.getWorldPosition(n.object3D.position),n.object3D.lookAt(e.object3D.getWorldPosition()),n.object3D.position.y=-1,n.emit('itemtouched'),localStorage.setItem(this.data.storeAs,'true')}))}})},function(){AFRAME.registerComponent('oasis-audio',{schema:{isHome:{type:'string'},zoneSong:{type:'string'}},init:function(){var e,t,n=this.data,o=this.el;t=n.isHome?utils.assetPath('assets/audio/worldinmyeyes.mp3'):o.hasAttribute('upsidedown')?'https://supermedium.github.io/oasis-audio/egg/strangerthings.mp3':this.data.zoneSong,e=new Audio(t),e.volume=0.5,e.loop=!0,e.play()}})},function(e,t,n){var o,a=n(0),r=localStorage.getItem('previousZone'),s=JSON.parse(localStorage.getItem('visitedZones')||'{}');document.addEventListener('DOMContentLoaded',()=>{o=a(utils.assetPath('assets/audio/hover.mp3'),0.5,2)}),AFRAME.registerComponent('oasis-portal',{schema:{color:{type:'string'},href:{type:'string'},isBackPortal:{default:!1},isHomePortal:{default:!1}},init:function(){var e,t=this.el;return e=new Audio(utils.assetPath('assets/audio/portal.mp3')),e.volume=0.25,this.data.isBackPortal&&(!r||r===window.location.href)?void(t.object3D.visible=!1):void(t.addEventListener('click',()=>{e.play(),setTimeout(()=>{this.data.isBackPortal?window.location.href=localStorage.getItem('previousZone'):(s[this.data.href]=!0,localStorage.setItem('previousZone',window.location.href),localStorage.setItem('visitedZones',JSON.stringify(s)),window.location.href=this.data.href)},500)}),t.addEventListener('mouseenter',()=>{this.setColor('#FFF'),o.play()}),t.addEventListener('mouseleave',()=>{this.setColor(this.originalColor),setTimeout(()=>{t.object3D.scale.set(1,1,1)})}),this.originalColor='#999',this.data.isBackPortal?this.originalColor='#6688cc':this.data.isHomePortal?this.originalColor='#33aa33':'true'===localStorage.getItem('waybackmachine')&&!0===s[this.data.href]&&(this.originalColor='#AF55AF'),this.setColor(this.originalColor))},update:function(){this.data.color&&(this.originalColor=this.data.color)},setColor:function(e){var t=this.el;t.querySelector('.portalEffect1').setAttribute('material','color',e),t.querySelector('.portalText').setAttribute('text','color',e),t.setAttribute('animation__mouseenter','from',e),t.setAttribute('animation__mouseleave','to',e)}}),AFRAME.registerShader('oasisPortal',{schema:{backgroundColor:{default:'red',type:'color',is:'uniform'},isGrayscale:{type:'int',is:'uniform',default:0},pano:{type:'map',is:'uniform'},time:{type:'time',is:'uniform'}},vertexShader:n(42),fragmentShader:n(41)})},function(){AFRAME.registerComponent('play-audio',{schema:{audio:{type:'string'},event:{type:'string'},volume:{type:'number',default:1}},multiple:!0,init:function(){var e;e=new Audio(this.data.audio),e.volume=this.data.volume,this.el.addEventListener(this.data.event,()=>{e.paused||(e.pause(),e.currentTime=0),e.play()})}})},function(){AFRAME.registerComponent('raycastable',{})},function(){AFRAME.registerComponent('sub-object',{schema:{from:{default:'',type:'selector'},name:{default:''}},init:function(){var e=this.el,t=this.data;t.from.addEventListener('model-loaded',(n)=>{var o,a;return o=n.detail.model,a=o.getObjectByName(t.name),a?void(e.setObject3D('mesh',a.clone()),e.emit('subobjectloaded',e.getObject3D('mesh'))):void console.error('Sub-object',t.name,'not found in #'+t.from.id)})}})},function(e,t,n){var o=n(0);AFRAME.registerComponent('teleport-listener',{dependencies:['teleport-controls'],init:function(){var e,t,n,a,r=this.el;this.currentIntersection=null,t=r.components['teleport-controls'].intersections,n=o(utils.assetPath('assets/audio/portal.wav'),0.6,5),a=document.getElementById('teleportFader'),this.el.addEventListener('teleported',()=>{var e;t.length&&(a.object3D.visible=!0,e=setTimeout(()=>{a.object3D.visible=!1},160),t[0].object.el.classList.contains('portal')?(clearTimeout(e),t[0].object.el.emit('click')):n.play())}),e=this.hitEntity=r.components['teleport-controls'].hitEntity,e.object3D.rotation.x=-1*Math.PI/2,e.setAttribute('material','emissiveIntensity',0.9),e.setAttribute('material','emissiveColor','#ff9f2b'),e.setAttribute('animation__scale',{property:'scale',from:'1 1 1.2',to:'1.5 1.5 3.2',easing:'easeInOutCubic',dir:'alternate',dur:600,loop:!0}),this.teleportEntity=r.components['teleport-controls'].teleportEntity,this.teleportEntity.getObject3D('mesh').material.opacity=0.5},tick:function(){var e,t,n=this.el;if(n.components['teleport-controls'].active)return e=n.components['teleport-controls'].intersections[0],e?void(e.object.el===this.currentIntersection||(t=e.object.el.classList.contains('portal'),this.hitEntity.children[0].object3D.visible=!t,this.hitEntity.children[1].object3D.visible=!t,this.teleportEntity.getObject3D('mesh').visible=t,this.currentIntersection&&this.currentIntersection.emit('mouseleave'),e.object.el.emit('mouseenter'),this.currentIntersection=e.object.el)):(this.currentIntersection&&this.currentIntersection.emit('mouseleave'),void(this.currentIntersection=null))}})},function(){AFRAME.registerComponent('teleport-refresh',{play:function(){var e,t;setTimeout(()=>{for(t=document.querySelectorAll('a-entity[teleport-controls]'),e=0;e<t.length;e++)t[e].components['teleport-controls'].refreshMeshes()},250)}})},function(){AFRAME.registerSystem('touch',{init:function(){this.touchables=[]},register:function(e){this.touchables.push(e)}}),AFRAME.registerComponent('touch',{schema:{distance:{default:0.5}},init:function(){this.touched=[],this.worldVec3=new THREE.Vector3,this.tick=AFRAME.utils.throttleTick(this.tick.bind(this),500)},tick:function(){var e,t=this.el,n=t.sceneEl.systems.touch.touchables;if(n&&n.length){for(t.object3D.getWorldPosition(this.worldVec3),this.touched.length=0,e=0;e<n.length;e++)this.worldVec3.distanceTo(n[e].object3D.position)<this.data.distance&&this.touched.push(n[e]);if(this.touched.length)for(e=0;e<this.touched.length;e++)this.touched[e].emit('touched'),n.splice(this.touched[e],1)}}})},function(){AFRAME.registerComponent('touchable',{play:function(){this.el.sceneEl.systems.touch.register(this.el)}})},function(e,t,n){n(9),n(1),n(2),n(3),n(4),n(5),n(6),n(7),n(8),n(10),function(e){e.keys().forEach(e)}(n(11)),window.addEventListener('DOMContentLoaded',()=>{'true'===document.querySelector('a-scene').dataset.isHome?navigator.serviceWorker.register('serviceWorker.js'):navigator.serviceWorker.register('../serviceWorker.js')})},function(e){e.exports='#define RECIPROCAL_PI2 0.15915494\nuniform float time;\nuniform int isGrayscale;\nuniform sampler2D pano;\nuniform vec3 backgroundColor;\nvarying float vDistance;\nvarying float vDistanceToCenter;\nvarying vec3 vWorldPosition;\n\nvoid main() {\n  float alpha;\n  float gray;\n  vec3 color;\n  vec3 direction = normalize(vWorldPosition - cameraPosition);\n  vec2 sampleUV;\n  vec2 sampleA;\n  vec2 sampleB;\n\n  float borderThickness = 0.94;\n\n  sampleUV.x = atan(direction.z, -direction.x) * -RECIPROCAL_PI2 + 0.5;\n  sampleUV.y = saturate(direction.y * 0.5  + 0.5);\n\n  // wobble\n  sampleA = sampleUV + sin(time/1000.0 + sampleUV.x * 24.0 + sampleUV.y * 18.0) * 0.004;\n  sampleB = sampleUV + sin(time/1000.0 + sampleUV.x * 24.0 + sampleUV.y * 18.0) * 0.005;\n    \n  // Opacity portal effect, positive sin wave from 0.5 to 1.0.\n  alpha = sin(time / 800.0);\n  alpha = (alpha + 1.0) / 2.0;\n  alpha = mix(0.85, 1.0, alpha);\n  color = vec3(texture2D(pano, sampleB).x, texture2D(pano, sampleA).yz);\n  alpha = smoothstep(0.05, 1.0, 1.6 - vDistanceToCenter);\n  gl_FragColor = vec4(color, alpha);\n\n  if (isGrayscale == 1) {\n    gray = (color.r + color.g + color.b) / 3.0;\n    gl_FragColor = vec4(gray, gray, gray, alpha);\n  }\n}\n'},function(e){e.exports='varying vec3 vWorldPosition;\nvarying float vDistanceToCenter;\n\nvoid main() {\n  vDistanceToCenter = clamp(length(position - vec3(0.0, 0.0, 0.0)), 0.0, 1.0);\n  vWorldPosition = (modelMatrix * vec4(position, 1.0)).xyz;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n'},function(e){var t=function(){return this}();try{t=t||Function('return this')()||(1,eval)('this')}catch(n){'object'==typeof window&&(t=window)}e.exports=t}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgN2Q0YWQ3N2IxZGQ0MmNjZjFlYTYiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9zb3VuZHBvb2wuanMiLCJ3ZWJwYWNrOi8vLy4vfi9hZnJhbWUtYW5pbWF0aW9uLWNvbXBvbmVudC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2FmcmFtZS1ldmVudC1zZXQtY29tcG9uZW50L2luZGV4LmpzIiwid2VicGFjazovLy8uL34vYWZyYW1lLWxheW91dC1jb21wb25lbnQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9hZnJhbWUtbG9vay1hdC1jb21wb25lbnQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9hZnJhbWUtcHJveHktZXZlbnQtY29tcG9uZW50L2luZGV4LmpzIiwid2VicGFjazovLy8uL34vYWZyYW1lLXJhbmRvbWl6ZXItY29tcG9uZW50cy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2FmcmFtZS1zbGljZTktY29tcG9uZW50L2luZGV4LmpzIiwid2VicGFjazovLy8uLi9hZnJhbWUtdGVsZXBvcnQtY29udHJvbHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzLmpzIiwid2VicGFjazovLy8uL34vbmV0d29ya2VkLWFmcmFtZS9kaXN0L25ldHdvcmtlZC1hZnJhbWUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMgXFwuanMkIiwid2VicGFjazovLy8uL34vYW5pbWVqcy9hbmltZS5taW4uanMiLCJ3ZWJwYWNrOi8vLy4uL2FmcmFtZS10ZWxlcG9ydC1jb250cm9scy9saWIvUGFyYWJvbGljQ3VydmUuanMiLCJ3ZWJwYWNrOi8vLy4uL2FmcmFtZS10ZWxlcG9ydC1jb250cm9scy9saWIvUmF5Q3VydmUuanMiLCJ3ZWJwYWNrOi8vLy4uL2FmcmFtZS10ZWxlcG9ydC1jb250cm9scy9saWIvY3lsaW5kZXJUZXh0dXJlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2FkZGl0aXZlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2RlYnVnLWNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvZGVidWctY3Vyc29yLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2VnZ3MvYW5pbWF0ZWQtc3VuLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2VnZ3MvY3JvbXVsb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvZWdncy9kYWxlay5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9lZ2dzL21lY2hhZ29kemlsbGEuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvZWdncy9yYW5kb20tY29sb3ItZW52aXJvbm1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvZWdncy9zaGlmdGluZy1jb2xvcnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvZWdncy9zb2xpZHNuYWtlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2VnZ3MvdXBzaWRlZG93bi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9lZ2dzL3dheWJhY2stbWFjaGluZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9lbnZpcm9ubWVudC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9oaW50LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2l0ZW0uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvb2FzaXMtYXVkaW8uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvb2FzaXMtcG9ydGFsLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3BsYXktYXVkaW8uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvcmF5Y2FzdGFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvc3ViLW9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy90ZWxlcG9ydC1saXN0ZW5lci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy90ZWxlcG9ydC1yZWZyZXNoLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3RvdWNoLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3RvdWNoYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvc2hhZGVycy9vYXNpc1BvcnRhbEZyYWdtZW50Lmdsc2wiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvc2hhZGVycy9vYXNpc1BvcnRhbFZlcnRleC5nbHNsIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IllBQ0EsY0FNQSxJQUNBLGlCQUdBLG1CQUNBLENBQ0EsSUFDQSxLQUlBLDJDQUdBLGFBR0EsT0FDQSxPQUlBLElBekJBLGVBNEJBLE1BR0EsbUJBQTJDLENBQWMsUUFHekQscUJBQ0EsR0FDQSxrQ0FDQSxDQUNBLGdCQUNBLGNBR0EsT0FHQSxpQkFDQSxZQUNBLHFCQUEyQixVQUEwQixVQUNyRCxZQUFpQyxDQUFlLFFBQ2hELEVBRUEsYUFEQSxRQUlBLG1CQUFzRCx3Q0FBK0QsU0FHckgsTUFHQSw0QkNoRUEsRUFBTyxRQUEyQyxlQUNoRCxJQUVBLEdBR0EsRUFMSSxFQUNKLEVBRUEsU0FFSyxFQUFJLEVBQU8sSUFDZCxNQUFRLEdBQ1IsWUFDQSxXQUNBLFNBR0YsY0FDRSxNQUFNLFVBQ0osRUFBb0MsQ0FBM0IsUUFBVyxhQUEwQixLQUM1QyxRQUFLLEtBRVAsU0FBWSxDQUFDLEVBQ2QsSUFFSixFQXJCRCxrQkNBQSxDQThjQSxlQUNBLElBQ0EsR0FDQSxFQUNBLEVBRUEsbUJBQ0EsU0FDQSxPQUNBLDZCQUdtQixzQkFHcUMsVUFHbkMsbUJBR3JCLGNB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QUNSLEVBQVEsR0FDUixFQUFRLEdBQ1IsRUFBUSxHQUNSLEVBQVEsR0FDUixFQUFRLEdBQ1IsRUFBUSxHQUNSLEVBQVEsR0FFUixFQUFRLElBYmEsV0FBTyxHQUFJLE9BQXNCLFdBZXRELENBQVcsRUFBWCxLQUVBLE9BQU8saUJBQWlCLG1CQUFvQixJQUMxQyxDQUNFLE1BREUsWUFBUyxjQUFjLFdBQVcsUUFBUSxpQkFDbEMsY0FBYyxTQUV4Qiw4QkFBVSxjQUFjLFNBRTNCLHNCQU5ELGdCQ2pCQSxVQUFzdUMsc3VDQ0F0dUMsVUFBNFQsNFRDQTVULEdBR0EsYUFDQSxPQUNBLEtBQUMsSUFFRCxHQUVBLDBDQUNBLE9BQUMsU0FFRCxDQUNBLDRCQUNBLE9BSTRDLENBRTVDIiwiZmlsZSI6ImJ1aWxkL2J1aWxkLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGlkZW50aXR5IGZ1bmN0aW9uIGZvciBjYWxsaW5nIGhhcm1vbnkgaW1wb3J0cyB3aXRoIHRoZSBjb3JyZWN0IGNvbnRleHRcbiBcdF9fd2VicGFja19yZXF1aXJlX18uaSA9IGZ1bmN0aW9uKHZhbHVlKSB7IHJldHVybiB2YWx1ZTsgfTtcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNDApO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIDdkNGFkNzdiMWRkNDJjY2YxZWE2IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBTb3VuZFBvb2wgKHNyYywgdm9sdW1lLCBzaXplKSB7XG4gIHZhciBjdXJyU291bmQgPSAwO1xuICB2YXIgaTtcbiAgdmFyIHBvb2wgPSBbXTtcbiAgdmFyIHNvdW5kO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICBzb3VuZCA9IG5ldyBBdWRpbyhzcmMpO1xuICAgIHNvdW5kLnZvbHVtZSA9IHZvbHVtZTtcbiAgICBzb3VuZC5sb2FkKCk7XG4gICAgcG9vbC5wdXNoKHNvdW5kKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcGxheTogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHBvb2xbY3VyclNvdW5kXS5jdXJyZW50VGltZSA9PT0gMCB8fCBwb29sW2N1cnJTb3VuZF0uZW5kZWQpIHtcbiAgICAgICAgcG9vbFtjdXJyU291bmRdLnBsYXkoKTtcbiAgICAgIH1cbiAgICAgIGN1cnJTb3VuZCA9IChjdXJyU291bmQgKyAxKSAlIHNpemU7XG4gICAgfVxuICB9O1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9saWIvc291bmRwb29sLmpzIiwiLyogZ2xvYmFsIEFGUkFNRSwgVEhSRUUgKi9cblxudmFyIGFuaW1lID0gcmVxdWlyZSgnYW5pbWVqcycpO1xuXG5BRlJBTUUuYW5pbWUgPSBhbmltZTtcblxuaWYgKHR5cGVvZiBBRlJBTUUgPT09ICd1bmRlZmluZWQnKSB7XG4gIHRocm93IG5ldyBFcnJvcignQ29tcG9uZW50IGF0dGVtcHRlZCB0byByZWdpc3RlciBiZWZvcmUgQUZSQU1FIHdhcyBhdmFpbGFibGUuJyk7XG59XG5cbnZhciBjb2xvckhlbHBlckZyb20gPSBuZXcgVEhSRUUuQ29sb3IoKTtcbnZhciBjb2xvckhlbHBlclRvID0gbmV3IFRIUkVFLkNvbG9yKCk7XG5cbnZhciB1dGlscyA9IEFGUkFNRS51dGlscztcbnZhciBnZXRDb21wb25lbnRQcm9wZXJ0eSA9IHV0aWxzLmVudGl0eS5nZXRDb21wb25lbnRQcm9wZXJ0eTtcbnZhciBzZXRDb21wb25lbnRQcm9wZXJ0eSA9IHV0aWxzLmVudGl0eS5zZXRDb21wb25lbnRQcm9wZXJ0eTtcbnZhciBzcGxpdENhY2hlID0ge307XG5cbnZhciBUWVBFX0NPTE9SID0gJ2NvbG9yJztcbnZhciBQUk9QX1BPU0lUSU9OID0gJ3Bvc2l0aW9uJztcbnZhciBQUk9QX1JPVEFUSU9OID0gJ3JvdGF0aW9uJztcbnZhciBQUk9QX1NDQUxFID0gJ3NjYWxlJztcbnZhciBTVFJJTkdfQ09NUE9ORU5UUyA9ICdjb21wb25lbnRzJztcbnZhciBTVFJJTkdfT0JKRUNUM0QgPSAnb2JqZWN0M0QnO1xuXG4vKipcbiAqIEFuaW1hdGlvbiBjb21wb25lbnQgZm9yIEEtRnJhbWUgdXNpbmcgYW5pbWUuanMuXG4gKlxuICogVGhlIGNvbXBvbmVudCBtYW51YWxseSBjb250cm9scyB0aGUgdGljayBieSBzZXR0aW5nIGBhdXRvcGxheTogZmFsc2VgIG9uIGFuaW1lLmpzIGFuZFxuICogbWFudWFsbHkgKiBjYWxsaW5nIGBhbmltYXRpb24udGljaygpYCBpbiB0aGUgdGljayBoYW5kbGVyLiBUbyBwYXVzZSBvciByZXN1bWUsIHdlIHRvZ2dsZSBhXG4gKiBib29sZWFuICogZmxhZyAqIGBpc0FuaW1hdGlvblBsYXlpbmdgLlxuICpcbiAqIGFuaW1lLmpzIGFuaW1hdGlvbiBjb25maWcgZm9yIHR3ZWVuaW5pbmcgSmF2YXNjcmlwdCBvYmplY3RzIGFuZCB2YWx1ZXMgd29ya3MgYXM6XG4gKlxuICogIGNvbmZpZyA9IHtcbiAqICAgIHRhcmdldHM6IHtmb286IDAuMCwgYmFyOiAnIzAwMCd9LFxuICogICAgZm9vOiAxLjAsXG4gKiAgICBiYXI6ICcjRkZGJ1xuICogIH1cbiAqXG4gKiBUaGUgYWJvdmUgd2lsbCB0d2VlbiBlYWNoIHByb3BlcnR5IGluIGB0YXJnZXRzYC4gVGhlIGB0b2AgdmFsdWVzIGFyZSBzZXQgaW4gdGhlIHJvb3Qgb2ZcbiAqIHRoZSBjb25maWcuXG4gKlxuICogQG1lbWJlciB7b2JqZWN0fSBhbmltYXRpb24gLSBhbmltZS5qcyBpbnN0YW5jZS5cbiAqIEBtZW1iZXIge2Jvb2xlYW59IGFuaW1hdGlvbklzUGxheWluZyAtIENvbnRyb2wgaWYgYW5pbWF0aW9uIGlzIHBsYXlpbmcuXG4gKi9cbkFGUkFNRS5yZWdpc3RlckNvbXBvbmVudCgnYW5pbWF0aW9uJywge1xuICBzY2hlbWE6IHtcbiAgICBhdXRvcGxheToge2RlZmF1bHQ6IHRydWV9LFxuICAgIGRlbGF5OiB7ZGVmYXVsdDogMH0sXG4gICAgZGlyOiB7ZGVmYXVsdDogJyd9LFxuICAgIGR1cjoge2RlZmF1bHQ6IDEwMDB9LFxuICAgIGVhc2luZzoge2RlZmF1bHQ6ICdlYXNlSW5RdWFkJ30sXG4gICAgZWxhc3RpY2l0eToge2RlZmF1bHQ6IDQwMH0sXG4gICAgZnJvbToge2RlZmF1bHQ6ICcnfSxcbiAgICBsb29wOiB7XG4gICAgICBkZWZhdWx0OiAwLFxuICAgICAgcGFyc2U6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAvLyBCb29sZWFuIG9yIGludGVnZXIuXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gJ3RydWUnKSB7IHJldHVybiB0cnVlOyB9XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gZmFsc2UgfHwgdmFsdWUgPT09ICdmYWxzZScpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgIHJldHVybiBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgICAgfVxuICAgIH0sXG4gICAgcHJvcGVydHk6IHtkZWZhdWx0OiAnJ30sXG4gICAgc3RhcnRFdmVudHM6IHt0eXBlOiAnYXJyYXknfSxcbiAgICBwYXVzZUV2ZW50czoge3R5cGU6ICdhcnJheSd9LFxuICAgIHJlc3VtZUV2ZW50czoge3R5cGU6ICdhcnJheSd9LFxuICAgIHRvOiB7ZGVmYXVsdDogJyd9LFxuICAgIHR5cGU6IHtkZWZhdWx0OiAnJ30sXG4gICAgaXNSYXdQcm9wZXJ0eToge2RlZmF1bHQ6IGZhbHNlfVxuICB9LFxuXG4gIG11bHRpcGxlOiB0cnVlLFxuXG4gIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB0aGlzLmV2ZW50RGV0YWlsID0ge25hbWU6IHRoaXMuYXR0ck5hbWV9O1xuICAgIHRoaXMudGltZSA9IDA7XG5cbiAgICB0aGlzLmFuaW1hdGlvbiA9IG51bGw7XG4gICAgdGhpcy5hbmltYXRpb25Jc1BsYXlpbmcgPSBmYWxzZTtcbiAgICB0aGlzLm9uU3RhcnRFdmVudCA9IHRoaXMub25TdGFydEV2ZW50LmJpbmQodGhpcyk7XG4gICAgdGhpcy5iZWdpbkFuaW1hdGlvbiA9IHRoaXMuYmVnaW5BbmltYXRpb24uYmluZCh0aGlzKTtcbiAgICB0aGlzLnBhdXNlQW5pbWF0aW9uID0gdGhpcy5wYXVzZUFuaW1hdGlvbi5iaW5kKHRoaXMpO1xuICAgIHRoaXMucmVzdW1lQW5pbWF0aW9uID0gdGhpcy5yZXN1bWVBbmltYXRpb24uYmluZCh0aGlzKTtcblxuICAgIHRoaXMuZnJvbUNvbG9yID0ge307XG4gICAgdGhpcy50b0NvbG9yID0ge307XG4gICAgdGhpcy50YXJnZXRzID0ge307XG4gICAgdGhpcy50YXJnZXRzQXJyYXkgPSBbXTtcblxuICAgIHRoaXMuY29uZmlnID0ge1xuICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VsZi5hbmltYXRpb25Jc1BsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgc2VsZi5lbC5lbWl0KCdhbmltYXRpb25jb21wbGV0ZScsIHNlbGYuZXZlbnREZXRhaWwpO1xuICAgICAgfVxuICAgIH07XG4gIH0sXG5cbiAgdXBkYXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNvbmZpZyA9IHRoaXMuY29uZmlnO1xuICAgIHZhciBkYXRhID0gdGhpcy5kYXRhO1xuXG4gICAgdGhpcy5hbmltYXRpb25Jc1BsYXlpbmcgPSBmYWxzZTtcblxuICAgIGlmICghZGF0YS5wcm9wZXJ0eSkgeyByZXR1cm47IH1cblxuICAgIC8vIEJhc2UgY29uZmlnLlxuICAgIGNvbmZpZy5hdXRvcGxheSA9IGZhbHNlO1xuICAgIGNvbmZpZy5kaXJlY3Rpb24gPSBkYXRhLmRpcjtcbiAgICBjb25maWcuZHVyYXRpb24gPSBkYXRhLmR1cjtcbiAgICBjb25maWcuZWFzaW5nID0gZGF0YS5lYXNpbmc7XG4gICAgY29uZmlnLmVsYXN0aWNpdHkgPSBkYXRhLmVsYXN0aWNpdHk7XG4gICAgY29uZmlnLmxvb3AgPSBkYXRhLmxvb3A7XG5cbiAgICAvLyBTdGFydCBuZXcgYW5pbWF0aW9uLlxuICAgIHRoaXMuY3JlYXRlQW5kU3RhcnRBbmltYXRpb24oKTtcbiAgfSxcblxuICB0aWNrOiBmdW5jdGlvbiAodCwgZHQpIHtcbiAgICBpZiAoIXRoaXMuYW5pbWF0aW9uSXNQbGF5aW5nKSB7IHJldHVybjsgfVxuICAgIHRoaXMudGltZSArPSBkdDtcbiAgICB0aGlzLmFuaW1hdGlvbi50aWNrKHRoaXMudGltZSk7XG4gIH0sXG5cbiAgcmVtb3ZlOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5wYXVzZUFuaW1hdGlvbigpO1xuICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgfSxcblxuICBwYXVzZTogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMucGF1c2VkID0gdHJ1ZTtcbiAgICB0aGlzLnBhdXNlZFdhc1BsYXlpbmcgPSB0cnVlO1xuICAgIHRoaXMucGF1c2VBbmltYXRpb24oKTtcbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIGBwbGF5YCBoYW5kbGVyIG9ubHkgZm9yIHJlc3VtaW5nIHNjZW5lLlxuICAgKi9cbiAgcGxheTogZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy5wYXVzZWQpIHsgcmV0dXJuOyB9XG4gICAgdGhpcy5wYXVzZWQgPSBmYWxzZTtcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgaWYgKHRoaXMucGF1c2VkV2FzUGxheWluZykge1xuICAgICAgdGhpcy5yZXN1bWVBbmltYXRpb24oKTtcbiAgICAgIHRoaXMucGF1c2VkV2FzUGxheWluZyA9IGZhbHNlO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogU3RhcnQgYW5pbWF0aW9uIGZyb20gc2NyYXRjaC5cbiAgICovXG4gIGNyZWF0ZUFuZFN0YXJ0QW5pbWF0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGRhdGEgPSB0aGlzLmRhdGE7XG5cbiAgICB0aGlzLnVwZGF0ZUNvbmZpZygpO1xuICAgIHRoaXMuYW5pbWF0aW9uSXNQbGF5aW5nID0gZmFsc2U7XG4gICAgdGhpcy5hbmltYXRpb24gPSBhbmltZSh0aGlzLmNvbmZpZyk7XG5cbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVycygpO1xuXG4gICAgLy8gV2FpdCBmb3Igc3RhcnQgZXZlbnRzIGZvciBhbmltYXRpb24uXG4gICAgaWYgKCFkYXRhLmF1dG9wbGF5IHx8IGRhdGEuc3RhcnRFdmVudHMgJiYgZGF0YS5zdGFydEV2ZW50cy5sZW5ndGgpIHsgcmV0dXJuOyB9XG5cbiAgICAvLyBEZWxheSBhbmltYXRpb24uXG4gICAgaWYgKGRhdGEuZGVsYXkpIHtcbiAgICAgIHNldFRpbWVvdXQodGhpcy5iZWdpbkFuaW1hdGlvbiwgZGF0YS5kZWxheSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gUGxheSBhbmltYXRpb24uXG4gICAgdGhpcy5iZWdpbkFuaW1hdGlvbigpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBUaGlzIGlzIGJlZm9yZSBhbmltYXRpb24gc3RhcnQgKGluY2x1ZGluZyBmcm9tIHN0YXJ0RXZlbnRzKS5cbiAgICogU2V0IHRvIGluaXRpYWwgc3RhdGUgKGNvbmZpZy5mcm9tLCB0aW1lID0gMCwgc2Vla1RpbWUgPSAwKS5cbiAgICovXG4gIGJlZ2luQW5pbWF0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy51cGRhdGVDb25maWcoKTtcbiAgICB0aGlzLnRpbWUgPSAwO1xuICAgIHRoaXMuYW5pbWF0aW9uLnNlZWsoMCk7XG4gICAgdGhpcy5hbmltYXRpb25Jc1BsYXlpbmcgPSB0cnVlO1xuICAgIHRoaXMuc3RvcFJlbGF0ZWRBbmltYXRpb25zKCk7XG4gICAgdGhpcy5lbC5lbWl0KCdhbmltYXRpb25iZWdpbicsIHRoaXMuZXZlbnREZXRhaWwpO1xuICB9LFxuXG4gIHBhdXNlQW5pbWF0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5hbmltYXRpb25Jc1BsYXlpbmcgPSBmYWxzZTtcbiAgfSxcblxuICByZXN1bWVBbmltYXRpb246IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmFuaW1hdGlvbklzUGxheWluZyA9IHRydWU7XG4gIH0sXG5cbiAgLyoqXG4gICAqIHN0YXJ0RXZlbnRzIGNhbGxiYWNrLlxuICAgKi9cbiAgb25TdGFydEV2ZW50OiBmdW5jdGlvbiAoKSB7XG4gICAgLy8gSW5jbHVkZSB0aGUgZGVsYXkgYmVmb3JlIGVhY2ggc3RhcnQgZXZlbnQuXG4gICAgaWYgKHRoaXMuZGF0YS5kZWxheSkge1xuICAgICAgc2V0VGltZW91dCh0aGlzLmJlZ2luQW5pbWF0aW9uLCB0aGlzLmRhdGEuZGVsYXkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmJlZ2luQW5pbWF0aW9uKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIHJhd1Byb3BlcnR5OiB0cnVlIGFuZCB0eXBlOiBjb2xvcjtcbiAgICovXG4gIHVwZGF0ZUNvbmZpZ0ZvclJhd0NvbG9yOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNvbmZpZyA9IHRoaXMuY29uZmlnO1xuICAgIHZhciBkYXRhID0gdGhpcy5kYXRhO1xuICAgIHZhciBlbCA9IHRoaXMuZWw7XG4gICAgdmFyIGZyb207XG4gICAgdmFyIGtleTtcbiAgICB2YXIgdG87XG5cbiAgICBmcm9tID0gZGF0YS5mcm9tIHx8IGdldFJhd1Byb3BlcnR5KGVsLCBkYXRhLnByb3BlcnR5KTtcbiAgICB0byA9IGRhdGEudG87XG5cbiAgICAvLyBVc2Ugci9nL2IgdmVjdG9yIGZvciBjb2xvciB0eXBlLlxuICAgIHRoaXMuc2V0Q29sb3JDb25maWcoZnJvbSwgdG8pO1xuICAgIGZyb20gPSB0aGlzLmZyb21Db2xvcjtcbiAgICB0byA9IHRoaXMudG9Db2xvcjtcblxuICAgIHRoaXMudGFyZ2V0c0FycmF5Lmxlbmd0aCA9IDA7XG4gICAgdGhpcy50YXJnZXRzQXJyYXkucHVzaChmcm9tKTtcbiAgICBjb25maWcudGFyZ2V0cyA9IHRoaXMudGFyZ2V0c0FycmF5O1xuICAgIGZvciAoa2V5IGluIHRvKSB7IGNvbmZpZ1trZXldID0gdG9ba2V5XTsgfVxuXG4gICAgY29uZmlnLnVwZGF0ZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgbGFzdFZhbHVlID0ge307XG4gICAgICBsYXN0VmFsdWUuciA9IGZyb20ucjtcbiAgICAgIGxhc3RWYWx1ZS5nID0gZnJvbS5nO1xuICAgICAgbGFzdFZhbHVlLmIgPSBmcm9tLmI7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiAoYW5pbSkge1xuICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgIHZhbHVlID0gYW5pbS5hbmltYXRhYmxlc1swXS50YXJnZXQ7XG5cbiAgICAgICAgLy8gRm9yIGFuaW1hdGlvbiB0aW1lbGluZS5cbiAgICAgICAgICBpZiAodmFsdWUuciA9PT0gbGFzdFZhbHVlLnIgJiZcbiAgICAgICAgICAgICAgdmFsdWUuZyA9PT0gbGFzdFZhbHVlLmcgJiZcbiAgICAgICAgICAgICAgdmFsdWUuYiA9PT0gbGFzdFZhbHVlLmIpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgc2V0UmF3UHJvcGVydHkoZWwsIGRhdGEucHJvcGVydHksIHZhbHVlLCBkYXRhLnR5cGUpO1xuICAgICAgfTtcbiAgICB9KSgpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTdHVmZiBwcm9wZXJ0eSBpbnRvIGdlbmVyaWMgYHByb3BlcnR5YCBrZXkuXG4gICAqL1xuICB1cGRhdGVDb25maWdGb3JEZWZhdWx0OiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNvbmZpZyA9IHRoaXMuY29uZmlnO1xuICAgIHZhciBkYXRhID0gdGhpcy5kYXRhO1xuICAgIHZhciBlbCA9IHRoaXMuZWw7XG4gICAgdmFyIGZyb207XG4gICAgdmFyIGtleTtcbiAgICB2YXIgaXNCb29sZWFuO1xuICAgIHZhciBpc051bWJlcjtcbiAgICB2YXIgdG87XG5cbiAgICBmcm9tID0gZGF0YS5mcm9tIHx8IChcbiAgICAgIGlzUmF3UHJvcGVydHkoZGF0YSlcbiAgICAgICAgPyBnZXRSYXdQcm9wZXJ0eShlbCwgZGF0YS5wcm9wZXJ0eSlcbiAgICAgICAgOiBnZXRDb21wb25lbnRQcm9wZXJ0eShlbCwgZGF0YS5wcm9wZXJ0eSlcbiAgICApO1xuICAgIHRvID0gZGF0YS50bztcblxuICAgIGlzTnVtYmVyID0gIWlzTmFOKGZyb20gfHwgdG8pO1xuICAgIGlmIChpc051bWJlcikge1xuICAgICAgZnJvbSA9IHBhcnNlRmxvYXQoZnJvbSk7XG4gICAgICB0byA9IHBhcnNlRmxvYXQodG8pO1xuICAgIH0gZWxzZSB7XG4gICAgICBmcm9tID0gZnJvbSA/IGZyb20udG9TdHJpbmcoKSA6IGZyb207XG4gICAgICB0byA9IHRvID8gdG8udG9TdHJpbmcoKSA6IHRvO1xuICAgIH1cblxuICAgIC8vIENvbnZlcnQgYm9vbGVhbnMgdG8gaW50ZWdlciB0byBhbGxvdyBib29sZWFuIGZsaXBwaW5nLlxuICAgIGlzQm9vbGVhbiA9IHRvID09PSAndHJ1ZScgfHwgdG8gPT09ICdmYWxzZSc7XG4gICAgaWYgKGlzQm9vbGVhbikge1xuICAgICAgZnJvbSA9IGRhdGEuZnJvbSA9PT0gJ3RydWUnID8gMSA6IDA7XG4gICAgICB0byA9IGRhdGEudG8gPT09ICd0cnVlJyA/IDEgOiAwO1xuICAgIH1cblxuICAgIHRoaXMudGFyZ2V0cy5hZnJhbWVQcm9wZXJ0eSA9IGZyb207XG4gICAgY29uZmlnLnRhcmdldHMgPSB0aGlzLnRhcmdldHM7XG4gICAgY29uZmlnLmFmcmFtZVByb3BlcnR5ID0gdG87XG4gICAgY29uZmlnLnVwZGF0ZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgbGFzdFZhbHVlID0gZnJvbTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoYW5pbSkge1xuICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgIHZhbHVlID0gYW5pbS5hbmltYXRhYmxlc1swXS50YXJnZXQuYWZyYW1lUHJvcGVydHk7XG5cbiAgICAgICAgLy8gTmVlZCB0byBkbyBhIGxhc3QgdmFsdWUgY2hlY2sgZm9yIGFuaW1hdGlvbiB0aW1lbGluZSBzaW5jZSBhbGwgdGhlIHR3ZWVuaW5nXG4gICAgICAgIC8vIGJlZ2lucyBzaW11bHRhZW5vdXNseSBldmVuIGlmIHRoZSB2YWx1ZSBoYXMgbm90IGNoYW5nZWQuIEFsc28gYmV0dGVyIGZvciBwZXJmXG4gICAgICAgIC8vIGFueXdheXMuXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbGFzdFZhbHVlKSB7IHJldHVybjsgfVxuICAgICAgICBsYXN0VmFsdWUgPSB2YWx1ZTtcblxuICAgICAgICBpZiAoaXNCb29sZWFuKSB7XG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZSA+PSAxID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzUmF3UHJvcGVydHkoZGF0YSkpIHtcbiAgICAgICAgICBzZXRSYXdQcm9wZXJ0eShlbCwgZGF0YS5wcm9wZXJ0eSwgdmFsdWUsIGRhdGEudHlwZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0Q29tcG9uZW50UHJvcGVydHkoZWwsIGRhdGEucHJvcGVydHksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KSgpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBFeHRlbmQgeC95L3ovdyBvbnRvIHRoZSBjb25maWcuXG4gICAqIFVwZGF0ZSB2ZWN0b3IgYnkgbW9kaWZ5aW5nIG9iamVjdDNELlxuICAgKi9cbiAgdXBkYXRlQ29uZmlnRm9yVmVjdG9yOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNvbmZpZyA9IHRoaXMuY29uZmlnO1xuICAgIHZhciBkYXRhID0gdGhpcy5kYXRhO1xuICAgIHZhciBlbCA9IHRoaXMuZWw7XG4gICAgdmFyIGtleTtcbiAgICB2YXIgZnJvbTtcbiAgICB2YXIgdG87XG5cbiAgICAvLyBQYXJzZSBjb29yZGluYXRlcy5cbiAgICBmcm9tID0gZGF0YS5mcm9tXG4gICAgICA/IEFGUkFNRS51dGlscy5jb29yZGluYXRlcy5wYXJzZShkYXRhLmZyb20pICAvLyBJZiBkYXRhLmZyb20gZGVmaW5lZCwgdXNlIHRoYXQuXG4gICAgICA6IGdldENvbXBvbmVudFByb3BlcnR5KGVsLCBkYXRhLnByb3BlcnR5KTsgIC8vIElmIGRhdGEuZnJvbSBub3QgZGVmaW5lZCwgZ2V0IG9uIHRoZSBmbHkuXG4gICAgdG8gPSBBRlJBTUUudXRpbHMuY29vcmRpbmF0ZXMucGFyc2UoZGF0YS50byk7XG5cbiAgICAvLyBBbmltYXRlIHJvdGF0aW9uIHRocm91Z2ggcmFkaWFucy5cbiAgICBpZiAoZGF0YS5wcm9wZXJ0eSA9PT0gUFJPUF9ST1RBVElPTikge1xuICAgICAgdG9SYWRpYW5zKGZyb20pO1xuICAgICAgdG9SYWRpYW5zKHRvKTtcbiAgICB9XG5cbiAgICAvLyBTZXQgdG8gYW5kIGZyb20uXG4gICAgdGhpcy50YXJnZXRzQXJyYXkubGVuZ3RoID0gMDtcbiAgICB0aGlzLnRhcmdldHNBcnJheS5wdXNoKGZyb20pO1xuICAgIGNvbmZpZy50YXJnZXRzID0gdGhpcy50YXJnZXRzQXJyYXk7XG4gICAgZm9yIChrZXkgaW4gdG8pIHsgY29uZmlnW2tleV0gPSB0b1trZXldOyB9XG5cbiAgICAvLyBJZiBhbmltYXRpbmcgb2JqZWN0M0QgdHJhbnNmb3JtYXRpb24sIHJ1biBtb3JlIG9wdGltaXplZCB1cGRhdGVyLlxuICAgIGlmIChkYXRhLnByb3BlcnR5ID09PSBQUk9QX1BPU0lUSU9OIHx8IGRhdGEucHJvcGVydHkgPT09IFBST1BfUk9UQVRJT04gfHxcbiAgICAgICAgZGF0YS5wcm9wZXJ0eSA9PT0gUFJPUF9TQ0FMRSkge1xuICAgICAgY29uZmlnLnVwZGF0ZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsYXN0VmFsdWUgPSB7fTtcbiAgICAgICAgbGFzdFZhbHVlLnggPSBmcm9tLng7XG4gICAgICAgIGxhc3RWYWx1ZS55ID0gZnJvbS55O1xuICAgICAgICBsYXN0VmFsdWUueiA9IGZyb20uejtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGFuaW0pIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBhbmltLmFuaW1hdGFibGVzWzBdLnRhcmdldDtcbiAgICAgICAgICAvLyBGb3IgYW5pbWF0aW9uIHRpbWVsaW5lLlxuICAgICAgICAgIGlmICh2YWx1ZS54ID09PSBsYXN0VmFsdWUueCAmJlxuICAgICAgICAgICAgICB2YWx1ZS55ID09PSBsYXN0VmFsdWUueSAmJlxuICAgICAgICAgICAgICB2YWx1ZS56ID09PSBsYXN0VmFsdWUueikgeyByZXR1cm47IH1cbiAgICAgICAgICBsYXN0VmFsdWUueCA9IHZhbHVlLng7XG4gICAgICAgICAgbGFzdFZhbHVlLnkgPSB2YWx1ZS55O1xuICAgICAgICAgIGxhc3RWYWx1ZS56ID0gdmFsdWUuejtcbiAgICAgICAgICBlbC5vYmplY3QzRFtkYXRhLnByb3BlcnR5XS5zZXQodmFsdWUueCwgdmFsdWUueSwgdmFsdWUueik7XG4gICAgICAgIH07XG4gICAgICB9KSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEFuaW1hdGluZyBzb21lIHZlY3Rvci5cbiAgICBjb25maWcudXBkYXRlID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBsYXN0VmFsdWUgPSB7fTtcbiAgICAgIGxhc3RWYWx1ZS54ID0gZnJvbS54O1xuICAgICAgbGFzdFZhbHVlLnkgPSBmcm9tLnk7XG4gICAgICBsYXN0VmFsdWUueiA9IGZyb20uejtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhbmltKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFuaW0uYW5pbWF0aW9uc1swXS50YXJnZXQ7XG4gICAgICAgIC8vIEZvciBhbmltYXRpb24gdGltZWxpbmUuXG4gICAgICAgIGlmICh2YWx1ZS54ID09PSBsYXN0VmFsdWUueCAmJlxuICAgICAgICAgICAgdmFsdWUueSA9PT0gbGFzdFZhbHVlLnkgJiZcbiAgICAgICAgICAgIHZhbHVlLnogPT09IGxhc3RWYWx1ZS56KSB7IHJldHVybjsgfVxuICAgICAgICBsYXN0VmFsdWUueCA9IHZhbHVlLng7XG4gICAgICAgIGxhc3RWYWx1ZS55ID0gdmFsdWUueTtcbiAgICAgICAgbGFzdFZhbHVlLnogPSB2YWx1ZS56O1xuICAgICAgICBzZXRDb21wb25lbnRQcm9wZXJ0eShlbCwgZGF0YS5wcm9wZXJ0eSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH0pKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgY29uZmlnIGJlZm9yZSBlYWNoIHJ1bi5cbiAgICovXG4gIHVwZGF0ZUNvbmZpZzogZnVuY3Rpb24gKCkge1xuICAgIHZhciBwcm9wVHlwZTtcblxuICAgIC8vIFJvdXRlIGNvbmZpZyB0eXBlLlxuICAgIHByb3BUeXBlID0gZ2V0UHJvcGVydHlUeXBlKHRoaXMuZWwsIHRoaXMuZGF0YS5wcm9wZXJ0eSk7XG4gICAgaWYgKGlzUmF3UHJvcGVydHkodGhpcy5kYXRhKSAmJiB0aGlzLmRhdGEudHlwZSA9PT0gVFlQRV9DT0xPUikge1xuICAgICAgdGhpcy51cGRhdGVDb25maWdGb3JSYXdDb2xvcigpO1xuICAgIH0gZWxzZSBpZiAocHJvcFR5cGUgPT09ICd2ZWMyJyB8fCBwcm9wVHlwZSA9PT0gJ3ZlYzMnIHx8IHByb3BUeXBlID09PSAndmVjNCcpIHtcbiAgICAgIHRoaXMudXBkYXRlQ29uZmlnRm9yVmVjdG9yKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudXBkYXRlQ29uZmlnRm9yRGVmYXVsdCgpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogTWFrZSBzdXJlIHR3byBhbmltYXRpb25zIG9uIHRoZSBzYW1lIHByb3BlcnR5IGRvbid0IGZpZ2h0IGVhY2ggb3RoZXIuXG4gICAqIGUuZy4sIGFuaW1hdGlvbl9fbW91c2VlbnRlcj1cInByb3BlcnR5OiBtYXRlcmlhbC5vcGFjaXR5XCJcbiAgICogICAgICAgYW5pbWF0aW9uX19tb3VzZWxlYXZlPVwicHJvcGVydHk6IG1hdGVyaWFsLm9wYWNpdHlcIlxuICAgKi9cbiAgc3RvcFJlbGF0ZWRBbmltYXRpb25zOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNvbXBvbmVudDtcbiAgICB2YXIgY29tcG9uZW50TmFtZTtcbiAgICBmb3IgKGNvbXBvbmVudE5hbWUgaW4gdGhpcy5lbC5jb21wb25lbnRzKSB7XG4gICAgICBjb21wb25lbnQgPSB0aGlzLmVsLmNvbXBvbmVudHNbY29tcG9uZW50TmFtZV07XG4gICAgICBpZiAoY29tcG9uZW50TmFtZSA9PT0gdGhpcy5hdHRyTmFtZSkgeyBjb250aW51ZTsgfVxuICAgICAgaWYgKGNvbXBvbmVudC5uYW1lICE9PSAnYW5pbWF0aW9uJykgeyBjb250aW51ZTsgfVxuICAgICAgaWYgKGNvbXBvbmVudC5kYXRhLnByb3BlcnR5ICE9PSB0aGlzLmRhdGEucHJvcGVydHkpIHsgY29udGludWU7IH1cbiAgICAgIGNvbXBvbmVudC5hbmltYXRpb25Jc1BsYXlpbmcgPSBmYWxzZTtcbiAgICB9XG4gIH0sXG5cbiAgYWRkRXZlbnRMaXN0ZW5lcnM6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICB2YXIgZWwgPSB0aGlzLmVsO1xuICAgIGFkZEV2ZW50TGlzdGVuZXJzKGVsLCBkYXRhLnN0YXJ0RXZlbnRzLCB0aGlzLm9uU3RhcnRFdmVudCk7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcnMoZWwsIGRhdGEucGF1c2VFdmVudHMsIHRoaXMucGF1c2VBbmltYXRpb24pO1xuICAgIGFkZEV2ZW50TGlzdGVuZXJzKGVsLCBkYXRhLnJlc3VtZUV2ZW50cywgdGhpcy5yZXN1bWVBbmltYXRpb24pO1xuICB9LFxuXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXJzOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgdmFyIGVsID0gdGhpcy5lbDtcbiAgICByZW1vdmVFdmVudExpc3RlbmVycyhlbCwgZGF0YS5zdGFydEV2ZW50cywgdGhpcy5vblN0YXJ0RXZlbnQpO1xuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJzKGVsLCBkYXRhLnBhdXNlRXZlbnRzLCB0aGlzLnBhdXNlQW5pbWF0aW9uKTtcbiAgICByZW1vdmVFdmVudExpc3RlbmVycyhlbCwgZGF0YS5yZXN1bWVFdmVudHMsIHRoaXMucmVzdW1lQW5pbWF0aW9uKTtcbiAgfSxcblxuICBzZXRDb2xvckNvbmZpZzogZnVuY3Rpb24gKGZyb20sIHRvKSB7XG4gICAgY29sb3JIZWxwZXJGcm9tLnNldChmcm9tKTtcbiAgICBjb2xvckhlbHBlclRvLnNldCh0byk7XG4gICAgZnJvbSA9IHRoaXMuZnJvbUNvbG9yO1xuICAgIHRvID0gdGhpcy50b0NvbG9yO1xuICAgIGZyb20uciA9IGNvbG9ySGVscGVyRnJvbS5yO1xuICAgIGZyb20uZyA9IGNvbG9ySGVscGVyRnJvbS5nO1xuICAgIGZyb20uYiA9IGNvbG9ySGVscGVyRnJvbS5iO1xuICAgIHRvLnIgPSBjb2xvckhlbHBlclRvLnI7XG4gICAgdG8uZyA9IGNvbG9ySGVscGVyVG8uZztcbiAgICB0by5iID0gY29sb3JIZWxwZXJUby5iO1xuICB9XG59KTtcblxuLyoqXG4gKiBHaXZlbiBwcm9wZXJ0eSBuYW1lLCBjaGVjayBzY2hlbWEgdG8gc2VlIHdoYXQgdHlwZSB3ZSBhcmUgYW5pbWF0aW5nLlxuICogV2UganVzdCBjYXJlIHdoZXRoZXIgdGhlIHByb3BlcnR5IGlzIGEgdmVjdG9yLlxuICovXG5mdW5jdGlvbiBnZXRQcm9wZXJ0eVR5cGUgKGVsLCBwcm9wZXJ0eSkge1xuICB2YXIgY29tcG9uZW50O1xuICB2YXIgY29tcG9uZW50TmFtZTtcbiAgdmFyIHNwbGl0O1xuICB2YXIgcHJvcGVydHlOYW1lO1xuXG4gIHNwbGl0ID0gcHJvcGVydHkuc3BsaXQoJy4nKTtcbiAgY29tcG9uZW50TmFtZSA9IHNwbGl0WzBdO1xuICBwcm9wZXJ0eU5hbWUgPSBzcGxpdFsxXTtcbiAgY29tcG9uZW50ID0gZWwuY29tcG9uZW50c1tjb21wb25lbnROYW1lXSB8fCBBRlJBTUUuY29tcG9uZW50c1tjb21wb25lbnROYW1lXTtcblxuICAvLyBQcmltaXRpdmVzLlxuICBpZiAoIWNvbXBvbmVudCkgeyByZXR1cm4gbnVsbDsgfVxuXG4gIC8vIER5bmFtaWMgc2NoZW1hLiBXZSBvbmx5IGNhcmUgYWJvdXQgdmVjdG9ycyBhbnl3YXlzLlxuICBpZiAocHJvcGVydHlOYW1lICYmICFjb21wb25lbnQuc2NoZW1hW3Byb3BlcnR5TmFtZV0pIHsgcmV0dXJuIG51bGw7IH1cblxuICAvLyBNdWx0aS1wcm9wLlxuICBpZiAocHJvcGVydHlOYW1lKSB7IHJldHVybiBjb21wb25lbnQuc2NoZW1hW3Byb3BlcnR5TmFtZV0udHlwZTsgfVxuXG4gIC8vIFNpbmdsZS1wcm9wLlxuICByZXR1cm4gY29tcG9uZW50LnNjaGVtYS50eXBlO1xufVxuXG4vKipcbiAqIENvbnZlcnQgb2JqZWN0IHRvIHJhZGlhbnMuXG4gKi9cbmZ1bmN0aW9uIHRvUmFkaWFucyAob2JqKSB7XG4gIG9iai54ID0gVEhSRUUuTWF0aC5kZWdUb1JhZChvYmoueCk7XG4gIG9iai55ID0gVEhSRUUuTWF0aC5kZWdUb1JhZChvYmoueSk7XG4gIG9iai56ID0gVEhSRUUuTWF0aC5kZWdUb1JhZChvYmoueik7XG59XG5cbmZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXJzIChlbCwgZXZlbnROYW1lcywgaGFuZGxlcikge1xuICB2YXIgaTtcbiAgZm9yIChpID0gMDsgaSA8IGV2ZW50TmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZXNbaV0sIGhhbmRsZXIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXJzIChlbCwgZXZlbnROYW1lcywgaGFuZGxlcikge1xuICB2YXIgaTtcbiAgZm9yIChpID0gMDsgaSA8IGV2ZW50TmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZXNbaV0sIGhhbmRsZXIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFJhd1Byb3BlcnR5IChlbCwgcGF0aCkge1xuICB2YXIgaTtcbiAgdmFyIHNwbGl0O1xuICB2YXIgdmFsdWU7XG4gIHNwbGl0ID0gc3BsaXREb3QocGF0aCk7XG4gIHZhbHVlID0gZWw7XG4gIGZvciAoaSA9IDA7IGkgPCBzcGxpdC5sZW5ndGg7IGkrKykgeyB2YWx1ZSA9IHZhbHVlW3NwbGl0W2ldXTsgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIHNldFJhd1Byb3BlcnR5IChlbCwgcGF0aCwgdmFsdWUsIHR5cGUpIHtcbiAgdmFyIGk7XG4gIHZhciBzcGxpdDtcbiAgdmFyIHByb3BlcnR5TmFtZTtcbiAgdmFyIHRhcmdldFZhbHVlO1xuXG4gIC8vIFdhbGsuXG4gIHNwbGl0ID0gc3BsaXREb3QocGF0aCk7XG4gIHRhcmdldFZhbHVlID0gZWw7XG4gIGZvciAoaSA9IDA7IGkgPCBzcGxpdC5sZW5ndGggLSAxOyBpKyspIHsgdGFyZ2V0VmFsdWUgPSB0YXJnZXRWYWx1ZVtzcGxpdFtpXV07IH1cbiAgcHJvcGVydHlOYW1lID0gc3BsaXRbc3BsaXQubGVuZ3RoIC0gMV07XG5cbiAgLy8gUmF3IGNvbG9yLlxuICBpZiAodHlwZSA9PT0gVFlQRV9DT0xPUikge1xuICAgIGlmICgncicgaW4gdGFyZ2V0VmFsdWVbcHJvcGVydHlOYW1lXSkge1xuICAgICAgdGFyZ2V0VmFsdWVbcHJvcGVydHlOYW1lXS5yID0gdmFsdWUucjtcbiAgICAgIHRhcmdldFZhbHVlW3Byb3BlcnR5TmFtZV0uZyA9IHZhbHVlLmc7XG4gICAgICB0YXJnZXRWYWx1ZVtwcm9wZXJ0eU5hbWVdLmIgPSB2YWx1ZS5iO1xuICAgIH0gZWxzZSB7XG4gICAgICB0YXJnZXRWYWx1ZVtwcm9wZXJ0eU5hbWVdLnggPSB2YWx1ZS5yO1xuICAgICAgdGFyZ2V0VmFsdWVbcHJvcGVydHlOYW1lXS55ID0gdmFsdWUuZztcbiAgICAgIHRhcmdldFZhbHVlW3Byb3BlcnR5TmFtZV0ueiA9IHZhbHVlLmI7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuXG4gIHRhcmdldFZhbHVlW3Byb3BlcnR5TmFtZV0gPSB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gc3BsaXREb3QgKHBhdGgpIHtcbiAgaWYgKHBhdGggaW4gc3BsaXRDYWNoZSkgeyByZXR1cm4gc3BsaXRDYWNoZVtwYXRoXTsgfVxuICBzcGxpdENhY2hlW3BhdGhdID0gcGF0aC5zcGxpdCgnLicpO1xuICByZXR1cm4gc3BsaXRDYWNoZVtwYXRoXTtcbn1cblxuZnVuY3Rpb24gaXNSYXdQcm9wZXJ0eSAoZGF0YSkge1xuICByZXR1cm4gZGF0YS5pc1Jhd1Byb3BlcnR5IHx8IGRhdGEucHJvcGVydHkuc3RhcnRzV2l0aChTVFJJTkdfQ09NUE9ORU5UUykgfHxcbiAgICAgICAgIGRhdGEucHJvcGVydHkuc3RhcnRzV2l0aChTVFJJTkdfT0JKRUNUM0QpO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2FmcmFtZS1hbmltYXRpb24tY29tcG9uZW50L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qIGdsb2JhbCBBRlJBTUUgKi9cbnZhciBzdHlsZVBhcnNlciA9IEFGUkFNRS51dGlscy5zdHlsZVBhcnNlcjtcblxuaWYgKHR5cGVvZiBBRlJBTUUgPT09ICd1bmRlZmluZWQnKSB7XG4gIHRocm93IG5ldyBFcnJvcignQ29tcG9uZW50IGF0dGVtcHRlZCB0byByZWdpc3RlciBiZWZvcmUgQUZSQU1FIHdhcyBhdmFpbGFibGUuJyk7XG59XG5cbkFGUkFNRS5yZWdpc3RlckNvbXBvbmVudCgnZXZlbnQtc2V0Jywge1xuICBzY2hlbWE6IHtcbiAgICBkZWZhdWx0OiAnJyxcbiAgICBwYXJzZTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gc3R5bGVQYXJzZXIucGFyc2UodmFsdWUpO1xuICAgIH1cbiAgfSxcblxuICBtdWx0aXBsZTogdHJ1ZSxcblxuICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5ldmVudEhhbmRsZXIgPSBudWxsO1xuICAgIHRoaXMuZXZlbnROYW1lID0gbnVsbDtcbiAgfSxcblxuICB1cGRhdGU6IGZ1bmN0aW9uIChvbGREYXRhKSB7XG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCk7XG4gICAgdGhpcy51cGRhdGVFdmVudExpc3RlbmVyKCk7XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCk7XG4gIH0sXG5cbiAgcmVtb3ZlOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCk7XG4gIH0sXG5cbiAgcGF1c2U6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoKTtcbiAgfSxcblxuICBwbGF5OiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBzb3VyY2Utb2YtdHJ1dGggZXZlbnQgbGlzdGVuZXIgcmVnaXN0cnkuXG4gICAqIERvZXMgbm90IGFjdHVhbGx5IGF0dGFjaCBldmVudCBsaXN0ZW5lcnMgeWV0LlxuICAgKi9cbiAgdXBkYXRlRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gKCkge1xuICAgIHZhciBkYXRhID0gdGhpcy5kYXRhO1xuICAgIHZhciBlbCA9IHRoaXMuZWw7XG4gICAgdmFyIGV2ZW50O1xuICAgIHZhciB0YXJnZXQ7XG4gICAgdmFyIHRhcmdldEVsO1xuXG4gICAgLy8gU2V0IGV2ZW50IGxpc3RlbmVyIHVzaW5nIGBfZXZlbnRgLlxuICAgIGV2ZW50ID0gZGF0YS5fZXZlbnQgfHwgdGhpcy5pZDtcbiAgICB0YXJnZXQgPSBkYXRhLl90YXJnZXQ7XG5cbiAgICAvLyBEZWNpZGUgdGhlIHRhcmdldCB0byBgc2V0QXR0cmlidXRlYCBvbi5cbiAgICB0YXJnZXRFbCA9IHRhcmdldCA/IGVsLnNjZW5lRWwucXVlcnlTZWxlY3Rvcih0YXJnZXQpIDogZWw7XG5cbiAgICB0aGlzLmV2ZW50TmFtZSA9IGV2ZW50O1xuICAgIHRoaXMuZXZlbnRIYW5kbGVyID0gZnVuY3Rpb24gaGFuZGxlciAoKSB7XG4gICAgICB2YXIgcHJvcE5hbWU7XG4gICAgICAvLyBTZXQgYXR0cmlidXRlcy5cbiAgICAgIGZvciAocHJvcE5hbWUgaW4gZGF0YSkge1xuICAgICAgICBpZiAocHJvcE5hbWUgPT09ICdfZXZlbnQnIHx8IHByb3BOYW1lID09PSAnX3RhcmdldCcpIHsgY29udGludWU7IH1cbiAgICAgICAgQUZSQU1FLnV0aWxzLmVudGl0eS5zZXRDb21wb25lbnRQcm9wZXJ0eS5jYWxsKHRoaXMsIHRhcmdldEVsLCBwcm9wTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbcHJvcE5hbWVdKTtcbiAgICAgIH1cbiAgICB9O1xuICB9LFxuXG4gIGFkZEV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5ldmVudE5hbWUsIHRoaXMuZXZlbnRIYW5kbGVyKTtcbiAgfSxcblxuICByZW1vdmVFdmVudExpc3RlbmVyOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuZXZlbnROYW1lLCB0aGlzLmV2ZW50SGFuZGxlcik7XG4gIH1cbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2FmcmFtZS1ldmVudC1zZXQtY29tcG9uZW50L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKlxuICogTGF5b3V0IGNvbXBvbmVudCBmb3IgQS1GcmFtZS5cbiAqIFNvbWUgbGF5b3V0cyBhZGFwdGVkIGZyb20gaHR0cDovL3d3dy52Yi1oZWxwZXIuY29tL3R1dG9yaWFsX3BsYXRvbmljX3NvbGlkcy5odG1sXG4gKi9cbkFGUkFNRS5yZWdpc3RlckNvbXBvbmVudCgnbGF5b3V0Jywge1xuICBzY2hlbWE6IHtcbiAgICBhbmdsZToge3R5cGU6ICdudW1iZXInLCBkZWZhdWx0OiBmYWxzZSwgbWluOiAwLCBtYXg6IDM2MCwgaWY6IHt0eXBlOiBbJ2NpcmNsZSddfX0sXG4gICAgY29sdW1uczoge2RlZmF1bHQ6IDEsIG1pbjogMCwgaWY6IHt0eXBlOiBbJ2JveCddfX0sXG4gICAgbWFyZ2luOiB7ZGVmYXVsdDogMSwgbWluOiAwLCBpZjoge3R5cGU6IFsnYm94JywgJ2xpbmUnXX19LFxuICAgIG1hcmdpbkNvbHVtbjoge2RlZmF1bHQ6IDEsIG1pbjogMCwgaWY6IHt0eXBlOiBbJ2JveCddfX0sXG4gICAgbWFyZ2luUm93OiB7ZGVmYXVsdDogMSwgbWluOiAwLCBpZjoge3R5cGU6IFsnYm94J119fSxcbiAgICBwbGFuZToge2RlZmF1bHQ6ICd4eSd9LFxuICAgIHJhZGl1czoge2RlZmF1bHQ6IDEsIG1pbjogMCwgaWY6IHt0eXBlOiBbJ2NpcmNsZScsICdjdWJlJywgJ2RvZGVjYWhlZHJvbicsICdweXJhbWlkJ119fSxcbiAgICByZXZlcnNlOiB7ZGVmYXVsdDogZmFsc2V9LFxuICAgIHR5cGU6IHtkZWZhdWx0OiAnbGluZScsIG9uZU9mOiBbJ2JveCcsICdjaXJjbGUnLCAnY3ViZScsICdkb2RlY2FoZWRyb24nLCAnbGluZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncHlyYW1pZCddfSxcbiAgICBmaWxsOiB7ZGVmYXVsdDogdHJ1ZSwgaWY6IHt0eXBlOiBbJ2NpcmNsZSddfX1cbiAgfSxcblxuICAvKipcbiAgICogU3RvcmUgaW5pdGlhbCBwb3NpdGlvbnMgaW4gY2FzZSBuZWVkIHRvIHJlc2V0IG9uIGNvbXBvbmVudCByZW1vdmFsLlxuICAgKi9cbiAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgZWwgPSB0aGlzLmVsO1xuXG4gICAgdGhpcy5jaGlsZHJlbiA9IGVsLmdldENoaWxkRW50aXRpZXMoKTtcbiAgICB0aGlzLmluaXRpYWxQb3NpdGlvbnMgPSBbXTtcblxuICAgIHRoaXMuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiBnZXRJbml0aWFsUG9zaXRpb25zIChjaGlsZEVsKSB7XG4gICAgICBpZiAoY2hpbGRFbC5oYXNMb2FkZWQpIHsgcmV0dXJuIF9nZXRQb3NpdGlvbnMoKTsgfVxuICAgICAgY2hpbGRFbC5hZGRFdmVudExpc3RlbmVyKCdsb2FkZWQnLCBfZ2V0UG9zaXRpb25zKTtcbiAgICAgIGZ1bmN0aW9uIF9nZXRQb3NpdGlvbnMgKCkge1xuICAgICAgICB2YXIgcG9zaXRpb24gPSBjaGlsZEVsLmdldEF0dHJpYnV0ZSgncG9zaXRpb24nKTtcbiAgICAgICAgc2VsZi5pbml0aWFsUG9zaXRpb25zLnB1c2goW3Bvc2l0aW9uLngsIHBvc2l0aW9uLnksIHBvc2l0aW9uLnpdKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoaWxkLWF0dGFjaGVkJywgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgLy8gT25seSB1cGRhdGUgaWYgZGlyZWN0IGNoaWxkIGF0dGFjaGVkLlxuICAgICAgaWYgKGV2dC5kZXRhaWwuZWwucGFyZW50Tm9kZSAhPT0gZWwpIHsgcmV0dXJuOyB9XG4gICAgICBzZWxmLmNoaWxkcmVuLnB1c2goZXZ0LmRldGFpbC5lbCk7XG4gICAgICBzZWxmLnVwZGF0ZSgpO1xuICAgIH0pO1xuXG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2hpbGQtZGV0YWNoZWQnLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAvLyBPbmx5IHVwZGF0ZSBpZiBkaXJlY3QgY2hpbGQgZGV0YWNoZWQuXG4gICAgICBpZiAoc2VsZi5jaGlsZHJlbi5pbmRleE9mKGV2dC5kZXRhaWwuZWwpID09PSAtMSkgeyByZXR1cm47IH1cbiAgICAgIHNlbGYuY2hpbGRyZW4uc3BsaWNlKHNlbGYuY2hpbGRyZW4uaW5kZXhPZihldnQuZGV0YWlsLmVsKSwgMSk7XG4gICAgICBzZWxmLmluaXRpYWxQb3NpdGlvbnMuc3BsaWNlKHNlbGYuY2hpbGRyZW4uaW5kZXhPZihldnQuZGV0YWlsLmVsKSwgMSk7XG4gICAgICBzZWxmLnVwZGF0ZSgpO1xuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBVcGRhdGUgY2hpbGQgZW50aXR5IHBvc2l0aW9ucy5cbiAgICovXG4gIHVwZGF0ZTogZnVuY3Rpb24gKG9sZERhdGEpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuO1xuICAgIHZhciBkYXRhID0gdGhpcy5kYXRhO1xuICAgIHZhciBlbCA9IHRoaXMuZWw7XG4gICAgdmFyIG51bUNoaWxkcmVuID0gY2hpbGRyZW4ubGVuZ3RoO1xuICAgIHZhciBwb3NpdGlvbkZuO1xuICAgIHZhciBwb3NpdGlvbnM7XG5cbiAgICAvLyBDYWxjdWxhdGUgZGlmZmVyZW50IHBvc2l0aW9ucyBiYXNlZCBvbiBsYXlvdXQgc2hhcGUuXG4gICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcbiAgICAgIGNhc2UgJ2JveCc6IHtcbiAgICAgICAgcG9zaXRpb25GbiA9IGdldEJveFBvc2l0aW9ucztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdjaXJjbGUnOiB7XG4gICAgICAgIHBvc2l0aW9uRm4gPSBnZXRDaXJjbGVQb3NpdGlvbnM7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnY3ViZSc6IHtcbiAgICAgICAgcG9zaXRpb25GbiA9IGdldEN1YmVQb3NpdGlvbnM7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnZG9kZWNhaGVkcm9uJzoge1xuICAgICAgICBwb3NpdGlvbkZuID0gZ2V0RG9kZWNhaGVkcm9uUG9zaXRpb25zO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3B5cmFtaWQnOiB7XG4gICAgICAgIHBvc2l0aW9uRm4gPSBnZXRQeXJhbWlkUG9zaXRpb25zO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgLy8gTGluZS5cbiAgICAgICAgcG9zaXRpb25GbiA9IGdldExpbmVQb3NpdGlvbnM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcG9zaXRpb25zID0gcG9zaXRpb25GbihkYXRhLCBudW1DaGlsZHJlbiwgJ21hcmdpbicgaW4gZWwuZ2V0RE9NQXR0cmlidXRlKCdsYXlvdXQnKSk7XG4gICAgaWYgKGRhdGEucmV2ZXJzZSkgeyBwb3NpdGlvbnMucmV2ZXJzZSgpOyB9XG4gICAgc2V0UG9zaXRpb25zKGNoaWxkcmVuLCBwb3NpdGlvbnMpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXNldCBwb3NpdGlvbnMuXG4gICAqL1xuICByZW1vdmU6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoaWxkLWF0dGFjaGVkJywgdGhpcy5jaGlsZEF0dGFjaGVkQ2FsbGJhY2spO1xuICAgIHNldFBvc2l0aW9ucyh0aGlzLmNoaWxkcmVuLCB0aGlzLmluaXRpYWxQb3NpdGlvbnMpO1xuICB9XG59KTtcblxuLyoqXG4gKiBHZXQgcG9zaXRpb25zIGZvciBgYm94YCBsYXlvdXQuXG4gKi9cbmZ1bmN0aW9uIGdldEJveFBvc2l0aW9ucyAoZGF0YSwgbnVtQ2hpbGRyZW4sIG1hcmdpbkRlZmluZWQpIHtcbiAgdmFyIG1hcmdpbkNvbHVtbjtcbiAgdmFyIG1hcmdpblJvdztcbiAgdmFyIHBvc2l0aW9uO1xuICB2YXIgcG9zaXRpb25zID0gW107XG4gIHZhciByb3dzID0gTWF0aC5jZWlsKG51bUNoaWxkcmVuIC8gZGF0YS5jb2x1bW5zKTtcblxuICBtYXJnaW5Db2x1bW4gPSBkYXRhLm1hcmdpbkNvbHVtbjtcbiAgbWFyZ2luUm93ID0gZGF0YS5tYXJnaW5Sb3c7XG4gIGlmIChtYXJnaW5EZWZpbmVkKSB7XG4gICAgbWFyZ2luQ29sdW1uID0gZGF0YS5tYXJnaW47XG4gICAgbWFyZ2luUm93ID0gZGF0YS5tYXJnaW47XG4gIH1cblxuICBmb3IgKHZhciByb3cgPSAwOyByb3cgPCByb3dzOyByb3crKykge1xuICAgIGZvciAodmFyIGNvbHVtbiA9IDA7IGNvbHVtbiA8IGRhdGEuY29sdW1uczsgY29sdW1uKyspIHtcbiAgICAgIHBvc2l0aW9uID0gWzAsIDAsIDBdO1xuICAgICAgaWYgKGRhdGEucGxhbmUuaW5kZXhPZigneCcpID09PSAwKSB7XG4gICAgICAgIHBvc2l0aW9uWzBdID0gY29sdW1uICogbWFyZ2luQ29sdW1uO1xuICAgICAgfVxuICAgICAgaWYgKGRhdGEucGxhbmUuaW5kZXhPZigneScpID09PSAwKSB7XG4gICAgICAgIHBvc2l0aW9uWzFdID0gY29sdW1uICogbWFyZ2luQ29sdW1uO1xuICAgICAgfVxuICAgICAgaWYgKGRhdGEucGxhbmUuaW5kZXhPZigneScpID09PSAxKSB7XG4gICAgICAgIHBvc2l0aW9uWzFdID0gcm93ICogbWFyZ2luUm93O1xuICAgICAgfVxuICAgICAgaWYgKGRhdGEucGxhbmUuaW5kZXhPZigneicpID09PSAxKSB7XG4gICAgICAgIHBvc2l0aW9uWzJdID0gcm93ICogbWFyZ2luUm93O1xuICAgICAgfVxuICAgICAgcG9zaXRpb25zLnB1c2gocG9zaXRpb24pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwb3NpdGlvbnM7XG59XG5tb2R1bGUuZXhwb3J0cy5nZXRCb3hQb3NpdGlvbnMgPSBnZXRCb3hQb3NpdGlvbnM7XG5cbi8qKlxuICogR2V0IHBvc2l0aW9ucyBmb3IgYGNpcmNsZWAgbGF5b3V0LlxuICovXG5mdW5jdGlvbiBnZXRDaXJjbGVQb3NpdGlvbnMgKGRhdGEsIG51bUNoaWxkcmVuKSB7XG4gIHZhciBwb3NpdGlvbnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IG51bUNoaWxkcmVuOyBpKyspIHtcbiAgICB2YXIgcmFkO1xuXG4gICAgaWYgKGlzTmFOKGRhdGEuYW5nbGUpKSB7XG4gICAgICByYWQgPSBpICogKDIgKiBNYXRoLlBJKSAvIG51bUNoaWxkcmVuO1xuICAgIH0gZWxzZSB7XG4gICAgICByYWQgPSBpICogZGF0YS5hbmdsZSAqIDAuMDE3NDUzMjkyNTI7ICAvLyBBbmdsZSB0byByYWRpYW4uXG4gICAgfVxuXG4gICAgdmFyIHBvc2l0aW9uID0gW107XG4gICAgaWYgKGRhdGEucGxhbmUuaW5kZXhPZigneCcpID09PSAwKSB7XG4gICAgICBwb3NpdGlvblswXSA9IGRhdGEucmFkaXVzICogTWF0aC5jb3MocmFkKTtcbiAgICB9XG4gICAgaWYgKGRhdGEucGxhbmUuaW5kZXhPZigneScpID09PSAwKSB7XG4gICAgICBwb3NpdGlvblsxXSA9IGRhdGEucmFkaXVzICogTWF0aC5jb3MocmFkKTtcbiAgICB9XG4gICAgaWYgKGRhdGEucGxhbmUuaW5kZXhPZigneScpID09PSAxKSB7XG4gICAgICBwb3NpdGlvblsxXSA9IGRhdGEucmFkaXVzICogTWF0aC5zaW4ocmFkKTtcbiAgICB9XG4gICAgaWYgKGRhdGEucGxhbmUuaW5kZXhPZigneicpID09PSAxKSB7XG4gICAgICBwb3NpdGlvblsyXSA9IGRhdGEucmFkaXVzICogTWF0aC5zaW4ocmFkKTtcbiAgICB9XG4gICAgcG9zaXRpb25zLnB1c2gocG9zaXRpb24pO1xuICB9XG4gIHJldHVybiBwb3NpdGlvbnM7XG59XG5tb2R1bGUuZXhwb3J0cy5nZXRDaXJjbGVQb3NpdGlvbnMgPSBnZXRDaXJjbGVQb3NpdGlvbnM7XG5cbi8qKlxuICogR2V0IHBvc2l0aW9ucyBmb3IgYGxpbmVgIGxheW91dC5cbiAqIFRPRE86IDNEIG1hcmdpbnMuXG4gKi9cbmZ1bmN0aW9uIGdldExpbmVQb3NpdGlvbnMgKGRhdGEsIG51bUNoaWxkcmVuKSB7XG4gIGRhdGEuY29sdW1ucyA9IG51bUNoaWxkcmVuO1xuICByZXR1cm4gZ2V0Qm94UG9zaXRpb25zKGRhdGEsIG51bUNoaWxkcmVuLCB0cnVlKTtcbn1cbm1vZHVsZS5leHBvcnRzLmdldExpbmVQb3NpdGlvbnMgPSBnZXRMaW5lUG9zaXRpb25zO1xuXG4vKipcbiAqIEdldCBwb3NpdGlvbnMgZm9yIGBjdWJlYCBsYXlvdXQuXG4gKi9cbmZ1bmN0aW9uIGdldEN1YmVQb3NpdGlvbnMgKGRhdGEsIG51bUNoaWxkcmVuKSB7XG4gIHJldHVybiB0cmFuc2Zvcm0oW1xuICAgIFsxLCAwLCAwXSxcbiAgICBbMCwgMSwgMF0sXG4gICAgWzAsIDAsIDFdLFxuICAgIFstMSwgMCwgMF0sXG4gICAgWzAsIC0xLCAwXSxcbiAgICBbMCwgMCwgLTFdLFxuICBdLCBkYXRhLnJhZGl1cyAvIDIpO1xufVxubW9kdWxlLmV4cG9ydHMuZ2V0Q3ViZVBvc2l0aW9ucyA9IGdldEN1YmVQb3NpdGlvbnM7XG5cbi8qKlxuICogR2V0IHBvc2l0aW9ucyBmb3IgYGRvZGVjYWhlZHJvbmAgbGF5b3V0LlxuICovXG5mdW5jdGlvbiBnZXREb2RlY2FoZWRyb25Qb3NpdGlvbnMgKGRhdGEsIG51bUNoaWxkcmVuKSB7XG4gIHZhciBQSEkgPSAoMSArIE1hdGguc3FydCg1KSkgLyAyO1xuICB2YXIgQiA9IDEgLyBQSEk7XG4gIHZhciBDID0gMiAtIFBISTtcbiAgdmFyIE5CID0gLTEgKiBCO1xuICB2YXIgTkMgPSAtMSAqIEM7XG5cbiAgcmV0dXJuIHRyYW5zZm9ybShbXG4gICAgWy0xLCBDLCAwXSxcbiAgICBbLTEsIE5DLCAwXSxcbiAgICBbMCwgLTEsIENdLFxuICAgIFswLCAtMSwgTkNdLFxuICAgIFswLCAxLCBDXSxcbiAgICBbMCwgMSwgTkNdLFxuICAgIFsxLCBDLCAwXSxcbiAgICBbMSwgTkMsIDBdLFxuICAgIFtCLCBCLCBCXSxcbiAgICBbQiwgQiwgTkJdLFxuICAgIFtCLCBOQiwgQl0sXG4gICAgW0IsIE5CLCBOQl0sXG4gICAgW0MsIDAsIDFdLFxuICAgIFtDLCAwLCAtMV0sXG4gICAgW05CLCBCLCBCXSxcbiAgICBbTkIsIEIsIE5CXSxcbiAgICBbTkIsIE5CLCBCXSxcbiAgICBbTkIsIE5CLCBOQl0sXG4gICAgW05DLCAwLCAxXSxcbiAgICBbTkMsIDAsIC0xXSxcbiAgXSwgZGF0YS5yYWRpdXMgLyAyKTtcbn1cbm1vZHVsZS5leHBvcnRzLmdldERvZGVjYWhlZHJvblBvc2l0aW9ucyA9IGdldERvZGVjYWhlZHJvblBvc2l0aW9ucztcblxuLyoqXG4gKiBHZXQgcG9zaXRpb25zIGZvciBgcHlyYW1pZGAgbGF5b3V0LlxuICovXG5mdW5jdGlvbiBnZXRQeXJhbWlkUG9zaXRpb25zIChkYXRhLCBudW1DaGlsZHJlbikge1xuICB2YXIgU1FSVF8zID0gTWF0aC5zcXJ0KDMpO1xuICB2YXIgTkVHX1NRUlRfMV8zID0gLTEgLyBNYXRoLnNxcnQoMyk7XG4gIHZhciBEQkxfU1FSVF8yXzMgPSAyICogTWF0aC5zcXJ0KDIgLyAzKTtcblxuICByZXR1cm4gdHJhbnNmb3JtKFtcbiAgICBbMCwgMCwgU1FSVF8zICsgTkVHX1NRUlRfMV8zXSxcbiAgICBbLTEsIDAsIE5FR19TUVJUXzFfM10sXG4gICAgWzEsIDAsIE5FR19TUVJUXzFfM10sXG4gICAgWzAsIERCTF9TUVJUXzJfMywgMF1cbiAgXSwgZGF0YS5yYWRpdXMgLyAyKTtcbn1cbm1vZHVsZS5leHBvcnRzLmdldFB5cmFtaWRQb3NpdGlvbnMgPSBnZXRQeXJhbWlkUG9zaXRpb25zO1xuXG4vKipcbiAqIE11bHRpcGx5IGFsbCBjb29yZGluYXRlcyBieSBhIHNjYWxlIGZhY3RvciBhbmQgYWRkIHRyYW5zbGF0ZS5cbiAqXG4gKiBAcGFyYW1zIHthcnJheX0gcG9zaXRpb25zIC0gQXJyYXkgb2YgY29vcmRpbmF0ZXMgaW4gYXJyYXkgZm9ybS5cbiAqIEByZXR1cm5zIHthcnJheX0gcG9zaXRpb25zXG4gKi9cbmZ1bmN0aW9uIHRyYW5zZm9ybSAocG9zaXRpb25zLCBzY2FsZSkge1xuICByZXR1cm4gcG9zaXRpb25zLm1hcChmdW5jdGlvbiAocG9zaXRpb24pIHtcbiAgICByZXR1cm4gcG9zaXRpb24ubWFwKGZ1bmN0aW9uIChwb2ludCwgaSkge1xuICAgICAgcmV0dXJuIHBvaW50ICogc2NhbGU7XG4gICAgfSk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBTZXQgcG9zaXRpb24gb24gY2hpbGQgZW50aXRpZXMuXG4gKlxuICogQHBhcmFtIHthcnJheX0gZWxzIC0gQ2hpbGQgZW50aXRpZXMgdG8gc2V0LlxuICogQHBhcmFtIHthcnJheX0gcG9zaXRpb25zIC0gQXJyYXkgb2YgY29vcmRpbmF0ZXMuXG4gKi9cbmZ1bmN0aW9uIHNldFBvc2l0aW9ucyAoZWxzLCBwb3NpdGlvbnMpIHtcbiAgZWxzLmZvckVhY2goZnVuY3Rpb24gKGVsLCBpKSB7XG4gICAgdmFyIHBvc2l0aW9uID0gcG9zaXRpb25zW2ldO1xuICAgIGVsLnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLCB7XG4gICAgICB4OiBwb3NpdGlvblswXSxcbiAgICAgIHk6IHBvc2l0aW9uWzFdLFxuICAgICAgejogcG9zaXRpb25bMl1cbiAgICB9KTtcbiAgfSk7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vYWZyYW1lLWxheW91dC1jb21wb25lbnQvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIGRlYnVnID0gQUZSQU1FLnV0aWxzLmRlYnVnO1xudmFyIGNvb3JkaW5hdGVzID0gQUZSQU1FLnV0aWxzLmNvb3JkaW5hdGVzO1xuXG52YXIgd2FybiA9IGRlYnVnKCdjb21wb25lbnRzOmxvb2stYXQ6d2FybicpO1xudmFyIGlzQ29vcmRpbmF0ZXMgPSBjb29yZGluYXRlcy5pc0Nvb3JkaW5hdGVzIHx8IGNvb3JkaW5hdGVzLmlzQ29vcmRpbmF0ZTtcblxuZGVsZXRlIEFGUkFNRS5jb21wb25lbnRzWydsb29rLWF0J107XG5cbi8qKlxuICogTG9vay1hdCBjb21wb25lbnQuXG4gKlxuICogTW9kaWZpZXMgcm90YXRpb24gdG8gZWl0aGVyIHRyYWNrIGFub3RoZXIgZW50aXR5IE9SIGRvIGEgb25lLXRpbWUgdHVybiB0b3dhcmRzIGEgcG9zaXRpb25cbiAqIHZlY3Rvci5cbiAqXG4gKiBJZiB0cmFja2luZyBhbiBvYmplY3QgdmlhIHNldHRpbmcgdGhlIGNvbXBvbmVudCB2YWx1ZSB2aWEgYSBzZWxlY3RvciwgbG9vay1hdCB3aWxsIHJlZ2lzdGVyXG4gKiBhIGJlaGF2aW9yIHRvIHRoZSBzY2VuZSB0byB1cGRhdGUgcm90YXRpb24gb24gZXZlcnkgdGljay5cbiAqL1xuQUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCdsb29rLWF0Jywge1xuICBzY2hlbWE6IHtcbiAgICBkZWZhdWx0OiAnJyxcblxuICAgIHBhcnNlOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIC8vIEEgc3RhdGljIHBvc2l0aW9uIHRvIGxvb2sgYXQuXG4gICAgICBpZiAoaXNDb29yZGluYXRlcyh2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gY29vcmRpbmF0ZXMucGFyc2UodmFsdWUpO1xuICAgICAgfVxuICAgICAgLy8gQSBzZWxlY3RvciB0byBhIHRhcmdldCBlbnRpdHkuXG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSxcblxuICAgIHN0cmluZ2lmeTogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIGNvb3JkaW5hdGVzLnN0cmluZ2lmeShkYXRhKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgfSxcblxuICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy50YXJnZXQzRCA9IG51bGw7XG4gICAgdGhpcy52ZWN0b3IgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBJZiB0cmFja2luZyBhbiBvYmplY3QsIHRoaXMgd2lsbCBiZSBjYWxsZWQgb24gZXZlcnkgdGljay5cbiAgICogSWYgbG9va2luZyBhdCBhIHBvc2l0aW9uIHZlY3RvciwgdGhpcyB3aWxsIG9ubHkgYmUgY2FsbGVkIG9uY2UgKHVudGlsIGZ1cnRoZXIgdXBkYXRlcykuXG4gICAqL1xuICB1cGRhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIHRhcmdldCA9IHNlbGYuZGF0YTtcbiAgICB2YXIgb2JqZWN0M0QgPSBzZWxmLmVsLm9iamVjdDNEO1xuICAgIHZhciB0YXJnZXRFbDtcblxuICAgIC8vIE5vIGxvbmdlciBsb29raW5nIGF0IGFueXRoaW5nIChpLmUuLCBsb29rLWF0PVwiXCIpLlxuICAgIGlmICghdGFyZ2V0IHx8ICh0eXBlb2YgdGFyZ2V0ID09PSAnb2JqZWN0JyAmJiAhT2JqZWN0LmtleXModGFyZ2V0KS5sZW5ndGgpKSB7XG4gICAgICByZXR1cm4gc2VsZi5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICAvLyBMb29rIGF0IGEgcG9zaXRpb24uXG4gICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gb2JqZWN0M0QubG9va0F0KG5ldyBUSFJFRS5WZWN0b3IzKHRhcmdldC54LCB0YXJnZXQueSwgdGFyZ2V0LnopKTtcbiAgICB9XG5cbiAgICAvLyBBc3N1bWUgdGFyZ2V0IGlzIGEgc3RyaW5nLlxuICAgIC8vIFF1ZXJ5IGZvciB0aGUgZWxlbWVudCwgZ3JhYiBpdHMgb2JqZWN0M0QsIHRoZW4gcmVnaXN0ZXIgYSBiZWhhdmlvciBvbiB0aGUgc2NlbmUgdG9cbiAgICAvLyB0cmFjayB0aGUgdGFyZ2V0IG9uIGV2ZXJ5IHRpY2suXG4gICAgdGFyZ2V0RWwgPSBzZWxmLmVsLnNjZW5lRWwucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xuICAgIGlmICghdGFyZ2V0RWwpIHtcbiAgICAgIHdhcm4oJ1wiJyArIHRhcmdldCArICdcIiBkb2VzIG5vdCBwb2ludCB0byBhIHZhbGlkIGVudGl0eSB0byBsb29rLWF0Jyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghdGFyZ2V0RWwuaGFzTG9hZGVkKSB7XG4gICAgICByZXR1cm4gdGFyZ2V0RWwuYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBzZWxmLmJlZ2luVHJhY2tpbmcodGFyZ2V0RWwpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBzZWxmLmJlZ2luVHJhY2tpbmcodGFyZ2V0RWwpO1xuICB9LFxuXG4gIHRpY2s6IGZ1bmN0aW9uICh0KSB7XG4gICAgLy8gVHJhY2sgdGFyZ2V0IG9iamVjdCBwb3NpdGlvbi4gRGVwZW5kcyBvbiBwYXJlbnQgb2JqZWN0IGtlZXBpbmcgZ2xvYmFsIHRyYW5zZm9ybXMgdXBcbiAgICAvLyB0byBzdGF0ZSB3aXRoIHVwZGF0ZU1hdHJpeFdvcmxkKCkuIEluIHByYWN0aWNlLCB0aGlzIGlzIGhhbmRsZWQgYnkgdGhlIHJlbmRlcmVyLlxuICAgIHZhciB0YXJnZXQ7XG4gICAgdmFyIHRhcmdldDNEID0gdGhpcy50YXJnZXQzRDtcbiAgICB2YXIgb2JqZWN0M0QgPSB0aGlzLmVsLm9iamVjdDNEO1xuICAgIHZhciB2ZWN0b3IgPSB0aGlzLnZlY3RvcjtcblxuICAgIGlmICh0YXJnZXQzRCkge1xuICAgICAgdGFyZ2V0ID0gb2JqZWN0M0QucGFyZW50LndvcmxkVG9Mb2NhbCh0YXJnZXQzRC5nZXRXb3JsZFBvc2l0aW9uKCkpO1xuICAgICAgaWYgKHRoaXMuZWwuZ2V0T2JqZWN0M0QoJ2NhbWVyYScpKSB7XG4gICAgICAgIC8vIEZsaXAgdGhlIHZlY3RvciB0byAteiwgbG9va2luZyBhd2F5IGZyb20gdGFyZ2V0IGZvciBjYW1lcmEgZW50aXRpZXMuIFdoZW4gdXNpbmdcbiAgICAgICAgLy8gbG9va2F0IGZyb20gVEhSRUUgY2FtZXJhIG9iamVjdHMsIHRoaXMgaXMgYXBwbGllZCBmb3IgeW91LCBidXQgc2luY2UgdGhlIGNhbWVyYSBpc1xuICAgICAgICAvLyBuZXN0ZWQgaW50byBhIE9iamVjdDNELCB3ZSBuZWVkIHRvIGFwcGx5IHRoaXMgbWFudWFsbHkuXG4gICAgICAgIHZlY3Rvci5zdWJWZWN0b3JzKG9iamVjdDNELnBvc2l0aW9uLCB0YXJnZXQpLmFkZChvYmplY3QzRC5wb3NpdGlvbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2ZWN0b3IgPSB0YXJnZXQ7XG4gICAgICB9XG4gICAgICBvYmplY3QzRC5sb29rQXQodmVjdG9yKTtcbiAgICB9XG4gIH0sXG5cbiAgYmVnaW5UcmFja2luZzogZnVuY3Rpb24gKHRhcmdldEVsKSB7XG4gICAgdGhpcy50YXJnZXQzRCA9IHRhcmdldEVsLm9iamVjdDNEO1xuICB9XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9hZnJhbWUtbG9vay1hdC1jb21wb25lbnQvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyoqXG4gKiBMaXN0ZW4gdG8gZXZlbnQgYW5kIGZvcndhcmQgdG8gYW5vdGhlciBlbnRpdHkgb3IgZW50aXRpZXMuXG4gKi9cbkFGUkFNRS5yZWdpc3RlckNvbXBvbmVudCgncHJveHktZXZlbnQnLCB7XG4gIHNjaGVtYToge1xuICAgIGNhcHR1cmVCdWJibGVzOiB7ZGVmYXVsdDogZmFsc2V9LFxuICAgIGV2ZW50OiB7dHlwZTogJ3N0cmluZyd9LFxuICAgIHRvOiB7dHlwZTogJ3N0cmluZyd9LFxuICAgIGFzOiB7dHlwZTogJ3N0cmluZyd9LFxuICAgIGJ1YmJsZXM6IHtkZWZhdWx0OiBmYWxzZX1cbiAgfSxcblxuICBtdWx0aXBsZTogdHJ1ZSxcblxuICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgdmFyIGVsID0gdGhpcy5lbDtcbiAgICB2YXIgdG87XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgaWYgKGRhdGEudG8gPT09ICdDSElMRFJFTicpIHtcbiAgICAgIHRvID0gZWwucXVlcnlTZWxlY3RvckFsbCgnKicpO1xuICAgIH0gZWxzZSBpZiAoZGF0YS50byA9PT0gJ1NFTEYnKSB7XG4gICAgICB0byA9IFtlbF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChkYXRhLnRvKTtcbiAgICB9XG5cbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKGRhdGEuZXZlbnQsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgIHZhciBkYXRhID0gc2VsZi5kYXRhO1xuICAgICAgdmFyIGk7XG4gICAgICBpZiAoIWRhdGEuY2FwdHVyZUJ1YmJsZXMgJiYgZXZ0LnRhcmdldCAhPT0gZWwpIHsgcmV0dXJuOyB9XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdG8ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdG9baV0uZW1pdChkYXRhLmFzIHx8IGRhdGEuZXZlbnQsIG51bGwsIGRhdGEuYnViYmxlcyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2FmcmFtZS1wcm94eS1ldmVudC1jb21wb25lbnQvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaWYgKHR5cGVvZiBBRlJBTUUgPT09ICd1bmRlZmluZWQnKSB7XG4gIHRocm93IG5ldyBFcnJvcignQ29tcG9uZW50IGF0dGVtcHRlZCB0byByZWdpc3RlciBiZWZvcmUgQUZSQU1FIHdhcyBhdmFpbGFibGUuJyk7XG59XG5cbi8qKlxuICogU2V0IHJhbmRvbSBjb2xvciB3aXRoaW4gYm91bmRzLlxuICovXG5BRlJBTUUucmVnaXN0ZXJDb21wb25lbnQoJ3JhbmRvbS1jb2xvcicsIHtcbiAgc2NoZW1hOiB7XG4gICAgbWluOiB7ZGVmYXVsdDoge3g6IDAsIHk6IDAsIHo6IDB9LCB0eXBlOiAndmVjMyd9LFxuICAgIG1heDoge2RlZmF1bHQ6IHt4OiAxLCB5OiAxLCB6OiAxfSwgdHlwZTogJ3ZlYzMnfVxuICB9LFxuXG4gIHVwZGF0ZTogZnVuY3Rpb24gKCkge1xuICAgIHZhciBkYXRhID0gdGhpcy5kYXRhO1xuICAgIHZhciBtYXggPSBkYXRhLm1heDtcbiAgICB2YXIgbWluID0gZGF0YS5taW47XG4gICAgdGhpcy5lbC5zZXRBdHRyaWJ1dGUoJ21hdGVyaWFsJywgJ2NvbG9yJywgJyMnICsgbmV3IFRIUkVFLkNvbG9yKFxuICAgICAgTWF0aC5yYW5kb20oKSAqIG1heC54ICsgbWluLngsXG4gICAgICBNYXRoLnJhbmRvbSgpICogbWF4LnkgKyBtaW4ueSxcbiAgICAgIE1hdGgucmFuZG9tKCkgKiBtYXgueiArIG1pbi56XG4gICAgKS5nZXRIZXhTdHJpbmcoKSk7XG4gIH1cbn0pO1xuXG4vKipcbiAqIFNldCByYW5kb20gcG9zaXRpb24gd2l0aGluIGJvdW5kcy5cbiAqL1xuQUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCdyYW5kb20tcG9zaXRpb24nLCB7XG4gIHNjaGVtYToge1xuICAgIG1pbjoge2RlZmF1bHQ6IHt4OiAtMTAsIHk6IC0xMCwgejogLTEwfSwgdHlwZTogJ3ZlYzMnfSxcbiAgICBtYXg6IHtkZWZhdWx0OiB7eDogMTAsIHk6IDEwLCB6OiAxMH0sIHR5cGU6ICd2ZWMzJ31cbiAgfSxcblxuICB1cGRhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICB2YXIgbWF4ID0gZGF0YS5tYXg7XG4gICAgdmFyIG1pbiA9IGRhdGEubWluO1xuICAgIHRoaXMuZWwuc2V0QXR0cmlidXRlKCdwb3NpdGlvbicsIHtcbiAgICAgIHg6IE1hdGgucmFuZG9tKCkgKiAobWF4LnggLSBtaW4ueCkgKyBtaW4ueCxcbiAgICAgIHk6IE1hdGgucmFuZG9tKCkgKiAobWF4LnkgLSBtaW4ueSkgKyBtaW4ueSxcbiAgICAgIHo6IE1hdGgucmFuZG9tKCkgKiAobWF4LnogLSBtaW4ueikgKyBtaW4uelxuICAgIH0pO1xuICB9XG59KTtcblxuLyoqXG4gKiBTZXQgcmFuZG9tIHBvc2l0aW9uIHdpdGhpbiBzcGhlcmljYWwgYm91bmRzLlxuICovXG5BRlJBTUUucmVnaXN0ZXJDb21wb25lbnQoJ3JhbmRvbS1zcGhlcmljYWwtcG9zaXRpb24nLCB7XG4gIHNjaGVtYToge1xuICAgIHJhZGl1czoge2RlZmF1bHQ6IDEwfSxcbiAgICBzdGFydFg6IHtkZWZhdWx0OiAwfSxcbiAgICBsZW5ndGhYOiB7ZGVmYXVsdDogMzYwfSxcbiAgICBzdGFydFk6IHtkZWZhdWx0OiAwfSxcbiAgICBsZW5ndGhZOiB7ZGVmYXVsdDogMzYwfVxuICB9LFxuXG4gIHVwZGF0ZTogZnVuY3Rpb24gKCkge1xuICAgIHZhciBkYXRhID0gdGhpcy5kYXRhO1xuXG4gICAgdmFyIHhBbmdsZSA9IFRIUkVFLk1hdGguZGVnVG9SYWQoTWF0aC5yYW5kb20oKSAqIGRhdGEubGVuZ3RoWCArIGRhdGEuc3RhcnRYKTtcbiAgICB2YXIgeUFuZ2xlID0gVEhSRUUuTWF0aC5kZWdUb1JhZChNYXRoLnJhbmRvbSgpICogZGF0YS5sZW5ndGhZICsgZGF0YS5zdGFydFkpO1xuXG4gICAgdGhpcy5lbC5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJywge1xuICAgICAgeDogZGF0YS5yYWRpdXMgKiBNYXRoLmNvcyh4QW5nbGUpICogTWF0aC5zaW4oeUFuZ2xlKSxcbiAgICAgIHk6IGRhdGEucmFkaXVzICogTWF0aC5zaW4oeEFuZ2xlKSAqIE1hdGguc2luKHlBbmdsZSksXG4gICAgICB6OiBkYXRhLnJhZGl1cyAqIE1hdGguY29zKHlBbmdsZSlcbiAgICB9KTtcbiAgfVxufSk7XG5cbi8qKlxuICogU2V0IHJhbmRvbSByb3RhdGlvbiB3aXRoaW4gYm91bmRzLlxuICovXG5BRlJBTUUucmVnaXN0ZXJDb21wb25lbnQoJ3JhbmRvbS1yb3RhdGlvbicsIHtcbiAgc2NoZW1hOiB7XG4gICAgbWluOiB7ZGVmYXVsdDoge3g6IDAsIHk6IDAsIHo6IDB9LCB0eXBlOiAndmVjMyd9LFxuICAgIG1heDoge2RlZmF1bHQ6IHt4OiAzNjAsIHk6IDM2MCwgejogMzYwfSwgdHlwZTogJ3ZlYzMnfVxuICB9LFxuXG4gIHVwZGF0ZTogZnVuY3Rpb24gKCkge1xuICAgIHZhciBkYXRhID0gdGhpcy5kYXRhO1xuICAgIHZhciBtYXggPSBkYXRhLm1heDtcbiAgICB2YXIgbWluID0gZGF0YS5taW47XG4gICAgdGhpcy5lbC5zZXRBdHRyaWJ1dGUoJ3JvdGF0aW9uJywge1xuICAgICAgeDogTWF0aC5yYW5kb20oKSAqIG1heC54ICsgbWluLngsXG4gICAgICB5OiBNYXRoLnJhbmRvbSgpICogbWF4LnkgKyBtaW4ueSxcbiAgICAgIHo6IE1hdGgucmFuZG9tKCkgKiBtYXgueiArIG1pbi56XG4gICAgfSk7XG4gIH1cbn0pO1xuXG4vKipcbiAqIFNldCByYW5kb20gc2NhbGUgd2l0aGluIGJvdW5kcy5cbiAqL1xuQUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCdyYW5kb20tc2NhbGUnLCB7XG4gIHNjaGVtYToge1xuICAgIG1pbjoge2RlZmF1bHQ6IHt4OiAwLCB5OiAwLCB6OiAwfSwgdHlwZTogJ3ZlYzMnfSxcbiAgICBtYXg6IHtkZWZhdWx0OiB7eDogMiwgeTogMiwgejogMn0sIHR5cGU6ICd2ZWMzJ31cbiAgfSxcblxuICB1cGRhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICB2YXIgbWF4ID0gZGF0YS5tYXg7XG4gICAgdmFyIG1pbiA9IGRhdGEubWluO1xuICAgIHRoaXMuZWwuc2V0QXR0cmlidXRlKCdzY2FsZScsIHtcbiAgICAgIHg6IE1hdGgucmFuZG9tKCkgKiBtYXgueCArIG1pbi54LFxuICAgICAgeTogTWF0aC5yYW5kb20oKSAqIG1heC55ICsgbWluLnksXG4gICAgICB6OiBNYXRoLnJhbmRvbSgpICogbWF4LnogKyBtaW4uelxuICAgIH0pO1xuICB9XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9hZnJhbWUtcmFuZG9taXplci1jb21wb25lbnRzL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qIGdsb2JhbCBBRlJBTUUgKi9cblxuaWYgKHR5cGVvZiBBRlJBTUUgPT09ICd1bmRlZmluZWQnKSB7XG4gIHRocm93IG5ldyBFcnJvcignQ29tcG9uZW50IGF0dGVtcHRlZCB0byByZWdpc3RlciBiZWZvcmUgQUZSQU1FIHdhcyBhdmFpbGFibGUuJyk7XG59XG5cbi8qKlxuICogU2xpY2U5IGNvbXBvbmVudCBmb3IgQS1GcmFtZS5cbiAqL1xuQUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCdzbGljZTknLCB7XG4gIHNjaGVtYToge1xuICAgIGJvdHRvbToge2RlZmF1bHQ6IDAsIG1pbjogMH0sXG4gICAgY29sb3I6IHt0eXBlOiAnY29sb3InLCBkZWZhdWx0OiAnI2ZmZid9LFxuICAgIGRlYnVnOiB7ZGVmYXVsdDogZmFsc2V9LFxuICAgIGhlaWdodDoge2RlZmF1bHQ6IDEsIG1pbjogMH0sXG4gICAgbGVmdDoge2RlZmF1bHQ6IDAsIG1pbjogMH0sXG4gICAgb3BhY2l0eToge2RlZmF1bHQ6IDEuMCwgbWluOiAwLCBtYXg6IDF9LFxuICAgIHBhZGRpbmc6IHtkZWZhdWx0OiAwLjEsIG1pbjogMC4wMX0sXG4gICAgcmlnaHQ6IHtkZWZhdWx0OiAwLCBtaW46IDB9LFxuICAgIHNpZGU6IHtkZWZhdWx0OiAnZnJvbnQnLCBvbmVPZjogWydmcm9udCcsICdiYWNrJywgJ2RvdWJsZSddfSxcbiAgICBzcmM6IHt0eXBlOiAnbWFwJ30sXG4gICAgdG9wOiB7ZGVmYXVsdDogMCwgbWluOiAwfSxcbiAgICB0cmFuc3BhcmVudDoge2RlZmF1bHQ6IHRydWV9LFxuICAgIHdpZHRoOiB7ZGVmYXVsdDogMSwgbWluOiAwfSxcbiAgICB1c2luZ0N1c3RvbU1hdGVyaWFsOiB7ZGVmYXVsdDogZmFsc2V9LFxuICAgIHVzaW5nQXRsYXM6IHtkZWZhdWx0OiBmYWxzZX0sXG4gICAgdXZBdGxhc01pbjoge3R5cGU6ICd2ZWMyJ30sXG4gICAgdXZBdGxhc01heDoge3R5cGU6ICd2ZWMyJ31cbiAgfSxcblxuICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgdmFyIGdlb21ldHJ5O1xuICAgIHZhciBtYXRlcmlhbDtcblxuICAgIHRoaXMudGV4dHVyZVNyYyA9IG51bGw7XG5cbiAgICBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnkgPSBuZXcgVEhSRUUuUGxhbmVCdWZmZXJHZW9tZXRyeShkYXRhLndpZHRoLCBkYXRhLmhlaWdodCwgMywgMyk7XG5cbiAgICAvLyBDcmVhdGUgbWVzaC5cbiAgICBpZiAoZGF0YS51c2luZ0N1c3RvbU1hdGVyaWFsKSB7XG4gICAgICB0aGlzLnBsYW5lID0gbmV3IFRIUkVFLk1lc2goZ2VvbWV0cnkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtYXRlcmlhbCA9IHRoaXMubWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe1xuICAgICAgICBjb2xvcjogZGF0YS5jb2xvciwgb3BhY2l0eTogZGF0YS5vcGFjaXR5LCB0cmFuc3BhcmVudDogZGF0YS50cmFuc3BhcmVudCxcbiAgICAgICAgd2lyZWZyYW1lOiBkYXRhLmRlYnVnXG4gICAgICB9KTtcbiAgICAgIHRoaXMucGxhbmUgPSBuZXcgVEhSRUUuTWVzaChnZW9tZXRyeSwgbWF0ZXJpYWwpO1xuICAgIH1cbiAgICB0aGlzLmVsLnNldE9iamVjdDNEKCdtZXNoJywgdGhpcy5wbGFuZSk7XG4gIH0sXG5cbiAgcmVnZW5lcmF0ZU1lc2g6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICB2YXIgaGVpZ2h0O1xuICAgIHZhciBwb3MgPSB0aGlzLmdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb24uYXJyYXk7XG4gICAgdmFyIHV2O1xuICAgIHZhciB1dnMgPSB0aGlzLmdlb21ldHJ5LmF0dHJpYnV0ZXMudXYuYXJyYXk7XG4gICAgdmFyIHdpZHRoO1xuXG4gICAgaWYgKHRoaXMubWF0ZXJpYWwgJiYgIXRoaXMubWF0ZXJpYWwubWFwKSB7IHJldHVybjsgfVxuXG4gICAgLypcbiAgICAgIDAtLTEtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0yLS0zXG4gICAgICB8ICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgfFxuICAgICAgNC0tNS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLTYtLTdcbiAgICAgIHwgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICB8XG4gICAgICB8ICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgfFxuICAgICAgfCAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgIHxcbiAgICAgIDgtLTktLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLTEwLS0xMVxuICAgICAgfCAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgIHxcbiAgICAgIDEyLTEzLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLTE0LS0xNVxuICAgICovXG4gICAgZnVuY3Rpb24gc2V0UG9zKGlkLCB4LCB5KSB7XG4gICAgICBwb3NbMyAqIGlkXSA9IHg7XG4gICAgICBwb3NbMyAqIGlkICsgMV0gPSB5O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFVWIChpZCwgdSwgdikge1xuICAgICAgaWYgKGRhdGEudXNpbmdBdGxhcykge1xuICAgICAgICB1ID0gZGF0YS51dkF0bGFzTWluLnggKyAodSAqIChkYXRhLnV2QXRsYXNNYXgueCAtIGRhdGEudXZBdGxhc01pbi54KSk7XG4gICAgICAgIHYgPSBkYXRhLnV2QXRsYXNNaW4ueSArICh2ICogKGRhdGEudXZBdGxhc01heC55IC0gZGF0YS51dkF0bGFzTWluLnkpKTtcbiAgICAgIH1cbiAgICAgIHV2c1syICogaWRdID0gdTtcbiAgICAgIHV2c1syICogaWQgKyAxXSA9IHY7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIFVWU1xuICAgIGlmIChkYXRhLnVzaW5nQ3VzdG9tTWF0ZXJpYWwpIHtcbiAgICAgIGhlaWdodCA9IDE7XG4gICAgICB3aWR0aCA9IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhlaWdodCA9IHRoaXMubWF0ZXJpYWwubWFwLmltYWdlLndpZHRoO1xuICAgICAgd2lkdGggPSB0aGlzLm1hdGVyaWFsLm1hcC5pbWFnZS53aWR0aDtcbiAgICB9XG4gICAgdXYgPSB7XG4gICAgICBsZWZ0OiBkYXRhLmxlZnQgLyB3aWR0aCxcbiAgICAgIHJpZ2h0OiBkYXRhLnJpZ2h0IC8gd2lkdGgsXG4gICAgICB0b3A6IGRhdGEudG9wIC8gaGVpZ2h0LFxuICAgICAgYm90dG9tOiBkYXRhLmJvdHRvbSAvIGhlaWdodFxuICAgIH07XG5cbiAgICBzZXRVVigxLCAgdXYubGVmdCwgIDEpO1xuICAgIHNldFVWKDIsICB1di5yaWdodCwgMSk7XG5cbiAgICBzZXRVVig0LCAgMCwgICAgICAgIHV2LmJvdHRvbSk7XG4gICAgc2V0VVYoNSwgIHV2LmxlZnQsICB1di5ib3R0b20pO1xuICAgIHNldFVWKDYsICB1di5yaWdodCwgdXYuYm90dG9tKTtcbiAgICBzZXRVVig3LCAgMSwgICAgICAgIHV2LmJvdHRvbSk7XG5cbiAgICBzZXRVVig4LCAgMCwgICAgICAgIHV2LnRvcCk7XG4gICAgc2V0VVYoOSwgIHV2LmxlZnQsICB1di50b3ApO1xuICAgIHNldFVWKDEwLCB1di5yaWdodCwgdXYudG9wKTtcbiAgICBzZXRVVigxMSwgMSwgICAgICAgIHV2LnRvcCk7XG5cbiAgICBzZXRVVigxMywgdXYubGVmdCwgIDApO1xuICAgIHNldFVWKDE0LCB1di5yaWdodCwgMCk7XG5cbiAgICBpZiAoZGF0YS51c2luZ0F0bGFzKSB7XG4gICAgICBzZXRVVigwLCAwLCAxKTtcbiAgICAgIHNldFVWKDMsIDEsIDEpO1xuICAgICAgc2V0VVYoMTIsIDAsIDApO1xuICAgICAgc2V0VVYoMTUsIDEsIDApO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSB2ZXJ0ZXggcG9zaXRpb25zXG4gICAgdmFyIHcyID0gZGF0YS53aWR0aCAvIDI7XG4gICAgdmFyIGgyID0gZGF0YS5oZWlnaHQgLyAyO1xuICAgIHZhciBsZWZ0ID0gLXcyICsgZGF0YS5wYWRkaW5nO1xuICAgIHZhciByaWdodCA9IHcyIC0gZGF0YS5wYWRkaW5nO1xuICAgIHZhciB0b3AgPSBoMiAtIGRhdGEucGFkZGluZztcbiAgICB2YXIgYm90dG9tID0gLWgyICsgZGF0YS5wYWRkaW5nO1xuXG4gICAgc2V0UG9zKDAsIC13MiwgICAgaDIpO1xuICAgIHNldFBvcygxLCBsZWZ0LCAgIGgyKTtcbiAgICBzZXRQb3MoMiwgcmlnaHQsICBoMik7XG4gICAgc2V0UG9zKDMsIHcyLCAgICAgaDIpO1xuXG4gICAgc2V0UG9zKDQsIC13MiwgICAgdG9wKTtcbiAgICBzZXRQb3MoNSwgbGVmdCwgICB0b3ApO1xuICAgIHNldFBvcyg2LCByaWdodCwgIHRvcCk7XG4gICAgc2V0UG9zKDcsIHcyLCAgICAgdG9wKTtcblxuICAgIHNldFBvcyg4LCAtdzIsICAgIGJvdHRvbSk7XG4gICAgc2V0UG9zKDksIGxlZnQsICAgYm90dG9tKTtcbiAgICBzZXRQb3MoMTAsIHJpZ2h0LCBib3R0b20pO1xuICAgIHNldFBvcygxMSwgdzIsICAgIGJvdHRvbSk7XG5cbiAgICBzZXRQb3MoMTMsIGxlZnQsICAtaDIpO1xuICAgIHNldFBvcygxNCwgcmlnaHQsIC1oMik7XG4gICAgc2V0UG9zKDEyLCAtdzIsICAgLWgyKTtcbiAgICBzZXRQb3MoMTUsIHcyLCAgICAtaDIpO1xuXG4gICAgdGhpcy5nZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICB0aGlzLmdlb21ldHJ5LmF0dHJpYnV0ZXMudXYubmVlZHNVcGRhdGUgPSB0cnVlO1xuICB9LFxuXG4gIHVwZGF0ZTogZnVuY3Rpb24gKG9sZERhdGEpIHtcbiAgICB2YXIgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICB2YXIgZGlmZjtcblxuICAgIGRpZmYgPSBBRlJBTUUudXRpbHMuZGlmZihkYXRhLCBvbGREYXRhKTtcblxuICAgIC8vIFVwZGF0ZSBtYXRlcmlhbCBpZiB1c2luZyBidWlsdC1pbiBtYXRlcmlhbC5cbiAgICBpZiAoIWRhdGEudXNpbmdDdXN0b21NYXRlcmlhbCkge1xuICAgICAgdGhpcy5tYXRlcmlhbC5jb2xvci5zZXRTdHlsZShkYXRhLmNvbG9yKTtcbiAgICAgIHRoaXMubWF0ZXJpYWwub3BhY2l0eSA9IGRhdGEub3BhY2l0eTtcbiAgICAgIHRoaXMubWF0ZXJpYWwudHJhbnNwYXJlbnQgPSBkYXRhLnRyYW5zcGFyZW50O1xuICAgICAgdGhpcy5tYXRlcmlhbC53aXJlZnJhbWUgPSBkYXRhLmRlYnVnO1xuICAgICAgdGhpcy5tYXRlcmlhbC5zaWRlID0gcGFyc2VTaWRlKGRhdGEuc2lkZSk7XG4gICAgICBpZiAoJ3NyYycgaW4gZGlmZikgeyB0aGlzLnVwZGF0ZU1hcCgpOyB9XG4gICAgfVxuXG4gICAgaWYgKCd3aWR0aCcgaW4gZGlmZiB8fCAnaGVpZ2h0JyBpbiBkaWZmIHx8ICdwYWRkaW5nJyBpbiBkaWZmIHx8ICdsZWZ0JyBpbiBkaWZmIHx8XG4gICAgICAgICd0b3AnIGluIGRpZmYgfHwgJ2JvdHRvbScgaW4gZGlmZiB8fCAncmlnaHQnIGluIGRpZmYpIHtcbiAgICAgIHRoaXMucmVnZW5lcmF0ZU1lc2goKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBgc3JjYCBpZiB1c2luZyBidWlsdC1pbiBtYXRlcmlhbC5cbiAgICovXG4gIHVwZGF0ZU1hcDogZnVuY3Rpb24gKCkge1xuICAgIHZhciBzcmMgPSB0aGlzLmRhdGEuc3JjO1xuXG4gICAgaWYgKHNyYykge1xuICAgICAgaWYgKHNyYyA9PT0gdGhpcy50ZXh0dXJlU3JjKSB7IHJldHVybjsgfVxuICAgICAgLy8gVGV4dHVyZSBhZGRlZCBvciBjaGFuZ2VkLlxuICAgICAgdGhpcy50ZXh0dXJlU3JjID0gc3JjO1xuICAgICAgdGhpcy5lbC5zY2VuZUVsLnN5c3RlbXMubWF0ZXJpYWwubG9hZFRleHR1cmUoc3JjLCB7c3JjOiBzcmN9LCBzZXRNYXAuYmluZCh0aGlzKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gVGV4dHVyZSByZW1vdmVkLlxuICAgIGlmICghdGhpcy5tYXRlcmlhbC5tYXApIHsgcmV0dXJuOyB9XG4gICAgc2V0TWFwKG51bGwpO1xuXG4gICAgZnVuY3Rpb24gc2V0TWFwICh0ZXh0dXJlKSB7XG4gICAgICB0aGlzLm1hdGVyaWFsLm1hcCA9IHRleHR1cmU7XG4gICAgICB0aGlzLm1hdGVyaWFsLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgIHRoaXMucmVnZW5lcmF0ZU1lc2goKTtcbiAgICB9XG4gIH0sXG5cbn0pO1xuXG5mdW5jdGlvbiBwYXJzZVNpZGUgKHNpZGUpIHtcbiAgc3dpdGNoIChzaWRlKSB7XG4gICAgY2FzZSAnYmFjayc6IHtcbiAgICAgIHJldHVybiBUSFJFRS5CYWNrU2lkZTtcbiAgICB9XG4gICAgY2FzZSAnZG91YmxlJzoge1xuICAgICAgcmV0dXJuIFRIUkVFLkRvdWJsZVNpZGU7XG4gICAgfVxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIC8vIEluY2x1ZGluZyBjYXNlIGBmcm9udGAuXG4gICAgICByZXR1cm4gVEhSRUUuRnJvbnRTaWRlO1xuICAgIH1cbiAgfVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2FmcmFtZS1zbGljZTktY29tcG9uZW50L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qIGdsb2JhbCBUSFJFRSwgQUZSQU1FLCBFbGVtZW50ICAqL1xudmFyIGN5bGluZGVyVGV4dHVyZSA9IHJlcXVpcmUoJy4vbGliL2N5bGluZGVyVGV4dHVyZScpO1xudmFyIHBhcmFib2xpY0N1cnZlID0gcmVxdWlyZSgnLi9saWIvUGFyYWJvbGljQ3VydmUnKTtcbnZhciBSYXlDdXJ2ZSA9IHJlcXVpcmUoJy4vbGliL1JheUN1cnZlJyk7XG5cbmlmICh0eXBlb2YgQUZSQU1FID09PSAndW5kZWZpbmVkJykge1xuICB0aHJvdyBuZXcgRXJyb3IoJ0NvbXBvbmVudCBhdHRlbXB0ZWQgdG8gcmVnaXN0ZXIgYmVmb3JlIEFGUkFNRSB3YXMgYXZhaWxhYmxlLicpO1xufVxuXG5pZiAoIUVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMpIHtcbiAgRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcyA9XG4gICAgRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgRWxlbWVudC5wcm90b3R5cGUubW96TWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgRWxlbWVudC5wcm90b3R5cGUubXNNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICBFbGVtZW50LnByb3RvdHlwZS5vTWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgRWxlbWVudC5wcm90b3R5cGUud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgZnVuY3Rpb24gKHMpIHtcbiAgICAgIHZhciBtYXRjaGVzID0gKHRoaXMuZG9jdW1lbnQgfHwgdGhpcy5vd25lckRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKHMpO1xuICAgICAgdmFyIGkgPSBtYXRjaGVzLmxlbmd0aDtcbiAgICAgIHdoaWxlICgtLWkgPj0gMCAmJiBtYXRjaGVzLml0ZW0oaSkgIT09IHRoaXMpIHsgLyogbm8tb3AgKi8gfVxuICAgICAgcmV0dXJuIGkgPiAtMTtcbiAgICB9O1xufVxuXG5BRlJBTUUucmVnaXN0ZXJDb21wb25lbnQoJ3RlbGVwb3J0LWNvbnRyb2xzJywge1xuICBzY2hlbWE6IHtcbiAgICB0eXBlOiB7ZGVmYXVsdDogJ3BhcmFib2xpYycsIG9uZU9mOiBbJ3BhcmFib2xpYycsICdsaW5lJ119LFxuICAgIGJ1dHRvbjoge2RlZmF1bHQ6ICd0cmFja3BhZCcsIG9uZU9mOiBbJ3RyYWNrcGFkJywgJ3RyaWdnZXInLCAnZ3JpcCcsICdtZW51J119LFxuICAgIHN0YXJ0RXZlbnRzOiB7dHlwZTogJ2FycmF5J30sXG4gICAgZW5kRXZlbnRzOiB7dHlwZTogJ2FycmF5J30sXG4gICAgY29sbGlzaW9uRW50aXRpZXM6IHtkZWZhdWx0OiAnJ30sXG4gICAgY2hlY2tDb2xsaXNpb25DaGlsZHJlbjoge2RlZmF1bHQ6IHRydWV9LFxuICAgIGRpcmVjdGlvbjoge3R5cGU6ICd2ZWMzJywgZGVmYXVsdDogbmV3IFRIUkVFLlZlY3RvcjMoMCwgMCwgLTEpfSxcbiAgICBoaXRFbnRpdHk6IHt0eXBlOiAnc2VsZWN0b3InfSxcbiAgICBoaXRFbnRpdHlBbGlnbk5vcm1hbDoge2RlZmF1bHQ6IHRydWV9LFxuICAgIGNhbWVyYVJpZzoge3R5cGU6ICdzZWxlY3Rvcid9LFxuICAgIHRlbGVwb3J0T3JpZ2luOiB7dHlwZTogJ3NlbGVjdG9yJ30sXG4gICAgaGl0Q3lsaW5kZXJDb2xvcjoge3R5cGU6ICdjb2xvcicsIGRlZmF1bHQ6ICcjOTlmZjk5J30sXG4gICAgaGl0Q3lsaW5kZXJSYWRpdXM6IHtkZWZhdWx0OiAwLjI1LCBtaW46IDB9LFxuICAgIGhpdEN5bGluZGVySGVpZ2h0OiB7ZGVmYXVsdDogMC4zLCBtaW46IDB9LFxuICAgIGludGVydmFsOiB7ZGVmYXVsdDogMH0sXG4gICAgbWF4TGVuZ3RoOiB7ZGVmYXVsdDogMTAsIG1pbjogMCwgaWY6IHt0eXBlOiBbJ2xpbmUnXX19LFxuICAgIGN1cnZlTnVtYmVyUG9pbnRzOiB7ZGVmYXVsdDogMzAsIG1pbjogMiwgaWY6IHt0eXBlOiBbJ3BhcmFib2xpYyddfX0sXG4gICAgY3VydmVMaW5lV2lkdGg6IHtkZWZhdWx0OiAwLjAyNX0sXG4gICAgY3VydmVIaXRDb2xvcjoge3R5cGU6ICdjb2xvcicsIGRlZmF1bHQ6ICcjOTlmZjk5J30sXG4gICAgY3VydmVNaXNzQ29sb3I6IHt0eXBlOiAnY29sb3InLCBkZWZhdWx0OiAnI2ZmMDAwMCd9LFxuICAgIGN1cnZlU2hvb3RpbmdTcGVlZDoge2RlZmF1bHQ6IDUsIG1pbjogMCwgaWY6IHt0eXBlOiBbJ3BhcmFib2xpYyddfX0sXG4gICAgZGVmYXVsdFBsYW5lU2l6ZTogeyBkZWZhdWx0OiAxMDAgfSxcbiAgICBsYW5kaW5nTm9ybWFsOiB7dHlwZTogJ3ZlYzMnLCBkZWZhdWx0OiAnMCAxIDAnfSxcbiAgICBsYW5kaW5nTWF4QW5nbGU6IHtkZWZhdWx0OiAnNDUnLCBtaW46IDAsIG1heDogMzYwfVxuICB9LFxuXG4gIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICB2YXIgZWwgPSB0aGlzLmVsO1xuICAgIHZhciB0ZWxlcG9ydEVudGl0eTtcbiAgICB2YXIgaTtcblxuICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgdGhpcy5vYmogPSBlbC5vYmplY3QzRDtcbiAgICB0aGlzLmhpdFBvaW50ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgICB0aGlzLnJpZ1dvcmxkUG9zaXRpb24gPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgIHRoaXMubmV3UmlnV29ybGRQb3NpdGlvbiA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG4gICAgdGhpcy50ZWxlcG9ydEV2ZW50RGV0YWlsID0ge1xuICAgICAgb2xkUG9zaXRpb246IHRoaXMucmlnV29ybGRQb3NpdGlvbixcbiAgICAgIG5ld1Bvc2l0aW9uOiB0aGlzLm5ld1JpZ1dvcmxkUG9zaXRpb24sXG4gICAgICBoaXRQb2ludDogdGhpcy5oaXRQb2ludFxuICAgIH07XG4gICAgdGhpcy5pbnRlcnNlY3Rpb25zID0gW107XG4gICAgdGhpcy5tZXNoZXMgPSBbXTtcblxuICAgIHRoaXMuaGl0ID0gZmFsc2U7XG4gICAgdGhpcy5wcmV2Q2hlY2tUaW1lID0gdW5kZWZpbmVkO1xuICAgIHRoaXMucHJldkhpdEhlaWdodCA9IDA7XG4gICAgdGhpcy5yZWZlcmVuY2VOb3JtYWwgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgIHRoaXMuY3VydmVNaXNzQ29sb3IgPSBuZXcgVEhSRUUuQ29sb3IoKTtcbiAgICB0aGlzLmN1cnZlSGl0Q29sb3IgPSBuZXcgVEhSRUUuQ29sb3IoKTtcbiAgICB0aGlzLnJheWNhc3RlciA9IG5ldyBUSFJFRS5SYXljYXN0ZXIoKTtcblxuICAgIHRoaXMuZGVmYXVsdFBsYW5lID0gY3JlYXRlRGVmYXVsdFBsYW5lKHRoaXMuZGF0YS5kZWZhdWx0UGxhbmVTaXplKTtcbiAgICB0aGlzLmRlZmF1bHRDb2xsaXNpb25NZXNoZXMgPSBbdGhpcy5kZWZhdWx0UGxhbmVdO1xuXG4gICAgdGVsZXBvcnRFbnRpdHkgPSB0aGlzLnRlbGVwb3J0RW50aXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYS1lbnRpdHknKTtcbiAgICB0ZWxlcG9ydEVudGl0eS5jbGFzc0xpc3QuYWRkKCd0ZWxlcG9ydFJheScpO1xuICAgIHRlbGVwb3J0RW50aXR5Lm9iamVjdDNELnZpc2libGUgPSBmYWxzZTtcbiAgICBlbC5zY2VuZUVsLmFwcGVuZENoaWxkKHRoaXMudGVsZXBvcnRFbnRpdHkpO1xuXG4gICAgdGhpcy5vbkJ1dHRvbkRvd24gPSB0aGlzLm9uQnV0dG9uRG93bi5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25CdXR0b25VcCA9IHRoaXMub25CdXR0b25VcC5iaW5kKHRoaXMpO1xuICAgIGlmICh0aGlzLmRhdGEuc3RhcnRFdmVudHMubGVuZ3RoICYmIHRoaXMuZGF0YS5lbmRFdmVudHMubGVuZ3RoKSB7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmRhdGEuc3RhcnRFdmVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmRhdGEuc3RhcnRFdmVudHNbaV0sIHRoaXMub25CdXR0b25Eb3duKTtcbiAgICAgIH1cbiAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmRhdGEuZW5kRXZlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5kYXRhLmVuZEV2ZW50c1tpXSwgdGhpcy5vbkJ1dHRvblVwKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihkYXRhLmJ1dHRvbiArICdkb3duJywgdGhpcy5vbkJ1dHRvbkRvd24pO1xuICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihkYXRhLmJ1dHRvbiArICd1cCcsIHRoaXMub25CdXR0b25VcCk7XG4gICAgfVxuXG4gICAgdGhpcy5yZWZyZXNoTWVzaGVzKCk7XG4gIH0sXG5cbiAgdXBkYXRlOiBmdW5jdGlvbiAob2xkRGF0YSkge1xuICAgIHZhciBkYXRhID0gdGhpcy5kYXRhO1xuICAgIHZhciBkaWZmID0gQUZSQU1FLnV0aWxzLmRpZmYoZGF0YSwgb2xkRGF0YSk7XG5cbiAgICAvLyBVcGRhdGUgbm9ybWFsLlxuICAgIHRoaXMucmVmZXJlbmNlTm9ybWFsLmNvcHkoZGF0YS5sYW5kaW5nTm9ybWFsKTtcblxuICAgIC8vIFVwZGF0ZSBjb2xvcnMuXG4gICAgdGhpcy5jdXJ2ZU1pc3NDb2xvci5zZXQoZGF0YS5jdXJ2ZU1pc3NDb2xvcik7XG4gICAgdGhpcy5jdXJ2ZUhpdENvbG9yLnNldChkYXRhLmN1cnZlSGl0Q29sb3IpO1xuXG4gICAgLy8gQ3JlYXRlIG9yIHVwZGF0ZSBsaW5lIG1lc2guXG4gICAgaWYgKCF0aGlzLmxpbmUgfHxcbiAgICAgICAgJ2N1cnZlTGluZVdpZHRoJyBpbiBkaWZmIHx8ICdjdXJ2ZU51bWJlclBvaW50cycgaW4gZGlmZiB8fCAndHlwZScgaW4gZGlmZikge1xuICAgICAgdGhpcy5saW5lID0gY3JlYXRlTGluZShkYXRhKTtcbiAgICAgIHRoaXMudGVsZXBvcnRFbnRpdHkuc2V0T2JqZWN0M0QoJ21lc2gnLCB0aGlzLmxpbmUubWVzaCk7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIG9yIHVwZGF0ZSBoaXQgZW50aXR5LlxuICAgIGlmIChkYXRhLmhpdEVudGl0eSkge1xuICAgICAgdGhpcy5oaXRFbnRpdHkgPSBkYXRhLmhpdEVudGl0eTtcbiAgICB9IGVsc2UgaWYgKCF0aGlzLmhpdEVudGl0eSB8fCAnaGl0Q3lsaW5kZXJDb2xvcicgaW4gZGlmZiB8fCAnaGl0Q3lsaW5kZXJIZWlnaHQnIGluIGRpZmYgfHxcbiAgICAgICAgICAgICAgICdoaXRDeWxpbmRlclJhZGl1cycgaW4gZGlmZikge1xuICAgICAgLy8gUmVtb3ZlIHByZXZpb3VzIGVudGl0eSwgY3JlYXRlIG5ldyBlbnRpdHkgKGNvdWxkIGJlIG1vcmUgcGVyZm9ybWFudCkuXG4gICAgICBpZiAodGhpcy5oaXRFbnRpdHkpIHsgdGhpcy5oaXRFbnRpdHkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmhpdEVudGl0eSk7IH1cbiAgICAgIHRoaXMuaGl0RW50aXR5ID0gY3JlYXRlSGl0RW50aXR5KGRhdGEpO1xuICAgICAgdGhpcy5lbC5zY2VuZUVsLmFwcGVuZENoaWxkKHRoaXMuaGl0RW50aXR5KTtcbiAgICB9XG4gICAgdGhpcy5oaXRFbnRpdHkub2JqZWN0M0QudmlzaWJsZSA9IGZhbHNlO1xuXG4gICAgaWYgKCdjb2xsaXNpb25FbnRpdGllcycgaW4gZGlmZikgeyB0aGlzLnJlZnJlc2hNZXNoZXMoKTsgfVxuICB9LFxuXG4gIHJlbW92ZTogZnVuY3Rpb24gKCkge1xuICAgIHZhciBlbCA9IHRoaXMuZWw7XG4gICAgdmFyIGhpdEVudGl0eSA9IHRoaXMuaGl0RW50aXR5O1xuICAgIHZhciB0ZWxlcG9ydEVudGl0eSA9IHRoaXMudGVsZXBvcnRFbnRpdHk7XG5cbiAgICBpZiAoaGl0RW50aXR5KSB7IGhpdEVudGl0eS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGhpdEVudGl0eSk7IH1cbiAgICBpZiAodGVsZXBvcnRFbnRpdHkpIHsgdGVsZXBvcnRFbnRpdHkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0ZWxlcG9ydEVudGl0eSk7IH1cblxuICAgIGVsLnNjZW5lRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hpbGQtYXR0YWNoZWQnLCB0aGlzLmNoaWxkQXR0YWNoSGFuZGxlcik7XG4gICAgZWwuc2NlbmVFbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGlsZC1kZXRhY2hlZCcsIHRoaXMuY2hpbGREZXRhY2hIYW5kbGVyKTtcbiAgfSxcblxuICB0aWNrOiAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBwMCA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG4gICAgdmFyIHYwID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgICB2YXIgZyA9IC05Ljg7XG4gICAgdmFyIGEgPSBuZXcgVEhSRUUuVmVjdG9yMygwLCBnLCAwKTtcbiAgICB2YXIgbmV4dCA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG4gICAgdmFyIGxhc3QgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgIHZhciBxdWF0ZXJuaW9uID0gbmV3IFRIUkVFLlF1YXRlcm5pb24oKTtcbiAgICB2YXIgdHJhbnNsYXRpb24gPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgIHZhciBzY2FsZSA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG4gICAgdmFyIHNob290QW5nbGUgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgIHZhciBsYXN0TmV4dCA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG4gICAgdmFyIGF1eERpcmVjdGlvbiA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKHRpbWUsIGRlbHRhKSB7XG4gICAgICBpZiAoIXRoaXMuYWN0aXZlKSB7IHJldHVybjsgfVxuXG4gICAgICAvLyBPbmx5IGNoZWNrIGZvciBpbnRlcnNlY3Rpb24gaWYgaW50ZXJ2YWwgdGltZSBoYXMgcGFzc2VkLlxuICAgICAgaWYgKHRoaXMucHJldkNoZWNrVGltZSAmJiAodGltZSAtIHRoaXMucHJldkNoZWNrVGltZSA8IHRoaXMuZGF0YS5pbnRlcnZhbCkpIHsgcmV0dXJuOyB9XG4gICAgICAvLyBVcGRhdGUgY2hlY2sgdGltZS5cbiAgICAgIHRoaXMucHJldkNoZWNrVGltZSA9IHRpbWU7XG5cbiAgICAgIHZhciBtYXRyaXhXb3JsZCA9IHRoaXMub2JqLm1hdHJpeFdvcmxkO1xuICAgICAgbWF0cml4V29ybGQuZGVjb21wb3NlKHRyYW5zbGF0aW9uLCBxdWF0ZXJuaW9uLCBzY2FsZSk7XG5cbiAgICAgIHZhciBkaXJlY3Rpb24gPSBzaG9vdEFuZ2xlLmNvcHkodGhpcy5kYXRhLmRpcmVjdGlvbilcbiAgICAgICAgLmFwcGx5UXVhdGVybmlvbihxdWF0ZXJuaW9uKS5ub3JtYWxpemUoKTtcbiAgICAgIHRoaXMubGluZS5zZXREaXJlY3Rpb24oYXV4RGlyZWN0aW9uLmNvcHkoZGlyZWN0aW9uKSk7XG4gICAgICB0aGlzLm9iai5nZXRXb3JsZFBvc2l0aW9uKHAwKTtcblxuICAgICAgbGFzdC5jb3B5KHAwKTtcblxuICAgICAgLy8gU2V0IGRlZmF1bHQgc3RhdHVzIGFzIG5vbi1oaXRcbiAgICAgIHRoaXMudGVsZXBvcnRFbnRpdHkub2JqZWN0M0QudmlzaWJsZSA9IHRydWU7XG4gICAgICB0aGlzLmxpbmUubWF0ZXJpYWwuY29sb3Iuc2V0KHRoaXMuY3VydmVNaXNzQ29sb3IpO1xuICAgICAgdGhpcy5oaXRFbnRpdHkub2JqZWN0M0QudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgdGhpcy5oaXQgPSBmYWxzZTtcblxuICAgICAgaWYgKHRoaXMuZGF0YS50eXBlID09PSAncGFyYWJvbGljJykge1xuICAgICAgICB2MC5jb3B5KGRpcmVjdGlvbikubXVsdGlwbHlTY2FsYXIodGhpcy5kYXRhLmN1cnZlU2hvb3RpbmdTcGVlZCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxpbmUubnVtUG9pbnRzOyBpKyspIHtcbiAgICAgICAgICB2YXIgdCA9IGkgLyAodGhpcy5saW5lLm51bVBvaW50cyAtIDEpO1xuICAgICAgICAgIHBhcmFib2xpY0N1cnZlKHAwLCB2MCwgYSwgdCwgbmV4dCk7XG4gICAgICAgICAgLy8gVXBkYXRlIHRoZSByYXljYXN0ZXIgd2l0aCB0aGUgbGVuZ3RoIG9mIHRoZSBjdXJyZW50IHNlZ21lbnQgbGFzdC0+bmV4dFxuICAgICAgICAgIHZhciBkaXJMYXN0TmV4dCA9IGxhc3ROZXh0LmNvcHkobmV4dCkuc3ViKGxhc3QpLm5vcm1hbGl6ZSgpO1xuICAgICAgICAgIHRoaXMucmF5Y2FzdGVyLmZhciA9IGRpckxhc3ROZXh0Lmxlbmd0aCgpO1xuICAgICAgICAgIHRoaXMucmF5Y2FzdGVyLnNldChsYXN0LCBkaXJMYXN0TmV4dCk7XG5cbiAgICAgICAgICBpZiAodGhpcy5jaGVja01lc2hDb2xsaXNpb25zKGksIG5leHQpKSB7IGJyZWFrOyB9XG4gICAgICAgICAgbGFzdC5jb3B5KG5leHQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YS50eXBlID09PSAnbGluZScpIHtcbiAgICAgICAgbmV4dC5jb3B5KGxhc3QpLmFkZChhdXhEaXJlY3Rpb24uY29weShkaXJlY3Rpb24pLm11bHRpcGx5U2NhbGFyKHRoaXMuZGF0YS5tYXhMZW5ndGgpKTtcbiAgICAgICAgdGhpcy5yYXljYXN0ZXIuZmFyID0gdGhpcy5kYXRhLm1heExlbmd0aDtcbiAgICAgICAgdGhpcy5yYXljYXN0ZXIuc2V0KHAwLCBkaXJlY3Rpb24pO1xuICAgICAgICB0aGlzLmxpbmUuc2V0UG9pbnQoMCwgcDApO1xuXG4gICAgICAgIHRoaXMuY2hlY2tNZXNoQ29sbGlzaW9ucygxLCBuZXh0KTtcbiAgICAgIH1cbiAgICB9O1xuICB9KSgpLFxuXG4gIC8qKlxuICAgKiBSdW4gYHF1ZXJ5U2VsZWN0b3JBbGxgIGZvciBgY29sbGlzaW9uRW50aXRpZXNgIGFuZCBtYWludGFpbiBpdCB3aXRoIGBjaGlsZC1hdHRhY2hlZGBcbiAgICogYW5kIGBjaGlsZC1kZXRhY2hlZGAgZXZlbnRzLlxuICAgKi9cbiAgcmVmcmVzaE1lc2hlczogZnVuY3Rpb24gKCkge1xuICAgIHZhciBjb2xsaXNpb25FbnRpdGllcztcbiAgICB2YXIgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICB2YXIgZWwgPSB0aGlzLmVsO1xuICAgIHZhciBpO1xuICAgIHZhciBtZXNoZXM7XG5cbiAgICBpZiAoIWRhdGEuY29sbGlzaW9uRW50aXRpZXMpIHtcbiAgICAgIHRoaXMuY29sbGlzaW9uRW50aXRpZXMgPSBbXTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb2xsaXNpb25FbnRpdGllcyA9IFtdLnNsaWNlLmNhbGwoZWwuc2NlbmVFbC5xdWVyeVNlbGVjdG9yQWxsKGRhdGEuY29sbGlzaW9uRW50aXRpZXMpKTtcbiAgICB0aGlzLmNvbGxpc2lvbkVudGl0aWVzID0gY29sbGlzaW9uRW50aXRpZXM7XG5cbiAgICAvLyBVcGRhdGUgZW50aXR5IGxpc3Qgb24gYXR0YWNoLlxuICAgIGlmICh0aGlzLmRhdGEuY2hlY2tDb2xsaXNpb25DaGlsZHJlbikge1xuICAgICAgZWwuc2NlbmVFbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGlsZC1hdHRhY2hlZCcsIHRoaXMuY2hpbGRBdHRhY2hIYW5kbGVyKTtcbiAgICAgIHRoaXMuY2hpbGRBdHRhY2hIYW5kbGVyID0gZnVuY3Rpb24gY2hpbGRBdHRhY2hIYW5kbGVyIChldnQpIHtcbiAgICAgICAgaWYgKCFldnQuZGV0YWlsLmVsLm1hdGNoZXMoZGF0YS5jb2xsaXNpb25FbnRpdGllcykpIHsgcmV0dXJuOyB9XG4gICAgICAgIGNvbGxpc2lvbkVudGl0aWVzLnB1c2goZXZ0LmRldGFpbC5lbCk7XG4gICAgICB9O1xuICAgICAgZWwuc2NlbmVFbC5hZGRFdmVudExpc3RlbmVyKCdjaGlsZC1hdHRhY2hlZCcsIHRoaXMuY2hpbGRBdHRhY2hIYW5kbGVyKTtcblxuICAgICAgLy8gVXBkYXRlIGVudGl0eSBsaXN0IG9uIGRldGFjaC5cbiAgICAgIGVsLnNjZW5lRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hpbGQtZGV0YWNoZWQnLCB0aGlzLmNoaWxkRGV0YWNoSGFuZGxlcik7XG4gICAgICB0aGlzLmNoaWxkRGV0YWNoSGFuZGxlciA9IGZ1bmN0aW9uIGNoaWxkRGV0YWNoSGFuZGxlciAoZXZ0KSB7XG4gICAgICAgIHZhciBpbmRleDtcbiAgICAgICAgaWYgKCFldnQuZGV0YWlsLmVsLm1hdGNoZXMoZGF0YS5jb2xsaXNpb25FbnRpdGllcykpIHsgcmV0dXJuOyB9XG4gICAgICAgIGluZGV4ID0gY29sbGlzaW9uRW50aXRpZXMuaW5kZXhPZihldnQuZGV0YWlsLmVsKTtcbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkgeyByZXR1cm47IH1cbiAgICAgICAgY29sbGlzaW9uRW50aXRpZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH07XG4gICAgICBlbC5zY2VuZUVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoaWxkLWRldGFjaGVkJywgdGhpcy5jaGlsZERldGFjaEhhbmRsZXIpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmRhdGEuY29sbGlzaW9uRW50aXRpZXMpIHtcbiAgICAgIC8vIEdldCBtZXNoZXMuXG4gICAgICB2YXIgbWVzaGVzID0gdGhpcy5tZXNoZXMgPSBbXTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmNvbGxpc2lvbkVudGl0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBtZXNoID0gdGhpcy5jb2xsaXNpb25FbnRpdGllc1tpXS5nZXRPYmplY3QzRCgnbWVzaCcpO1xuICAgICAgICBpZiAobWVzaCkge1xuICAgICAgICAgIHRoaXMubWVzaGVzLnB1c2gobWVzaCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gTGlzdGVuIGZvciBuZXcgbWVzaGVzLlxuICAgICAgICAgIHRoaXMuY29sbGlzaW9uRW50aXRpZXNbaV0uYWRkRXZlbnRMaXN0ZW5lcignb2JqZWN0M2RzZXQnLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICBpZiAoZXZ0LnRhcmdldCAhPT0gdGhpcyB8fCBldnQuZGV0YWlsLnR5cGUgIT09ICdtZXNoJykgeyByZXR1cm47IH1cbiAgICAgICAgICAgIG1lc2hlcy5wdXNoKGV2dC5kZXRhaWwub2JqZWN0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm1lc2hlcyA9IHRoaXMuZGVmYXVsdENvbGxpc2lvbk1lc2hlcztcbiAgICB9XG4gIH0sXG5cbiAgb25CdXR0b25Eb3duOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xuICAgIHRoaXMuZWwuZW1pdCgndGVsZXBvcnRzdGFydCcpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBKdW1wIVxuICAgKi9cbiAgb25CdXR0b25VcDogKGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCB0ZWxlcG9ydE9yaWdpbldvcmxkUG9zaXRpb24gPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgIGNvbnN0IG5ld1JpZ0xvY2FsUG9zaXRpb24gPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgIGNvbnN0IG5ld0hhbmRQb3NpdGlvbiA9IFtuZXcgVEhSRUUuVmVjdG9yMygpLCBuZXcgVEhSRUUuVmVjdG9yMygpXTsgLy8gTGVmdCBhbmQgcmlnaHRcbiAgICBjb25zdCBoYW5kUG9zaXRpb24gPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgIGlmICghdGhpcy5hY3RpdmUpIHsgcmV0dXJuOyB9XG5cbiAgICAgIC8vIEhpZGUgdGhlIGhpdCBwb2ludCBhbmQgdGhlIGN1cnZlXG4gICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgdGhpcy5oaXRFbnRpdHkub2JqZWN0M0QudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgdGhpcy50ZWxlcG9ydEVudGl0eS5vYmplY3QzRC52aXNpYmxlID0gZmFsc2U7XG5cbiAgICAgIGlmICghdGhpcy5oaXQpIHtcbiAgICAgICAgLy8gQnV0dG9uIHJlbGVhc2VkIGJ1dCBub3QgaGl0IHBvaW50XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmlnID0gdGhpcy5kYXRhLmNhbWVyYVJpZyB8fCB0aGlzLmVsLnNjZW5lRWwuY2FtZXJhLmVsO1xuICAgICAgcmlnLm9iamVjdDNELmdldFdvcmxkUG9zaXRpb24odGhpcy5yaWdXb3JsZFBvc2l0aW9uKTtcbiAgICAgIHRoaXMubmV3UmlnV29ybGRQb3NpdGlvbi5jb3B5KHRoaXMuaGl0UG9pbnQpO1xuXG4gICAgICAvLyBJZiBhIHRlbGVwb3J0T3JpZ2luIGV4aXN0cywgb2Zmc2V0IHRoZSByaWcgc3VjaCB0aGF0IHRoZSB0ZWxlcG9ydE9yaWdpbiBpcyBhYm92ZSB0aGUgaGl0UG9pbnRcbiAgICAgIGNvbnN0IHRlbGVwb3J0T3JpZ2luID0gdGhpcy5kYXRhLnRlbGVwb3J0T3JpZ2luO1xuICAgICAgaWYgKHRlbGVwb3J0T3JpZ2luKSB7XG4gICAgICAgIHRlbGVwb3J0T3JpZ2luLm9iamVjdDNELmdldFdvcmxkUG9zaXRpb24odGVsZXBvcnRPcmlnaW5Xb3JsZFBvc2l0aW9uKTtcbiAgICAgICAgdGhpcy5uZXdSaWdXb3JsZFBvc2l0aW9uLnN1Yih0ZWxlcG9ydE9yaWdpbldvcmxkUG9zaXRpb24pLmFkZCh0aGlzLnJpZ1dvcmxkUG9zaXRpb24pO1xuICAgICAgfVxuXG4gICAgICAvLyBBbHdheXMga2VlcCB0aGUgcmlnIGF0IHRoZSBzYW1lIG9mZnNldCBvZmYgdGhlIGdyb3VuZCBhZnRlciB0ZWxlcG9ydGluZ1xuICAgICAgdGhpcy5uZXdSaWdXb3JsZFBvc2l0aW9uLnkgPSB0aGlzLnJpZ1dvcmxkUG9zaXRpb24ueSArIHRoaXMuaGl0UG9pbnQueSAtIHRoaXMucHJldkhpdEhlaWdodDtcbiAgICAgIHRoaXMucHJldkhpdEhlaWdodCA9IHRoaXMuaGl0UG9pbnQueTtcblxuICAgICAgLy8gRmluYWxseSB1cGRhdGUgdGhlIHJpZ3MgcG9zaXRpb25cbiAgICAgIG5ld1JpZ0xvY2FsUG9zaXRpb24uY29weSh0aGlzLm5ld1JpZ1dvcmxkUG9zaXRpb24pO1xuICAgICAgaWYgKHJpZy5vYmplY3QzRC5wYXJlbnQpIHtcbiAgICAgICAgcmlnLm9iamVjdDNELnBhcmVudC53b3JsZFRvTG9jYWwobmV3UmlnTG9jYWxQb3NpdGlvbik7XG4gICAgICB9XG4gICAgICByaWcub2JqZWN0M0QucG9zaXRpb24uY29weShuZXdSaWdMb2NhbFBvc2l0aW9uKTtcblxuICAgICAgLy8gSWYgYSByaWcgd2FzIG5vdCBleHBsaWNpdGx5IGRlY2xhcmVkLCBsb29rIGZvciBoYW5kcyBhbmQgbXZvZSB0aGVtIHByb3BvcnRpb25hbGx5IGFzIHdlbGxcbiAgICAgIGlmICghdGhpcy5kYXRhLmNhbWVyYVJpZykge1xuICAgICAgICB2YXIgaGFuZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdhLWVudGl0eVt0cmFja2VkLWNvbnRyb2xzXScpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhhbmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaGFuZHNbaV0ub2JqZWN0M0QuZ2V0V29ybGRQb3NpdGlvbihoYW5kUG9zaXRpb24pO1xuXG4gICAgICAgICAgLy8gZGlmZiA9IHJpZ1dvcmxkUG9zaXRpb24gLSBoYW5kUG9zaXRpb25cbiAgICAgICAgICAvLyBuZXdQb3MgPSBuZXdSaWdXb3JsZFBvc2l0aW9uIC0gZGlmZlxuICAgICAgICAgIG5ld0hhbmRQb3NpdGlvbltpXS5jb3B5KHRoaXMubmV3UmlnV29ybGRQb3NpdGlvbikuc3ViKHRoaXMucmlnV29ybGRQb3NpdGlvbikuYWRkKGhhbmRQb3NpdGlvbik7XG4gICAgICAgICAgaGFuZHNbaV0ub2JqZWN0M0QucG9zaXRpb24uY29weShuZXdIYW5kUG9zaXRpb25baV0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZWwuZW1pdCgndGVsZXBvcnRlZCcsIHRoaXMudGVsZXBvcnRFdmVudERldGFpbCk7XG4gICAgfTtcbiAgfSkoKSxcblxuICAvKipcbiAgICogQ2hlY2sgZm9yIHJheWNhc3RlciBpbnRlcnNlY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBMaW5lIGZyYWdtZW50IHBvaW50IGluZGV4LlxuICAgKiBAcGFyYW0ge251bWJlcn0gTmV4dCBsaW5lIGZyYWdtZW50IHBvaW50IGluZGV4LlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGVyZSdzIGFuIGludGVyc2VjdGlvbi5cbiAgICovXG4gIGNoZWNrTWVzaENvbGxpc2lvbnM6IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGxvb2tBdFZlYzMgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChpLCBuZXh0KSB7XG4gICAgICB2YXIgaTtcbiAgICAgIHZhciBpbnRlcnNlY3RzID0gdGhpcy5pbnRlcnNlY3Rpb25zO1xuXG4gICAgICBpbnRlcnNlY3RzLmxlbmd0aCA9IDA7XG4gICAgICB0aGlzLnJheWNhc3Rlci5pbnRlcnNlY3RPYmplY3RzKHRoaXMubWVzaGVzLCB0cnVlLCBpbnRlcnNlY3RzKTtcblxuICAgICAgaWYgKGludGVyc2VjdHMubGVuZ3RoID4gMCAmJiAhdGhpcy5oaXQgJiZcbiAgICAgICAgICB0aGlzLmlzVmFsaWROb3JtYWxzQW5nbGUoaW50ZXJzZWN0c1swXS5mYWNlLm5vcm1hbCkpIHtcbiAgICAgICAgdmFyIHBvaW50ID0gaW50ZXJzZWN0c1swXS5wb2ludDtcblxuICAgICAgICB0aGlzLmxpbmUubWF0ZXJpYWwuY29sb3Iuc2V0KHRoaXMuY3VydmVIaXRDb2xvcik7XG4gICAgICAgIHRoaXMuaGl0RW50aXR5Lm9iamVjdDNELnBvc2l0aW9uLmNvcHkocG9pbnQpO1xuICAgICAgICB0aGlzLmhpdEVudGl0eS5vYmplY3QzRC52aXNpYmxlID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLmhpdCA9IHRydWU7XG4gICAgICAgIHRoaXMuaGl0UG9pbnQuY29weShpbnRlcnNlY3RzWzBdLnBvaW50KTtcblxuICAgICAgICAvLyBBbGlnbiBoaXQgY3lsaW5kZXIgdG8gaW50ZXJzZWN0aW9uIG5vcm1hbC5cbiAgICAgICAgaWYgKHRoaXMuZGF0YS5oaXRFbnRpdHlBbGlnbk5vcm1hbCkge1xuICAgICAgICAgIGxvb2tBdFZlYzMuY29weShpbnRlcnNlY3RzWzBdLnBvaW50KS5hZGQoaW50ZXJzZWN0c1swXS5mYWNlLm5vcm1hbCk7XG4gICAgICAgICAgaW50ZXJzZWN0c1swXS5vYmplY3QubG9jYWxUb1dvcmxkKGxvb2tBdFZlYzMpO1xuICAgICAgICAgIHRoaXMuaGl0RW50aXR5Lm9iamVjdDNELmxvb2tBdChsb29rQXRWZWMzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIGhpdCwganVzdCBmaWxsIHRoZSByZXN0IG9mIHRoZSBwb2ludHMgd2l0aCB0aGUgaGl0IHBvaW50IGFuZCBicmVhayB0aGUgbG9vcFxuICAgICAgICBmb3IgKHZhciBqID0gaTsgaiA8IHRoaXMubGluZS5udW1Qb2ludHM7IGorKykge1xuICAgICAgICAgIHRoaXMubGluZS5zZXRQb2ludChqLCB0aGlzLmhpdFBvaW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubGluZS5zZXRQb2ludChpLCBuZXh0KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH07XG4gIH0pKCksXG5cbiAgaXNWYWxpZE5vcm1hbHNBbmdsZTogZnVuY3Rpb24gKGNvbGxpc2lvbk5vcm1hbCkge1xuICAgIHZhciBhbmdsZU5vcm1hbHMgPSB0aGlzLnJlZmVyZW5jZU5vcm1hbC5hbmdsZVRvKGNvbGxpc2lvbk5vcm1hbCk7XG4gICAgcmV0dXJuIChUSFJFRS5NYXRoLlJBRDJERUcgKiBhbmdsZU5vcm1hbHMgPD0gdGhpcy5kYXRhLmxhbmRpbmdNYXhBbmdsZSk7XG4gIH0sXG59KTtcblxuXG5mdW5jdGlvbiBjcmVhdGVMaW5lIChkYXRhKSB7XG4gIHZhciBudW1Qb2ludHMgPSBkYXRhLnR5cGUgPT09ICdsaW5lJyA/IDIgOiBkYXRhLmN1cnZlTnVtYmVyUG9pbnRzO1xuICByZXR1cm4gbmV3IFJheUN1cnZlKG51bVBvaW50cywgZGF0YS5jdXJ2ZUxpbmVXaWR0aCk7XG59XG5cbi8qKlxuICogQ3JlYXRlIG1lc2ggdG8gcmVwcmVzZW50IHRoZSBhcmVhIG9mIGludGVyc2VjdGlvbi5cbiAqIERlZmF1bHQgdG8gYSBjb21iaW5hdGlvbiBvZiB0b3J1cyBhbmQgY3lsaW5kZXIuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUhpdEVudGl0eSAoZGF0YSkge1xuICB2YXIgY3lsaW5kZXI7XG4gIHZhciBoaXRFbnRpdHk7XG4gIHZhciB0b3J1cztcblxuICAvLyBQYXJlbnQuXG4gIGhpdEVudGl0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EtZW50aXR5Jyk7XG4gIGhpdEVudGl0eS5jbGFzc05hbWUgPSAnaGl0RW50aXR5JztcbiAgaGl0RW50aXR5LnNldEF0dHJpYnV0ZSgndmlzaWJsZScsIGZhbHNlKTtcblxuICAvLyBUb3J1cy5cbiAgdG9ydXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhLWVudGl0eScpO1xuICB0b3J1cy5zZXRBdHRyaWJ1dGUoJ2dlb21ldHJ5Jywge1xuICAgIHByaW1pdGl2ZTogJ3RvcnVzJyxcbiAgICByYWRpdXM6IGRhdGEuaGl0Q3lsaW5kZXJSYWRpdXMsXG4gICAgcmFkaXVzVHVidWxhcjogMC4wMVxuICB9KTtcbiAgdG9ydXMuc2V0QXR0cmlidXRlKCdtYXRlcmlhbCcsIHtcbiAgICBzaGFkZXI6ICdmbGF0JyxcbiAgICBjb2xvcjogZGF0YS5oaXRDeWxpbmRlckNvbG9yLFxuICAgIHNpZGU6ICdkb3VibGUnLFxuICAgIGRlcHRoVGVzdDogZmFsc2VcbiAgfSk7XG4gIHRvcnVzLnNldEF0dHJpYnV0ZSgncm90YXRpb24nLCAnLTkwIDAgMCcpO1xuICBoaXRFbnRpdHkuYXBwZW5kQ2hpbGQodG9ydXMpO1xuXG4gIC8vIEN5bGluZGVyLlxuICBjeWxpbmRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EtZW50aXR5Jyk7XG4gIGN5bGluZGVyLnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLCB7eDogMCwgeTogZGF0YS5oaXRDeWxpbmRlckhlaWdodCAvIDIsIHo6IDB9KTtcbiAgY3lsaW5kZXIuc2V0QXR0cmlidXRlKCdnZW9tZXRyeScsIHtcbiAgICBwcmltaXRpdmU6ICdjeWxpbmRlcicsXG4gICAgc2VnbWVudHNIZWlnaHQ6IDEsXG4gICAgcmFkaXVzOiBkYXRhLmhpdEN5bGluZGVyUmFkaXVzLFxuICAgIGhlaWdodDogZGF0YS5oaXRDeWxpbmRlckhlaWdodCxcbiAgICBvcGVuRW5kZWQ6IHRydWVcbiAgfSk7XG4gIGN5bGluZGVyLnNldEF0dHJpYnV0ZSgnbWF0ZXJpYWwnLCB7XG4gICAgc2hhZGVyOiAnZmxhdCcsXG4gICAgY29sb3I6IGRhdGEuaGl0Q3lsaW5kZXJDb2xvcixcbiAgICBzaWRlOiAnZG91YmxlJyxcbiAgICBzcmM6IGN5bGluZGVyVGV4dHVyZSxcbiAgICB0cmFuc3BhcmVudDogdHJ1ZSxcbiAgICBkZXB0aFRlc3Q6IGZhbHNlXG4gIH0pO1xuICBoaXRFbnRpdHkuYXBwZW5kQ2hpbGQoY3lsaW5kZXIpO1xuXG4gIHJldHVybiBoaXRFbnRpdHk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZURlZmF1bHRQbGFuZSAoc2l6ZSkge1xuICB2YXIgZ2VvbWV0cnk7XG4gIHZhciBtYXRlcmlhbDtcblxuICBnZW9tZXRyeSA9IG5ldyBUSFJFRS5QbGFuZUJ1ZmZlckdlb21ldHJ5KDEwMCwgMTAwKTtcbiAgZ2VvbWV0cnkucm90YXRlWCgtTWF0aC5QSSAvIDIpO1xuICBtYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7Y29sb3I6IDB4ZmZmZjAwfSk7XG4gIHJldHVybiBuZXcgVEhSRUUuTWVzaChnZW9tZXRyeSwgbWF0ZXJpYWwpO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4uL2FmcmFtZS10ZWxlcG9ydC1jb250cm9scy9pbmRleC5qcyIsIndpbmRvdy51dGlscyA9IHt9O1xuXG4vKipcbiAqIEhlbHBlciB0byB2aXN1YWxpemUgbGluZXMuXG4gKi9cbndpbmRvdy51dGlscy5kcmF3TGluZSA9IChmdW5jdGlvbiAoKSB7XG4gIHZhciBlbHMgPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChuYW1lLCB2ZWMxLCB2ZWMyLCBjb2xvcikge1xuICAgIGlmICghZWxzW25hbWVdKSB7XG4gICAgICBlbHNbbmFtZV0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhLWVudGl0eScpO1xuICAgICAgZWxzW25hbWVdLnNldEF0dHJpYnV0ZSgnbGluZScsICdjb2xvcicsIGNvbG9yIHx8ICcjRkZGJyk7XG4gICAgICBlbHNbbmFtZV0uc2V0QXR0cmlidXRlKCdpZCcsIG5hbWUpO1xuICAgICAgQUZSQU1FLnNjZW5lc1swXS5hcHBlbmRDaGlsZChlbHNbbmFtZV0pO1xuICAgIH1cbiAgICBlbHNbbmFtZV0uc2V0QXR0cmlidXRlKCdsaW5lJywgJ3N0YXJ0JywgdmVjMS5jbG9uZSgpKTtcbiAgICBlbHNbbmFtZV0uc2V0QXR0cmlidXRlKCdsaW5lJywgJ2VuZCcsIHZlYzIuY2xvbmUoKSk7XG4gIH07XG59KSgpO1xuXG4vKipcbiAqIEhlbHBlciB0byB2aXN1YWxpemUgdmVjdG9ycy5cbiAqL1xud2luZG93LnV0aWxzLmRyYXdWZWMzID0gKGZ1bmN0aW9uICgpIHtcbiAgdmFyIGVscyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gKG5hbWUsIHZlYzMsIGNvbG9yKSB7XG4gICAgaWYgKCFlbHNbbmFtZV0pIHtcbiAgICAgIGVsc1tuYW1lXSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Etc3BoZXJlJyk7XG4gICAgICBlbHNbbmFtZV0uc2V0QXR0cmlidXRlKCdjb2xvcicsIGNvbG9yIHx8ICcjRkZGJyk7XG4gICAgICBlbHNbbmFtZV0uc2V0QXR0cmlidXRlKCdyYWRpdXMnLCAwLjAyKTtcbiAgICAgIGVsc1tuYW1lXS5zZXRBdHRyaWJ1dGUoJ2lkJywgbmFtZSk7XG4gICAgICBlbHNbbmFtZV0uc2V0QXR0cmlidXRlKCd0ZXh0Jywge2FsaWduOiAnY2VudGVyJywgdmFsdWU6IG5hbWUsIHNpZGU6ICdkb3VibGUnfSk7XG4gICAgICBBRlJBTUUuc2NlbmVzWzBdLmFwcGVuZENoaWxkKGVsc1tuYW1lXSk7XG4gICAgfVxuICAgIGVsc1tuYW1lXS5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJywgdmVjMy5jbG9uZSgpKTtcbiAgfTtcbn0pKCk7XG5cbi8qKlxuICogSGVscGVyIHRvIGdldCBjZW50ZXIgcG9pbnQgb2YgZmFjZS5cbiAqL1xud2luZG93LnV0aWxzLmdldEZhY2VDZW50ZXIgPSAoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZnVuY3Rpb24gKG1lc2gsIGZhY2UsIHRhcmdldFZlYzMpIHtcbiAgICB0YXJnZXRWZWMzID0gdGFyZ2V0VmVjMyB8fCBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgIHJldHVybiB0YXJnZXRWZWMzXG4gICAgICAuY29weShtZXNoLmdlb21ldHJ5LnZlcnRpY2VzW2ZhY2UuYV0pXG4gICAgICAuYWRkKG1lc2guZ2VvbWV0cnkudmVydGljZXNbZmFjZS5iXSlcbiAgICAgIC5hZGQobWVzaC5nZW9tZXRyeS52ZXJ0aWNlc1tmYWNlLmNdKVxuICAgICAgLmRpdmlkZVNjYWxhcigzKTtcbiAgfTtcbn0pKCk7XG5cbndpbmRvdy51dGlscy5hc3NldFBhdGggPSBmdW5jdGlvbiAoYXNzZXQpIHtcbiAgcmV0dXJuIEFGUkFNRS5zY2VuZXNbMF0uZGF0YXNldC5pc0hvbWUgPT09ICd0cnVlJyA/IGFzc2V0IDogYC4uLyR7YXNzZXR9YDtcbn1cblxud2luZG93LnV0aWxzLnJhbmRvbSA9IGZ1bmN0aW9uICh4KSB7XG4gIHZhciBpO1xuICB2YXIgc2VlZDtcbiAgc2VlZCA9IDA7XG4gIGZvciAoaSA9IDA7IGkgPCB3aW5kb3cubG9jYXRpb24uaHJlZi5sZW5ndGg7IGkrKykge1xuICAgIHNlZWQgKz0gd2luZG93LmxvY2F0aW9uLmhyZWYuY2hhckNvZGVBdChpKTtcbiAgfVxuICByZXR1cm4gcGFyc2VGbG9hdCgnMC4nICsgTWF0aC5zaW4oc2VlZCAqIDk5OTkgKiB4KS50b1N0cmluZygpLnN1YnN0cig3KSk7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdXRpbHMuanMiLCIvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcbi8qKioqKiovIFx0XHR9O1xuXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuXG5cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHQvLyBEZXBlbmRlbmNpZXNcblx0X193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg0NSk7XG5cblx0Ly8gR2xvYmFsIHZhcnMgYW5kIGZ1bmN0aW9uc1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KTtcblxuXHQvLyBOZXR3b3JrIGNvbXBvbmVudHNcblx0X193ZWJwYWNrX3JlcXVpcmVfXyg1OCk7XG5cdF9fd2VicGFja19yZXF1aXJlX18oNTkpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDY1KTtcblxuLyoqKi8gfSksXG4vKiAxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciB0ZW1wbGF0ZVN0cmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cblx0dmFyIGRlYnVnID0gQUZSQU1FLnV0aWxzLmRlYnVnO1xuXHR2YXIgZXh0ZW5kID0gQUZSQU1FLnV0aWxzLmV4dGVuZDtcblx0dmFyIHRlbXBsYXRlQ2FjaGUgPSB7fTsgLy8gVGVtcGxhdGUgY2FjaGUuXG5cdHZhciBlcnJvciA9IGRlYnVnKCd0ZW1wbGF0ZS1jb21wb25lbnQ6ZXJyb3InKTtcblx0dmFyIGxvZyA9IGRlYnVnKCd0ZW1wbGF0ZS1jb21wb25lbnQ6aW5mbycpO1xuXG5cdHZhciBIQU5ETEVCQVJTID0gJ2hhbmRsZWJhcnMnO1xuXHR2YXIgSkFERSA9ICdqYWRlJztcblx0dmFyIE1VU1RBQ0hFID0gJ211c3RhY2hlJztcblx0dmFyIE5VTkpVQ0tTID0gJ251bmp1Y2tzJztcblx0dmFyIEhUTUwgPSAnaHRtbCc7XG5cblx0dmFyIExJQl9MT0FERUQgPSB7fTtcblx0TElCX0xPQURFRFtIQU5ETEVCQVJTXSA9ICEhd2luZG93LkhhbmRsZWJhcnM7XG5cdExJQl9MT0FERURbSkFERV0gPSAhIXdpbmRvdy5qYWRlO1xuXHRMSUJfTE9BREVEW01VU1RBQ0hFXSA9ICEhd2luZG93Lk11c3RhY2hlO1xuXHRMSUJfTE9BREVEW05VTkpVQ0tTXSA9ICEhd2luZG93Lm51bmp1Y2tzO1xuXG5cdHZhciBMSUJfU1JDID0ge307XG5cdExJQl9TUkNbSEFORExFQkFSU10gPSAnaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvaGFuZGxlYmFycy5qcy80LjAuNS9oYW5kbGViYXJzLm1pbi5qcyc7XG5cdExJQl9TUkNbSkFERV0gPSAnaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvamFkZS8xLjExLjAvamFkZS5taW4uanMnO1xuXHRMSUJfU1JDW01VU1RBQ0hFXSA9ICdodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9tdXN0YWNoZS5qcy8yLjIuMS9tdXN0YWNoZS5taW4uanMnO1xuXHRMSUJfU1JDW05VTkpVQ0tTXSA9ICdodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9udW5qdWNrcy8yLjMuMC9udW5qdWNrcy5taW4uanMnO1xuXG5cdEFGUkFNRS5yZWdpc3RlckNvbXBvbmVudCgndGVtcGxhdGUnLCB7XG5cdCAgc2NoZW1hOiB7XG5cdCAgICBpbnNlcnQ6IHtcblx0ICAgICAgLy8gaW5zZXJ0QWRqYWNlbnRIVE1MLlxuXHQgICAgICBkZWZhdWx0OiAnYmVmb3JlZW5kJ1xuXHQgICAgfSxcblx0ICAgIHR5cGU6IHtcblx0ICAgICAgZGVmYXVsdDogJydcblx0ICAgIH0sXG5cdCAgICBzcmM6IHtcblx0ICAgICAgLy8gU2VsZWN0b3Igb3IgVVJMLlxuXHQgICAgICBkZWZhdWx0OiAnJ1xuXHQgICAgfSxcblx0ICAgIGRhdGE6IHtcblx0ICAgICAgZGVmYXVsdDogJydcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob2xkRGF0YSkge1xuXHQgICAgdmFyIGRhdGEgPSB0aGlzLmRhdGE7XG5cdCAgICB2YXIgZWwgPSB0aGlzLmVsO1xuXHQgICAgdmFyIGZldGNoZXIgPSBkYXRhLnNyY1swXSA9PT0gJyMnID8gZmV0Y2hUZW1wbGF0ZUZyb21TY3JpcHRUYWcgOiBmZXRjaFRlbXBsYXRlRnJvbVhIUjtcblx0ICAgIHZhciB0ZW1wbGF0ZUNhY2hlSXRlbSA9IHRlbXBsYXRlQ2FjaGVbZGF0YS5zcmNdO1xuXG5cdCAgICAvLyBSZXBsYWNlIGNoaWxkcmVuIGlmIHN3YXBwaW5nIHRlbXBsYXRlcy5cblx0ICAgIGlmIChvbGREYXRhICYmIG9sZERhdGEuc3JjICE9PSBkYXRhLnNyYykge1xuXHQgICAgICB3aGlsZSAoZWwuZmlyc3RDaGlsZCkge1xuXHQgICAgICAgIGVsLnJlbW92ZUNoaWxkKGVsLmZpcnN0Q2hpbGQpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIGlmICh0ZW1wbGF0ZUNhY2hlSXRlbSkge1xuXHQgICAgICB0aGlzLnJlbmRlclRlbXBsYXRlKHRlbXBsYXRlQ2FjaGVJdGVtKTtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXG5cdCAgICBmZXRjaGVyKGRhdGEuc3JjLCBkYXRhLnR5cGUpLnRoZW4odGhpcy5yZW5kZXJUZW1wbGF0ZS5iaW5kKHRoaXMpKTtcblx0ICB9LFxuXG5cdCAgcmVuZGVyVGVtcGxhdGU6IGZ1bmN0aW9uIHJlbmRlclRlbXBsYXRlKHRlbXBsYXRlQ2FjaGVJdGVtKSB7XG5cdCAgICB2YXIgZWwgPSB0aGlzLmVsO1xuXHQgICAgdmFyIGRhdGEgPSB0aGlzLmRhdGE7XG5cdCAgICB2YXIgdGVtcGxhdGVEYXRhID0ge307XG5cblx0ICAgIE9iamVjdC5rZXlzKGVsLmRhdGFzZXQpLmZvckVhY2goZnVuY3Rpb24gY29udmVydFRvRGF0YShrZXkpIHtcblx0ICAgICAgdGVtcGxhdGVEYXRhW2tleV0gPSBlbC5kYXRhc2V0W2tleV07XG5cdCAgICB9KTtcblx0ICAgIGlmIChkYXRhLmRhdGEpIHtcblx0ICAgICAgdGVtcGxhdGVEYXRhID0gZXh0ZW5kKHRlbXBsYXRlRGF0YSwgZWwuZ2V0QXR0cmlidXRlKGRhdGEuZGF0YSkpO1xuXHQgICAgfVxuXG5cdCAgICB2YXIgcmVuZGVyZWRUZW1wbGF0ZSA9IF9yZW5kZXJUZW1wbGF0ZSh0ZW1wbGF0ZUNhY2hlSXRlbS50ZW1wbGF0ZSwgdGVtcGxhdGVDYWNoZUl0ZW0udHlwZSwgdGVtcGxhdGVEYXRhKTtcblx0ICAgIGVsLmluc2VydEFkamFjZW50SFRNTChkYXRhLmluc2VydCwgcmVuZGVyZWRUZW1wbGF0ZSk7XG5cdCAgICBlbC5lbWl0KCd0ZW1wbGF0ZXJlbmRlcmVkJyk7XG5cdCAgfVxuXHR9KTtcblxuXHQvKipcblx0ICogSGVscGVyIHRvIGNvbXBpbGUgdGVtcGxhdGUsIGxhenktbG9hZGluZyB0aGUgdGVtcGxhdGUgZW5naW5lIGlmIG5lZWRlZC5cblx0ICovXG5cdGZ1bmN0aW9uIGNvbXBpbGVUZW1wbGF0ZShzcmMsIHR5cGUsIHRlbXBsYXRlU3RyKSB7XG5cdCAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG5cdCAgICBpbmplY3RUZW1wbGF0ZUxpYih0eXBlKS50aGVuKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdGVtcGxhdGVDYWNoZVtzcmNdID0ge1xuXHQgICAgICAgIHRlbXBsYXRlOiBnZXRDb21waWxlcih0eXBlKSh0ZW1wbGF0ZVN0ci50cmltKCkpLFxuXHQgICAgICAgIHR5cGU6IHR5cGVcblx0ICAgICAgfTtcblx0ICAgICAgcmVzb2x2ZSh0ZW1wbGF0ZUNhY2hlW3NyY10pO1xuXHQgICAgfSk7XG5cdCAgfSk7XG5cdH1cblxuXHRmdW5jdGlvbiBfcmVuZGVyVGVtcGxhdGUodGVtcGxhdGUsIHR5cGUsIGNvbnRleHQpIHtcblx0ICBzd2l0Y2ggKHR5cGUpIHtcblx0ICAgIGNhc2UgSEFORExFQkFSUzpcblx0ICAgICAge1xuXHQgICAgICAgIHJldHVybiB0ZW1wbGF0ZShjb250ZXh0KTtcblx0ICAgICAgfVxuXHQgICAgY2FzZSBKQURFOlxuXHQgICAgICB7XG5cdCAgICAgICAgcmV0dXJuIHRlbXBsYXRlKGNvbnRleHQpO1xuXHQgICAgICB9XG5cdCAgICBjYXNlIE1VU1RBQ0hFOlxuXHQgICAgICB7XG5cdCAgICAgICAgcmV0dXJuIE11c3RhY2hlLnJlbmRlcih0ZW1wbGF0ZSwgY29udGV4dCk7XG5cdCAgICAgIH1cblx0ICAgIGNhc2UgTlVOSlVDS1M6XG5cdCAgICAgIHtcblx0ICAgICAgICByZXR1cm4gdGVtcGxhdGUucmVuZGVyKGNvbnRleHQpO1xuXHQgICAgICB9XG5cdCAgICBkZWZhdWx0OlxuXHQgICAgICB7XG5cdCAgICAgICAgLy8gSWYgdHlwZSBub3Qgc3BlY2lmaWVkLCBhc3N1bWUgSFRNTC4gQWRkIHNvbWUgRVM2IHRlbXBsYXRlIHN0cmluZyBzdWdhci5cblx0ICAgICAgICByZXR1cm4gdGVtcGxhdGVTdHJpbmcodGVtcGxhdGUsIGNvbnRleHQpO1xuXHQgICAgICB9XG5cdCAgfVxuXHR9XG5cblx0LyoqXG5cdCAqIENhY2hlIGFuZCBjb21waWxlIHRlbXBsYXRlcy5cblx0ICovXG5cdGZ1bmN0aW9uIGZldGNoVGVtcGxhdGVGcm9tU2NyaXB0VGFnKHNyYywgdHlwZSkge1xuXHQgIHZhciBjb21waWxlcjtcblx0ICB2YXIgc2NyaXB0RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNyYyk7XG5cdCAgdmFyIHNjcmlwdFR5cGUgPSBzY3JpcHRFbC5nZXRBdHRyaWJ1dGUoJ3R5cGUnKTtcblx0ICB2YXIgdGVtcGxhdGVTdHIgPSBzY3JpcHRFbC5pbm5lckhUTUw7XG5cblx0ICAvLyBUcnkgdG8gaW5mZXIgdGVtcGxhdGUgdHlwZSBmcm9tIDxzY3JpcHQgdHlwZT4gaWYgdHlwZSBub3Qgc3BlY2lmaWVkLlxuXHQgIGlmICghdHlwZSkge1xuXHQgICAgaWYgKCFzY3JpcHRUeXBlKSB7XG5cdCAgICAgIHRocm93IG5ldyBFcnJvcignTXVzdCBwcm92aWRlIGB0eXBlYCBhdHRyaWJ1dGUgZm9yIDxzY3JpcHQ+IHRlbXBsYXRlcyAoZS5nLiwgaGFuZGxlYmFycywgamFkZSwgbnVuanVja3MsIGh0bWwpJyk7XG5cdCAgICB9XG5cdCAgICBpZiAoc2NyaXB0VHlwZS5pbmRleE9mKCdoYW5kbGViYXJzJykgIT09IC0xKSB7XG5cdCAgICAgIHR5cGUgPSBIQU5ETEVCQVJTO1xuXHQgICAgfSBlbHNlIGlmIChzY3JpcHRUeXBlLmluZGV4T2YoJ2phZGUnKSAhPT0gLTEpIHtcblx0ICAgICAgdHlwZSA9IEpBREU7XG5cdCAgICB9IGVsc2UgaWYgKHNjcmlwdFR5cGUuaW5kZXhPZignbXVzdGFjaGUnKSAhPT0gLTEpIHtcblx0ICAgICAgdHlwZSA9IE1VU1RBQ0hFO1xuXHQgICAgfSBlbHNlIGlmIChzY3JpcHRUeXBlLmluZGV4T2YoJ251bmp1Y2tzJykgIT09IC0xKSB7XG5cdCAgICAgIHR5cGUgPSBOVU5KVUNLUztcblx0ICAgIH0gZWxzZSBpZiAoc2NyaXB0VHlwZS5pbmRleE9mKCdodG1sJykgIT09IC0xKSB7XG5cdCAgICAgIHR5cGUgPSBIVE1MO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgZXJyb3IoJ1RlbXBsYXRlIHR5cGUgY291bGQgbm90IGJlIGluZmVycmVkIGZyb20gdGhlIHNjcmlwdCB0YWcuIFBsZWFzZSBhZGQgYSB0eXBlLicpO1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgfVxuXG5cdCAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG5cdCAgICBjb21waWxlVGVtcGxhdGUoc3JjLCB0eXBlLCB0ZW1wbGF0ZVN0cikudGhlbihmdW5jdGlvbiAodGVtcGxhdGUpIHtcblx0ICAgICAgcmVzb2x2ZSh0ZW1wbGF0ZSwgdHlwZSk7XG5cdCAgICB9KTtcblx0ICB9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIGZldGNoVGVtcGxhdGVGcm9tWEhSKHNyYywgdHlwZSkge1xuXHQgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuXHQgICAgdmFyIHJlcXVlc3Q7XG5cdCAgICByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cdCAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIC8vIFRlbXBsYXRlIGZldGNoZWQuIFVzZSB0ZW1wbGF0ZS5cblx0ICAgICAgY29tcGlsZVRlbXBsYXRlKHNyYywgdHlwZSwgcmVxdWVzdC5yZXNwb25zZSkudGhlbihmdW5jdGlvbiAodGVtcGxhdGUpIHtcblx0ICAgICAgICByZXNvbHZlKHRlbXBsYXRlLCB0eXBlKTtcblx0ICAgICAgfSk7XG5cdCAgICB9KTtcblx0ICAgIHJlcXVlc3Qub3BlbignR0VUJywgc3JjKTtcblx0ICAgIHJlcXVlc3Quc2VuZCgpO1xuXHQgIH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldCBjb21waWxlciBnaXZlbiB0eXBlLlxuXHQgKi9cblx0ZnVuY3Rpb24gZ2V0Q29tcGlsZXIodHlwZSkge1xuXHQgIHN3aXRjaCAodHlwZSkge1xuXHQgICAgY2FzZSBIQU5ETEVCQVJTOlxuXHQgICAgICB7XG5cdCAgICAgICAgcmV0dXJuIGNvbXBpbGVIYW5kbGViYXJzVGVtcGxhdGU7XG5cdCAgICAgIH1cblx0ICAgIGNhc2UgSkFERTpcblx0ICAgICAge1xuXHQgICAgICAgIHJldHVybiBjb21waWxlSmFkZVRlbXBsYXRlO1xuXHQgICAgICB9XG5cdCAgICBjYXNlIE1VU1RBQ0hFOlxuXHQgICAgICB7XG5cdCAgICAgICAgcmV0dXJuIGNvbXBpbGVIYW5kbGViYXJzVGVtcGxhdGU7XG5cdCAgICAgIH1cblx0ICAgIGNhc2UgTlVOSlVDS1M6XG5cdCAgICAgIHtcblx0ICAgICAgICByZXR1cm4gY29tcGlsZU51bmp1Y2tzVGVtcGxhdGU7XG5cdCAgICAgIH1cblx0ICAgIGRlZmF1bHQ6XG5cdCAgICAgIHtcblx0ICAgICAgICAvLyBJZiB0eXBlIG5vdCBzcGVjaWZpZWQsIGFzc3VtZSByYXcgSFRNTCBhbmQgbm8gdGVtcGxhdGluZyBuZWVkZWQuXG5cdCAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzdHIpIHtcblx0ICAgICAgICAgIHJldHVybiBzdHI7XG5cdCAgICAgICAgfTtcblx0ICAgICAgfVxuXHQgIH1cblx0fVxuXG5cdGZ1bmN0aW9uIGNvbXBpbGVIYW5kbGViYXJzVGVtcGxhdGUodGVtcGxhdGVTdHIpIHtcblx0ICByZXR1cm4gSGFuZGxlYmFycy5jb21waWxlKHRlbXBsYXRlU3RyKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNvbXBpbGVKYWRlVGVtcGxhdGUodGVtcGxhdGVTdHIpIHtcblx0ICByZXR1cm4gamFkZS5jb21waWxlKHRlbXBsYXRlU3RyKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNvbXBpbGVNdXN0YWNoZVRlbXBsYXRlKHRlbXBsYXRlU3RyKSB7XG5cdCAgTXVzdGFjaGUucGFyc2UodGVtcGxhdGVTdHIpO1xuXHQgIHJldHVybiB0ZW1wbGF0ZVN0cjtcblx0fVxuXG5cdGZ1bmN0aW9uIGNvbXBpbGVOdW5qdWNrc1RlbXBsYXRlKHRlbXBsYXRlU3RyKSB7XG5cdCAgcmV0dXJuIG51bmp1Y2tzLmNvbXBpbGUodGVtcGxhdGVTdHIpO1xuXHR9XG5cblx0ZnVuY3Rpb24gaW5qZWN0VGVtcGxhdGVMaWIodHlwZSkge1xuXHQgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuXHQgICAgLy8gTm8gbGliIGluamVjdGlvbiByZXF1aXJlZC5cblx0ICAgIGlmICghdHlwZSB8fCB0eXBlID09PSAnaHRtbCcpIHtcblx0ICAgICAgcmV0dXJuIHJlc29sdmUoKTtcblx0ICAgIH1cblxuXHQgICAgdmFyIHNjcmlwdEVsID0gTElCX0xPQURFRFt0eXBlXTtcblxuXHQgICAgLy8gRW5naW5lIGxvYWRlZC5cblx0ICAgIGlmIChMSUJfTE9BREVEW3R5cGVdID09PSB0cnVlKSB7XG5cdCAgICAgIHJldHVybiByZXNvbHZlKCk7XG5cdCAgICB9XG5cblx0ICAgIC8vIFN0YXJ0IGxhenktbG9hZGluZy5cblx0ICAgIGlmICghc2NyaXB0RWwpIHtcblx0ICAgICAgc2NyaXB0RWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcblx0ICAgICAgTElCX0xPQURFRFt0eXBlXSA9IHNjcmlwdEVsO1xuXHQgICAgICBzY3JpcHRFbC5zZXRBdHRyaWJ1dGUoJ3NyYycsIExJQl9TUkNbdHlwZV0pO1xuXHQgICAgICBsb2coJ0xhenktbG9hZGluZyAlcyBlbmdpbmUuIFBsZWFzZSBhZGQgPHNjcmlwdCBzcmM9XCIlc1wiPiB0byB5b3VyIHBhZ2UuJywgdHlwZSwgTElCX1NSQ1t0eXBlXSk7XG5cdCAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0RWwpO1xuXHQgICAgfVxuXG5cdCAgICAvLyBXYWl0IGZvciBvbmxvYWQsIHdoZXRoZXIganVzdCBpbmplY3RlZCBvciBhbHJlYWR5IGxhenktbG9hZGluZy5cblx0ICAgIHZhciBwcmV2T25sb2FkID0gc2NyaXB0RWwub25sb2FkIHx8IGZ1bmN0aW9uICgpIHt9O1xuXHQgICAgc2NyaXB0RWwub25sb2FkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICBwcmV2T25sb2FkKCk7XG5cdCAgICAgIExJQl9MT0FERURbdHlwZV0gPSB0cnVlO1xuXHQgICAgICByZXNvbHZlKCk7XG5cdCAgICB9O1xuXHQgIH0pO1xuXHR9O1xuXG5cdEFGUkFNRS5yZWdpc3RlckNvbXBvbmVudCgndGVtcGxhdGUtc2V0Jywge1xuXHQgIHNjaGVtYToge1xuXHQgICAgb246IHsgdHlwZTogJ3N0cmluZycgfSxcblx0ICAgIHNyYzogeyB0eXBlOiAnc3RyaW5nJyB9LFxuXHQgICAgZGF0YTogeyB0eXBlOiAnc3RyaW5nJyB9XG5cdCAgfSxcblxuXHQgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7XG5cdCAgICB2YXIgZGF0YSA9IHRoaXMuZGF0YTtcblx0ICAgIHZhciBlbCA9IHRoaXMuZWw7XG5cdCAgICBlbC5hZGRFdmVudExpc3RlbmVyKGRhdGEub24sIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgZWwuc2V0QXR0cmlidXRlKCd0ZW1wbGF0ZScsIHsgc3JjOiBkYXRhLnNyYywgZGF0YTogZGF0YS5kYXRhIH0pO1xuXHQgICAgfSk7XG5cdCAgfVxuXHR9KTtcblxuLyoqKi8gfSksXG4vKiAyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBjb21waWxlID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKSxcblx0ICAgIHJlc29sdmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQxKTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh0ZW1wbGF0ZSwgY29udGV4dCAvKiwgb3B0aW9ucyovKSB7XG5cdCAgcmV0dXJuIHJlc29sdmUoY29tcGlsZSh0ZW1wbGF0ZSksIGNvbnRleHQsIGFyZ3VtZW50c1syXSk7XG5cdH07XG5cbi8qKiovIH0pLFxuLyogMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgZXNuaWZmID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KSxcblx0ICAgIGksXG5cdCAgICBjdXJyZW50LFxuXHQgICAgbGl0ZXJhbHMsXG5cdCAgICBzdWJzdGl0dXRpb25zLFxuXHQgICAgX3NPdXQsXG5cdCAgICBzRXNjYXBlLFxuXHQgICAgX3NBaGVhZCxcblx0ICAgIF9zSW4sXG5cdCAgICBzSW5Fc2NhcGUsXG5cdCAgICB0ZW1wbGF0ZTtcblxuXHRfc091dCA9IGZ1bmN0aW9uIHNPdXQoY2hhcikge1xuXHRcdGlmIChjaGFyID09PSAnXFxcXCcpIHJldHVybiBzRXNjYXBlO1xuXHRcdGlmIChjaGFyID09PSAnJCcpIHJldHVybiBfc0FoZWFkO1xuXHRcdGN1cnJlbnQgKz0gY2hhcjtcblx0XHRyZXR1cm4gX3NPdXQ7XG5cdH07XG5cdHNFc2NhcGUgPSBmdW5jdGlvbiBzRXNjYXBlKGNoYXIpIHtcblx0XHRpZiAoY2hhciAhPT0gJ1xcXFwnICYmIGNoYXIgIT09ICckJykgY3VycmVudCArPSAnXFxcXCc7XG5cdFx0Y3VycmVudCArPSBjaGFyO1xuXHRcdHJldHVybiBfc091dDtcblx0fTtcblx0X3NBaGVhZCA9IGZ1bmN0aW9uIHNBaGVhZChjaGFyKSB7XG5cdFx0aWYgKGNoYXIgPT09ICd7Jykge1xuXHRcdFx0bGl0ZXJhbHMucHVzaChjdXJyZW50KTtcblx0XHRcdGN1cnJlbnQgPSAnJztcblx0XHRcdHJldHVybiBfc0luO1xuXHRcdH1cblx0XHRpZiAoY2hhciA9PT0gJyQnKSB7XG5cdFx0XHRjdXJyZW50ICs9ICckJztcblx0XHRcdHJldHVybiBfc0FoZWFkO1xuXHRcdH1cblx0XHRjdXJyZW50ICs9ICckJyArIGNoYXI7XG5cdFx0cmV0dXJuIF9zT3V0O1xuXHR9O1xuXHRfc0luID0gZnVuY3Rpb24gc0luKGNoYXIpIHtcblx0XHR2YXIgY29kZSA9IHRlbXBsYXRlLnNsaWNlKGkpLFxuXHRcdCAgICBlbmQ7XG5cdFx0ZXNuaWZmKGNvZGUsICd9JywgZnVuY3Rpb24gKGopIHtcblx0XHRcdGlmIChlc25pZmYubmVzdCA+PSAwKSByZXR1cm4gZXNuaWZmLm5leHQoKTtcblx0XHRcdGVuZCA9IGo7XG5cdFx0fSk7XG5cdFx0aWYgKGVuZCAhPSBudWxsKSB7XG5cdFx0XHRzdWJzdGl0dXRpb25zLnB1c2godGVtcGxhdGUuc2xpY2UoaSwgaSArIGVuZCkpO1xuXHRcdFx0aSArPSBlbmQ7XG5cdFx0XHRjdXJyZW50ID0gJyc7XG5cdFx0XHRyZXR1cm4gX3NPdXQ7XG5cdFx0fVxuXHRcdGVuZCA9IGNvZGUubGVuZ3RoO1xuXHRcdGkgKz0gZW5kO1xuXHRcdGN1cnJlbnQgKz0gY29kZTtcblx0XHRyZXR1cm4gX3NJbjtcblx0fTtcblx0c0luRXNjYXBlID0gZnVuY3Rpb24gc0luRXNjYXBlKGNoYXIpIHtcblx0XHRpZiAoY2hhciAhPT0gJ1xcXFwnICYmIGNoYXIgIT09ICd9JykgY3VycmVudCArPSAnXFxcXCc7XG5cdFx0Y3VycmVudCArPSBjaGFyO1xuXHRcdHJldHVybiBfc0luO1xuXHR9O1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHN0cikge1xuXHRcdHZhciBsZW5ndGgsIHN0YXRlLCByZXN1bHQ7XG5cdFx0Y3VycmVudCA9ICcnO1xuXHRcdGxpdGVyYWxzID0gW107XG5cdFx0c3Vic3RpdHV0aW9ucyA9IFtdO1xuXG5cdFx0dGVtcGxhdGUgPSBTdHJpbmcoc3RyKTtcblx0XHRsZW5ndGggPSB0ZW1wbGF0ZS5sZW5ndGg7XG5cblx0XHRzdGF0ZSA9IF9zT3V0O1xuXHRcdGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuXHRcdFx0c3RhdGUgPSBzdGF0ZSh0ZW1wbGF0ZVtpXSk7XG5cdFx0fWlmIChzdGF0ZSA9PT0gX3NPdXQpIHtcblx0XHRcdGxpdGVyYWxzLnB1c2goY3VycmVudCk7XG5cdFx0fSBlbHNlIGlmIChzdGF0ZSA9PT0gc0VzY2FwZSkge1xuXHRcdFx0bGl0ZXJhbHMucHVzaChjdXJyZW50ICsgJ1xcXFwnKTtcblx0XHR9IGVsc2UgaWYgKHN0YXRlID09PSBfc0FoZWFkKSB7XG5cdFx0XHRsaXRlcmFscy5wdXNoKGN1cnJlbnQgKyAnJCcpO1xuXHRcdH0gZWxzZSBpZiAoc3RhdGUgPT09IF9zSW4pIHtcblx0XHRcdGxpdGVyYWxzW2xpdGVyYWxzLmxlbmd0aCAtIDFdICs9ICckeycgKyBjdXJyZW50O1xuXHRcdH0gZWxzZSBpZiAoc3RhdGUgPT09IHNJbkVzY2FwZSkge1xuXHRcdFx0bGl0ZXJhbHNbbGl0ZXJhbHMubGVuZ3RoIC0gMV0gKz0gJyR7JyArIGN1cnJlbnQgKyAnXFxcXCc7XG5cdFx0fVxuXHRcdHJlc3VsdCA9IHsgbGl0ZXJhbHM6IGxpdGVyYWxzLCBzdWJzdGl0dXRpb25zOiBzdWJzdGl0dXRpb25zIH07XG5cdFx0bGl0ZXJhbHMgPSBzdWJzdGl0dXRpb25zID0gbnVsbDtcblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGZyb20gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpLFxuXHQgICAgcHJpbWl0aXZlU2V0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNyksXG5cdCAgICB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjApLFxuXHQgICAgY2FsbGFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KSxcblx0ICAgIGQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKSxcblx0ICAgIGVvbFNldCA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpLFxuXHQgICAgd3NTZXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5KSxcblx0ICAgIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxcblx0ICAgIHByZVJlZ0V4cFNldCA9IHByaW1pdGl2ZVNldC5hcHBseShudWxsLCBmcm9tKCc7ez0oWyw8PistKi8lJnxeIX4/On0nKSksXG5cdCAgICBub25OYW1lU2V0ID0gcHJpbWl0aXZlU2V0LmFwcGx5KG51bGwsIGZyb20oJzt7PShbLDw+Ky0qLyUmfF4hfj86fSldLicpKSxcblx0ICAgIG1vdmUsXG5cdCAgICBzdGFydENvbGxlY3QsXG5cdCAgICBlbmRDb2xsZWN0LFxuXHQgICAgY29sbGVjdE5lc3QsXG5cdCAgICAkd3MsXG5cdCAgICAkY29tbW9uLFxuXHQgICAgJHN0cmluZyxcblx0ICAgICRjb21tZW50LFxuXHQgICAgJG11bHRpQ29tbWVudCxcblx0ICAgICRyZWdFeHAsXG5cdCAgICBpLFxuXHQgICAgY2hhcixcblx0ICAgIGxpbmUsXG5cdCAgICBjb2x1bW5JbmRleCxcblx0ICAgIGFmdGVyV3MsXG5cdCAgICBwcmV2aW91c0NoYXIsXG5cdCAgICBuZXN0LFxuXHQgICAgbmVzdGVkVG9rZW5zLFxuXHQgICAgcmVzdWx0cyxcblx0ICAgIHVzZXJDb2RlLFxuXHQgICAgdXNlclRyaWdnZXJDaGFyLFxuXHQgICAgaXNVc2VyVHJpZ2dlck9wZXJhdG9yQ2hhcixcblx0ICAgIHVzZXJDYWxsYmFjayxcblx0ICAgIHF1b3RlLFxuXHQgICAgY29sbGVjdEluZGV4LFxuXHQgICAgZGF0YSxcblx0ICAgIG5lc3RSZWxlYXNlO1xuXG5cdG1vdmUgPSBmdW5jdGlvbiBtb3ZlKGopIHtcblx0XHRpZiAoIWNoYXIpIHJldHVybjtcblx0XHRpZiAoaSA+PSBqKSByZXR1cm47XG5cdFx0d2hpbGUgKGkgIT09IGopIHtcblx0XHRcdGlmICghY2hhcikgcmV0dXJuO1xuXHRcdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwod3NTZXQsIGNoYXIpKSB7XG5cdFx0XHRcdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGVvbFNldCwgY2hhcikpIHtcblx0XHRcdFx0XHRjb2x1bW5JbmRleCA9IGk7XG5cdFx0XHRcdFx0KytsaW5lO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRwcmV2aW91c0NoYXIgPSBjaGFyO1xuXHRcdFx0fVxuXHRcdFx0Y2hhciA9IHVzZXJDb2RlWysraV07XG5cdFx0fVxuXHR9O1xuXG5cdHN0YXJ0Q29sbGVjdCA9IGZ1bmN0aW9uIHN0YXJ0Q29sbGVjdChvbGROZXN0UmVsZWFzZSkge1xuXHRcdGlmIChjb2xsZWN0SW5kZXggIT0gbnVsbCkgbmVzdGVkVG9rZW5zLnB1c2goW2RhdGEsIGNvbGxlY3RJbmRleCwgb2xkTmVzdFJlbGVhc2VdKTtcblx0XHRkYXRhID0geyBwb2ludDogaSArIDEsIGxpbmU6IGxpbmUsIGNvbHVtbjogaSArIDEgLSBjb2x1bW5JbmRleCB9O1xuXHRcdGNvbGxlY3RJbmRleCA9IGk7XG5cdH07XG5cblx0ZW5kQ29sbGVjdCA9IGZ1bmN0aW9uIGVuZENvbGxlY3QoKSB7XG5cdFx0dmFyIHByZXZpb3VzO1xuXHRcdGRhdGEucmF3ID0gdXNlckNvZGUuc2xpY2UoY29sbGVjdEluZGV4LCBpKTtcblx0XHRyZXN1bHRzLnB1c2goZGF0YSk7XG5cdFx0aWYgKG5lc3RlZFRva2Vucy5sZW5ndGgpIHtcblx0XHRcdHByZXZpb3VzID0gbmVzdGVkVG9rZW5zLnBvcCgpO1xuXHRcdFx0ZGF0YSA9IHByZXZpb3VzWzBdO1xuXHRcdFx0Y29sbGVjdEluZGV4ID0gcHJldmlvdXNbMV07XG5cdFx0XHRuZXN0UmVsZWFzZSA9IHByZXZpb3VzWzJdO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRkYXRhID0gbnVsbDtcblx0XHRjb2xsZWN0SW5kZXggPSBudWxsO1xuXHRcdG5lc3RSZWxlYXNlID0gbnVsbDtcblx0fTtcblxuXHRjb2xsZWN0TmVzdCA9IGZ1bmN0aW9uIGNvbGxlY3ROZXN0KCkge1xuXHRcdHZhciBvbGQgPSBuZXN0UmVsZWFzZTtcblx0XHRuZXN0UmVsZWFzZSA9IG5lc3Q7XG5cdFx0KytuZXN0O1xuXHRcdG1vdmUoaSArIDEpO1xuXHRcdHN0YXJ0Q29sbGVjdChvbGQpO1xuXHRcdHJldHVybiAkd3M7XG5cdH07XG5cblx0JGNvbW1vbiA9IGZ1bmN0aW9uICRjb21tb24oKSB7XG5cdFx0aWYgKGNoYXIgPT09ICdcXCcnIHx8IGNoYXIgPT09ICdcIicpIHtcblx0XHRcdHF1b3RlID0gY2hhcjtcblx0XHRcdGNoYXIgPSB1c2VyQ29kZVsrK2ldO1xuXHRcdFx0cmV0dXJuICRzdHJpbmc7XG5cdFx0fVxuXHRcdGlmIChjaGFyID09PSAnKCcgfHwgY2hhciA9PT0gJ3snIHx8IGNoYXIgPT09ICdbJykge1xuXHRcdFx0KytuZXN0O1xuXHRcdH0gZWxzZSBpZiAoY2hhciA9PT0gJyknIHx8IGNoYXIgPT09ICd9JyB8fCBjaGFyID09PSAnXScpIHtcblx0XHRcdGlmIChuZXN0UmVsZWFzZSA9PT0gLS1uZXN0KSBlbmRDb2xsZWN0KCk7XG5cdFx0fSBlbHNlIGlmIChjaGFyID09PSAnLycpIHtcblx0XHRcdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHByZVJlZ0V4cFNldCwgcHJldmlvdXNDaGFyKSkge1xuXHRcdFx0XHRjaGFyID0gdXNlckNvZGVbKytpXTtcblx0XHRcdFx0cmV0dXJuICRyZWdFeHA7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChjaGFyICE9PSB1c2VyVHJpZ2dlckNoYXIgfHwgIWlzVXNlclRyaWdnZXJPcGVyYXRvckNoYXIgJiYgcHJldmlvdXNDaGFyICYmICFhZnRlcldzICYmICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG5vbk5hbWVTZXQsIHByZXZpb3VzQ2hhcikpIHtcblx0XHRcdHByZXZpb3VzQ2hhciA9IGNoYXI7XG5cdFx0XHRjaGFyID0gdXNlckNvZGVbKytpXTtcblx0XHRcdHJldHVybiAkd3M7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHVzZXJDYWxsYmFjayhpLCBwcmV2aW91c0NoYXIsIG5lc3QpO1xuXHR9O1xuXG5cdCRjb21tZW50ID0gZnVuY3Rpb24gJGNvbW1lbnQoKSB7XG5cdFx0d2hpbGUgKHRydWUpIHtcblx0XHRcdGlmICghY2hhcikgcmV0dXJuO1xuXHRcdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwoZW9sU2V0LCBjaGFyKSkge1xuXHRcdFx0XHRjb2x1bW5JbmRleCA9IGkgKyAxO1xuXHRcdFx0XHQrK2xpbmU7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGNoYXIgPSB1c2VyQ29kZVsrK2ldO1xuXHRcdH1cblx0fTtcblxuXHQkbXVsdGlDb21tZW50ID0gZnVuY3Rpb24gJG11bHRpQ29tbWVudCgpIHtcblx0XHR3aGlsZSAodHJ1ZSkge1xuXHRcdFx0aWYgKCFjaGFyKSByZXR1cm47XG5cdFx0XHRpZiAoY2hhciA9PT0gJyonKSB7XG5cdFx0XHRcdGNoYXIgPSB1c2VyQ29kZVsrK2ldO1xuXHRcdFx0XHRpZiAoY2hhciA9PT0gJy8nKSByZXR1cm47XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwoZW9sU2V0LCBjaGFyKSkge1xuXHRcdFx0XHRjb2x1bW5JbmRleCA9IGkgKyAxO1xuXHRcdFx0XHQrK2xpbmU7XG5cdFx0XHR9XG5cdFx0XHRjaGFyID0gdXNlckNvZGVbKytpXTtcblx0XHR9XG5cdH07XG5cblx0JHdzID0gZnVuY3Rpb24gJHdzKCkge1xuXHRcdHZhciBuZXh0O1xuXHRcdGFmdGVyV3MgPSBmYWxzZTtcblx0XHR3aGlsZSAodHJ1ZSkge1xuXHRcdFx0aWYgKCFjaGFyKSByZXR1cm47XG5cdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbCh3c1NldCwgY2hhcikpIHtcblx0XHRcdFx0YWZ0ZXJXcyA9IHRydWU7XG5cdFx0XHRcdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGVvbFNldCwgY2hhcikpIHtcblx0XHRcdFx0XHRjb2x1bW5JbmRleCA9IGkgKyAxO1xuXHRcdFx0XHRcdCsrbGluZTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChjaGFyID09PSAnLycpIHtcblx0XHRcdFx0bmV4dCA9IHVzZXJDb2RlW2kgKyAxXTtcblx0XHRcdFx0aWYgKG5leHQgPT09ICcvJykge1xuXHRcdFx0XHRcdGNoYXIgPSB1c2VyQ29kZVtpICs9IDJdO1xuXHRcdFx0XHRcdGFmdGVyV3MgPSB0cnVlO1xuXHRcdFx0XHRcdCRjb21tZW50KCk7XG5cdFx0XHRcdH0gZWxzZSBpZiAobmV4dCA9PT0gJyonKSB7XG5cdFx0XHRcdFx0Y2hhciA9IHVzZXJDb2RlW2kgKz0gMl07XG5cdFx0XHRcdFx0YWZ0ZXJXcyA9IHRydWU7XG5cdFx0XHRcdFx0JG11bHRpQ29tbWVudCgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGNoYXIgPSB1c2VyQ29kZVsrK2ldO1xuXHRcdH1cblx0XHRyZXR1cm4gJGNvbW1vbjtcblx0fTtcblxuXHQkc3RyaW5nID0gZnVuY3Rpb24gJHN0cmluZygpIHtcblx0XHR3aGlsZSAodHJ1ZSkge1xuXHRcdFx0aWYgKCFjaGFyKSByZXR1cm47XG5cdFx0XHRpZiAoY2hhciA9PT0gcXVvdGUpIHtcblx0XHRcdFx0Y2hhciA9IHVzZXJDb2RlWysraV07XG5cdFx0XHRcdHByZXZpb3VzQ2hhciA9IHF1b3RlO1xuXHRcdFx0XHRyZXR1cm4gJHdzO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGNoYXIgPT09ICdcXFxcJykge1xuXHRcdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChlb2xTZXQsIHVzZXJDb2RlWysraV0pKSB7XG5cdFx0XHRcdFx0Y29sdW1uSW5kZXggPSBpICsgMTtcblx0XHRcdFx0XHQrK2xpbmU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGNoYXIgPSB1c2VyQ29kZVsrK2ldO1xuXHRcdH1cblx0fTtcblxuXHQkcmVnRXhwID0gZnVuY3Rpb24gJHJlZ0V4cCgpIHtcblx0XHR3aGlsZSAodHJ1ZSkge1xuXHRcdFx0aWYgKCFjaGFyKSByZXR1cm47XG5cdFx0XHRpZiAoY2hhciA9PT0gJy8nKSB7XG5cdFx0XHRcdHByZXZpb3VzQ2hhciA9ICcvJztcblx0XHRcdFx0Y2hhciA9IHVzZXJDb2RlWysraV07XG5cdFx0XHRcdHJldHVybiAkd3M7XG5cdFx0XHR9XG5cdFx0XHRpZiAoY2hhciA9PT0gJ1xcXFwnKSArK2k7XG5cdFx0XHRjaGFyID0gdXNlckNvZGVbKytpXTtcblx0XHR9XG5cdH07XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gZnVuY3Rpb24gKF9leHBvcnRzKSB7XG5cdFx0ZnVuY3Rpb24gZXhwb3J0cyhfeCwgX3gyLCBfeDMpIHtcblx0XHRcdHJldHVybiBfZXhwb3J0cy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdH1cblxuXHRcdGV4cG9ydHMudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gX2V4cG9ydHMudG9TdHJpbmcoKTtcblx0XHR9O1xuXG5cdFx0cmV0dXJuIGV4cG9ydHM7XG5cdH0oZnVuY3Rpb24gKGNvZGUsIHRyaWdnZXJDaGFyLCBjYWxsYmFjaykge1xuXHRcdHZhciBzdGF0ZTtcblxuXHRcdHVzZXJDb2RlID0gU3RyaW5nKHZhbHVlKGNvZGUpKTtcblx0XHR1c2VyVHJpZ2dlckNoYXIgPSBTdHJpbmcodmFsdWUodHJpZ2dlckNoYXIpKTtcblx0XHRpZiAodXNlclRyaWdnZXJDaGFyLmxlbmd0aCAhPT0gMSkge1xuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcih1c2VyVHJpZ2dlckNoYXIgKyBcIiBzaG91bGQgYmUgb25lIGNoYXJhY3RlciBsb25nIHN0cmluZ1wiKTtcblx0XHR9XG5cdFx0dXNlckNhbGxiYWNrID0gY2FsbGFibGUoY2FsbGJhY2spO1xuXHRcdGlzVXNlclRyaWdnZXJPcGVyYXRvckNoYXIgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKG5vbk5hbWVTZXQsIHVzZXJUcmlnZ2VyQ2hhcik7XG5cdFx0aSA9IDA7XG5cdFx0Y2hhciA9IHVzZXJDb2RlW2ldO1xuXHRcdGxpbmUgPSAxO1xuXHRcdGNvbHVtbkluZGV4ID0gMDtcblx0XHRhZnRlcldzID0gZmFsc2U7XG5cdFx0cHJldmlvdXNDaGFyID0gbnVsbDtcblx0XHRuZXN0ID0gMDtcblx0XHRuZXN0ZWRUb2tlbnMgPSBbXTtcblx0XHRyZXN1bHRzID0gW107XG5cdFx0ZXhwb3J0cy5mb3JjZVN0b3AgPSBmYWxzZTtcblx0XHRzdGF0ZSA9ICR3cztcblx0XHR3aGlsZSAoc3RhdGUpIHtcblx0XHRcdHN0YXRlID0gc3RhdGUoKTtcblx0XHR9cmV0dXJuIHJlc3VsdHM7XG5cdH0pO1xuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGV4cG9ydHMsIHtcblx0XHQkd3M6IGQoJHdzKSxcblx0XHQkY29tbW9uOiBkKCRjb21tb24pLFxuXHRcdGNvbGxlY3ROZXN0OiBkKGNvbGxlY3ROZXN0KSxcblx0XHRtb3ZlOiBkKG1vdmUpLFxuXHRcdGluZGV4OiBkLmdzKGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBpO1xuXHRcdH0pLFxuXHRcdGxpbmU6IGQuZ3MoZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGxpbmU7XG5cdFx0fSksXG5cdFx0bmVzdDogZC5ncyhmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gbmVzdDtcblx0XHR9KSxcblx0XHRjb2x1bW5JbmRleDogZC5ncyhmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gY29sdW1uSW5kZXg7XG5cdFx0fSksXG5cdFx0bmV4dDogZChmdW5jdGlvbiAoc3RlcCkge1xuXHRcdFx0aWYgKCFjaGFyKSByZXR1cm47XG5cdFx0XHRtb3ZlKGkgKyAoc3RlcCB8fCAxKSk7XG5cdFx0XHRyZXR1cm4gJHdzKCk7XG5cdFx0fSksXG5cdFx0cmVzdW1lOiBkKGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiAkY29tbW9uO1xuXHRcdH0pXG5cdH0pO1xuXG4vKioqLyB9KSxcbi8qIDUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNikoKSA/IEFycmF5LmZyb20gOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXG4vKioqLyB9KSxcbi8qIDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgZnJvbSA9IEFycmF5LmZyb20sXG5cdFx0ICAgIGFycixcblx0XHQgICAgcmVzdWx0O1xuXHRcdGlmICh0eXBlb2YgZnJvbSAhPT0gXCJmdW5jdGlvblwiKSByZXR1cm4gZmFsc2U7XG5cdFx0YXJyID0gW1wicmF6XCIsIFwiZHdhXCJdO1xuXHRcdHJlc3VsdCA9IGZyb20oYXJyKTtcblx0XHRyZXR1cm4gQm9vbGVhbihyZXN1bHQgJiYgcmVzdWx0ICE9PSBhcnIgJiYgcmVzdWx0WzFdID09PSBcImR3YVwiKTtcblx0fTtcblxuLyoqKi8gfSksXG4vKiA3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0dmFyIGl0ZXJhdG9yU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KS5pdGVyYXRvcixcblx0ICAgIGlzQXJndW1lbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOCksXG5cdCAgICBpc0Z1bmN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSksXG5cdCAgICB0b1Bvc0ludCA9IF9fd2VicGFja19yZXF1aXJlX18oMzApLFxuXHQgICAgY2FsbGFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KSxcblx0ICAgIHZhbGlkVmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKSxcblx0ICAgIGlzVmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KSxcblx0ICAgIGlzU3RyaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNiksXG5cdCAgICBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSxcblx0ICAgIGNhbGwgPSBGdW5jdGlvbi5wcm90b3R5cGUuY2FsbCxcblx0ICAgIGRlc2MgPSB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlOiBudWxsIH0sXG5cdCAgICBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcblxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcnJheUxpa2UgLyosIG1hcEZuLCB0aGlzQXJnKi8pIHtcblx0XHR2YXIgbWFwRm4gPSBhcmd1bWVudHNbMV0sXG5cdFx0ICAgIHRoaXNBcmcgPSBhcmd1bWVudHNbMl0sXG5cdFx0ICAgIENvbnRleHQsXG5cdFx0ICAgIGksXG5cdFx0ICAgIGosXG5cdFx0ICAgIGFycixcblx0XHQgICAgbGVuZ3RoLFxuXHRcdCAgICBjb2RlLFxuXHRcdCAgICBpdGVyYXRvcixcblx0XHQgICAgcmVzdWx0LFxuXHRcdCAgICBnZXRJdGVyYXRvcixcblx0XHQgICAgdmFsdWU7XG5cblx0XHRhcnJheUxpa2UgPSBPYmplY3QodmFsaWRWYWx1ZShhcnJheUxpa2UpKTtcblxuXHRcdGlmIChpc1ZhbHVlKG1hcEZuKSkgY2FsbGFibGUobWFwRm4pO1xuXHRcdGlmICghdGhpcyB8fCB0aGlzID09PSBBcnJheSB8fCAhaXNGdW5jdGlvbih0aGlzKSkge1xuXHRcdFx0Ly8gUmVzdWx0OiBQbGFpbiBhcnJheVxuXHRcdFx0aWYgKCFtYXBGbikge1xuXHRcdFx0XHRpZiAoaXNBcmd1bWVudHMoYXJyYXlMaWtlKSkge1xuXHRcdFx0XHRcdC8vIFNvdXJjZTogQXJndW1lbnRzXG5cdFx0XHRcdFx0bGVuZ3RoID0gYXJyYXlMaWtlLmxlbmd0aDtcblx0XHRcdFx0XHRpZiAobGVuZ3RoICE9PSAxKSByZXR1cm4gQXJyYXkuYXBwbHkobnVsbCwgYXJyYXlMaWtlKTtcblx0XHRcdFx0XHRhcnIgPSBuZXcgQXJyYXkoMSk7XG5cdFx0XHRcdFx0YXJyWzBdID0gYXJyYXlMaWtlWzBdO1xuXHRcdFx0XHRcdHJldHVybiBhcnI7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGlzQXJyYXkoYXJyYXlMaWtlKSkge1xuXHRcdFx0XHRcdC8vIFNvdXJjZTogQXJyYXlcblx0XHRcdFx0XHRhcnIgPSBuZXcgQXJyYXkobGVuZ3RoID0gYXJyYXlMaWtlLmxlbmd0aCk7XG5cdFx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG5cdFx0XHRcdFx0XHRhcnJbaV0gPSBhcnJheUxpa2VbaV07XG5cdFx0XHRcdFx0fXJldHVybiBhcnI7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGFyciA9IFtdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBSZXN1bHQ6IE5vbiBwbGFpbiBhcnJheVxuXHRcdFx0Q29udGV4dCA9IHRoaXM7XG5cdFx0fVxuXG5cdFx0aWYgKCFpc0FycmF5KGFycmF5TGlrZSkpIHtcblx0XHRcdGlmICgoZ2V0SXRlcmF0b3IgPSBhcnJheUxpa2VbaXRlcmF0b3JTeW1ib2xdKSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdC8vIFNvdXJjZTogSXRlcmF0b3Jcblx0XHRcdFx0aXRlcmF0b3IgPSBjYWxsYWJsZShnZXRJdGVyYXRvcikuY2FsbChhcnJheUxpa2UpO1xuXHRcdFx0XHRpZiAoQ29udGV4dCkgYXJyID0gbmV3IENvbnRleHQoKTtcblx0XHRcdFx0cmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpO1xuXHRcdFx0XHRpID0gMDtcblx0XHRcdFx0d2hpbGUgKCFyZXN1bHQuZG9uZSkge1xuXHRcdFx0XHRcdHZhbHVlID0gbWFwRm4gPyBjYWxsLmNhbGwobWFwRm4sIHRoaXNBcmcsIHJlc3VsdC52YWx1ZSwgaSkgOiByZXN1bHQudmFsdWU7XG5cdFx0XHRcdFx0aWYgKENvbnRleHQpIHtcblx0XHRcdFx0XHRcdGRlc2MudmFsdWUgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdGRlZmluZVByb3BlcnR5KGFyciwgaSwgZGVzYyk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGFycltpXSA9IHZhbHVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXN1bHQgPSBpdGVyYXRvci5uZXh0KCk7XG5cdFx0XHRcdFx0KytpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGxlbmd0aCA9IGk7XG5cdFx0XHR9IGVsc2UgaWYgKGlzU3RyaW5nKGFycmF5TGlrZSkpIHtcblx0XHRcdFx0Ly8gU291cmNlOiBTdHJpbmdcblx0XHRcdFx0bGVuZ3RoID0gYXJyYXlMaWtlLmxlbmd0aDtcblx0XHRcdFx0aWYgKENvbnRleHQpIGFyciA9IG5ldyBDb250ZXh0KCk7XG5cdFx0XHRcdGZvciAoaSA9IDAsIGogPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcblx0XHRcdFx0XHR2YWx1ZSA9IGFycmF5TGlrZVtpXTtcblx0XHRcdFx0XHRpZiAoaSArIDEgPCBsZW5ndGgpIHtcblx0XHRcdFx0XHRcdGNvZGUgPSB2YWx1ZS5jaGFyQ29kZUF0KDApO1xuXHRcdFx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1kZXB0aFxuXHRcdFx0XHRcdFx0aWYgKGNvZGUgPj0gMHhkODAwICYmIGNvZGUgPD0gMHhkYmZmKSB2YWx1ZSArPSBhcnJheUxpa2VbKytpXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0dmFsdWUgPSBtYXBGbiA/IGNhbGwuY2FsbChtYXBGbiwgdGhpc0FyZywgdmFsdWUsIGopIDogdmFsdWU7XG5cdFx0XHRcdFx0aWYgKENvbnRleHQpIHtcblx0XHRcdFx0XHRcdGRlc2MudmFsdWUgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdGRlZmluZVByb3BlcnR5KGFyciwgaiwgZGVzYyk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGFycltqXSA9IHZhbHVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQrK2o7XG5cdFx0XHRcdH1cblx0XHRcdFx0bGVuZ3RoID0gajtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHQvLyBTb3VyY2U6IGFycmF5IG9yIGFycmF5LWxpa2Vcblx0XHRcdGxlbmd0aCA9IHRvUG9zSW50KGFycmF5TGlrZS5sZW5ndGgpO1xuXHRcdFx0aWYgKENvbnRleHQpIGFyciA9IG5ldyBDb250ZXh0KGxlbmd0aCk7XG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcblx0XHRcdFx0dmFsdWUgPSBtYXBGbiA/IGNhbGwuY2FsbChtYXBGbiwgdGhpc0FyZywgYXJyYXlMaWtlW2ldLCBpKSA6IGFycmF5TGlrZVtpXTtcblx0XHRcdFx0aWYgKENvbnRleHQpIHtcblx0XHRcdFx0XHRkZXNjLnZhbHVlID0gdmFsdWU7XG5cdFx0XHRcdFx0ZGVmaW5lUHJvcGVydHkoYXJyLCBpLCBkZXNjKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRhcnJbaV0gPSB2YWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoQ29udGV4dCkge1xuXHRcdFx0ZGVzYy52YWx1ZSA9IG51bGw7XG5cdFx0XHRhcnIubGVuZ3RoID0gbGVuZ3RoO1xuXHRcdH1cblx0XHRyZXR1cm4gYXJyO1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpKCkgPyBTeW1ib2wgOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblxuLyoqKi8gfSksXG4vKiA5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuXHR2YXIgdmFsaWRUeXBlcyA9IHsgb2JqZWN0OiB0cnVlLCBzeW1ib2w6IHRydWUgfTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgc3ltYm9sO1xuXHRcdGlmICh0eXBlb2YgU3ltYm9sICE9PSAnZnVuY3Rpb24nKSByZXR1cm4gZmFsc2U7XG5cdFx0c3ltYm9sID0gU3ltYm9sKCd0ZXN0IHN5bWJvbCcpO1xuXHRcdHRyeSB7XG5cdFx0XHRTdHJpbmcoc3ltYm9sKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gUmV0dXJuICd0cnVlJyBhbHNvIGZvciBwb2x5ZmlsbHNcblx0XHRpZiAoIXZhbGlkVHlwZXNbX3R5cGVvZihTeW1ib2wuaXRlcmF0b3IpXSkgcmV0dXJuIGZhbHNlO1xuXHRcdGlmICghdmFsaWRUeXBlc1tfdHlwZW9mKFN5bWJvbC50b1ByaW1pdGl2ZSldKSByZXR1cm4gZmFsc2U7XG5cdFx0aWYgKCF2YWxpZFR5cGVzW190eXBlb2YoU3ltYm9sLnRvU3RyaW5nVGFnKV0pIHJldHVybiBmYWxzZTtcblxuXHRcdHJldHVybiB0cnVlO1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDEwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gRVMyMDE1IFN5bWJvbCBwb2x5ZmlsbCBmb3IgZW52aXJvbm1lbnRzIHRoYXQgZG8gbm90IChvciBwYXJ0aWFsbHkpIHN1cHBvcnQgaXRcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG5cdHZhciBkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSksXG5cdCAgICB2YWxpZGF0ZVN5bWJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpLFxuXHQgICAgY3JlYXRlID0gT2JqZWN0LmNyZWF0ZSxcblx0ICAgIGRlZmluZVByb3BlcnRpZXMgPSBPYmplY3QuZGVmaW5lUHJvcGVydGllcyxcblx0ICAgIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5LFxuXHQgICAgb2JqUHJvdG90eXBlID0gT2JqZWN0LnByb3RvdHlwZSxcblx0ICAgIE5hdGl2ZVN5bWJvbCxcblx0ICAgIFN5bWJvbFBvbHlmaWxsLFxuXHQgICAgSGlkZGVuU3ltYm9sLFxuXHQgICAgZ2xvYmFsU3ltYm9scyA9IGNyZWF0ZShudWxsKSxcblx0ICAgIGlzTmF0aXZlU2FmZTtcblxuXHRpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdE5hdGl2ZVN5bWJvbCA9IFN5bWJvbDtcblx0XHR0cnkge1xuXHRcdFx0U3RyaW5nKE5hdGl2ZVN5bWJvbCgpKTtcblx0XHRcdGlzTmF0aXZlU2FmZSA9IHRydWU7XG5cdFx0fSBjYXRjaCAoaWdub3JlKSB7fVxuXHR9XG5cblx0dmFyIGdlbmVyYXRlTmFtZSA9IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgY3JlYXRlZCA9IGNyZWF0ZShudWxsKTtcblx0XHRyZXR1cm4gZnVuY3Rpb24gKGRlc2MpIHtcblx0XHRcdHZhciBwb3N0Zml4ID0gMCxcblx0XHRcdCAgICBuYW1lLFxuXHRcdFx0ICAgIGllMTFCdWdXb3JrYXJvdW5kO1xuXHRcdFx0d2hpbGUgKGNyZWF0ZWRbZGVzYyArIChwb3N0Zml4IHx8ICcnKV0pIHtcblx0XHRcdFx0Kytwb3N0Zml4O1xuXHRcdFx0fWRlc2MgKz0gcG9zdGZpeCB8fCAnJztcblx0XHRcdGNyZWF0ZWRbZGVzY10gPSB0cnVlO1xuXHRcdFx0bmFtZSA9ICdAQCcgKyBkZXNjO1xuXHRcdFx0ZGVmaW5lUHJvcGVydHkob2JqUHJvdG90eXBlLCBuYW1lLCBkLmdzKG51bGwsIGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdFx0XHQvLyBGb3IgSUUxMSBpc3N1ZSBzZWU6XG5cdFx0XHRcdC8vIGh0dHBzOi8vY29ubmVjdC5taWNyb3NvZnQuY29tL0lFL2ZlZWRiYWNrZGV0YWlsL3ZpZXcvMTkyODUwOC9cblx0XHRcdFx0Ly8gICAgaWUxMS1icm9rZW4tZ2V0dGVycy1vbi1kb20tb2JqZWN0c1xuXHRcdFx0XHQvLyBodHRwczovL2dpdGh1Yi5jb20vbWVkaWtvby9lczYtc3ltYm9sL2lzc3Vlcy8xMlxuXHRcdFx0XHRpZiAoaWUxMUJ1Z1dvcmthcm91bmQpIHJldHVybjtcblx0XHRcdFx0aWUxMUJ1Z1dvcmthcm91bmQgPSB0cnVlO1xuXHRcdFx0XHRkZWZpbmVQcm9wZXJ0eSh0aGlzLCBuYW1lLCBkKHZhbHVlKSk7XG5cdFx0XHRcdGllMTFCdWdXb3JrYXJvdW5kID0gZmFsc2U7XG5cdFx0XHR9KSk7XG5cdFx0XHRyZXR1cm4gbmFtZTtcblx0XHR9O1xuXHR9KCk7XG5cblx0Ly8gSW50ZXJuYWwgY29uc3RydWN0b3IgKG5vdCBvbmUgZXhwb3NlZCkgZm9yIGNyZWF0aW5nIFN5bWJvbCBpbnN0YW5jZXMuXG5cdC8vIFRoaXMgb25lIGlzIHVzZWQgdG8gZW5zdXJlIHRoYXQgYHNvbWVTeW1ib2wgaW5zdGFuY2VvZiBTeW1ib2xgIGFsd2F5cyByZXR1cm4gZmFsc2Vcblx0SGlkZGVuU3ltYm9sID0gZnVuY3Rpb24gX1N5bWJvbChkZXNjcmlwdGlvbikge1xuXHRcdGlmICh0aGlzIGluc3RhbmNlb2YgSGlkZGVuU3ltYm9sKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3InKTtcblx0XHRyZXR1cm4gU3ltYm9sUG9seWZpbGwoZGVzY3JpcHRpb24pO1xuXHR9O1xuXG5cdC8vIEV4cG9zZWQgYFN5bWJvbGAgY29uc3RydWN0b3Jcblx0Ly8gKHJldHVybnMgaW5zdGFuY2VzIG9mIEhpZGRlblN5bWJvbClcblx0bW9kdWxlLmV4cG9ydHMgPSBTeW1ib2xQb2x5ZmlsbCA9IGZ1bmN0aW9uIF9TeW1ib2wyKGRlc2NyaXB0aW9uKSB7XG5cdFx0dmFyIHN5bWJvbDtcblx0XHRpZiAodGhpcyBpbnN0YW5jZW9mIF9TeW1ib2wyKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3InKTtcblx0XHRpZiAoaXNOYXRpdmVTYWZlKSByZXR1cm4gTmF0aXZlU3ltYm9sKGRlc2NyaXB0aW9uKTtcblx0XHRzeW1ib2wgPSBjcmVhdGUoSGlkZGVuU3ltYm9sLnByb3RvdHlwZSk7XG5cdFx0ZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbiA9PT0gdW5kZWZpbmVkID8gJycgOiBTdHJpbmcoZGVzY3JpcHRpb24pO1xuXHRcdHJldHVybiBkZWZpbmVQcm9wZXJ0aWVzKHN5bWJvbCwge1xuXHRcdFx0X19kZXNjcmlwdGlvbl9fOiBkKCcnLCBkZXNjcmlwdGlvbiksXG5cdFx0XHRfX25hbWVfXzogZCgnJywgZ2VuZXJhdGVOYW1lKGRlc2NyaXB0aW9uKSlcblx0XHR9KTtcblx0fTtcblx0ZGVmaW5lUHJvcGVydGllcyhTeW1ib2xQb2x5ZmlsbCwge1xuXHRcdGZvcjogZChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0XHRpZiAoZ2xvYmFsU3ltYm9sc1trZXldKSByZXR1cm4gZ2xvYmFsU3ltYm9sc1trZXldO1xuXHRcdFx0cmV0dXJuIGdsb2JhbFN5bWJvbHNba2V5XSA9IFN5bWJvbFBvbHlmaWxsKFN0cmluZyhrZXkpKTtcblx0XHR9KSxcblx0XHRrZXlGb3I6IGQoZnVuY3Rpb24gKHMpIHtcblx0XHRcdHZhciBrZXk7XG5cdFx0XHR2YWxpZGF0ZVN5bWJvbChzKTtcblx0XHRcdGZvciAoa2V5IGluIGdsb2JhbFN5bWJvbHMpIHtcblx0XHRcdFx0aWYgKGdsb2JhbFN5bWJvbHNba2V5XSA9PT0gcykgcmV0dXJuIGtleTtcblx0XHRcdH1cblx0XHR9KSxcblxuXHRcdC8vIFRvIGVuc3VyZSBwcm9wZXIgaW50ZXJvcGVyYWJpbGl0eSB3aXRoIG90aGVyIG5hdGl2ZSBmdW5jdGlvbnMgKGUuZy4gQXJyYXkuZnJvbSlcblx0XHQvLyBmYWxsYmFjayB0byBldmVudHVhbCBuYXRpdmUgaW1wbGVtZW50YXRpb24gb2YgZ2l2ZW4gc3ltYm9sXG5cdFx0aGFzSW5zdGFuY2U6IGQoJycsIE5hdGl2ZVN5bWJvbCAmJiBOYXRpdmVTeW1ib2wuaGFzSW5zdGFuY2UgfHwgU3ltYm9sUG9seWZpbGwoJ2hhc0luc3RhbmNlJykpLFxuXHRcdGlzQ29uY2F0U3ByZWFkYWJsZTogZCgnJywgTmF0aXZlU3ltYm9sICYmIE5hdGl2ZVN5bWJvbC5pc0NvbmNhdFNwcmVhZGFibGUgfHwgU3ltYm9sUG9seWZpbGwoJ2lzQ29uY2F0U3ByZWFkYWJsZScpKSxcblx0XHRpdGVyYXRvcjogZCgnJywgTmF0aXZlU3ltYm9sICYmIE5hdGl2ZVN5bWJvbC5pdGVyYXRvciB8fCBTeW1ib2xQb2x5ZmlsbCgnaXRlcmF0b3InKSksXG5cdFx0bWF0Y2g6IGQoJycsIE5hdGl2ZVN5bWJvbCAmJiBOYXRpdmVTeW1ib2wubWF0Y2ggfHwgU3ltYm9sUG9seWZpbGwoJ21hdGNoJykpLFxuXHRcdHJlcGxhY2U6IGQoJycsIE5hdGl2ZVN5bWJvbCAmJiBOYXRpdmVTeW1ib2wucmVwbGFjZSB8fCBTeW1ib2xQb2x5ZmlsbCgncmVwbGFjZScpKSxcblx0XHRzZWFyY2g6IGQoJycsIE5hdGl2ZVN5bWJvbCAmJiBOYXRpdmVTeW1ib2wuc2VhcmNoIHx8IFN5bWJvbFBvbHlmaWxsKCdzZWFyY2gnKSksXG5cdFx0c3BlY2llczogZCgnJywgTmF0aXZlU3ltYm9sICYmIE5hdGl2ZVN5bWJvbC5zcGVjaWVzIHx8IFN5bWJvbFBvbHlmaWxsKCdzcGVjaWVzJykpLFxuXHRcdHNwbGl0OiBkKCcnLCBOYXRpdmVTeW1ib2wgJiYgTmF0aXZlU3ltYm9sLnNwbGl0IHx8IFN5bWJvbFBvbHlmaWxsKCdzcGxpdCcpKSxcblx0XHR0b1ByaW1pdGl2ZTogZCgnJywgTmF0aXZlU3ltYm9sICYmIE5hdGl2ZVN5bWJvbC50b1ByaW1pdGl2ZSB8fCBTeW1ib2xQb2x5ZmlsbCgndG9QcmltaXRpdmUnKSksXG5cdFx0dG9TdHJpbmdUYWc6IGQoJycsIE5hdGl2ZVN5bWJvbCAmJiBOYXRpdmVTeW1ib2wudG9TdHJpbmdUYWcgfHwgU3ltYm9sUG9seWZpbGwoJ3RvU3RyaW5nVGFnJykpLFxuXHRcdHVuc2NvcGFibGVzOiBkKCcnLCBOYXRpdmVTeW1ib2wgJiYgTmF0aXZlU3ltYm9sLnVuc2NvcGFibGVzIHx8IFN5bWJvbFBvbHlmaWxsKCd1bnNjb3BhYmxlcycpKVxuXHR9KTtcblxuXHQvLyBJbnRlcm5hbCB0d2Vha3MgZm9yIHJlYWwgc3ltYm9sIHByb2R1Y2VyXG5cdGRlZmluZVByb3BlcnRpZXMoSGlkZGVuU3ltYm9sLnByb3RvdHlwZSwge1xuXHRcdGNvbnN0cnVjdG9yOiBkKFN5bWJvbFBvbHlmaWxsKSxcblx0XHR0b1N0cmluZzogZCgnJywgZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuX19uYW1lX187XG5cdFx0fSlcblx0fSk7XG5cblx0Ly8gUHJvcGVyIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgZXhwb3NlZCBvbiBTeW1ib2wucHJvdG90eXBlXG5cdC8vIFRoZXkgd29uJ3QgYmUgYWNjZXNzaWJsZSBvbiBwcm9kdWNlZCBzeW1ib2wgaW5zdGFuY2VzIGFzIHRoZXkgZGVyaXZlIGZyb20gSGlkZGVuU3ltYm9sLnByb3RvdHlwZVxuXHRkZWZpbmVQcm9wZXJ0aWVzKFN5bWJvbFBvbHlmaWxsLnByb3RvdHlwZSwge1xuXHRcdHRvU3RyaW5nOiBkKGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiAnU3ltYm9sICgnICsgdmFsaWRhdGVTeW1ib2wodGhpcykuX19kZXNjcmlwdGlvbl9fICsgJyknO1xuXHRcdH0pLFxuXHRcdHZhbHVlT2Y6IGQoZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIHZhbGlkYXRlU3ltYm9sKHRoaXMpO1xuXHRcdH0pXG5cdH0pO1xuXHRkZWZpbmVQcm9wZXJ0eShTeW1ib2xQb2x5ZmlsbC5wcm90b3R5cGUsIFN5bWJvbFBvbHlmaWxsLnRvUHJpbWl0aXZlLCBkKCcnLCBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIHN5bWJvbCA9IHZhbGlkYXRlU3ltYm9sKHRoaXMpO1xuXHRcdGlmICgodHlwZW9mIHN5bWJvbCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2Yoc3ltYm9sKSkgPT09ICdzeW1ib2wnKSByZXR1cm4gc3ltYm9sO1xuXHRcdHJldHVybiBzeW1ib2wudG9TdHJpbmcoKTtcblx0fSkpO1xuXHRkZWZpbmVQcm9wZXJ0eShTeW1ib2xQb2x5ZmlsbC5wcm90b3R5cGUsIFN5bWJvbFBvbHlmaWxsLnRvU3RyaW5nVGFnLCBkKCdjJywgJ1N5bWJvbCcpKTtcblxuXHQvLyBQcm9wZXIgaW1wbGVtZW50YXRvbiBvZiB0b1ByaW1pdGl2ZSBhbmQgdG9TdHJpbmdUYWcgZm9yIHJldHVybmVkIHN5bWJvbCBpbnN0YW5jZXNcblx0ZGVmaW5lUHJvcGVydHkoSGlkZGVuU3ltYm9sLnByb3RvdHlwZSwgU3ltYm9sUG9seWZpbGwudG9TdHJpbmdUYWcsIGQoJ2MnLCBTeW1ib2xQb2x5ZmlsbC5wcm90b3R5cGVbU3ltYm9sUG9seWZpbGwudG9TdHJpbmdUYWddKSk7XG5cblx0Ly8gTm90ZTogSXQncyBpbXBvcnRhbnQgdG8gZGVmaW5lIGB0b1ByaW1pdGl2ZWAgYXMgbGFzdCBvbmUsIGFzIHNvbWUgaW1wbGVtZW50YXRpb25zXG5cdC8vIGltcGxlbWVudCBgdG9QcmltaXRpdmVgIG5hdGl2ZWx5IHdpdGhvdXQgaW1wbGVtZW50aW5nIGB0b1N0cmluZ1RhZ2AgKG9yIG90aGVyIHNwZWNpZmllZCBzeW1ib2xzKVxuXHQvLyBBbmQgdGhhdCBtYXkgaW52b2tlIGVycm9yIGluIGRlZmluaXRpb24gZmxvdzpcblx0Ly8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vbWVkaWtvby9lczYtc3ltYm9sL2lzc3Vlcy8xMyNpc3N1ZWNvbW1lbnQtMTY0MTQ2MTQ5XG5cdGRlZmluZVByb3BlcnR5KEhpZGRlblN5bWJvbC5wcm90b3R5cGUsIFN5bWJvbFBvbHlmaWxsLnRvUHJpbWl0aXZlLCBkKCdjJywgU3ltYm9sUG9seWZpbGwucHJvdG90eXBlW1N5bWJvbFBvbHlmaWxsLnRvUHJpbWl0aXZlXSkpO1xuXG4vKioqLyB9KSxcbi8qIDExICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBhc3NpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKSxcblx0ICAgIG5vcm1hbGl6ZU9wdHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKSxcblx0ICAgIGlzQ2FsbGFibGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKSxcblx0ICAgIGNvbnRhaW5zID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyksXG5cdCAgICBkO1xuXG5cdGQgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChkc2NyLCB2YWx1ZSAvKiwgb3B0aW9ucyovKSB7XG5cdFx0dmFyIGMsIGUsIHcsIG9wdGlvbnMsIGRlc2M7XG5cdFx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyIHx8IHR5cGVvZiBkc2NyICE9PSAnc3RyaW5nJykge1xuXHRcdFx0b3B0aW9ucyA9IHZhbHVlO1xuXHRcdFx0dmFsdWUgPSBkc2NyO1xuXHRcdFx0ZHNjciA9IG51bGw7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG9wdGlvbnMgPSBhcmd1bWVudHNbMl07XG5cdFx0fVxuXHRcdGlmIChkc2NyID09IG51bGwpIHtcblx0XHRcdGMgPSB3ID0gdHJ1ZTtcblx0XHRcdGUgPSBmYWxzZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0YyA9IGNvbnRhaW5zLmNhbGwoZHNjciwgJ2MnKTtcblx0XHRcdGUgPSBjb250YWlucy5jYWxsKGRzY3IsICdlJyk7XG5cdFx0XHR3ID0gY29udGFpbnMuY2FsbChkc2NyLCAndycpO1xuXHRcdH1cblxuXHRcdGRlc2MgPSB7IHZhbHVlOiB2YWx1ZSwgY29uZmlndXJhYmxlOiBjLCBlbnVtZXJhYmxlOiBlLCB3cml0YWJsZTogdyB9O1xuXHRcdHJldHVybiAhb3B0aW9ucyA/IGRlc2MgOiBhc3NpZ24obm9ybWFsaXplT3B0cyhvcHRpb25zKSwgZGVzYyk7XG5cdH07XG5cblx0ZC5ncyA9IGZ1bmN0aW9uIChkc2NyLCBnZXQsIHNldCAvKiwgb3B0aW9ucyovKSB7XG5cdFx0dmFyIGMsIGUsIG9wdGlvbnMsIGRlc2M7XG5cdFx0aWYgKHR5cGVvZiBkc2NyICE9PSAnc3RyaW5nJykge1xuXHRcdFx0b3B0aW9ucyA9IHNldDtcblx0XHRcdHNldCA9IGdldDtcblx0XHRcdGdldCA9IGRzY3I7XG5cdFx0XHRkc2NyID0gbnVsbDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0b3B0aW9ucyA9IGFyZ3VtZW50c1szXTtcblx0XHR9XG5cdFx0aWYgKGdldCA9PSBudWxsKSB7XG5cdFx0XHRnZXQgPSB1bmRlZmluZWQ7XG5cdFx0fSBlbHNlIGlmICghaXNDYWxsYWJsZShnZXQpKSB7XG5cdFx0XHRvcHRpb25zID0gZ2V0O1xuXHRcdFx0Z2V0ID0gc2V0ID0gdW5kZWZpbmVkO1xuXHRcdH0gZWxzZSBpZiAoc2V0ID09IG51bGwpIHtcblx0XHRcdHNldCA9IHVuZGVmaW5lZDtcblx0XHR9IGVsc2UgaWYgKCFpc0NhbGxhYmxlKHNldCkpIHtcblx0XHRcdG9wdGlvbnMgPSBzZXQ7XG5cdFx0XHRzZXQgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdGlmIChkc2NyID09IG51bGwpIHtcblx0XHRcdGMgPSB0cnVlO1xuXHRcdFx0ZSA9IGZhbHNlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjID0gY29udGFpbnMuY2FsbChkc2NyLCAnYycpO1xuXHRcdFx0ZSA9IGNvbnRhaW5zLmNhbGwoZHNjciwgJ2UnKTtcblx0XHR9XG5cblx0XHRkZXNjID0geyBnZXQ6IGdldCwgc2V0OiBzZXQsIGNvbmZpZ3VyYWJsZTogYywgZW51bWVyYWJsZTogZSB9O1xuXHRcdHJldHVybiAhb3B0aW9ucyA/IGRlc2MgOiBhc3NpZ24obm9ybWFsaXplT3B0cyhvcHRpb25zKSwgZGVzYyk7XG5cdH07XG5cbi8qKiovIH0pLFxuLyogMTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpKCkgPyBPYmplY3QuYXNzaWduIDogX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG5cbi8qKiovIH0pLFxuLyogMTMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgYXNzaWduID0gT2JqZWN0LmFzc2lnbixcblx0XHQgICAgb2JqO1xuXHRcdGlmICh0eXBlb2YgYXNzaWduICE9PSBcImZ1bmN0aW9uXCIpIHJldHVybiBmYWxzZTtcblx0XHRvYmogPSB7IGZvbzogXCJyYXpcIiB9O1xuXHRcdGFzc2lnbihvYmosIHsgYmFyOiBcImR3YVwiIH0sIHsgdHJ6eTogXCJ0cnp5XCIgfSk7XG5cdFx0cmV0dXJuIG9iai5mb28gKyBvYmouYmFyICsgb2JqLnRyenkgPT09IFwicmF6ZHdhdHJ6eVwiO1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDE0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0dmFyIGtleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KSxcblx0ICAgIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCksXG5cdCAgICBtYXggPSBNYXRoLm1heDtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChkZXN0LCBzcmMgLyosIOKApnNyY24qLykge1xuXHRcdHZhciBlcnJvcixcblx0XHQgICAgaSxcblx0XHQgICAgbGVuZ3RoID0gbWF4KGFyZ3VtZW50cy5sZW5ndGgsIDIpLFxuXHRcdCAgICBhc3NpZ247XG5cdFx0ZGVzdCA9IE9iamVjdCh2YWx1ZShkZXN0KSk7XG5cdFx0YXNzaWduID0gZnVuY3Rpb24gYXNzaWduKGtleSkge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0ZGVzdFtrZXldID0gc3JjW2tleV07XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdGlmICghZXJyb3IpIGVycm9yID0gZTtcblx0XHRcdH1cblx0XHR9O1xuXHRcdGZvciAoaSA9IDE7IGkgPCBsZW5ndGg7ICsraSkge1xuXHRcdFx0c3JjID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0a2V5cyhzcmMpLmZvckVhY2goYXNzaWduKTtcblx0XHR9XG5cdFx0aWYgKGVycm9yICE9PSB1bmRlZmluZWQpIHRocm93IGVycm9yO1xuXHRcdHJldHVybiBkZXN0O1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDE1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KSgpID8gT2JqZWN0LmtleXMgOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcblxuLyoqKi8gfSksXG4vKiAxNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuXHRcdHRyeSB7XG5cdFx0XHRPYmplY3Qua2V5cyhcInByaW1pdGl2ZVwiKTtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdH07XG5cbi8qKiovIH0pLFxuLyogMTcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHR2YXIgaXNWYWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xuXG5cdHZhciBrZXlzID0gT2JqZWN0LmtleXM7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG5cdFx0cmV0dXJuIGtleXMoaXNWYWx1ZShvYmplY3QpID8gT2JqZWN0KG9iamVjdCkgOiBvYmplY3QpO1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDE4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0dmFyIF91bmRlZmluZWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KSgpOyAvLyBTdXBwb3J0IEVTMyBlbmdpbmVzXG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodmFsKSB7XG5cdCAgcmV0dXJuIHZhbCAhPT0gX3VuZGVmaW5lZCAmJiB2YWwgIT09IG51bGw7XG5cdH07XG5cbi8qKiovIH0pLFxuLyogMTkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZW1wdHktZnVuY3Rpb25cblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHt9O1xuXG4vKioqLyB9KSxcbi8qIDIwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0dmFyIGlzVmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdGlmICghaXNWYWx1ZSh2YWx1ZSkpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgdXNlIG51bGwgb3IgdW5kZWZpbmVkXCIpO1xuXHRcdHJldHVybiB2YWx1ZTtcblx0fTtcblxuLyoqKi8gfSksXG4vKiAyMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdHZhciBpc1ZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG5cblx0dmFyIGZvckVhY2ggPSBBcnJheS5wcm90b3R5cGUuZm9yRWFjaCxcblx0ICAgIGNyZWF0ZSA9IE9iamVjdC5jcmVhdGU7XG5cblx0dmFyIHByb2Nlc3MgPSBmdW5jdGlvbiBwcm9jZXNzKHNyYywgb2JqKSB7XG5cdFx0dmFyIGtleTtcblx0XHRmb3IgKGtleSBpbiBzcmMpIHtcblx0XHRcdG9ialtrZXldID0gc3JjW2tleV07XG5cdFx0fVxuXHR9O1xuXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvcHRzMSAvKiwg4oCmb3B0aW9ucyovKSB7XG5cdFx0dmFyIHJlc3VsdCA9IGNyZWF0ZShudWxsKTtcblx0XHRmb3JFYWNoLmNhbGwoYXJndW1lbnRzLCBmdW5jdGlvbiAob3B0aW9ucykge1xuXHRcdFx0aWYgKCFpc1ZhbHVlKG9wdGlvbnMpKSByZXR1cm47XG5cdFx0XHRwcm9jZXNzKE9iamVjdChvcHRpb25zKSwgcmVzdWx0KTtcblx0XHR9KTtcblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDIyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gRGVwcmVjYXRlZFxuXG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iaikge1xuXHQgIHJldHVybiB0eXBlb2Ygb2JqID09PSBcImZ1bmN0aW9uXCI7XG5cdH07XG5cbi8qKiovIH0pLFxuLyogMjMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpKCkgPyBTdHJpbmcucHJvdG90eXBlLmNvbnRhaW5zIDogX193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG5cbi8qKiovIH0pLFxuLyogMjQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHR2YXIgc3RyID0gXCJyYXpkd2F0cnp5XCI7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHR5cGVvZiBzdHIuY29udGFpbnMgIT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIGZhbHNlO1xuXHRcdHJldHVybiBzdHIuY29udGFpbnMoXCJkd2FcIikgPT09IHRydWUgJiYgc3RyLmNvbnRhaW5zKFwiZm9vXCIpID09PSBmYWxzZTtcblx0fTtcblxuLyoqKi8gfSksXG4vKiAyNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdHZhciBpbmRleE9mID0gU3RyaW5nLnByb3RvdHlwZS5pbmRleE9mO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHNlYXJjaFN0cmluZyAvKiwgcG9zaXRpb24qLykge1xuXHRcdHJldHVybiBpbmRleE9mLmNhbGwodGhpcywgc2VhcmNoU3RyaW5nLCBhcmd1bWVudHNbMV0pID4gLTE7XG5cdH07XG5cbi8qKiovIH0pLFxuLyogMjYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGlzU3ltYm9sID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNyk7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRpZiAoIWlzU3ltYm9sKHZhbHVlKSkgdGhyb3cgbmV3IFR5cGVFcnJvcih2YWx1ZSArIFwiIGlzIG5vdCBhIHN5bWJvbFwiKTtcblx0XHRyZXR1cm4gdmFsdWU7XG5cdH07XG5cbi8qKiovIH0pLFxuLyogMjcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHgpIHtcblx0XHRpZiAoIXgpIHJldHVybiBmYWxzZTtcblx0XHRpZiAoKHR5cGVvZiB4ID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZih4KSkgPT09ICdzeW1ib2wnKSByZXR1cm4gdHJ1ZTtcblx0XHRpZiAoIXguY29uc3RydWN0b3IpIHJldHVybiBmYWxzZTtcblx0XHRpZiAoeC5jb25zdHJ1Y3Rvci5uYW1lICE9PSAnU3ltYm9sJykgcmV0dXJuIGZhbHNlO1xuXHRcdHJldHVybiB4W3guY29uc3RydWN0b3IudG9TdHJpbmdUYWddID09PSAnU3ltYm9sJztcblx0fTtcblxuLyoqKi8gfSksXG4vKiAyOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdHZhciBvYmpUb1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsXG5cdCAgICBpZCA9IG9ialRvU3RyaW5nLmNhbGwoZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBhcmd1bWVudHM7XG5cdH0oKSk7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRyZXR1cm4gb2JqVG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09IGlkO1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDI5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0dmFyIG9ialRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxcblx0ICAgIGlkID0gb2JqVG9TdHJpbmcuY2FsbChfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KSk7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRyZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqVG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09IGlkO1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDMwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0dmFyIHRvSW50ZWdlciA9IF9fd2VicGFja19yZXF1aXJlX18oMzEpLFxuXHQgICAgbWF4ID0gTWF0aC5tYXg7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0ICByZXR1cm4gbWF4KDAsIHRvSW50ZWdlcih2YWx1ZSkpO1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDMxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0dmFyIHNpZ24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMyKSxcblx0ICAgIGFicyA9IE1hdGguYWJzLFxuXHQgICAgZmxvb3IgPSBNYXRoLmZsb29yO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHZhbHVlKSB7XG5cdFx0aWYgKGlzTmFOKHZhbHVlKSkgcmV0dXJuIDA7XG5cdFx0dmFsdWUgPSBOdW1iZXIodmFsdWUpO1xuXHRcdGlmICh2YWx1ZSA9PT0gMCB8fCAhaXNGaW5pdGUodmFsdWUpKSByZXR1cm4gdmFsdWU7XG5cdFx0cmV0dXJuIHNpZ24odmFsdWUpICogZmxvb3IoYWJzKHZhbHVlKSk7XG5cdH07XG5cbi8qKiovIH0pLFxuLyogMzIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMzMpKCkgPyBNYXRoLnNpZ24gOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KTtcblxuLyoqKi8gfSksXG4vKiAzMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuXHRcdHZhciBzaWduID0gTWF0aC5zaWduO1xuXHRcdGlmICh0eXBlb2Ygc2lnbiAhPT0gXCJmdW5jdGlvblwiKSByZXR1cm4gZmFsc2U7XG5cdFx0cmV0dXJuIHNpZ24oMTApID09PSAxICYmIHNpZ24oLTIwKSA9PT0gLTE7XG5cdH07XG5cbi8qKiovIH0pLFxuLyogMzQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdHZhbHVlID0gTnVtYmVyKHZhbHVlKTtcblx0XHRpZiAoaXNOYU4odmFsdWUpIHx8IHZhbHVlID09PSAwKSByZXR1cm4gdmFsdWU7XG5cdFx0cmV0dXJuIHZhbHVlID4gMCA/IDEgOiAtMTtcblx0fTtcblxuLyoqKi8gfSksXG4vKiAzNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGZuKSB7XG5cdFx0aWYgKHR5cGVvZiBmbiAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKGZuICsgXCIgaXMgbm90IGEgZnVuY3Rpb25cIik7XG5cdFx0cmV0dXJuIGZuO1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDM2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG5cdHZhciBvYmpUb1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsXG5cdCAgICBpZCA9IG9ialRvU3RyaW5nLmNhbGwoXCJcIik7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRyZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiIHx8IHZhbHVlICYmICh0eXBlb2YgdmFsdWUgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZih2YWx1ZSkpID09PSBcIm9iamVjdFwiICYmICh2YWx1ZSBpbnN0YW5jZW9mIFN0cmluZyB8fCBvYmpUb1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gaWQpIHx8IGZhbHNlO1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDM3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0dmFyIGZvckVhY2ggPSBBcnJheS5wcm90b3R5cGUuZm9yRWFjaCxcblx0ICAgIGNyZWF0ZSA9IE9iamVjdC5jcmVhdGU7XG5cblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFyZyAvKiwg4oCmYXJncyovKSB7XG5cdFx0dmFyIHNldCA9IGNyZWF0ZShudWxsKTtcblx0XHRmb3JFYWNoLmNhbGwoYXJndW1lbnRzLCBmdW5jdGlvbiAobmFtZSkge1xuXHRcdFx0c2V0W25hbWVdID0gdHJ1ZTtcblx0XHR9KTtcblx0XHRyZXR1cm4gc2V0O1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDM4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBmcm9tID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KSxcblx0ICAgIHByaW1pdGl2ZVNldCA9IF9fd2VicGFja19yZXF1aXJlX18oMzcpO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gcHJpbWl0aXZlU2V0LmFwcGx5KG51bGwsIGZyb20oJ1xcblxcclxcdTIwMjhcXHUyMDI5JykpO1xuXG4vKioqLyB9KSxcbi8qIDM5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBwcmltaXRpdmVTZXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM3KSxcblx0ICAgIGVvbCA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpLFxuXHQgICAgaW5saW5lID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MCk7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBwcmltaXRpdmVTZXQuYXBwbHkobnVsbCwgT2JqZWN0LmtleXMoZW9sKS5jb25jYXQoT2JqZWN0LmtleXMoaW5saW5lKSkpO1xuXG4vKioqLyB9KSxcbi8qIDQwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBmcm9tID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KSxcblx0ICAgIHByaW1pdGl2ZVNldCA9IF9fd2VicGFja19yZXF1aXJlX18oMzcpO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gcHJpbWl0aXZlU2V0LmFwcGx5KG51bGwsIGZyb20oJyBcXGZcXHRcXHgwQlxcdTIwMEJcXHhBMFxcdTE2ODBcXHUyMDBCXFx1MTgwRScgKyAnXFx1MjAwMFxcdTIwMEJcXHUyMDAxXFx1MjAwMlxcdTIwMEJcXHUyMDAzXFx1MjAwNFxcdTIwMEJcXHUyMDA1XFx1MjAwNlxcdTIwMEJcXHUyMDA3XFx1MjAwOFxcdTIwMEJcXHUyMDA5XFx1MjAwQScgKyAnXFx1MjAwQlxcdTIwMEJcXHUyMDBCXFx1MjAyRlxcdTIwNUZcXHUyMDBCXFx1MzAwMCcpKTtcblxuLyoqKi8gfSksXG4vKiA0MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgcmVzb2x2ZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDIpLFxuXHQgICAgcGFzc3RocnUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ0KTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChkYXRhLCBjb250ZXh0IC8qLCBvcHRpb25zKi8pIHtcblx0ICByZXR1cm4gcGFzc3RocnUuYXBwbHkobnVsbCwgcmVzb2x2ZShkYXRhLCBjb250ZXh0LCBhcmd1bWVudHNbMl0pKTtcblx0fTtcblxuLyoqKi8gfSksXG4vKiA0MiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKSxcblx0ICAgIG5vcm1hbGl6ZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpLFxuXHQgICAgaXNWYXJOYW1lVmFsaWQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKSxcblx0ICAgIG1hcCA9IEFycmF5LnByb3RvdHlwZS5tYXAsXG5cdCAgICBrZXlzID0gT2JqZWN0LmtleXMsXG5cdCAgICBzdHJpbmdpZnkgPSBKU09OLnN0cmluZ2lmeTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChkYXRhLCBjb250ZXh0IC8qLCBvcHRpb25zKi8pIHtcblx0XHR2YXIgbmFtZXMsXG5cdFx0ICAgIGFyZ05hbWVzLFxuXHRcdCAgICBhcmdWYWx1ZXMsXG5cdFx0ICAgIG9wdGlvbnMgPSBPYmplY3QoYXJndW1lbnRzWzJdKTtcblxuXHRcdHZhbHVlKGRhdGEpICYmIHZhbHVlKGRhdGEubGl0ZXJhbHMpICYmIHZhbHVlKGRhdGEuc3Vic3RpdHV0aW9ucyk7XG5cdFx0Y29udGV4dCA9IG5vcm1hbGl6ZShjb250ZXh0KTtcblx0XHRuYW1lcyA9IGtleXMoY29udGV4dCkuZmlsdGVyKGlzVmFyTmFtZVZhbGlkKTtcblx0XHRhcmdOYW1lcyA9IG5hbWVzLmpvaW4oJywgJyk7XG5cdFx0YXJnVmFsdWVzID0gbmFtZXMubWFwKGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0XHRyZXR1cm4gY29udGV4dFtuYW1lXTtcblx0XHR9KTtcblx0XHRyZXR1cm4gW2RhdGEubGl0ZXJhbHNdLmNvbmNhdChtYXAuY2FsbChkYXRhLnN1YnN0aXR1dGlvbnMsIGZ1bmN0aW9uIChleHByKSB7XG5cdFx0XHR2YXIgcmVzb2x2ZXI7XG5cdFx0XHRpZiAoIWV4cHIpIHJldHVybiB1bmRlZmluZWQ7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRyZXNvbHZlciA9IG5ldyBGdW5jdGlvbihhcmdOYW1lcywgJ3JldHVybiAoJyArIGV4cHIgKyAnKScpO1xuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5hYmxlIHRvIGNvbXBpbGUgZXhwcmVzc2lvbjpcXG5cXHRhcmdzOiBcIiArIHN0cmluZ2lmeShhcmdOYW1lcykgKyBcIlxcblxcdGJvZHk6IFwiICsgc3RyaW5naWZ5KGV4cHIpICsgXCJcXG5cXHRlcnJvcjogXCIgKyBlLnN0YWNrKTtcblx0XHRcdH1cblx0XHRcdHRyeSB7XG5cdFx0XHRcdHJldHVybiByZXNvbHZlci5hcHBseShudWxsLCBhcmdWYWx1ZXMpO1xuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRpZiAob3B0aW9ucy5wYXJ0aWFsKSByZXR1cm4gJyR7JyArIGV4cHIgKyAnfSc7XG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmFibGUgdG8gcmVzb2x2ZSBleHByZXNzaW9uOlxcblxcdGFyZ3M6IFwiICsgc3RyaW5naWZ5KGFyZ05hbWVzKSArIFwiXFxuXFx0Ym9keTogXCIgKyBzdHJpbmdpZnkoZXhwcikgKyBcIlxcblxcdGVycm9yOiBcIiArIGUuc3RhY2spO1xuXHRcdFx0fVxuXHRcdH0pKTtcblx0fTtcblxuLyoqKi8gfSksXG4vKiA0MyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIENyZWRpdDogTWF0aGlhcyBCeW5lbnMgLT4gaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL2RlbW8vamF2YXNjcmlwdC1pZGVudGlmaWVyLXJlZ2V4XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gUmVnRXhwLnByb3RvdHlwZS50ZXN0LmJpbmQoL14oPyEoPzpkb3xpZnxpbnxmb3J8bGV0fG5ld3x0cnl8dmFyfGNhc2V8ZWxzZXxlbnVtfGV2YWx8bnVsbHx0aGlzfHRydWV8dm9pZHx3aXRofGF3YWl0fGJyZWFrfGNhdGNofGNsYXNzfGNvbnN0fGZhbHNlfHN1cGVyfHRocm93fHdoaWxlfHlpZWxkfGRlbGV0ZXxleHBvcnR8aW1wb3J0fHB1YmxpY3xyZXR1cm58c3RhdGljfHN3aXRjaHx0eXBlb2Z8ZGVmYXVsdHxleHRlbmRzfGZpbmFsbHl8cGFja2FnZXxwcml2YXRlfGNvbnRpbnVlfGRlYnVnZ2VyfGZ1bmN0aW9ufGFyZ3VtZW50c3xpbnRlcmZhY2V8cHJvdGVjdGVkfGltcGxlbWVudHN8aW5zdGFuY2VvZikkKSg/OltcXCRBLVpfYS16XFx4QUFcXHhCNVxceEJBXFx4QzAtXFx4RDZcXHhEOC1cXHhGNlxceEY4LVxcdTAyQzFcXHUwMkM2LVxcdTAyRDFcXHUwMkUwLVxcdTAyRTRcXHUwMkVDXFx1MDJFRVxcdTAzNzAtXFx1MDM3NFxcdTAzNzZcXHUwMzc3XFx1MDM3QS1cXHUwMzdEXFx1MDM3RlxcdTAzODZcXHUwMzg4LVxcdTAzOEFcXHUwMzhDXFx1MDM4RS1cXHUwM0ExXFx1MDNBMy1cXHUwM0Y1XFx1MDNGNy1cXHUwNDgxXFx1MDQ4QS1cXHUwNTJGXFx1MDUzMS1cXHUwNTU2XFx1MDU1OVxcdTA1NjEtXFx1MDU4N1xcdTA1RDAtXFx1MDVFQVxcdTA1RjAtXFx1MDVGMlxcdTA2MjAtXFx1MDY0QVxcdTA2NkVcXHUwNjZGXFx1MDY3MS1cXHUwNkQzXFx1MDZENVxcdTA2RTVcXHUwNkU2XFx1MDZFRVxcdTA2RUZcXHUwNkZBLVxcdTA2RkNcXHUwNkZGXFx1MDcxMFxcdTA3MTItXFx1MDcyRlxcdTA3NEQtXFx1MDdBNVxcdTA3QjFcXHUwN0NBLVxcdTA3RUFcXHUwN0Y0XFx1MDdGNVxcdTA3RkFcXHUwODAwLVxcdTA4MTVcXHUwODFBXFx1MDgyNFxcdTA4MjhcXHUwODQwLVxcdTA4NThcXHUwOEEwLVxcdTA4QjRcXHUwOEI2LVxcdTA4QkRcXHUwOTA0LVxcdTA5MzlcXHUwOTNEXFx1MDk1MFxcdTA5NTgtXFx1MDk2MVxcdTA5NzEtXFx1MDk4MFxcdTA5ODUtXFx1MDk4Q1xcdTA5OEZcXHUwOTkwXFx1MDk5My1cXHUwOUE4XFx1MDlBQS1cXHUwOUIwXFx1MDlCMlxcdTA5QjYtXFx1MDlCOVxcdTA5QkRcXHUwOUNFXFx1MDlEQ1xcdTA5RERcXHUwOURGLVxcdTA5RTFcXHUwOUYwXFx1MDlGMVxcdTBBMDUtXFx1MEEwQVxcdTBBMEZcXHUwQTEwXFx1MEExMy1cXHUwQTI4XFx1MEEyQS1cXHUwQTMwXFx1MEEzMlxcdTBBMzNcXHUwQTM1XFx1MEEzNlxcdTBBMzhcXHUwQTM5XFx1MEE1OS1cXHUwQTVDXFx1MEE1RVxcdTBBNzItXFx1MEE3NFxcdTBBODUtXFx1MEE4RFxcdTBBOEYtXFx1MEE5MVxcdTBBOTMtXFx1MEFBOFxcdTBBQUEtXFx1MEFCMFxcdTBBQjJcXHUwQUIzXFx1MEFCNS1cXHUwQUI5XFx1MEFCRFxcdTBBRDBcXHUwQUUwXFx1MEFFMVxcdTBBRjlcXHUwQjA1LVxcdTBCMENcXHUwQjBGXFx1MEIxMFxcdTBCMTMtXFx1MEIyOFxcdTBCMkEtXFx1MEIzMFxcdTBCMzJcXHUwQjMzXFx1MEIzNS1cXHUwQjM5XFx1MEIzRFxcdTBCNUNcXHUwQjVEXFx1MEI1Ri1cXHUwQjYxXFx1MEI3MVxcdTBCODNcXHUwQjg1LVxcdTBCOEFcXHUwQjhFLVxcdTBCOTBcXHUwQjkyLVxcdTBCOTVcXHUwQjk5XFx1MEI5QVxcdTBCOUNcXHUwQjlFXFx1MEI5RlxcdTBCQTNcXHUwQkE0XFx1MEJBOC1cXHUwQkFBXFx1MEJBRS1cXHUwQkI5XFx1MEJEMFxcdTBDMDUtXFx1MEMwQ1xcdTBDMEUtXFx1MEMxMFxcdTBDMTItXFx1MEMyOFxcdTBDMkEtXFx1MEMzOVxcdTBDM0RcXHUwQzU4LVxcdTBDNUFcXHUwQzYwXFx1MEM2MVxcdTBDODBcXHUwQzg1LVxcdTBDOENcXHUwQzhFLVxcdTBDOTBcXHUwQzkyLVxcdTBDQThcXHUwQ0FBLVxcdTBDQjNcXHUwQ0I1LVxcdTBDQjlcXHUwQ0JEXFx1MENERVxcdTBDRTBcXHUwQ0UxXFx1MENGMVxcdTBDRjJcXHUwRDA1LVxcdTBEMENcXHUwRDBFLVxcdTBEMTBcXHUwRDEyLVxcdTBEM0FcXHUwRDNEXFx1MEQ0RVxcdTBENTQtXFx1MEQ1NlxcdTBENUYtXFx1MEQ2MVxcdTBEN0EtXFx1MEQ3RlxcdTBEODUtXFx1MEQ5NlxcdTBEOUEtXFx1MERCMVxcdTBEQjMtXFx1MERCQlxcdTBEQkRcXHUwREMwLVxcdTBEQzZcXHUwRTAxLVxcdTBFMzBcXHUwRTMyXFx1MEUzM1xcdTBFNDAtXFx1MEU0NlxcdTBFODFcXHUwRTgyXFx1MEU4NFxcdTBFODdcXHUwRTg4XFx1MEU4QVxcdTBFOERcXHUwRTk0LVxcdTBFOTdcXHUwRTk5LVxcdTBFOUZcXHUwRUExLVxcdTBFQTNcXHUwRUE1XFx1MEVBN1xcdTBFQUFcXHUwRUFCXFx1MEVBRC1cXHUwRUIwXFx1MEVCMlxcdTBFQjNcXHUwRUJEXFx1MEVDMC1cXHUwRUM0XFx1MEVDNlxcdTBFREMtXFx1MEVERlxcdTBGMDBcXHUwRjQwLVxcdTBGNDdcXHUwRjQ5LVxcdTBGNkNcXHUwRjg4LVxcdTBGOENcXHUxMDAwLVxcdTEwMkFcXHUxMDNGXFx1MTA1MC1cXHUxMDU1XFx1MTA1QS1cXHUxMDVEXFx1MTA2MVxcdTEwNjVcXHUxMDY2XFx1MTA2RS1cXHUxMDcwXFx1MTA3NS1cXHUxMDgxXFx1MTA4RVxcdTEwQTAtXFx1MTBDNVxcdTEwQzdcXHUxMENEXFx1MTBEMC1cXHUxMEZBXFx1MTBGQy1cXHUxMjQ4XFx1MTI0QS1cXHUxMjREXFx1MTI1MC1cXHUxMjU2XFx1MTI1OFxcdTEyNUEtXFx1MTI1RFxcdTEyNjAtXFx1MTI4OFxcdTEyOEEtXFx1MTI4RFxcdTEyOTAtXFx1MTJCMFxcdTEyQjItXFx1MTJCNVxcdTEyQjgtXFx1MTJCRVxcdTEyQzBcXHUxMkMyLVxcdTEyQzVcXHUxMkM4LVxcdTEyRDZcXHUxMkQ4LVxcdTEzMTBcXHUxMzEyLVxcdTEzMTVcXHUxMzE4LVxcdTEzNUFcXHUxMzgwLVxcdTEzOEZcXHUxM0EwLVxcdTEzRjVcXHUxM0Y4LVxcdTEzRkRcXHUxNDAxLVxcdTE2NkNcXHUxNjZGLVxcdTE2N0ZcXHUxNjgxLVxcdTE2OUFcXHUxNkEwLVxcdTE2RUFcXHUxNkVFLVxcdTE2RjhcXHUxNzAwLVxcdTE3MENcXHUxNzBFLVxcdTE3MTFcXHUxNzIwLVxcdTE3MzFcXHUxNzQwLVxcdTE3NTFcXHUxNzYwLVxcdTE3NkNcXHUxNzZFLVxcdTE3NzBcXHUxNzgwLVxcdTE3QjNcXHUxN0Q3XFx1MTdEQ1xcdTE4MjAtXFx1MTg3N1xcdTE4ODAtXFx1MThBOFxcdTE4QUFcXHUxOEIwLVxcdTE4RjVcXHUxOTAwLVxcdTE5MUVcXHUxOTUwLVxcdTE5NkRcXHUxOTcwLVxcdTE5NzRcXHUxOTgwLVxcdTE5QUJcXHUxOUIwLVxcdTE5QzlcXHUxQTAwLVxcdTFBMTZcXHUxQTIwLVxcdTFBNTRcXHUxQUE3XFx1MUIwNS1cXHUxQjMzXFx1MUI0NS1cXHUxQjRCXFx1MUI4My1cXHUxQkEwXFx1MUJBRVxcdTFCQUZcXHUxQkJBLVxcdTFCRTVcXHUxQzAwLVxcdTFDMjNcXHUxQzRELVxcdTFDNEZcXHUxQzVBLVxcdTFDN0RcXHUxQzgwLVxcdTFDODhcXHUxQ0U5LVxcdTFDRUNcXHUxQ0VFLVxcdTFDRjFcXHUxQ0Y1XFx1MUNGNlxcdTFEMDAtXFx1MURCRlxcdTFFMDAtXFx1MUYxNVxcdTFGMTgtXFx1MUYxRFxcdTFGMjAtXFx1MUY0NVxcdTFGNDgtXFx1MUY0RFxcdTFGNTAtXFx1MUY1N1xcdTFGNTlcXHUxRjVCXFx1MUY1RFxcdTFGNUYtXFx1MUY3RFxcdTFGODAtXFx1MUZCNFxcdTFGQjYtXFx1MUZCQ1xcdTFGQkVcXHUxRkMyLVxcdTFGQzRcXHUxRkM2LVxcdTFGQ0NcXHUxRkQwLVxcdTFGRDNcXHUxRkQ2LVxcdTFGREJcXHUxRkUwLVxcdTFGRUNcXHUxRkYyLVxcdTFGRjRcXHUxRkY2LVxcdTFGRkNcXHUyMDcxXFx1MjA3RlxcdTIwOTAtXFx1MjA5Q1xcdTIxMDJcXHUyMTA3XFx1MjEwQS1cXHUyMTEzXFx1MjExNVxcdTIxMTgtXFx1MjExRFxcdTIxMjRcXHUyMTI2XFx1MjEyOFxcdTIxMkEtXFx1MjEzOVxcdTIxM0MtXFx1MjEzRlxcdTIxNDUtXFx1MjE0OVxcdTIxNEVcXHUyMTYwLVxcdTIxODhcXHUyQzAwLVxcdTJDMkVcXHUyQzMwLVxcdTJDNUVcXHUyQzYwLVxcdTJDRTRcXHUyQ0VCLVxcdTJDRUVcXHUyQ0YyXFx1MkNGM1xcdTJEMDAtXFx1MkQyNVxcdTJEMjdcXHUyRDJEXFx1MkQzMC1cXHUyRDY3XFx1MkQ2RlxcdTJEODAtXFx1MkQ5NlxcdTJEQTAtXFx1MkRBNlxcdTJEQTgtXFx1MkRBRVxcdTJEQjAtXFx1MkRCNlxcdTJEQjgtXFx1MkRCRVxcdTJEQzAtXFx1MkRDNlxcdTJEQzgtXFx1MkRDRVxcdTJERDAtXFx1MkRENlxcdTJERDgtXFx1MkRERVxcdTMwMDUtXFx1MzAwN1xcdTMwMjEtXFx1MzAyOVxcdTMwMzEtXFx1MzAzNVxcdTMwMzgtXFx1MzAzQ1xcdTMwNDEtXFx1MzA5NlxcdTMwOUItXFx1MzA5RlxcdTMwQTEtXFx1MzBGQVxcdTMwRkMtXFx1MzBGRlxcdTMxMDUtXFx1MzEyRFxcdTMxMzEtXFx1MzE4RVxcdTMxQTAtXFx1MzFCQVxcdTMxRjAtXFx1MzFGRlxcdTM0MDAtXFx1NERCNVxcdTRFMDAtXFx1OUZENVxcdUEwMDAtXFx1QTQ4Q1xcdUE0RDAtXFx1QTRGRFxcdUE1MDAtXFx1QTYwQ1xcdUE2MTAtXFx1QTYxRlxcdUE2MkFcXHVBNjJCXFx1QTY0MC1cXHVBNjZFXFx1QTY3Ri1cXHVBNjlEXFx1QTZBMC1cXHVBNkVGXFx1QTcxNy1cXHVBNzFGXFx1QTcyMi1cXHVBNzg4XFx1QTc4Qi1cXHVBN0FFXFx1QTdCMC1cXHVBN0I3XFx1QTdGNy1cXHVBODAxXFx1QTgwMy1cXHVBODA1XFx1QTgwNy1cXHVBODBBXFx1QTgwQy1cXHVBODIyXFx1QTg0MC1cXHVBODczXFx1QTg4Mi1cXHVBOEIzXFx1QThGMi1cXHVBOEY3XFx1QThGQlxcdUE4RkRcXHVBOTBBLVxcdUE5MjVcXHVBOTMwLVxcdUE5NDZcXHVBOTYwLVxcdUE5N0NcXHVBOTg0LVxcdUE5QjJcXHVBOUNGXFx1QTlFMC1cXHVBOUU0XFx1QTlFNi1cXHVBOUVGXFx1QTlGQS1cXHVBOUZFXFx1QUEwMC1cXHVBQTI4XFx1QUE0MC1cXHVBQTQyXFx1QUE0NC1cXHVBQTRCXFx1QUE2MC1cXHVBQTc2XFx1QUE3QVxcdUFBN0UtXFx1QUFBRlxcdUFBQjFcXHVBQUI1XFx1QUFCNlxcdUFBQjktXFx1QUFCRFxcdUFBQzBcXHVBQUMyXFx1QUFEQi1cXHVBQUREXFx1QUFFMC1cXHVBQUVBXFx1QUFGMi1cXHVBQUY0XFx1QUIwMS1cXHVBQjA2XFx1QUIwOS1cXHVBQjBFXFx1QUIxMS1cXHVBQjE2XFx1QUIyMC1cXHVBQjI2XFx1QUIyOC1cXHVBQjJFXFx1QUIzMC1cXHVBQjVBXFx1QUI1Qy1cXHVBQjY1XFx1QUI3MC1cXHVBQkUyXFx1QUMwMC1cXHVEN0EzXFx1RDdCMC1cXHVEN0M2XFx1RDdDQi1cXHVEN0ZCXFx1RjkwMC1cXHVGQTZEXFx1RkE3MC1cXHVGQUQ5XFx1RkIwMC1cXHVGQjA2XFx1RkIxMy1cXHVGQjE3XFx1RkIxRFxcdUZCMUYtXFx1RkIyOFxcdUZCMkEtXFx1RkIzNlxcdUZCMzgtXFx1RkIzQ1xcdUZCM0VcXHVGQjQwXFx1RkI0MVxcdUZCNDNcXHVGQjQ0XFx1RkI0Ni1cXHVGQkIxXFx1RkJEMy1cXHVGRDNEXFx1RkQ1MC1cXHVGRDhGXFx1RkQ5Mi1cXHVGREM3XFx1RkRGMC1cXHVGREZCXFx1RkU3MC1cXHVGRTc0XFx1RkU3Ni1cXHVGRUZDXFx1RkYyMS1cXHVGRjNBXFx1RkY0MS1cXHVGRjVBXFx1RkY2Ni1cXHVGRkJFXFx1RkZDMi1cXHVGRkM3XFx1RkZDQS1cXHVGRkNGXFx1RkZEMi1cXHVGRkQ3XFx1RkZEQS1cXHVGRkRDXXxcXHVEODAwW1xcdURDMDAtXFx1REMwQlxcdURDMEQtXFx1REMyNlxcdURDMjgtXFx1REMzQVxcdURDM0NcXHVEQzNEXFx1REMzRi1cXHVEQzREXFx1REM1MC1cXHVEQzVEXFx1REM4MC1cXHVEQ0ZBXFx1REQ0MC1cXHVERDc0XFx1REU4MC1cXHVERTlDXFx1REVBMC1cXHVERUQwXFx1REYwMC1cXHVERjFGXFx1REYzMC1cXHVERjRBXFx1REY1MC1cXHVERjc1XFx1REY4MC1cXHVERjlEXFx1REZBMC1cXHVERkMzXFx1REZDOC1cXHVERkNGXFx1REZEMS1cXHVERkQ1XXxcXHVEODAxW1xcdURDMDAtXFx1REM5RFxcdURDQjAtXFx1RENEM1xcdURDRDgtXFx1RENGQlxcdUREMDAtXFx1REQyN1xcdUREMzAtXFx1REQ2M1xcdURFMDAtXFx1REYzNlxcdURGNDAtXFx1REY1NVxcdURGNjAtXFx1REY2N118XFx1RDgwMltcXHVEQzAwLVxcdURDMDVcXHVEQzA4XFx1REMwQS1cXHVEQzM1XFx1REMzN1xcdURDMzhcXHVEQzNDXFx1REMzRi1cXHVEQzU1XFx1REM2MC1cXHVEQzc2XFx1REM4MC1cXHVEQzlFXFx1RENFMC1cXHVEQ0YyXFx1RENGNFxcdURDRjVcXHVERDAwLVxcdUREMTVcXHVERDIwLVxcdUREMzlcXHVERDgwLVxcdUREQjdcXHVEREJFXFx1RERCRlxcdURFMDBcXHVERTEwLVxcdURFMTNcXHVERTE1LVxcdURFMTdcXHVERTE5LVxcdURFMzNcXHVERTYwLVxcdURFN0NcXHVERTgwLVxcdURFOUNcXHVERUMwLVxcdURFQzdcXHVERUM5LVxcdURFRTRcXHVERjAwLVxcdURGMzVcXHVERjQwLVxcdURGNTVcXHVERjYwLVxcdURGNzJcXHVERjgwLVxcdURGOTFdfFxcdUQ4MDNbXFx1REMwMC1cXHVEQzQ4XFx1REM4MC1cXHVEQ0IyXFx1RENDMC1cXHVEQ0YyXXxcXHVEODA0W1xcdURDMDMtXFx1REMzN1xcdURDODMtXFx1RENBRlxcdURDRDAtXFx1RENFOFxcdUREMDMtXFx1REQyNlxcdURENTAtXFx1REQ3MlxcdURENzZcXHVERDgzLVxcdUREQjJcXHVEREMxLVxcdUREQzRcXHVERERBXFx1REREQ1xcdURFMDAtXFx1REUxMVxcdURFMTMtXFx1REUyQlxcdURFODAtXFx1REU4NlxcdURFODhcXHVERThBLVxcdURFOERcXHVERThGLVxcdURFOURcXHVERTlGLVxcdURFQThcXHVERUIwLVxcdURFREVcXHVERjA1LVxcdURGMENcXHVERjBGXFx1REYxMFxcdURGMTMtXFx1REYyOFxcdURGMkEtXFx1REYzMFxcdURGMzJcXHVERjMzXFx1REYzNS1cXHVERjM5XFx1REYzRFxcdURGNTBcXHVERjVELVxcdURGNjFdfFxcdUQ4MDVbXFx1REMwMC1cXHVEQzM0XFx1REM0Ny1cXHVEQzRBXFx1REM4MC1cXHVEQ0FGXFx1RENDNFxcdURDQzVcXHVEQ0M3XFx1REQ4MC1cXHVEREFFXFx1REREOC1cXHVERERCXFx1REUwMC1cXHVERTJGXFx1REU0NFxcdURFODAtXFx1REVBQVxcdURGMDAtXFx1REYxOV18XFx1RDgwNltcXHVEQ0EwLVxcdURDREZcXHVEQ0ZGXFx1REVDMC1cXHVERUY4XXxcXHVEODA3W1xcdURDMDAtXFx1REMwOFxcdURDMEEtXFx1REMyRVxcdURDNDBcXHVEQzcyLVxcdURDOEZdfFxcdUQ4MDhbXFx1REMwMC1cXHVERjk5XXxcXHVEODA5W1xcdURDMDAtXFx1REM2RVxcdURDODAtXFx1REQ0M118W1xcdUQ4MENcXHVEODFDLVxcdUQ4MjBcXHVEODQwLVxcdUQ4NjhcXHVEODZBLVxcdUQ4NkNcXHVEODZGLVxcdUQ4NzJdW1xcdURDMDAtXFx1REZGRl18XFx1RDgwRFtcXHVEQzAwLVxcdURDMkVdfFxcdUQ4MTFbXFx1REMwMC1cXHVERTQ2XXxcXHVEODFBW1xcdURDMDAtXFx1REUzOFxcdURFNDAtXFx1REU1RVxcdURFRDAtXFx1REVFRFxcdURGMDAtXFx1REYyRlxcdURGNDAtXFx1REY0M1xcdURGNjMtXFx1REY3N1xcdURGN0QtXFx1REY4Rl18XFx1RDgxQltcXHVERjAwLVxcdURGNDRcXHVERjUwXFx1REY5My1cXHVERjlGXFx1REZFMF18XFx1RDgyMVtcXHVEQzAwLVxcdURGRUNdfFxcdUQ4MjJbXFx1REMwMC1cXHVERUYyXXxcXHVEODJDW1xcdURDMDBcXHVEQzAxXXxcXHVEODJGW1xcdURDMDAtXFx1REM2QVxcdURDNzAtXFx1REM3Q1xcdURDODAtXFx1REM4OFxcdURDOTAtXFx1REM5OV18XFx1RDgzNVtcXHVEQzAwLVxcdURDNTRcXHVEQzU2LVxcdURDOUNcXHVEQzlFXFx1REM5RlxcdURDQTJcXHVEQ0E1XFx1RENBNlxcdURDQTktXFx1RENBQ1xcdURDQUUtXFx1RENCOVxcdURDQkJcXHVEQ0JELVxcdURDQzNcXHVEQ0M1LVxcdUREMDVcXHVERDA3LVxcdUREMEFcXHVERDBELVxcdUREMTRcXHVERDE2LVxcdUREMUNcXHVERDFFLVxcdUREMzlcXHVERDNCLVxcdUREM0VcXHVERDQwLVxcdURENDRcXHVERDQ2XFx1REQ0QS1cXHVERDUwXFx1REQ1Mi1cXHVERUE1XFx1REVBOC1cXHVERUMwXFx1REVDMi1cXHVERURBXFx1REVEQy1cXHVERUZBXFx1REVGQy1cXHVERjE0XFx1REYxNi1cXHVERjM0XFx1REYzNi1cXHVERjRFXFx1REY1MC1cXHVERjZFXFx1REY3MC1cXHVERjg4XFx1REY4QS1cXHVERkE4XFx1REZBQS1cXHVERkMyXFx1REZDNC1cXHVERkNCXXxcXHVEODNBW1xcdURDMDAtXFx1RENDNFxcdUREMDAtXFx1REQ0M118XFx1RDgzQltcXHVERTAwLVxcdURFMDNcXHVERTA1LVxcdURFMUZcXHVERTIxXFx1REUyMlxcdURFMjRcXHVERTI3XFx1REUyOS1cXHVERTMyXFx1REUzNC1cXHVERTM3XFx1REUzOVxcdURFM0JcXHVERTQyXFx1REU0N1xcdURFNDlcXHVERTRCXFx1REU0RC1cXHVERTRGXFx1REU1MVxcdURFNTJcXHVERTU0XFx1REU1N1xcdURFNTlcXHVERTVCXFx1REU1RFxcdURFNUZcXHVERTYxXFx1REU2MlxcdURFNjRcXHVERTY3LVxcdURFNkFcXHVERTZDLVxcdURFNzJcXHVERTc0LVxcdURFNzdcXHVERTc5LVxcdURFN0NcXHVERTdFXFx1REU4MC1cXHVERTg5XFx1REU4Qi1cXHVERTlCXFx1REVBMS1cXHVERUEzXFx1REVBNS1cXHVERUE5XFx1REVBQi1cXHVERUJCXXxcXHVEODY5W1xcdURDMDAtXFx1REVENlxcdURGMDAtXFx1REZGRl18XFx1RDg2RFtcXHVEQzAwLVxcdURGMzRcXHVERjQwLVxcdURGRkZdfFxcdUQ4NkVbXFx1REMwMC1cXHVEQzFEXFx1REMyMC1cXHVERkZGXXxcXHVEODczW1xcdURDMDAtXFx1REVBMV18XFx1RDg3RVtcXHVEQzAwLVxcdURFMURdKSg/OltcXCQwLTlBLVpfYS16XFx4QUFcXHhCNVxceEI3XFx4QkFcXHhDMC1cXHhENlxceEQ4LVxceEY2XFx4RjgtXFx1MDJDMVxcdTAyQzYtXFx1MDJEMVxcdTAyRTAtXFx1MDJFNFxcdTAyRUNcXHUwMkVFXFx1MDMwMC1cXHUwMzc0XFx1MDM3NlxcdTAzNzdcXHUwMzdBLVxcdTAzN0RcXHUwMzdGXFx1MDM4Ni1cXHUwMzhBXFx1MDM4Q1xcdTAzOEUtXFx1MDNBMVxcdTAzQTMtXFx1MDNGNVxcdTAzRjctXFx1MDQ4MVxcdTA0ODMtXFx1MDQ4N1xcdTA0OEEtXFx1MDUyRlxcdTA1MzEtXFx1MDU1NlxcdTA1NTlcXHUwNTYxLVxcdTA1ODdcXHUwNTkxLVxcdTA1QkRcXHUwNUJGXFx1MDVDMVxcdTA1QzJcXHUwNUM0XFx1MDVDNVxcdTA1QzdcXHUwNUQwLVxcdTA1RUFcXHUwNUYwLVxcdTA1RjJcXHUwNjEwLVxcdTA2MUFcXHUwNjIwLVxcdTA2NjlcXHUwNjZFLVxcdTA2RDNcXHUwNkQ1LVxcdTA2RENcXHUwNkRGLVxcdTA2RThcXHUwNkVBLVxcdTA2RkNcXHUwNkZGXFx1MDcxMC1cXHUwNzRBXFx1MDc0RC1cXHUwN0IxXFx1MDdDMC1cXHUwN0Y1XFx1MDdGQVxcdTA4MDAtXFx1MDgyRFxcdTA4NDAtXFx1MDg1QlxcdTA4QTAtXFx1MDhCNFxcdTA4QjYtXFx1MDhCRFxcdTA4RDQtXFx1MDhFMVxcdTA4RTMtXFx1MDk2M1xcdTA5NjYtXFx1MDk2RlxcdTA5NzEtXFx1MDk4M1xcdTA5ODUtXFx1MDk4Q1xcdTA5OEZcXHUwOTkwXFx1MDk5My1cXHUwOUE4XFx1MDlBQS1cXHUwOUIwXFx1MDlCMlxcdTA5QjYtXFx1MDlCOVxcdTA5QkMtXFx1MDlDNFxcdTA5QzdcXHUwOUM4XFx1MDlDQi1cXHUwOUNFXFx1MDlEN1xcdTA5RENcXHUwOUREXFx1MDlERi1cXHUwOUUzXFx1MDlFNi1cXHUwOUYxXFx1MEEwMS1cXHUwQTAzXFx1MEEwNS1cXHUwQTBBXFx1MEEwRlxcdTBBMTBcXHUwQTEzLVxcdTBBMjhcXHUwQTJBLVxcdTBBMzBcXHUwQTMyXFx1MEEzM1xcdTBBMzVcXHUwQTM2XFx1MEEzOFxcdTBBMzlcXHUwQTNDXFx1MEEzRS1cXHUwQTQyXFx1MEE0N1xcdTBBNDhcXHUwQTRCLVxcdTBBNERcXHUwQTUxXFx1MEE1OS1cXHUwQTVDXFx1MEE1RVxcdTBBNjYtXFx1MEE3NVxcdTBBODEtXFx1MEE4M1xcdTBBODUtXFx1MEE4RFxcdTBBOEYtXFx1MEE5MVxcdTBBOTMtXFx1MEFBOFxcdTBBQUEtXFx1MEFCMFxcdTBBQjJcXHUwQUIzXFx1MEFCNS1cXHUwQUI5XFx1MEFCQy1cXHUwQUM1XFx1MEFDNy1cXHUwQUM5XFx1MEFDQi1cXHUwQUNEXFx1MEFEMFxcdTBBRTAtXFx1MEFFM1xcdTBBRTYtXFx1MEFFRlxcdTBBRjlcXHUwQjAxLVxcdTBCMDNcXHUwQjA1LVxcdTBCMENcXHUwQjBGXFx1MEIxMFxcdTBCMTMtXFx1MEIyOFxcdTBCMkEtXFx1MEIzMFxcdTBCMzJcXHUwQjMzXFx1MEIzNS1cXHUwQjM5XFx1MEIzQy1cXHUwQjQ0XFx1MEI0N1xcdTBCNDhcXHUwQjRCLVxcdTBCNERcXHUwQjU2XFx1MEI1N1xcdTBCNUNcXHUwQjVEXFx1MEI1Ri1cXHUwQjYzXFx1MEI2Ni1cXHUwQjZGXFx1MEI3MVxcdTBCODJcXHUwQjgzXFx1MEI4NS1cXHUwQjhBXFx1MEI4RS1cXHUwQjkwXFx1MEI5Mi1cXHUwQjk1XFx1MEI5OVxcdTBCOUFcXHUwQjlDXFx1MEI5RVxcdTBCOUZcXHUwQkEzXFx1MEJBNFxcdTBCQTgtXFx1MEJBQVxcdTBCQUUtXFx1MEJCOVxcdTBCQkUtXFx1MEJDMlxcdTBCQzYtXFx1MEJDOFxcdTBCQ0EtXFx1MEJDRFxcdTBCRDBcXHUwQkQ3XFx1MEJFNi1cXHUwQkVGXFx1MEMwMC1cXHUwQzAzXFx1MEMwNS1cXHUwQzBDXFx1MEMwRS1cXHUwQzEwXFx1MEMxMi1cXHUwQzI4XFx1MEMyQS1cXHUwQzM5XFx1MEMzRC1cXHUwQzQ0XFx1MEM0Ni1cXHUwQzQ4XFx1MEM0QS1cXHUwQzREXFx1MEM1NVxcdTBDNTZcXHUwQzU4LVxcdTBDNUFcXHUwQzYwLVxcdTBDNjNcXHUwQzY2LVxcdTBDNkZcXHUwQzgwLVxcdTBDODNcXHUwQzg1LVxcdTBDOENcXHUwQzhFLVxcdTBDOTBcXHUwQzkyLVxcdTBDQThcXHUwQ0FBLVxcdTBDQjNcXHUwQ0I1LVxcdTBDQjlcXHUwQ0JDLVxcdTBDQzRcXHUwQ0M2LVxcdTBDQzhcXHUwQ0NBLVxcdTBDQ0RcXHUwQ0Q1XFx1MENENlxcdTBDREVcXHUwQ0UwLVxcdTBDRTNcXHUwQ0U2LVxcdTBDRUZcXHUwQ0YxXFx1MENGMlxcdTBEMDEtXFx1MEQwM1xcdTBEMDUtXFx1MEQwQ1xcdTBEMEUtXFx1MEQxMFxcdTBEMTItXFx1MEQzQVxcdTBEM0QtXFx1MEQ0NFxcdTBENDYtXFx1MEQ0OFxcdTBENEEtXFx1MEQ0RVxcdTBENTQtXFx1MEQ1N1xcdTBENUYtXFx1MEQ2M1xcdTBENjYtXFx1MEQ2RlxcdTBEN0EtXFx1MEQ3RlxcdTBEODJcXHUwRDgzXFx1MEQ4NS1cXHUwRDk2XFx1MEQ5QS1cXHUwREIxXFx1MERCMy1cXHUwREJCXFx1MERCRFxcdTBEQzAtXFx1MERDNlxcdTBEQ0FcXHUwRENGLVxcdTBERDRcXHUwREQ2XFx1MEREOC1cXHUwRERGXFx1MERFNi1cXHUwREVGXFx1MERGMlxcdTBERjNcXHUwRTAxLVxcdTBFM0FcXHUwRTQwLVxcdTBFNEVcXHUwRTUwLVxcdTBFNTlcXHUwRTgxXFx1MEU4MlxcdTBFODRcXHUwRTg3XFx1MEU4OFxcdTBFOEFcXHUwRThEXFx1MEU5NC1cXHUwRTk3XFx1MEU5OS1cXHUwRTlGXFx1MEVBMS1cXHUwRUEzXFx1MEVBNVxcdTBFQTdcXHUwRUFBXFx1MEVBQlxcdTBFQUQtXFx1MEVCOVxcdTBFQkItXFx1MEVCRFxcdTBFQzAtXFx1MEVDNFxcdTBFQzZcXHUwRUM4LVxcdTBFQ0RcXHUwRUQwLVxcdTBFRDlcXHUwRURDLVxcdTBFREZcXHUwRjAwXFx1MEYxOFxcdTBGMTlcXHUwRjIwLVxcdTBGMjlcXHUwRjM1XFx1MEYzN1xcdTBGMzlcXHUwRjNFLVxcdTBGNDdcXHUwRjQ5LVxcdTBGNkNcXHUwRjcxLVxcdTBGODRcXHUwRjg2LVxcdTBGOTdcXHUwRjk5LVxcdTBGQkNcXHUwRkM2XFx1MTAwMC1cXHUxMDQ5XFx1MTA1MC1cXHUxMDlEXFx1MTBBMC1cXHUxMEM1XFx1MTBDN1xcdTEwQ0RcXHUxMEQwLVxcdTEwRkFcXHUxMEZDLVxcdTEyNDhcXHUxMjRBLVxcdTEyNERcXHUxMjUwLVxcdTEyNTZcXHUxMjU4XFx1MTI1QS1cXHUxMjVEXFx1MTI2MC1cXHUxMjg4XFx1MTI4QS1cXHUxMjhEXFx1MTI5MC1cXHUxMkIwXFx1MTJCMi1cXHUxMkI1XFx1MTJCOC1cXHUxMkJFXFx1MTJDMFxcdTEyQzItXFx1MTJDNVxcdTEyQzgtXFx1MTJENlxcdTEyRDgtXFx1MTMxMFxcdTEzMTItXFx1MTMxNVxcdTEzMTgtXFx1MTM1QVxcdTEzNUQtXFx1MTM1RlxcdTEzNjktXFx1MTM3MVxcdTEzODAtXFx1MTM4RlxcdTEzQTAtXFx1MTNGNVxcdTEzRjgtXFx1MTNGRFxcdTE0MDEtXFx1MTY2Q1xcdTE2NkYtXFx1MTY3RlxcdTE2ODEtXFx1MTY5QVxcdTE2QTAtXFx1MTZFQVxcdTE2RUUtXFx1MTZGOFxcdTE3MDAtXFx1MTcwQ1xcdTE3MEUtXFx1MTcxNFxcdTE3MjAtXFx1MTczNFxcdTE3NDAtXFx1MTc1M1xcdTE3NjAtXFx1MTc2Q1xcdTE3NkUtXFx1MTc3MFxcdTE3NzJcXHUxNzczXFx1MTc4MC1cXHUxN0QzXFx1MTdEN1xcdTE3RENcXHUxN0REXFx1MTdFMC1cXHUxN0U5XFx1MTgwQi1cXHUxODBEXFx1MTgxMC1cXHUxODE5XFx1MTgyMC1cXHUxODc3XFx1MTg4MC1cXHUxOEFBXFx1MThCMC1cXHUxOEY1XFx1MTkwMC1cXHUxOTFFXFx1MTkyMC1cXHUxOTJCXFx1MTkzMC1cXHUxOTNCXFx1MTk0Ni1cXHUxOTZEXFx1MTk3MC1cXHUxOTc0XFx1MTk4MC1cXHUxOUFCXFx1MTlCMC1cXHUxOUM5XFx1MTlEMC1cXHUxOURBXFx1MUEwMC1cXHUxQTFCXFx1MUEyMC1cXHUxQTVFXFx1MUE2MC1cXHUxQTdDXFx1MUE3Ri1cXHUxQTg5XFx1MUE5MC1cXHUxQTk5XFx1MUFBN1xcdTFBQjAtXFx1MUFCRFxcdTFCMDAtXFx1MUI0QlxcdTFCNTAtXFx1MUI1OVxcdTFCNkItXFx1MUI3M1xcdTFCODAtXFx1MUJGM1xcdTFDMDAtXFx1MUMzN1xcdTFDNDAtXFx1MUM0OVxcdTFDNEQtXFx1MUM3RFxcdTFDODAtXFx1MUM4OFxcdTFDRDAtXFx1MUNEMlxcdTFDRDQtXFx1MUNGNlxcdTFDRjhcXHUxQ0Y5XFx1MUQwMC1cXHUxREY1XFx1MURGQi1cXHUxRjE1XFx1MUYxOC1cXHUxRjFEXFx1MUYyMC1cXHUxRjQ1XFx1MUY0OC1cXHUxRjREXFx1MUY1MC1cXHUxRjU3XFx1MUY1OVxcdTFGNUJcXHUxRjVEXFx1MUY1Ri1cXHUxRjdEXFx1MUY4MC1cXHUxRkI0XFx1MUZCNi1cXHUxRkJDXFx1MUZCRVxcdTFGQzItXFx1MUZDNFxcdTFGQzYtXFx1MUZDQ1xcdTFGRDAtXFx1MUZEM1xcdTFGRDYtXFx1MUZEQlxcdTFGRTAtXFx1MUZFQ1xcdTFGRjItXFx1MUZGNFxcdTFGRjYtXFx1MUZGQ1xcdTIwMENcXHUyMDBEXFx1MjAzRlxcdTIwNDBcXHUyMDU0XFx1MjA3MVxcdTIwN0ZcXHUyMDkwLVxcdTIwOUNcXHUyMEQwLVxcdTIwRENcXHUyMEUxXFx1MjBFNS1cXHUyMEYwXFx1MjEwMlxcdTIxMDdcXHUyMTBBLVxcdTIxMTNcXHUyMTE1XFx1MjExOC1cXHUyMTFEXFx1MjEyNFxcdTIxMjZcXHUyMTI4XFx1MjEyQS1cXHUyMTM5XFx1MjEzQy1cXHUyMTNGXFx1MjE0NS1cXHUyMTQ5XFx1MjE0RVxcdTIxNjAtXFx1MjE4OFxcdTJDMDAtXFx1MkMyRVxcdTJDMzAtXFx1MkM1RVxcdTJDNjAtXFx1MkNFNFxcdTJDRUItXFx1MkNGM1xcdTJEMDAtXFx1MkQyNVxcdTJEMjdcXHUyRDJEXFx1MkQzMC1cXHUyRDY3XFx1MkQ2RlxcdTJEN0YtXFx1MkQ5NlxcdTJEQTAtXFx1MkRBNlxcdTJEQTgtXFx1MkRBRVxcdTJEQjAtXFx1MkRCNlxcdTJEQjgtXFx1MkRCRVxcdTJEQzAtXFx1MkRDNlxcdTJEQzgtXFx1MkRDRVxcdTJERDAtXFx1MkRENlxcdTJERDgtXFx1MkRERVxcdTJERTAtXFx1MkRGRlxcdTMwMDUtXFx1MzAwN1xcdTMwMjEtXFx1MzAyRlxcdTMwMzEtXFx1MzAzNVxcdTMwMzgtXFx1MzAzQ1xcdTMwNDEtXFx1MzA5NlxcdTMwOTktXFx1MzA5RlxcdTMwQTEtXFx1MzBGQVxcdTMwRkMtXFx1MzBGRlxcdTMxMDUtXFx1MzEyRFxcdTMxMzEtXFx1MzE4RVxcdTMxQTAtXFx1MzFCQVxcdTMxRjAtXFx1MzFGRlxcdTM0MDAtXFx1NERCNVxcdTRFMDAtXFx1OUZENVxcdUEwMDAtXFx1QTQ4Q1xcdUE0RDAtXFx1QTRGRFxcdUE1MDAtXFx1QTYwQ1xcdUE2MTAtXFx1QTYyQlxcdUE2NDAtXFx1QTY2RlxcdUE2NzQtXFx1QTY3RFxcdUE2N0YtXFx1QTZGMVxcdUE3MTctXFx1QTcxRlxcdUE3MjItXFx1QTc4OFxcdUE3OEItXFx1QTdBRVxcdUE3QjAtXFx1QTdCN1xcdUE3RjctXFx1QTgyN1xcdUE4NDAtXFx1QTg3M1xcdUE4ODAtXFx1QThDNVxcdUE4RDAtXFx1QThEOVxcdUE4RTAtXFx1QThGN1xcdUE4RkJcXHVBOEZEXFx1QTkwMC1cXHVBOTJEXFx1QTkzMC1cXHVBOTUzXFx1QTk2MC1cXHVBOTdDXFx1QTk4MC1cXHVBOUMwXFx1QTlDRi1cXHVBOUQ5XFx1QTlFMC1cXHVBOUZFXFx1QUEwMC1cXHVBQTM2XFx1QUE0MC1cXHVBQTREXFx1QUE1MC1cXHVBQTU5XFx1QUE2MC1cXHVBQTc2XFx1QUE3QS1cXHVBQUMyXFx1QUFEQi1cXHVBQUREXFx1QUFFMC1cXHVBQUVGXFx1QUFGMi1cXHVBQUY2XFx1QUIwMS1cXHVBQjA2XFx1QUIwOS1cXHVBQjBFXFx1QUIxMS1cXHVBQjE2XFx1QUIyMC1cXHVBQjI2XFx1QUIyOC1cXHVBQjJFXFx1QUIzMC1cXHVBQjVBXFx1QUI1Qy1cXHVBQjY1XFx1QUI3MC1cXHVBQkVBXFx1QUJFQ1xcdUFCRURcXHVBQkYwLVxcdUFCRjlcXHVBQzAwLVxcdUQ3QTNcXHVEN0IwLVxcdUQ3QzZcXHVEN0NCLVxcdUQ3RkJcXHVGOTAwLVxcdUZBNkRcXHVGQTcwLVxcdUZBRDlcXHVGQjAwLVxcdUZCMDZcXHVGQjEzLVxcdUZCMTdcXHVGQjFELVxcdUZCMjhcXHVGQjJBLVxcdUZCMzZcXHVGQjM4LVxcdUZCM0NcXHVGQjNFXFx1RkI0MFxcdUZCNDFcXHVGQjQzXFx1RkI0NFxcdUZCNDYtXFx1RkJCMVxcdUZCRDMtXFx1RkQzRFxcdUZENTAtXFx1RkQ4RlxcdUZEOTItXFx1RkRDN1xcdUZERjAtXFx1RkRGQlxcdUZFMDAtXFx1RkUwRlxcdUZFMjAtXFx1RkUyRlxcdUZFMzNcXHVGRTM0XFx1RkU0RC1cXHVGRTRGXFx1RkU3MC1cXHVGRTc0XFx1RkU3Ni1cXHVGRUZDXFx1RkYxMC1cXHVGRjE5XFx1RkYyMS1cXHVGRjNBXFx1RkYzRlxcdUZGNDEtXFx1RkY1QVxcdUZGNjYtXFx1RkZCRVxcdUZGQzItXFx1RkZDN1xcdUZGQ0EtXFx1RkZDRlxcdUZGRDItXFx1RkZEN1xcdUZGREEtXFx1RkZEQ118XFx1RDgwMFtcXHVEQzAwLVxcdURDMEJcXHVEQzBELVxcdURDMjZcXHVEQzI4LVxcdURDM0FcXHVEQzNDXFx1REMzRFxcdURDM0YtXFx1REM0RFxcdURDNTAtXFx1REM1RFxcdURDODAtXFx1RENGQVxcdURENDAtXFx1REQ3NFxcdURERkRcXHVERTgwLVxcdURFOUNcXHVERUEwLVxcdURFRDBcXHVERUUwXFx1REYwMC1cXHVERjFGXFx1REYzMC1cXHVERjRBXFx1REY1MC1cXHVERjdBXFx1REY4MC1cXHVERjlEXFx1REZBMC1cXHVERkMzXFx1REZDOC1cXHVERkNGXFx1REZEMS1cXHVERkQ1XXxcXHVEODAxW1xcdURDMDAtXFx1REM5RFxcdURDQTAtXFx1RENBOVxcdURDQjAtXFx1RENEM1xcdURDRDgtXFx1RENGQlxcdUREMDAtXFx1REQyN1xcdUREMzAtXFx1REQ2M1xcdURFMDAtXFx1REYzNlxcdURGNDAtXFx1REY1NVxcdURGNjAtXFx1REY2N118XFx1RDgwMltcXHVEQzAwLVxcdURDMDVcXHVEQzA4XFx1REMwQS1cXHVEQzM1XFx1REMzN1xcdURDMzhcXHVEQzNDXFx1REMzRi1cXHVEQzU1XFx1REM2MC1cXHVEQzc2XFx1REM4MC1cXHVEQzlFXFx1RENFMC1cXHVEQ0YyXFx1RENGNFxcdURDRjVcXHVERDAwLVxcdUREMTVcXHVERDIwLVxcdUREMzlcXHVERDgwLVxcdUREQjdcXHVEREJFXFx1RERCRlxcdURFMDAtXFx1REUwM1xcdURFMDVcXHVERTA2XFx1REUwQy1cXHVERTEzXFx1REUxNS1cXHVERTE3XFx1REUxOS1cXHVERTMzXFx1REUzOC1cXHVERTNBXFx1REUzRlxcdURFNjAtXFx1REU3Q1xcdURFODAtXFx1REU5Q1xcdURFQzAtXFx1REVDN1xcdURFQzktXFx1REVFNlxcdURGMDAtXFx1REYzNVxcdURGNDAtXFx1REY1NVxcdURGNjAtXFx1REY3MlxcdURGODAtXFx1REY5MV18XFx1RDgwM1tcXHVEQzAwLVxcdURDNDhcXHVEQzgwLVxcdURDQjJcXHVEQ0MwLVxcdURDRjJdfFxcdUQ4MDRbXFx1REMwMC1cXHVEQzQ2XFx1REM2Ni1cXHVEQzZGXFx1REM3Ri1cXHVEQ0JBXFx1RENEMC1cXHVEQ0U4XFx1RENGMC1cXHVEQ0Y5XFx1REQwMC1cXHVERDM0XFx1REQzNi1cXHVERDNGXFx1REQ1MC1cXHVERDczXFx1REQ3NlxcdUREODAtXFx1RERDNFxcdUREQ0EtXFx1RERDQ1xcdURERDAtXFx1REREQVxcdURERENcXHVERTAwLVxcdURFMTFcXHVERTEzLVxcdURFMzdcXHVERTNFXFx1REU4MC1cXHVERTg2XFx1REU4OFxcdURFOEEtXFx1REU4RFxcdURFOEYtXFx1REU5RFxcdURFOUYtXFx1REVBOFxcdURFQjAtXFx1REVFQVxcdURFRjAtXFx1REVGOVxcdURGMDAtXFx1REYwM1xcdURGMDUtXFx1REYwQ1xcdURGMEZcXHVERjEwXFx1REYxMy1cXHVERjI4XFx1REYyQS1cXHVERjMwXFx1REYzMlxcdURGMzNcXHVERjM1LVxcdURGMzlcXHVERjNDLVxcdURGNDRcXHVERjQ3XFx1REY0OFxcdURGNEItXFx1REY0RFxcdURGNTBcXHVERjU3XFx1REY1RC1cXHVERjYzXFx1REY2Ni1cXHVERjZDXFx1REY3MC1cXHVERjc0XXxcXHVEODA1W1xcdURDMDAtXFx1REM0QVxcdURDNTAtXFx1REM1OVxcdURDODAtXFx1RENDNVxcdURDQzdcXHVEQ0QwLVxcdURDRDlcXHVERDgwLVxcdUREQjVcXHVEREI4LVxcdUREQzBcXHVEREQ4LVxcdURERERcXHVERTAwLVxcdURFNDBcXHVERTQ0XFx1REU1MC1cXHVERTU5XFx1REU4MC1cXHVERUI3XFx1REVDMC1cXHVERUM5XFx1REYwMC1cXHVERjE5XFx1REYxRC1cXHVERjJCXFx1REYzMC1cXHVERjM5XXxcXHVEODA2W1xcdURDQTAtXFx1RENFOVxcdURDRkZcXHVERUMwLVxcdURFRjhdfFxcdUQ4MDdbXFx1REMwMC1cXHVEQzA4XFx1REMwQS1cXHVEQzM2XFx1REMzOC1cXHVEQzQwXFx1REM1MC1cXHVEQzU5XFx1REM3Mi1cXHVEQzhGXFx1REM5Mi1cXHVEQ0E3XFx1RENBOS1cXHVEQ0I2XXxcXHVEODA4W1xcdURDMDAtXFx1REY5OV18XFx1RDgwOVtcXHVEQzAwLVxcdURDNkVcXHVEQzgwLVxcdURENDNdfFtcXHVEODBDXFx1RDgxQy1cXHVEODIwXFx1RDg0MC1cXHVEODY4XFx1RDg2QS1cXHVEODZDXFx1RDg2Ri1cXHVEODcyXVtcXHVEQzAwLVxcdURGRkZdfFxcdUQ4MERbXFx1REMwMC1cXHVEQzJFXXxcXHVEODExW1xcdURDMDAtXFx1REU0Nl18XFx1RDgxQVtcXHVEQzAwLVxcdURFMzhcXHVERTQwLVxcdURFNUVcXHVERTYwLVxcdURFNjlcXHVERUQwLVxcdURFRURcXHVERUYwLVxcdURFRjRcXHVERjAwLVxcdURGMzZcXHVERjQwLVxcdURGNDNcXHVERjUwLVxcdURGNTlcXHVERjYzLVxcdURGNzdcXHVERjdELVxcdURGOEZdfFxcdUQ4MUJbXFx1REYwMC1cXHVERjQ0XFx1REY1MC1cXHVERjdFXFx1REY4Ri1cXHVERjlGXFx1REZFMF18XFx1RDgyMVtcXHVEQzAwLVxcdURGRUNdfFxcdUQ4MjJbXFx1REMwMC1cXHVERUYyXXxcXHVEODJDW1xcdURDMDBcXHVEQzAxXXxcXHVEODJGW1xcdURDMDAtXFx1REM2QVxcdURDNzAtXFx1REM3Q1xcdURDODAtXFx1REM4OFxcdURDOTAtXFx1REM5OVxcdURDOURcXHVEQzlFXXxcXHVEODM0W1xcdURENjUtXFx1REQ2OVxcdURENkQtXFx1REQ3MlxcdUREN0ItXFx1REQ4MlxcdUREODUtXFx1REQ4QlxcdUREQUEtXFx1RERBRFxcdURFNDItXFx1REU0NF18XFx1RDgzNVtcXHVEQzAwLVxcdURDNTRcXHVEQzU2LVxcdURDOUNcXHVEQzlFXFx1REM5RlxcdURDQTJcXHVEQ0E1XFx1RENBNlxcdURDQTktXFx1RENBQ1xcdURDQUUtXFx1RENCOVxcdURDQkJcXHVEQ0JELVxcdURDQzNcXHVEQ0M1LVxcdUREMDVcXHVERDA3LVxcdUREMEFcXHVERDBELVxcdUREMTRcXHVERDE2LVxcdUREMUNcXHVERDFFLVxcdUREMzlcXHVERDNCLVxcdUREM0VcXHVERDQwLVxcdURENDRcXHVERDQ2XFx1REQ0QS1cXHVERDUwXFx1REQ1Mi1cXHVERUE1XFx1REVBOC1cXHVERUMwXFx1REVDMi1cXHVERURBXFx1REVEQy1cXHVERUZBXFx1REVGQy1cXHVERjE0XFx1REYxNi1cXHVERjM0XFx1REYzNi1cXHVERjRFXFx1REY1MC1cXHVERjZFXFx1REY3MC1cXHVERjg4XFx1REY4QS1cXHVERkE4XFx1REZBQS1cXHVERkMyXFx1REZDNC1cXHVERkNCXFx1REZDRS1cXHVERkZGXXxcXHVEODM2W1xcdURFMDAtXFx1REUzNlxcdURFM0ItXFx1REU2Q1xcdURFNzVcXHVERTg0XFx1REU5Qi1cXHVERTlGXFx1REVBMS1cXHVERUFGXXxcXHVEODM4W1xcdURDMDAtXFx1REMwNlxcdURDMDgtXFx1REMxOFxcdURDMUItXFx1REMyMVxcdURDMjNcXHVEQzI0XFx1REMyNi1cXHVEQzJBXXxcXHVEODNBW1xcdURDMDAtXFx1RENDNFxcdURDRDAtXFx1RENENlxcdUREMDAtXFx1REQ0QVxcdURENTAtXFx1REQ1OV18XFx1RDgzQltcXHVERTAwLVxcdURFMDNcXHVERTA1LVxcdURFMUZcXHVERTIxXFx1REUyMlxcdURFMjRcXHVERTI3XFx1REUyOS1cXHVERTMyXFx1REUzNC1cXHVERTM3XFx1REUzOVxcdURFM0JcXHVERTQyXFx1REU0N1xcdURFNDlcXHVERTRCXFx1REU0RC1cXHVERTRGXFx1REU1MVxcdURFNTJcXHVERTU0XFx1REU1N1xcdURFNTlcXHVERTVCXFx1REU1RFxcdURFNUZcXHVERTYxXFx1REU2MlxcdURFNjRcXHVERTY3LVxcdURFNkFcXHVERTZDLVxcdURFNzJcXHVERTc0LVxcdURFNzdcXHVERTc5LVxcdURFN0NcXHVERTdFXFx1REU4MC1cXHVERTg5XFx1REU4Qi1cXHVERTlCXFx1REVBMS1cXHVERUEzXFx1REVBNS1cXHVERUE5XFx1REVBQi1cXHVERUJCXXxcXHVEODY5W1xcdURDMDAtXFx1REVENlxcdURGMDAtXFx1REZGRl18XFx1RDg2RFtcXHVEQzAwLVxcdURGMzRcXHVERjQwLVxcdURGRkZdfFxcdUQ4NkVbXFx1REMwMC1cXHVEQzFEXFx1REMyMC1cXHVERkZGXXxcXHVEODczW1xcdURDMDAtXFx1REVBMV18XFx1RDg3RVtcXHVEQzAwLVxcdURFMURdfFxcdURCNDBbXFx1REQwMC1cXHVEREVGXSkqJC8pO1xuXG4vKioqLyB9KSxcbi8qIDQ0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciByZWR1Y2UgPSBBcnJheS5wcm90b3R5cGUucmVkdWNlO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpdGVyYWxzIC8qLCDigKZzdWJzdGl0dXRpb25zKi8pIHtcblx0XHR2YXIgYXJncyA9IGFyZ3VtZW50cztcblx0XHRyZXR1cm4gcmVkdWNlLmNhbGwobGl0ZXJhbHMsIGZ1bmN0aW9uIChhLCBiLCBpKSB7XG5cdFx0XHRyZXR1cm4gYSArIChhcmdzW2ldID09PSB1bmRlZmluZWQgPyAnJyA6IFN0cmluZyhhcmdzW2ldKSkgKyBiO1xuXHRcdH0pO1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDQ1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdC8qIGdsb2JhbCBBRlJBTUUgVEhSRUUgKi9cblxuXHRpZiAodHlwZW9mIEFGUkFNRSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0ICB0aHJvdyBuZXcgRXJyb3IoJ0NvbXBvbmVudCBhdHRlbXB0ZWQgdG8gcmVnaXN0ZXIgYmVmb3JlIEFGUkFNRSB3YXMgYXZhaWxhYmxlLicpO1xuXHR9XG5cblx0dmFyIGRlZ1RvUmFkID0gVEhSRUUuTWF0aC5kZWdUb1JhZDtcblx0dmFyIGFsbW9zdEVxdWFsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nik7XG5cdC8qKlxyXG5cdCAqIExpbmVhciBJbnRlcnBvbGF0aW9uIGNvbXBvbmVudCBmb3IgQS1GcmFtZS5cclxuXHQgKi9cblx0QUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCdsZXJwJywge1xuXHQgIHNjaGVtYToge1xuXHQgICAgcHJvcGVydGllczogeyBkZWZhdWx0OiBbJ3Bvc2l0aW9uJywgJ3JvdGF0aW9uJywgJ3NjYWxlJ10gfVxuXHQgIH0sXG5cblx0ICAvKipcclxuXHQgICAqIENhbGxlZCBvbmNlIHdoZW4gY29tcG9uZW50IGlzIGF0dGFjaGVkLiBHZW5lcmFsbHkgZm9yIGluaXRpYWwgc2V0dXAuXHJcblx0ICAgKi9cblx0ICBpbml0OiBmdW5jdGlvbiBpbml0KCkge1xuXHQgICAgdmFyIGVsID0gdGhpcy5lbDtcblx0ICAgIHRoaXMubGFzdFBvc2l0aW9uID0gZWwuZ2V0QXR0cmlidXRlKCdwb3NpdGlvbicpO1xuXHQgICAgdGhpcy5sYXN0Um90YXRpb24gPSBlbC5nZXRBdHRyaWJ1dGUoJ3JvdGF0aW9uJyk7XG5cdCAgICB0aGlzLmxhc3RTY2FsZSA9IGVsLmdldEF0dHJpYnV0ZSgnc2NhbGUnKTtcblxuXHQgICAgdGhpcy5sZXJwaW5nUG9zaXRpb24gPSBmYWxzZTtcblx0ICAgIHRoaXMubGVycGluZ1JvdGF0aW9uID0gZmFsc2U7XG5cdCAgICB0aGlzLmxlcnBpbmdTY2FsZSA9IGZhbHNlO1xuXG5cdCAgICB0aGlzLnRpbWVPZkxhc3RVcGRhdGUgPSAwO1xuXHQgIH0sXG5cblx0ICAvKipcclxuXHQgICAqIENhbGxlZCBvbiBlYWNoIHNjZW5lIHRpY2suXHJcblx0ICAgKi9cblx0ICB0aWNrOiBmdW5jdGlvbiB0aWNrKHRpbWUsIGRlbHRhVGltZSkge1xuXHQgICAgdmFyIHByb2dyZXNzO1xuXHQgICAgdmFyIG5vdyA9IHRoaXMubm93KCk7XG5cdCAgICB2YXIgb2JqM2QgPSB0aGlzLmVsLm9iamVjdDNEO1xuXG5cdCAgICB0aGlzLmNoZWNrRm9yQ29tcG9uZW50Q2hhbmdlZCgpO1xuXG5cdCAgICAvLyBMZXJwIHBvc2l0aW9uXG5cdCAgICBpZiAodGhpcy5sZXJwaW5nUG9zaXRpb24pIHtcblx0ICAgICAgcHJvZ3Jlc3MgPSAobm93IC0gdGhpcy5zdGFydExlcnBUaW1lUG9zaXRpb24pIC8gdGhpcy5kdXJhdGlvbjtcblx0ICAgICAgb2JqM2QucG9zaXRpb24ubGVycFZlY3RvcnModGhpcy5zdGFydFBvc2l0aW9uLCB0aGlzLnRhcmdldFBvc2l0aW9uLCBwcm9ncmVzcyk7XG5cdCAgICAgIC8vIGNvbnNvbGUubG9nKFwibmV3IHBvc2l0aW9uXCIsIG9iajNkLnBvc2l0aW9uKTtcblx0ICAgICAgaWYgKHByb2dyZXNzID49IDEpIHtcblx0ICAgICAgICB0aGlzLmxlcnBpbmdQb3NpdGlvbiA9IGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIC8vIFNsZXJwIHJvdGF0aW9uXG5cdCAgICBpZiAodGhpcy5sZXJwaW5nUm90YXRpb24pIHtcblx0ICAgICAgcHJvZ3Jlc3MgPSAobm93IC0gdGhpcy5zdGFydExlcnBUaW1lUm90YXRpb24pIC8gdGhpcy5kdXJhdGlvbjtcblx0ICAgICAgVEhSRUUuUXVhdGVybmlvbi5zbGVycCh0aGlzLnN0YXJ0Um90YXRpb24sIHRoaXMudGFyZ2V0Um90YXRpb24sIG9iajNkLnF1YXRlcm5pb24sIHByb2dyZXNzKTtcblx0ICAgICAgaWYgKHByb2dyZXNzID49IDEpIHtcblx0ICAgICAgICB0aGlzLmxlcnBpbmdSb3RhdGlvbiA9IGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIC8vIExlcnAgc2NhbGVcblx0ICAgIGlmICh0aGlzLmxlcnBpbmdTY2FsZSkge1xuXHQgICAgICBwcm9ncmVzcyA9IChub3cgLSB0aGlzLnN0YXJ0TGVycFRpbWVTY2FsZSkgLyB0aGlzLmR1cmF0aW9uO1xuXHQgICAgICBvYmozZC5zY2FsZS5sZXJwVmVjdG9ycyh0aGlzLnN0YXJ0U2NhbGUsIHRoaXMudGFyZ2V0U2NhbGUsIHByb2dyZXNzKTtcblx0ICAgICAgaWYgKHByb2dyZXNzID49IDEpIHtcblx0ICAgICAgICB0aGlzLmxlcnBpbmdTY2FsZSA9IGZhbHNlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIGNoZWNrRm9yQ29tcG9uZW50Q2hhbmdlZDogZnVuY3Rpb24gY2hlY2tGb3JDb21wb25lbnRDaGFuZ2VkKCkge1xuXHQgICAgdmFyIGVsID0gdGhpcy5lbDtcblxuXHQgICAgdmFyIGhhc0NoYW5nZWQgPSBmYWxzZTtcblxuXHQgICAgdmFyIG5ld1Bvc2l0aW9uID0gZWwuZ2V0QXR0cmlidXRlKCdwb3NpdGlvbicpO1xuXHQgICAgaWYgKHRoaXMuaXNMZXJwYWJsZSgncG9zaXRpb24nKSAmJiAhdGhpcy5hbG1vc3RFcXVhbFZlYzModGhpcy5sYXN0UG9zaXRpb24sIG5ld1Bvc2l0aW9uKSkge1xuXHQgICAgICB0aGlzLnRvUG9zaXRpb24odGhpcy5sYXN0UG9zaXRpb24sIG5ld1Bvc2l0aW9uKTtcblx0ICAgICAgdGhpcy5sYXN0UG9zaXRpb24gPSBuZXdQb3NpdGlvbjtcblx0ICAgICAgaGFzQ2hhbmdlZCA9IHRydWU7XG5cdCAgICB9XG5cblx0ICAgIHZhciBuZXdSb3RhdGlvbiA9IGVsLmdldEF0dHJpYnV0ZSgncm90YXRpb24nKTtcblx0ICAgIGlmICh0aGlzLmlzTGVycGFibGUoJ3JvdGF0aW9uJykgJiYgIXRoaXMuYWxtb3N0RXF1YWxWZWMzKHRoaXMubGFzdFJvdGF0aW9uLCBuZXdSb3RhdGlvbikpIHtcblx0ICAgICAgdGhpcy50b1JvdGF0aW9uKHRoaXMubGFzdFJvdGF0aW9uLCBuZXdSb3RhdGlvbik7XG5cdCAgICAgIHRoaXMubGFzdFJvdGF0aW9uID0gbmV3Um90YXRpb247XG5cdCAgICAgIGhhc0NoYW5nZWQgPSB0cnVlO1xuXHQgICAgfVxuXG5cdCAgICB2YXIgbmV3U2NhbGUgPSBlbC5nZXRBdHRyaWJ1dGUoJ3NjYWxlJyk7XG5cdCAgICBpZiAodGhpcy5pc0xlcnBhYmxlKCdzY2FsZScpICYmICF0aGlzLmFsbW9zdEVxdWFsVmVjMyh0aGlzLmxhc3RTY2FsZSwgbmV3U2NhbGUpKSB7XG5cdCAgICAgIHRoaXMudG9TY2FsZSh0aGlzLmxhc3RTY2FsZSwgbmV3U2NhbGUpO1xuXHQgICAgICB0aGlzLmxhc3RTY2FsZSA9IG5ld1NjYWxlO1xuXHQgICAgICBoYXNDaGFuZ2VkID0gdHJ1ZTtcblx0ICAgIH1cblxuXHQgICAgaWYgKGhhc0NoYW5nZWQpIHtcblx0ICAgICAgdGhpcy51cGRhdGVEdXJhdGlvbigpO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBpc0xlcnBhYmxlOiBmdW5jdGlvbiBpc0xlcnBhYmxlKG5hbWUpIHtcblx0ICAgIHJldHVybiB0aGlzLmRhdGEucHJvcGVydGllcy5pbmRleE9mKG5hbWUpICE9IC0xO1xuXHQgIH0sXG5cblx0ICB1cGRhdGVEdXJhdGlvbjogZnVuY3Rpb24gdXBkYXRlRHVyYXRpb24oKSB7XG5cdCAgICB2YXIgbm93ID0gdGhpcy5ub3coKTtcblx0ICAgIHRoaXMuZHVyYXRpb24gPSBub3cgLSB0aGlzLnRpbWVPZkxhc3RVcGRhdGU7XG5cdCAgICB0aGlzLnRpbWVPZkxhc3RVcGRhdGUgPSBub3c7XG5cdCAgfSxcblxuXHQgIC8qKlxyXG5cdCAgICogU3RhcnQgbGVycCB0byBwb3NpdGlvbiAodmVjMylcclxuXHQgICAqL1xuXHQgIHRvUG9zaXRpb246IGZ1bmN0aW9uIHRvUG9zaXRpb24oZnJvbSwgdG8pIHtcblx0ICAgIHRoaXMubGVycGluZ1Bvc2l0aW9uID0gdHJ1ZTtcblx0ICAgIHRoaXMuc3RhcnRMZXJwVGltZVBvc2l0aW9uID0gdGhpcy5ub3coKTtcblx0ICAgIHRoaXMuc3RhcnRQb3NpdGlvbiA9IG5ldyBUSFJFRS5WZWN0b3IzKGZyb20ueCwgZnJvbS55LCBmcm9tLnopO1xuXHQgICAgdGhpcy50YXJnZXRQb3NpdGlvbiA9IG5ldyBUSFJFRS5WZWN0b3IzKHRvLngsIHRvLnksIHRvLnopO1xuXHQgIH0sXG5cblx0ICAvKipcclxuXHQgICAqIFN0YXJ0IGxlcnAgdG8gZXVsZXIgcm90YXRpb24gKHZlYzMsJ1lYWicpXHJcblx0ICAgKi9cblx0ICB0b1JvdGF0aW9uOiBmdW5jdGlvbiB0b1JvdGF0aW9uKGZyb20sIHRvKSB7XG5cdCAgICB0aGlzLmxlcnBpbmdSb3RhdGlvbiA9IHRydWU7XG5cdCAgICB0aGlzLnN0YXJ0TGVycFRpbWVSb3RhdGlvbiA9IHRoaXMubm93KCk7XG5cdCAgICB0aGlzLnN0YXJ0Um90YXRpb24gPSBuZXcgVEhSRUUuUXVhdGVybmlvbigpO1xuXHQgICAgdGhpcy5zdGFydFJvdGF0aW9uLnNldEZyb21FdWxlcihuZXcgVEhSRUUuRXVsZXIoZGVnVG9SYWQoZnJvbS54KSwgZGVnVG9SYWQoZnJvbS55KSwgZGVnVG9SYWQoZnJvbS56KSwgJ1lYWicpKTtcblx0ICAgIHRoaXMudGFyZ2V0Um90YXRpb24gPSBuZXcgVEhSRUUuUXVhdGVybmlvbigpO1xuXHQgICAgdGhpcy50YXJnZXRSb3RhdGlvbi5zZXRGcm9tRXVsZXIobmV3IFRIUkVFLkV1bGVyKGRlZ1RvUmFkKHRvLngpLCBkZWdUb1JhZCh0by55KSwgZGVnVG9SYWQodG8ueiksICdZWFonKSk7XG5cdCAgfSxcblxuXHQgIC8qKlxyXG5cdCAgICogU3RhcnQgbGVycCB0byBzY2FsZSAodmVjMylcclxuXHQgICAqL1xuXHQgIHRvU2NhbGU6IGZ1bmN0aW9uIHRvU2NhbGUoZnJvbSwgdG8pIHtcblx0ICAgIHRoaXMubGVycGluZ1NjYWxlID0gdHJ1ZTtcblx0ICAgIHRoaXMuc3RhcnRMZXJwVGltZVNjYWxlID0gdGhpcy5ub3coKTtcblx0ICAgIHRoaXMuc3RhcnRTY2FsZSA9IG5ldyBUSFJFRS5WZWN0b3IzKGZyb20ueCwgZnJvbS55LCBmcm9tLnopO1xuXHQgICAgdGhpcy50YXJnZXRTY2FsZSA9IG5ldyBUSFJFRS5WZWN0b3IzKHRvLngsIHRvLnksIHRvLnopO1xuXHQgIH0sXG5cblx0ICBhbG1vc3RFcXVhbFZlYzM6IGZ1bmN0aW9uIGFsbW9zdEVxdWFsVmVjMyhhLCBiKSB7XG5cdCAgICByZXR1cm4gYWxtb3N0RXF1YWwoYS54LCBiLngpICYmIGFsbW9zdEVxdWFsKGEueSwgYi55KSAmJiBhbG1vc3RFcXVhbChhLnosIGIueik7XG5cdCAgfSxcblxuXHQgIC8qKlxyXG5cdCAgICogUmV0dXJucyB0aGUgY3VycmVudCB0aW1lIGluIG1pbGxpc2Vjb25kcyAobXMpXHJcblx0ICAgKi9cblx0ICBub3c6IGZ1bmN0aW9uIG5vdygpIHtcblx0ICAgIHJldHVybiBEYXRlLm5vdygpO1xuXHQgIH1cblx0fSk7XG5cbi8qKiovIH0pLFxuLyogNDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHR2YXIgYWJzID0gTWF0aC5hYnMsXG5cdCAgICBtaW4gPSBNYXRoLm1pbjtcblxuXHRmdW5jdGlvbiBhbG1vc3RFcXVhbChhLCBiLCBhYnNvbHV0ZUVycm9yLCByZWxhdGl2ZUVycm9yKSB7XG5cdCAgdmFyIGQgPSBhYnMoYSAtIGIpO1xuXG5cdCAgaWYgKGFic29sdXRlRXJyb3IgPT0gbnVsbCkgYWJzb2x1dGVFcnJvciA9IGFsbW9zdEVxdWFsLkRCTF9FUFNJTE9OO1xuXHQgIGlmIChyZWxhdGl2ZUVycm9yID09IG51bGwpIHJlbGF0aXZlRXJyb3IgPSBhYnNvbHV0ZUVycm9yO1xuXG5cdCAgaWYgKGQgPD0gYWJzb2x1dGVFcnJvcikge1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfVxuXHQgIGlmIChkIDw9IHJlbGF0aXZlRXJyb3IgKiBtaW4oYWJzKGEpLCBhYnMoYikpKSB7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9XG5cdCAgcmV0dXJuIGEgPT09IGI7XG5cdH1cblxuXHRhbG1vc3RFcXVhbC5GTFRfRVBTSUxPTiA9IDEuMTkyMDkyOTBlLTc7XG5cdGFsbW9zdEVxdWFsLkRCTF9FUFNJTE9OID0gMi4yMjA0NDYwNDkyNTAzMTMxZS0xNjtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGFsbW9zdEVxdWFsO1xuXG4vKioqLyB9KSxcbi8qIDQ3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBvcHRpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7XG5cdHZhciB1dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oNDkpO1xuXHR2YXIgTmFmTG9nZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MCk7XG5cdHZhciBTY2hlbWFzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1MSk7XG5cdHZhciBOZXR3b3JrRW50aXRpZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKTtcblx0dmFyIE5ldHdvcmtDb25uZWN0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1NCk7XG5cdHZhciBBZGFwdGVyRmFjdG9yeSA9IF9fd2VicGFja19yZXF1aXJlX18oNTUpO1xuXG5cdHZhciBuYWYgPSB7fTtcblx0bmFmLmFwcCA9ICcnO1xuXHRuYWYucm9vbSA9ICcnO1xuXHRuYWYuY2xpZW50SWQgPSAnJztcblx0bmFmLm9wdGlvbnMgPSBvcHRpb25zO1xuXHRuYWYudXRpbHMgPSB1dGlscztcblx0bmFmLmxvZyA9IG5ldyBOYWZMb2dnZXIoKTtcblx0bmFmLnNjaGVtYXMgPSBuZXcgU2NoZW1hcygpO1xuXHRuYWYudmVyc2lvbiA9IFwiMC41LjJcIjtcblxuXHRuYWYuYWRhcHRlcnMgPSBuZXcgQWRhcHRlckZhY3RvcnkoKTtcblx0dmFyIGVudGl0aWVzID0gbmV3IE5ldHdvcmtFbnRpdGllcygpO1xuXHR2YXIgY29ubmVjdGlvbiA9IG5ldyBOZXR3b3JrQ29ubmVjdGlvbihlbnRpdGllcyk7XG5cdG5hZi5jb25uZWN0aW9uID0gY29ubmVjdGlvbjtcblx0bmFmLmVudGl0aWVzID0gZW50aXRpZXM7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSB3aW5kb3cuTkFGID0gbmFmO1xuXG4vKioqLyB9KSxcbi8qIDQ4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0dmFyIG9wdGlvbnMgPSB7XG5cdCAgZGVidWc6IGZhbHNlLFxuXHQgIHVwZGF0ZVJhdGU6IDE1LCAvLyBIb3cgb2Z0ZW4gbmV0d29yayBjb21wb25lbnRzIGNhbGwgYHN5bmNgXG5cdCAgY29tcHJlc3NTeW5jUGFja2V0czogZmFsc2UsIC8vIGNvbXByZXNzIG5ldHdvcmsgY29tcG9uZW50IHN5bmMgcGFja2V0IGpzb25cblx0ICB1c2VMZXJwOiB0cnVlIC8vIHdoZW4gbmV0d29ya2VkIGVudGl0aWVzIGFyZSBjcmVhdGVkIHRoZSBhZnJhbWUtbGVycC1jb21wb25lbnQgaXMgYXR0YWNoZWQgdG8gdGhlIHJvb3Rcblx0fTtcblx0bW9kdWxlLmV4cG9ydHMgPSBvcHRpb25zO1xuXG4vKioqLyB9KSxcbi8qIDQ5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdG1vZHVsZS5leHBvcnRzLndoZW5FbnRpdHlMb2FkZWQgPSBmdW5jdGlvbiAoZW50aXR5LCBjYWxsYmFjaykge1xuXHQgIGlmIChlbnRpdHkuaGFzTG9hZGVkKSB7XG5cdCAgICBjYWxsYmFjaygpO1xuXHQgIH1cblx0ICBlbnRpdHkuYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVkJywgZnVuY3Rpb24gKCkge1xuXHQgICAgY2FsbGJhY2soKTtcblx0ICB9KTtcblx0fTtcblxuXHRtb2R1bGUuZXhwb3J0cy5jcmVhdGVIdG1sTm9kZUZyb21TdHJpbmcgPSBmdW5jdGlvbiAoc3RyKSB7XG5cdCAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHQgIGRpdi5pbm5lckhUTUwgPSBzdHI7XG5cdCAgdmFyIGNoaWxkID0gZGl2LmZpcnN0Q2hpbGQ7XG5cdCAgcmV0dXJuIGNoaWxkO1xuXHR9O1xuXG5cdG1vZHVsZS5leHBvcnRzLmdldE5ldHdvcmtPd25lciA9IGZ1bmN0aW9uIChlbCkge1xuXHQgIHZhciBjb21wb25lbnRzID0gZWwuY29tcG9uZW50cztcblx0ICBpZiAoY29tcG9uZW50cy5oYXNPd25Qcm9wZXJ0eSgnbmV0d29ya2VkJykpIHtcblx0ICAgIHJldHVybiBjb21wb25lbnRzWyduZXR3b3JrZWQnXS5kYXRhLm93bmVyO1xuXHQgIH1cblx0ICByZXR1cm4gbnVsbDtcblx0fTtcblxuXHRtb2R1bGUuZXhwb3J0cy5nZXROZXR3b3JrSWQgPSBmdW5jdGlvbiAoZWwpIHtcblx0ICB2YXIgY29tcG9uZW50cyA9IGVsLmNvbXBvbmVudHM7XG5cdCAgaWYgKGNvbXBvbmVudHMuaGFzT3duUHJvcGVydHkoJ25ldHdvcmtlZCcpKSB7XG5cdCAgICByZXR1cm4gY29tcG9uZW50c1snbmV0d29ya2VkJ10ubmV0d29ya0lkO1xuXHQgIH1cblx0ICByZXR1cm4gbnVsbDtcblx0fTtcblxuXHRtb2R1bGUuZXhwb3J0cy5ub3cgPSBmdW5jdGlvbiAoKSB7XG5cdCAgcmV0dXJuIERhdGUubm93KCk7XG5cdH07XG5cblx0bW9kdWxlLmV4cG9ydHMuY3JlYXRlTmV0d29ya0lkID0gZnVuY3Rpb24gKCkge1xuXHQgIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgOSk7XG5cdH07XG5cblx0bW9kdWxlLmV4cG9ydHMuZGVsaW1pdGVyID0gJy0tLSc7XG5cblx0bW9kdWxlLmV4cG9ydHMuY2hpbGRTY2hlbWFUb0tleSA9IGZ1bmN0aW9uIChzY2hlbWEpIHtcblx0ICB2YXIga2V5ID0gKHNjaGVtYS5zZWxlY3RvciB8fCAnJykgKyBtb2R1bGUuZXhwb3J0cy5kZWxpbWl0ZXIgKyAoc2NoZW1hLmNvbXBvbmVudCB8fCAnJykgKyBtb2R1bGUuZXhwb3J0cy5kZWxpbWl0ZXIgKyAoc2NoZW1hLnByb3BlcnR5IHx8ICcnKTtcblx0ICByZXR1cm4ga2V5O1xuXHR9O1xuXG5cdG1vZHVsZS5leHBvcnRzLmtleVRvQ2hpbGRTY2hlbWEgPSBmdW5jdGlvbiAoa2V5KSB7XG5cdCAgdmFyIHNwbGl0S2V5ID0ga2V5LnNwbGl0KG1vZHVsZS5leHBvcnRzLmRlbGltaXRlciwgMyk7XG5cdCAgcmV0dXJuIHsgc2VsZWN0b3I6IHNwbGl0S2V5WzBdIHx8IHVuZGVmaW5lZCwgY29tcG9uZW50OiBzcGxpdEtleVsxXSwgcHJvcGVydHk6IHNwbGl0S2V5WzJdIHx8IHVuZGVmaW5lZCB9O1xuXHR9O1xuXG5cdG1vZHVsZS5leHBvcnRzLmlzQ2hpbGRTY2hlbWFLZXkgPSBmdW5jdGlvbiAoa2V5KSB7XG5cdCAgcmV0dXJuIGtleS5pbmRleE9mKG1vZHVsZS5leHBvcnRzLmRlbGltaXRlcikgIT0gLTE7XG5cdH07XG5cblx0bW9kdWxlLmV4cG9ydHMuY2hpbGRTY2hlbWFFcXVhbCA9IGZ1bmN0aW9uIChhLCBiKSB7XG5cdCAgcmV0dXJuIGEuc2VsZWN0b3IgPT0gYi5zZWxlY3RvciAmJiBhLmNvbXBvbmVudCA9PSBiLmNvbXBvbmVudCAmJiBhLnByb3BlcnR5ID09IGIucHJvcGVydHk7XG5cdH07XG5cblx0LyoqXG5cdCAqIEZpbmQgdGhlIGNsb3Nlc3QgYW5jZXN0b3IgKGluY2x1ZGluZyB0aGUgcGFzc2VkIGluIGVudGl0eSkgdGhhdCBoYXMgYSBgbmV0d29ya2VkYCBjb21wb25lbnRcblx0ICogQHBhcmFtIHtBTm9kZX0gZW50aXR5IC0gRW50aXR5IHRvIGJlZ2luIHRoZSBzZWFyY2ggb25cblx0ICogQHJldHVybnMge0FOb2RlfSBBbiBlbnRpdHkgd2l0aCBhIGBuZXR3b3JrZWRgIGNvbXBvbmVudCBvciBudWxsXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXROZXR3b3JrZWRFbnRpdHkoZW50aXR5KSB7XG5cdCAgd2hpbGUgKGVudGl0eSAmJiAhKGVudGl0eS5jb21wb25lbnRzICYmIGVudGl0eS5jb21wb25lbnRzLm5ldHdvcmtlZCkpIHtcblx0ICAgIGVudGl0eSA9IGVudGl0eS5wYXJlbnROb2RlO1xuXHQgIH1cblx0ICByZXR1cm4gZW50aXR5O1xuXHR9O1xuXG5cdG1vZHVsZS5leHBvcnRzLmdldE5ldHdvcmtlZEVudGl0eSA9IGdldE5ldHdvcmtlZEVudGl0eTtcblxuXHRtb2R1bGUuZXhwb3J0cy50YWtlT3duZXJzaGlwID0gZnVuY3Rpb24gKGVudGl0eSkge1xuXHQgIHZhciBuZXR3b3JrZWRFbnRpdHkgPSBnZXROZXR3b3JrZWRFbnRpdHkoZW50aXR5KTtcblxuXHQgIGlmICghbmV0d29ya2VkRW50aXR5KSB7XG5cdCAgICByZXR1cm4gTkFGLmxvZy5lcnJvcihcInRha2VPd25lcnNoaXAoKSBtdXN0IGJlIGNhbGxlZCBvbiBhbiBlbnRpdHkgb3IgY2hpbGQgb2YgYW4gZW50aXR5IHdpdGggdGhlIFtuZXR3b3JrZWRdIGNvbXBvbmVudC5cIik7XG5cdCAgfVxuXG5cdCAgcmV0dXJuIG5ldHdvcmtlZEVudGl0eS5jb21wb25lbnRzWyduZXR3b3JrZWQnXS50YWtlT3duZXJzaGlwKCk7XG5cdH07XG5cblx0bW9kdWxlLmV4cG9ydHMuaXNNaW5lID0gZnVuY3Rpb24gKGVudGl0eSkge1xuXHQgIHJldHVybiBnZXROZXR3b3JrZWRFbnRpdHkoZW50aXR5KS5jb21wb25lbnRzWyduZXR3b3JrZWQnXS5pc01pbmUoKTtcblx0fTtcblxuLyoqKi8gfSksXG4vKiA1MCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuXHR2YXIgTmFmTG9nZ2VyID0gZnVuY3Rpb24gKCkge1xuXHQgIGZ1bmN0aW9uIE5hZkxvZ2dlcigpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBOYWZMb2dnZXIpO1xuXG5cdCAgICB0aGlzLmRlYnVnID0gZmFsc2U7XG5cdCAgfVxuXG5cdCAgX2NyZWF0ZUNsYXNzKE5hZkxvZ2dlciwgW3tcblx0ICAgIGtleTogXCJzZXREZWJ1Z1wiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldERlYnVnKGRlYnVnKSB7XG5cdCAgICAgIHRoaXMuZGVidWcgPSBkZWJ1Zztcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwid3JpdGVcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiB3cml0ZSgpIHtcblx0ICAgICAgaWYgKHRoaXMuZGVidWcpIHtcblx0ICAgICAgICBjb25zb2xlLmxvZy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcImVycm9yXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZXJyb3IoKSB7XG5cdCAgICAgIGNvbnNvbGUuZXJyb3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cblx0ICByZXR1cm4gTmFmTG9nZ2VyO1xuXHR9KCk7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBOYWZMb2dnZXI7XG5cbi8qKiovIH0pLFxuLyogNTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5cdHZhciBTY2hlbWFzID0gZnVuY3Rpb24gKCkge1xuXHQgIGZ1bmN0aW9uIFNjaGVtYXMoKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2NoZW1hcyk7XG5cblx0ICAgIHRoaXMuZGljdCA9IHt9O1xuXHQgIH1cblxuXHQgIF9jcmVhdGVDbGFzcyhTY2hlbWFzLCBbe1xuXHQgICAga2V5OiAnYWRkJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBhZGQoc2NoZW1hKSB7XG5cdCAgICAgIGlmICh0aGlzLnZhbGlkYXRlKHNjaGVtYSkpIHtcblx0ICAgICAgICB0aGlzLmRpY3Rbc2NoZW1hLnRlbXBsYXRlXSA9IHNjaGVtYTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBOQUYubG9nLmVycm9yKCdTY2hlbWEgbm90IHZhbGlkOiAnLCBzY2hlbWEpO1xuXHQgICAgICAgIE5BRi5sb2cuZXJyb3IoJ1NlZSBodHRwczovL2dpdGh1Yi5jb20vaGF5ZGVuamFtZXNsZWUvbmV0d29ya2VkLWFmcmFtZSNzeW5jaW5nLWN1c3RvbS1jb21wb25lbnRzJyk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdoYXNUZW1wbGF0ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaGFzVGVtcGxhdGUodGVtcGxhdGUpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuZGljdC5oYXNPd25Qcm9wZXJ0eSh0ZW1wbGF0ZSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0Q29tcG9uZW50cycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q29tcG9uZW50cyh0ZW1wbGF0ZSkge1xuXHQgICAgICB2YXIgY29tcG9uZW50cyA9IFsncG9zaXRpb24nLCAncm90YXRpb24nXTtcblx0ICAgICAgaWYgKHRoaXMuaGFzVGVtcGxhdGUodGVtcGxhdGUpKSB7XG5cdCAgICAgICAgY29tcG9uZW50cyA9IHRoaXMuZGljdFt0ZW1wbGF0ZV0uY29tcG9uZW50cztcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gY29tcG9uZW50cztcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICd2YWxpZGF0ZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gdmFsaWRhdGUoc2NoZW1hKSB7XG5cdCAgICAgIHJldHVybiBzY2hlbWEuaGFzT3duUHJvcGVydHkoJ3RlbXBsYXRlJykgJiYgc2NoZW1hLmhhc093blByb3BlcnR5KCdjb21wb25lbnRzJyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVtb3ZlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmUodGVtcGxhdGUpIHtcblx0ICAgICAgZGVsZXRlIHRoaXMuZGljdFt0ZW1wbGF0ZV07XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY2xlYXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyKCkge1xuXHQgICAgICB0aGlzLmRpY3QgPSB7fTtcblx0ICAgIH1cblx0ICB9XSk7XG5cblx0ICByZXR1cm4gU2NoZW1hcztcblx0fSgpO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gU2NoZW1hcztcblxuLyoqKi8gfSksXG4vKiA1MiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cblx0dmFyIENoaWxkRW50aXR5Q2FjaGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUzKTtcblxuXHR2YXIgTmV0d29ya0VudGl0aWVzID0gZnVuY3Rpb24gKCkge1xuXHQgIGZ1bmN0aW9uIE5ldHdvcmtFbnRpdGllcygpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBOZXR3b3JrRW50aXRpZXMpO1xuXG5cdCAgICB0aGlzLmVudGl0aWVzID0ge307XG5cdCAgICB0aGlzLmNoaWxkQ2FjaGUgPSBuZXcgQ2hpbGRFbnRpdHlDYWNoZSgpO1xuXG5cdCAgICB0aGlzLm9uUmVtb3RlRW50aXR5Q3JlYXRlZEV2ZW50ID0gbmV3IEV2ZW50KCdyZW1vdGVFbnRpdHlDcmVhdGVkJyk7XG5cdCAgfVxuXG5cdCAgX2NyZWF0ZUNsYXNzKE5ldHdvcmtFbnRpdGllcywgW3tcblx0ICAgIGtleTogJ3JlZ2lzdGVyRW50aXR5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZWdpc3RlckVudGl0eShuZXR3b3JrSWQsIGVudGl0eSkge1xuXHQgICAgICB0aGlzLmVudGl0aWVzW25ldHdvcmtJZF0gPSBlbnRpdHk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY3JlYXRlUmVtb3RlRW50aXR5Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVSZW1vdGVFbnRpdHkoZW50aXR5RGF0YSkge1xuXHQgICAgICBOQUYubG9nLndyaXRlKCdDcmVhdGluZyByZW1vdGUgZW50aXR5JywgZW50aXR5RGF0YSk7XG5cblx0ICAgICAgdmFyIG5ldHdvcmtJZCA9IGVudGl0eURhdGEubmV0d29ya0lkO1xuXG5cdCAgICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EtZW50aXR5Jyk7XG5cdCAgICAgIGVsLnNldEF0dHJpYnV0ZSgnaWQnLCAnbmFmLScgKyBuZXR3b3JrSWQpO1xuXG5cdCAgICAgIHRoaXMuaW5pdFBvc2l0aW9uKGVsLCBlbnRpdHlEYXRhLmNvbXBvbmVudHMpO1xuXHQgICAgICB0aGlzLmluaXRSb3RhdGlvbihlbCwgZW50aXR5RGF0YS5jb21wb25lbnRzKTtcblx0ICAgICAgdGhpcy5hZGROZXR3b3JrQ29tcG9uZW50KGVsLCBlbnRpdHlEYXRhKTtcblxuXHQgICAgICB0aGlzLnJlZ2lzdGVyRW50aXR5KG5ldHdvcmtJZCwgZWwpO1xuXG5cdCAgICAgIHJldHVybiBlbDtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdpbml0UG9zaXRpb24nLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRQb3NpdGlvbihlbnRpdHksIGNvbXBvbmVudERhdGEpIHtcblx0ICAgICAgdmFyIGhhc1Bvc2l0aW9uID0gY29tcG9uZW50RGF0YS5oYXNPd25Qcm9wZXJ0eSgncG9zaXRpb24nKTtcblx0ICAgICAgaWYgKGhhc1Bvc2l0aW9uKSB7XG5cdCAgICAgICAgdmFyIHBvc2l0aW9uID0gY29tcG9uZW50RGF0YS5wb3NpdGlvbjtcblx0ICAgICAgICBlbnRpdHkuc2V0QXR0cmlidXRlKCdwb3NpdGlvbicsIHBvc2l0aW9uKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2luaXRSb3RhdGlvbicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdFJvdGF0aW9uKGVudGl0eSwgY29tcG9uZW50RGF0YSkge1xuXHQgICAgICB2YXIgaGFzUm90YXRpb24gPSBjb21wb25lbnREYXRhLmhhc093blByb3BlcnR5KCdyb3RhdGlvbicpO1xuXHQgICAgICBpZiAoaGFzUm90YXRpb24pIHtcblx0ICAgICAgICB2YXIgcm90YXRpb24gPSBjb21wb25lbnREYXRhLnJvdGF0aW9uO1xuXHQgICAgICAgIGVudGl0eS5zZXRBdHRyaWJ1dGUoJ3JvdGF0aW9uJywgcm90YXRpb24pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnYWRkTmV0d29ya0NvbXBvbmVudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gYWRkTmV0d29ya0NvbXBvbmVudChlbnRpdHksIGVudGl0eURhdGEpIHtcblx0ICAgICAgdmFyIG5ldHdvcmtEYXRhID0ge1xuXHQgICAgICAgIHRlbXBsYXRlOiBlbnRpdHlEYXRhLnRlbXBsYXRlLFxuXHQgICAgICAgIG93bmVyOiBlbnRpdHlEYXRhLm93bmVyLFxuXHQgICAgICAgIG5ldHdvcmtJZDogZW50aXR5RGF0YS5uZXR3b3JrSWRcblx0ICAgICAgfTtcblxuXHQgICAgICBlbnRpdHkuc2V0QXR0cmlidXRlKCduZXR3b3JrZWQnLCBuZXR3b3JrRGF0YSk7XG5cdCAgICAgIGVudGl0eS5maXJzdFVwZGF0ZURhdGEgPSBlbnRpdHlEYXRhO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3VwZGF0ZUVudGl0eScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlRW50aXR5KGNsaWVudCwgZGF0YVR5cGUsIGVudGl0eURhdGEpIHtcblx0ICAgICAgdmFyIGlzQ29tcHJlc3NlZCA9IGVudGl0eURhdGFbMF0gPT0gMTtcblx0ICAgICAgdmFyIG5ldHdvcmtJZCA9IGlzQ29tcHJlc3NlZCA/IGVudGl0eURhdGFbMV0gOiBlbnRpdHlEYXRhLm5ldHdvcmtJZDtcblxuXHQgICAgICBpZiAodGhpcy5oYXNFbnRpdHkobmV0d29ya0lkKSkge1xuXHQgICAgICAgIHRoaXMuZW50aXRpZXNbbmV0d29ya0lkXS5lbWl0KCduZXR3b3JrVXBkYXRlJywgeyBlbnRpdHlEYXRhOiBlbnRpdHlEYXRhIH0sIGZhbHNlKTtcblx0ICAgICAgfSBlbHNlIGlmICghaXNDb21wcmVzc2VkICYmIHRoaXMuaXNGdWxsU3luYyhlbnRpdHlEYXRhKSkge1xuXHQgICAgICAgIHRoaXMucmVjZWl2ZUZpcnN0VXBkYXRlRnJvbUVudGl0eShlbnRpdHlEYXRhKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2lzRnVsbFN5bmMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGlzRnVsbFN5bmMoZW50aXR5RGF0YSkge1xuXHQgICAgICB2YXIgbnVtU2VudENvbXBzID0gT2JqZWN0LmtleXMoZW50aXR5RGF0YS5jb21wb25lbnRzKS5sZW5ndGg7XG5cdCAgICAgIHZhciBudW1UZW1wbGF0ZUNvbXBzID0gTkFGLnNjaGVtYXMuZ2V0Q29tcG9uZW50cyhlbnRpdHlEYXRhLnRlbXBsYXRlKS5sZW5ndGg7XG5cdCAgICAgIHJldHVybiBudW1TZW50Q29tcHMgPT09IG51bVRlbXBsYXRlQ29tcHM7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVjZWl2ZUZpcnN0VXBkYXRlRnJvbUVudGl0eScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVjZWl2ZUZpcnN0VXBkYXRlRnJvbUVudGl0eShlbnRpdHlEYXRhKSB7XG5cdCAgICAgIHZhciBwYXJlbnQgPSBlbnRpdHlEYXRhLnBhcmVudDtcblx0ICAgICAgdmFyIG5ldHdvcmtJZCA9IGVudGl0eURhdGEubmV0d29ya0lkO1xuXG5cdCAgICAgIHZhciBwYXJlbnROb3RDcmVhdGVkWWV0ID0gcGFyZW50ICYmICF0aGlzLmhhc0VudGl0eShwYXJlbnQpO1xuXHQgICAgICBpZiAocGFyZW50Tm90Q3JlYXRlZFlldCkge1xuXHQgICAgICAgIHRoaXMuY2hpbGRDYWNoZS5hZGRDaGlsZChwYXJlbnQsIGVudGl0eURhdGEpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhciByZW1vdGVFbnRpdHkgPSB0aGlzLmNyZWF0ZVJlbW90ZUVudGl0eShlbnRpdHlEYXRhKTtcblx0ICAgICAgICB0aGlzLmNyZWF0ZUFuZEFwcGVuZENoaWxkcmVuKG5ldHdvcmtJZCwgcmVtb3RlRW50aXR5KTtcblx0ICAgICAgICB0aGlzLmFkZEVudGl0eVRvUGFnZShyZW1vdGVFbnRpdHksIHBhcmVudCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjcmVhdGVBbmRBcHBlbmRDaGlsZHJlbicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlQW5kQXBwZW5kQ2hpbGRyZW4ocGFyZW50SWQsIHBhcmVudEVudGl0eSkge1xuXHQgICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLmNoaWxkQ2FjaGUuZ2V0Q2hpbGRyZW4ocGFyZW50SWQpO1xuXHQgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIGNoaWxkRW50aXR5RGF0YSA9IGNoaWxkcmVuW2ldO1xuXHQgICAgICAgIHZhciBjaGlsZElkID0gY2hpbGRFbnRpdHlEYXRhLm5ldHdvcmtJZDtcblx0ICAgICAgICBpZiAodGhpcy5oYXNFbnRpdHkoY2hpbGRJZCkpIHtcblx0ICAgICAgICAgIGNvbnNvbGUud2FybignVHJpZWQgdG8gaW5zdGFudGlhdGUgZW50aXR5IG11bHRpcGxlIHRpbWVzJywgY2hpbGRJZCwgY2hpbGRFbnRpdHlEYXRhLCAnRXhpc3RpbmcgZW50aXR5OicsIHRoaXMuZ2V0RW50aXR5KGNoaWxkSWQpKTtcblx0ICAgICAgICAgIGNvbnRpbnVlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgY2hpbGRFbnRpdHkgPSB0aGlzLmNyZWF0ZVJlbW90ZUVudGl0eShjaGlsZEVudGl0eURhdGEpO1xuXHQgICAgICAgIHRoaXMuY3JlYXRlQW5kQXBwZW5kQ2hpbGRyZW4oY2hpbGRJZCwgY2hpbGRFbnRpdHkpO1xuXHQgICAgICAgIHBhcmVudEVudGl0eS5hcHBlbmRDaGlsZChjaGlsZEVudGl0eSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdhZGRFbnRpdHlUb1BhZ2UnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEVudGl0eVRvUGFnZShlbnRpdHksIHBhcmVudElkKSB7XG5cdCAgICAgIGlmICh0aGlzLmhhc0VudGl0eShwYXJlbnRJZCkpIHtcblx0ICAgICAgICB0aGlzLmFkZEVudGl0eVRvUGFyZW50KGVudGl0eSwgcGFyZW50SWQpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMuYWRkRW50aXR5VG9TY2VuZVJvb3QoZW50aXR5KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2FkZEVudGl0eVRvUGFyZW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRFbnRpdHlUb1BhcmVudChlbnRpdHksIHBhcmVudElkKSB7XG5cdCAgICAgIHZhciBwYXJlbnRFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduYWYtJyArIHBhcmVudElkKTtcblx0ICAgICAgcGFyZW50RWwuYXBwZW5kQ2hpbGQoZW50aXR5KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdhZGRFbnRpdHlUb1NjZW5lUm9vdCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gYWRkRW50aXR5VG9TY2VuZVJvb3QoZWwpIHtcblx0ICAgICAgdmFyIHNjZW5lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYS1zY2VuZScpO1xuXHQgICAgICBzY2VuZS5hcHBlbmRDaGlsZChlbCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY29tcGxldGVTeW5jJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wbGV0ZVN5bmModGFyZ2V0Q2xpZW50SWQpIHtcblx0ICAgICAgZm9yICh2YXIgaWQgaW4gdGhpcy5lbnRpdGllcykge1xuXHQgICAgICAgIGlmICh0aGlzLmVudGl0aWVzLmhhc093blByb3BlcnR5KGlkKSkge1xuXHQgICAgICAgICAgdGhpcy5lbnRpdGllc1tpZF0uZW1pdCgnc3luY0FsbCcsIHsgdGFyZ2V0Q2xpZW50SWQ6IHRhcmdldENsaWVudElkIH0sIGZhbHNlKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdyZW1vdmVSZW1vdGVFbnRpdHknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZVJlbW90ZUVudGl0eSh0b0NsaWVudCwgZGF0YVR5cGUsIGRhdGEpIHtcblx0ICAgICAgdmFyIGlkID0gZGF0YS5uZXR3b3JrSWQ7XG5cdCAgICAgIHJldHVybiB0aGlzLnJlbW92ZUVudGl0eShpZCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVtb3ZlRW50aXRpZXNPZkNsaWVudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlRW50aXRpZXNPZkNsaWVudChjbGllbnRJZCkge1xuXHQgICAgICB2YXIgZW50aXR5TGlzdCA9IFtdO1xuXHQgICAgICBmb3IgKHZhciBpZCBpbiB0aGlzLmVudGl0aWVzKSB7XG5cdCAgICAgICAgdmFyIGVudGl0eU93bmVyID0gTkFGLnV0aWxzLmdldE5ldHdvcmtPd25lcih0aGlzLmVudGl0aWVzW2lkXSk7XG5cdCAgICAgICAgaWYgKGVudGl0eU93bmVyID09IGNsaWVudElkKSB7XG5cdCAgICAgICAgICB2YXIgZW50aXR5ID0gdGhpcy5yZW1vdmVFbnRpdHkoaWQpO1xuXHQgICAgICAgICAgZW50aXR5TGlzdC5wdXNoKGVudGl0eSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiBlbnRpdHlMaXN0O1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3JlbW92ZUVudGl0eScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlRW50aXR5KGlkKSB7XG5cdCAgICAgIGlmICh0aGlzLmhhc0VudGl0eShpZCkpIHtcblx0ICAgICAgICB2YXIgZW50aXR5ID0gdGhpcy5lbnRpdGllc1tpZF07XG5cdCAgICAgICAgZGVsZXRlIHRoaXMuZW50aXRpZXNbaWRdO1xuXHQgICAgICAgIGVudGl0eS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVudGl0eSk7XG5cdCAgICAgICAgcmV0dXJuIGVudGl0eTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldEVudGl0eScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RW50aXR5KGlkKSB7XG5cdCAgICAgIGlmICh0aGlzLmVudGl0aWVzLmhhc093blByb3BlcnR5KGlkKSkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmVudGl0aWVzW2lkXTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdoYXNFbnRpdHknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGhhc0VudGl0eShpZCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5lbnRpdGllcy5oYXNPd25Qcm9wZXJ0eShpZCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncmVtb3ZlUmVtb3RlRW50aXRpZXMnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZVJlbW90ZUVudGl0aWVzKCkge1xuXHQgICAgICB0aGlzLmNoaWxkQ2FjaGUgPSBuZXcgQ2hpbGRFbnRpdHlDYWNoZSgpO1xuXG5cdCAgICAgIGZvciAodmFyIGlkIGluIHRoaXMuZW50aXRpZXMpIHtcblx0ICAgICAgICB2YXIgb3duZXIgPSB0aGlzLmVudGl0aWVzW2lkXS5nZXRBdHRyaWJ1dGUoJ25ldHdvcmtlZCcpLm93bmVyO1xuXHQgICAgICAgIGlmIChvd25lciAhPSBOQUYuY2xpZW50SWQpIHtcblx0ICAgICAgICAgIHRoaXMucmVtb3ZlRW50aXR5KGlkKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XSk7XG5cblx0ICByZXR1cm4gTmV0d29ya0VudGl0aWVzO1xuXHR9KCk7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBOZXR3b3JrRW50aXRpZXM7XG5cbi8qKiovIH0pLFxuLyogNTMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cblx0dmFyIENoaWxkRW50aXR5Q2FjaGUgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gQ2hpbGRFbnRpdHlDYWNoZSgpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDaGlsZEVudGl0eUNhY2hlKTtcblxuXHQgICAgdGhpcy5kaWN0ID0ge307XG5cdCAgfVxuXG5cdCAgX2NyZWF0ZUNsYXNzKENoaWxkRW50aXR5Q2FjaGUsIFt7XG5cdCAgICBrZXk6IFwiYWRkQ2hpbGRcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRDaGlsZChwYXJlbnROZXR3b3JrSWQsIGNoaWxkRGF0YSkge1xuXHQgICAgICBpZiAoIXRoaXMuaGFzUGFyZW50KHBhcmVudE5ldHdvcmtJZCkpIHtcblx0ICAgICAgICB0aGlzLmRpY3RbcGFyZW50TmV0d29ya0lkXSA9IFtdO1xuXHQgICAgICB9XG5cdCAgICAgIHRoaXMuZGljdFtwYXJlbnROZXR3b3JrSWRdLnB1c2goY2hpbGREYXRhKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiZ2V0Q2hpbGRyZW5cIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDaGlsZHJlbihwYXJlbnROZXR3b3JrSWQpIHtcblx0ICAgICAgaWYgKCF0aGlzLmhhc1BhcmVudChwYXJlbnROZXR3b3JrSWQpKSB7XG5cdCAgICAgICAgcmV0dXJuIFtdO1xuXHQgICAgICB9XG5cdCAgICAgIHZhciBjaGlsZHJlbiA9IHRoaXMuZGljdFtwYXJlbnROZXR3b3JrSWRdO1xuXHQgICAgICBkZWxldGUgdGhpcy5kaWN0W3BhcmVudE5ldHdvcmtJZF07XG5cdCAgICAgIHJldHVybiBjaGlsZHJlbjtcblx0ICAgIH1cblxuXHQgICAgLyogUHJpdmF0ZSAqL1xuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcImhhc1BhcmVudFwiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGhhc1BhcmVudChwYXJlbnRJZCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5kaWN0Lmhhc093blByb3BlcnR5KHBhcmVudElkKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cblx0ICByZXR1cm4gQ2hpbGRFbnRpdHlDYWNoZTtcblx0fSgpO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gQ2hpbGRFbnRpdHlDYWNoZTtcblxuLyoqKi8gfSksXG4vKiA1NCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cblx0dmFyIFJlc2VydmVkRGF0YVR5cGUgPSB7IFVwZGF0ZTogJ3UnLCBSZW1vdmU6ICdyJyB9O1xuXG5cdHZhciBOZXR3b3JrQ29ubmVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBOZXR3b3JrQ29ubmVjdGlvbihuZXR3b3JrRW50aXRpZXMpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBOZXR3b3JrQ29ubmVjdGlvbik7XG5cblx0ICAgIHRoaXMuZW50aXRpZXMgPSBuZXR3b3JrRW50aXRpZXM7XG5cdCAgICB0aGlzLnNldHVwRGVmYXVsdERhdGFTdWJzY3JpcHRpb25zKCk7XG5cblx0ICAgIHRoaXMuY29ubmVjdGVkQ2xpZW50cyA9IHt9O1xuXHQgICAgdGhpcy5hY3RpdmVEYXRhQ2hhbm5lbHMgPSB7fTtcblx0ICB9XG5cblx0ICBfY3JlYXRlQ2xhc3MoTmV0d29ya0Nvbm5lY3Rpb24sIFt7XG5cdCAgICBrZXk6ICdzZXROZXR3b3JrQWRhcHRlcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2V0TmV0d29ya0FkYXB0ZXIoYWRhcHRlcikge1xuXHQgICAgICB0aGlzLmFkYXB0ZXIgPSBhZGFwdGVyO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NldHVwRGVmYXVsdERhdGFTdWJzY3JpcHRpb25zJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXR1cERlZmF1bHREYXRhU3Vic2NyaXB0aW9ucygpIHtcblx0ICAgICAgdGhpcy5kYXRhQ2hhbm5lbFN1YnMgPSB7fTtcblxuXHQgICAgICB0aGlzLmRhdGFDaGFubmVsU3Vic1tSZXNlcnZlZERhdGFUeXBlLlVwZGF0ZV0gPSB0aGlzLmVudGl0aWVzLnVwZGF0ZUVudGl0eS5iaW5kKHRoaXMuZW50aXRpZXMpO1xuXG5cdCAgICAgIHRoaXMuZGF0YUNoYW5uZWxTdWJzW1Jlc2VydmVkRGF0YVR5cGUuUmVtb3ZlXSA9IHRoaXMuZW50aXRpZXMucmVtb3ZlUmVtb3RlRW50aXR5LmJpbmQodGhpcy5lbnRpdGllcyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY29ubmVjdCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY29ubmVjdChzZXJ2ZXJVcmwsIGFwcE5hbWUsIHJvb21OYW1lKSB7XG5cdCAgICAgIHZhciBlbmFibGVBdWRpbyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogZmFsc2U7XG5cblx0ICAgICAgTkFGLmFwcCA9IGFwcE5hbWU7XG5cdCAgICAgIE5BRi5yb29tID0gcm9vbU5hbWU7XG5cblx0ICAgICAgdGhpcy5hZGFwdGVyLnNldFNlcnZlclVybChzZXJ2ZXJVcmwpO1xuXHQgICAgICB0aGlzLmFkYXB0ZXIuc2V0QXBwKGFwcE5hbWUpO1xuXHQgICAgICB0aGlzLmFkYXB0ZXIuc2V0Um9vbShyb29tTmFtZSk7XG5cblx0ICAgICAgdmFyIHdlYnJ0Y09wdGlvbnMgPSB7XG5cdCAgICAgICAgYXVkaW86IGVuYWJsZUF1ZGlvLFxuXHQgICAgICAgIHZpZGVvOiBmYWxzZSxcblx0ICAgICAgICBkYXRhY2hhbm5lbDogdHJ1ZVxuXHQgICAgICB9O1xuXHQgICAgICB0aGlzLmFkYXB0ZXIuc2V0V2ViUnRjT3B0aW9ucyh3ZWJydGNPcHRpb25zKTtcblxuXHQgICAgICB0aGlzLmFkYXB0ZXIuc2V0U2VydmVyQ29ubmVjdExpc3RlbmVycyh0aGlzLmNvbm5lY3RTdWNjZXNzLmJpbmQodGhpcyksIHRoaXMuY29ubmVjdEZhaWx1cmUuYmluZCh0aGlzKSk7XG5cdCAgICAgIHRoaXMuYWRhcHRlci5zZXREYXRhQ2hhbm5lbExpc3RlbmVycyh0aGlzLmRhdGFDaGFubmVsT3Blbi5iaW5kKHRoaXMpLCB0aGlzLmRhdGFDaGFubmVsQ2xvc2VkLmJpbmQodGhpcyksIHRoaXMucmVjZWl2ZWREYXRhLmJpbmQodGhpcykpO1xuXHQgICAgICB0aGlzLmFkYXB0ZXIuc2V0Um9vbU9jY3VwYW50TGlzdGVuZXIodGhpcy5vY2N1cGFudHNSZWNlaXZlZC5iaW5kKHRoaXMpKTtcblxuXHQgICAgICB0aGlzLmFkYXB0ZXIuY29ubmVjdCgpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ29uQ29ubmVjdCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gb25Db25uZWN0KGNhbGxiYWNrKSB7XG5cdCAgICAgIHRoaXMub25Db25uZWN0Q2FsbGJhY2sgPSBjYWxsYmFjaztcblxuXHQgICAgICBpZiAodGhpcy5pc0Nvbm5lY3RlZCgpKSB7XG5cdCAgICAgICAgY2FsbGJhY2soKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2Nvbm5lY3RlZCcsIGNhbGxiYWNrLCBmYWxzZSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb25uZWN0U3VjY2VzcycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY29ubmVjdFN1Y2Nlc3MoY2xpZW50SWQpIHtcblx0ICAgICAgTkFGLmxvZy53cml0ZSgnTmV0d29ya2VkLUFmcmFtZSBDbGllbnQgSUQ6JywgY2xpZW50SWQpO1xuXHQgICAgICBOQUYuY2xpZW50SWQgPSBjbGllbnRJZDtcblxuXHQgICAgICB2YXIgZXZ0ID0gbmV3IEN1c3RvbUV2ZW50KCdjb25uZWN0ZWQnLCB7ICdkZXRhaWwnOiB7IGNsaWVudElkOiBjbGllbnRJZCB9IH0pO1xuXHQgICAgICBkb2N1bWVudC5ib2R5LmRpc3BhdGNoRXZlbnQoZXZ0KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb25uZWN0RmFpbHVyZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY29ubmVjdEZhaWx1cmUoZXJyb3JDb2RlLCBtZXNzYWdlKSB7XG5cdCAgICAgIE5BRi5sb2cuZXJyb3IoZXJyb3JDb2RlLCBcImZhaWx1cmUgdG8gY29ubmVjdFwiKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdvY2N1cGFudHNSZWNlaXZlZCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gb2NjdXBhbnRzUmVjZWl2ZWQob2NjdXBhbnRMaXN0KSB7XG5cdCAgICAgIHZhciBwcmV2Q29ubmVjdGVkQ2xpZW50cyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuY29ubmVjdGVkQ2xpZW50cyk7XG5cdCAgICAgIHRoaXMuY29ubmVjdGVkQ2xpZW50cyA9IG9jY3VwYW50TGlzdDtcblx0ICAgICAgdGhpcy5jaGVja0ZvckRpc2Nvbm5lY3RpbmdDbGllbnRzKHByZXZDb25uZWN0ZWRDbGllbnRzLCBvY2N1cGFudExpc3QpO1xuXHQgICAgICB0aGlzLmNoZWNrRm9yQ29ubmVjdGluZ0NsaWVudHMob2NjdXBhbnRMaXN0KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjaGVja0ZvckRpc2Nvbm5lY3RpbmdDbGllbnRzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjaGVja0ZvckRpc2Nvbm5lY3RpbmdDbGllbnRzKG9sZE9jY3VwYW50TGlzdCwgbmV3T2NjdXBhbnRMaXN0KSB7XG5cdCAgICAgIGZvciAodmFyIGlkIGluIG9sZE9jY3VwYW50TGlzdCkge1xuXHQgICAgICAgIHZhciBjbGllbnRGb3VuZCA9IG5ld09jY3VwYW50TGlzdC5oYXNPd25Qcm9wZXJ0eShpZCk7XG5cdCAgICAgICAgaWYgKCFjbGllbnRGb3VuZCkge1xuXHQgICAgICAgICAgTkFGLmxvZy53cml0ZSgnQ2xvc2luZyBzdHJlYW0gdG8gJywgaWQpO1xuXHQgICAgICAgICAgdGhpcy5hZGFwdGVyLmNsb3NlU3RyZWFtQ29ubmVjdGlvbihpZCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIC8vIFNvbWUgYWRhcHRlcnMgd2lsbCBoYW5kbGUgdGhpcyBpbnRlcm5hbGx5XG5cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjaGVja0ZvckNvbm5lY3RpbmdDbGllbnRzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjaGVja0ZvckNvbm5lY3RpbmdDbGllbnRzKG9jY3VwYW50TGlzdCkge1xuXHQgICAgICBmb3IgKHZhciBpZCBpbiBvY2N1cGFudExpc3QpIHtcblx0ICAgICAgICB2YXIgc3RhcnRDb25uZWN0aW9uID0gdGhpcy5pc05ld0NsaWVudChpZCkgJiYgdGhpcy5hZGFwdGVyLnNob3VsZFN0YXJ0Q29ubmVjdGlvblRvKG9jY3VwYW50TGlzdFtpZF0pO1xuXHQgICAgICAgIGlmIChzdGFydENvbm5lY3Rpb24pIHtcblx0ICAgICAgICAgIE5BRi5sb2cud3JpdGUoJ09wZW5pbmcgZGF0YWNoYW5uZWwgdG8gJywgaWQpO1xuXHQgICAgICAgICAgdGhpcy5hZGFwdGVyLnN0YXJ0U3RyZWFtQ29ubmVjdGlvbihpZCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZ2V0Q29ubmVjdGVkQ2xpZW50cycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q29ubmVjdGVkQ2xpZW50cygpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdGVkQ2xpZW50cztcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdpc0Nvbm5lY3RlZCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaXNDb25uZWN0ZWQoKSB7XG5cdCAgICAgIHJldHVybiAhIU5BRi5jbGllbnRJZDtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdpc01pbmVBbmRDb25uZWN0ZWQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGlzTWluZUFuZENvbm5lY3RlZChjbGllbnRJZCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5pc0Nvbm5lY3RlZCgpICYmIE5BRi5jbGllbnRJZCA9PT0gY2xpZW50SWQ7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnaXNOZXdDbGllbnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGlzTmV3Q2xpZW50KGNsaWVudElkKSB7XG5cdCAgICAgIHJldHVybiAhdGhpcy5pc0Nvbm5lY3RlZFRvKGNsaWVudElkKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdpc0Nvbm5lY3RlZFRvJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBpc0Nvbm5lY3RlZFRvKGNsaWVudElkKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLmFkYXB0ZXIuZ2V0Q29ubmVjdFN0YXR1cyhjbGllbnRJZCkgPT09IE5BRi5hZGFwdGVycy5JU19DT05ORUNURUQ7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZGF0YUNoYW5uZWxPcGVuJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBkYXRhQ2hhbm5lbE9wZW4oY2xpZW50SWQpIHtcblx0ICAgICAgTkFGLmxvZy53cml0ZSgnT3BlbmVkIGRhdGEgY2hhbm5lbCBmcm9tICcgKyBjbGllbnRJZCk7XG5cdCAgICAgIHRoaXMuYWN0aXZlRGF0YUNoYW5uZWxzW2NsaWVudElkXSA9IHRydWU7XG5cdCAgICAgIHRoaXMuZW50aXRpZXMuY29tcGxldGVTeW5jKGNsaWVudElkKTtcblxuXHQgICAgICB2YXIgZXZ0ID0gbmV3IEN1c3RvbUV2ZW50KCdjbGllbnRDb25uZWN0ZWQnLCB7IGRldGFpbDogeyBjbGllbnRJZDogY2xpZW50SWQgfSB9KTtcblx0ICAgICAgZG9jdW1lbnQuYm9keS5kaXNwYXRjaEV2ZW50KGV2dCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnZGF0YUNoYW5uZWxDbG9zZWQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGRhdGFDaGFubmVsQ2xvc2VkKGNsaWVudElkKSB7XG5cdCAgICAgIE5BRi5sb2cud3JpdGUoJ0Nsb3NlZCBkYXRhIGNoYW5uZWwgZnJvbSAnICsgY2xpZW50SWQpO1xuXHQgICAgICB0aGlzLmFjdGl2ZURhdGFDaGFubmVsc1tjbGllbnRJZF0gPSBmYWxzZTtcblx0ICAgICAgdGhpcy5lbnRpdGllcy5yZW1vdmVFbnRpdGllc09mQ2xpZW50KGNsaWVudElkKTtcblxuXHQgICAgICB2YXIgZXZ0ID0gbmV3IEN1c3RvbUV2ZW50KCdjbGllbnREaXNjb25uZWN0ZWQnLCB7IGRldGFpbDogeyBjbGllbnRJZDogY2xpZW50SWQgfSB9KTtcblx0ICAgICAgZG9jdW1lbnQuYm9keS5kaXNwYXRjaEV2ZW50KGV2dCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnaGFzQWN0aXZlRGF0YUNoYW5uZWwnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGhhc0FjdGl2ZURhdGFDaGFubmVsKGNsaWVudElkKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLmFjdGl2ZURhdGFDaGFubmVscy5oYXNPd25Qcm9wZXJ0eShjbGllbnRJZCkgJiYgdGhpcy5hY3RpdmVEYXRhQ2hhbm5lbHNbY2xpZW50SWRdO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2Jyb2FkY2FzdERhdGEnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGJyb2FkY2FzdERhdGEoZGF0YVR5cGUsIGRhdGEpIHtcblx0ICAgICAgdGhpcy5hZGFwdGVyLmJyb2FkY2FzdERhdGEoZGF0YVR5cGUsIGRhdGEpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2Jyb2FkY2FzdERhdGFHdWFyYW50ZWVkJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBicm9hZGNhc3REYXRhR3VhcmFudGVlZChkYXRhVHlwZSwgZGF0YSkge1xuXHQgICAgICB0aGlzLmFkYXB0ZXIuYnJvYWRjYXN0RGF0YUd1YXJhbnRlZWQoZGF0YVR5cGUsIGRhdGEpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NlbmREYXRhJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZW5kRGF0YSh0b0NsaWVudElkLCBkYXRhVHlwZSwgZGF0YSwgZ3VhcmFudGVlZCkge1xuXHQgICAgICBpZiAodGhpcy5oYXNBY3RpdmVEYXRhQ2hhbm5lbCh0b0NsaWVudElkKSkge1xuXHQgICAgICAgIGlmIChndWFyYW50ZWVkKSB7XG5cdCAgICAgICAgICB0aGlzLmFkYXB0ZXIuc2VuZERhdGFHdWFyYW50ZWVkKHRvQ2xpZW50SWQsIGRhdGFUeXBlLCBkYXRhKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgdGhpcy5hZGFwdGVyLnNlbmREYXRhKHRvQ2xpZW50SWQsIGRhdGFUeXBlLCBkYXRhKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgLy8gY29uc29sZS5lcnJvcihcIk5PVC1DT05ORUNURURcIiwgXCJub3QgY29ubmVjdGVkIHRvIFwiICsgdG9DbGllbnQpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2VuZERhdGFHdWFyYW50ZWVkJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZW5kRGF0YUd1YXJhbnRlZWQodG9DbGllbnRJZCwgZGF0YVR5cGUsIGRhdGEpIHtcblx0ICAgICAgdGhpcy5zZW5kRGF0YSh0b0NsaWVudElkLCBkYXRhVHlwZSwgZGF0YSwgdHJ1ZSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc3Vic2NyaWJlVG9EYXRhQ2hhbm5lbCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc3Vic2NyaWJlVG9EYXRhQ2hhbm5lbChkYXRhVHlwZSwgY2FsbGJhY2spIHtcblx0ICAgICAgaWYgKHRoaXMuaXNSZXNlcnZlZERhdGFUeXBlKGRhdGFUeXBlKSkge1xuXHQgICAgICAgIE5BRi5sb2cuZXJyb3IoJ05ldHdvcmtDb25uZWN0aW9uQHN1YnNjcmliZVRvRGF0YUNoYW5uZWw6ICcgKyBkYXRhVHlwZSArICcgaXMgYSByZXNlcnZlZCBkYXRhVHlwZS4gQ2hvb3NlIGFub3RoZXInKTtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy5kYXRhQ2hhbm5lbFN1YnNbZGF0YVR5cGVdID0gY2FsbGJhY2s7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAndW5zdWJzY3JpYmVUb0RhdGFDaGFubmVsJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiB1bnN1YnNjcmliZVRvRGF0YUNoYW5uZWwoZGF0YVR5cGUpIHtcblx0ICAgICAgaWYgKHRoaXMuaXNSZXNlcnZlZERhdGFUeXBlKGRhdGFUeXBlKSkge1xuXHQgICAgICAgIE5BRi5sb2cuZXJyb3IoJ05ldHdvcmtDb25uZWN0aW9uQHVuc3Vic2NyaWJlVG9EYXRhQ2hhbm5lbDogJyArIGRhdGFUeXBlICsgJyBpcyBhIHJlc2VydmVkIGRhdGFUeXBlLiBDaG9vc2UgYW5vdGhlcicpO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICBkZWxldGUgdGhpcy5kYXRhQ2hhbm5lbFN1YnNbZGF0YVR5cGVdO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2lzUmVzZXJ2ZWREYXRhVHlwZScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gaXNSZXNlcnZlZERhdGFUeXBlKGRhdGFUeXBlKSB7XG5cdCAgICAgIHJldHVybiBkYXRhVHlwZSA9PSBSZXNlcnZlZERhdGFUeXBlLlVwZGF0ZSB8fCBkYXRhVHlwZSA9PSBSZXNlcnZlZERhdGFUeXBlLlJlbW92ZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdyZWNlaXZlZERhdGEnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHJlY2VpdmVkRGF0YShmcm9tQ2xpZW50SWQsIGRhdGFUeXBlLCBkYXRhKSB7XG5cdCAgICAgIGlmICh0aGlzLmRhdGFDaGFubmVsU3Vicy5oYXNPd25Qcm9wZXJ0eShkYXRhVHlwZSkpIHtcblx0ICAgICAgICB0aGlzLmRhdGFDaGFubmVsU3Vic1tkYXRhVHlwZV0oZnJvbUNsaWVudElkLCBkYXRhVHlwZSwgZGF0YSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgTkFGLmxvZy5lcnJvcignTmV0d29ya0Nvbm5lY3Rpb25AcmVjZWl2ZWREYXRhOiAnICsgZGF0YVR5cGUgKyAnIGhhcyBub3QgYmVlbiBzdWJzY3JpYmVkIHRvIHlldC4gQ2FsbCBzdWJzY3JpYmVUb0RhdGFDaGFubmVsKCknKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldFNlcnZlclRpbWUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNlcnZlclRpbWUoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLmFkYXB0ZXIuZ2V0U2VydmVyVGltZSgpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2Rpc2Nvbm5lY3QnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGRpc2Nvbm5lY3QoKSB7XG5cdCAgICAgIHRoaXMuZW50aXRpZXMucmVtb3ZlUmVtb3RlRW50aXRpZXMoKTtcblx0ICAgICAgdGhpcy5hZGFwdGVyLmRpc2Nvbm5lY3QoKTtcblxuXHQgICAgICBOQUYuYXBwID0gJyc7XG5cdCAgICAgIE5BRi5yb29tID0gJyc7XG5cdCAgICAgIE5BRi5jbGllbnRJZCA9ICcnO1xuXHQgICAgICB0aGlzLmNvbm5lY3RlZENsaWVudHMgPSB7fTtcblx0ICAgICAgdGhpcy5hY3RpdmVEYXRhQ2hhbm5lbHMgPSB7fTtcblx0ICAgICAgdGhpcy5hZGFwdGVyID0gbnVsbDtcblxuXHQgICAgICB0aGlzLnNldHVwRGVmYXVsdERhdGFTdWJzY3JpcHRpb25zKCk7XG5cblx0ICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjb25uZWN0ZWQnLCB0aGlzLm9uQ29ubmVjdENhbGxiYWNrKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cblx0ICByZXR1cm4gTmV0d29ya0Nvbm5lY3Rpb247XG5cdH0oKTtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IE5ldHdvcmtDb25uZWN0aW9uO1xuXG4vKioqLyB9KSxcbi8qIDU1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5cdHZhciBXc0Vhc3lSdGNBZGFwdGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Nik7XG5cdHZhciBFYXN5UnRjQWRhcHRlciA9IF9fd2VicGFja19yZXF1aXJlX18oNTcpO1xuXG5cdHZhciBBZGFwdGVyRmFjdG9yeSA9IGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBBZGFwdGVyRmFjdG9yeSgpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBZGFwdGVyRmFjdG9yeSk7XG5cblx0ICAgIHRoaXMuYWRhcHRlcnMgPSB7XG5cdCAgICAgIFwid3NlYXN5cnRjXCI6IFdzRWFzeVJ0Y0FkYXB0ZXIsXG5cdCAgICAgIFwiZWFzeXJ0Y1wiOiBFYXN5UnRjQWRhcHRlclxuXHQgICAgfTtcblxuXHQgICAgdGhpcy5JU19DT05ORUNURUQgPSBBZGFwdGVyRmFjdG9yeS5JU19DT05ORUNURUQ7XG5cdCAgICB0aGlzLkNPTk5FQ1RJTkcgPSBBZGFwdGVyRmFjdG9yeS5DT05ORUNUSU5HO1xuXHQgICAgdGhpcy5OT1RfQ09OTkVDVEVEID0gQWRhcHRlckZhY3RvcnkuTk9UX0NPTk5FQ1RFRDtcblx0ICB9XG5cblx0ICBfY3JlYXRlQ2xhc3MoQWRhcHRlckZhY3RvcnksIFt7XG5cdCAgICBrZXk6IFwicmVnaXN0ZXJcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZWdpc3RlcihhZGFwdGVyTmFtZSwgQWRhcHRlckNsYXNzKSB7XG5cdCAgICAgIHRoaXMuYWRhcHRlcnNbYWRhcHRlck5hbWVdID0gQWRhcHRlckNsYXNzO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJtYWtlXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gbWFrZShhZGFwdGVyTmFtZSkge1xuXHQgICAgICB2YXIgbmFtZSA9IGFkYXB0ZXJOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdCAgICAgIGlmICh0aGlzLmFkYXB0ZXJzW25hbWVdKSB7XG5cdCAgICAgICAgdmFyIEFkYXB0ZXJDbGFzcyA9IHRoaXMuYWRhcHRlcnNbbmFtZV07XG5cdCAgICAgICAgcmV0dXJuIG5ldyBBZGFwdGVyQ2xhc3MoKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBZGFwdGVyOiBcIiArIGFkYXB0ZXJOYW1lICsgXCIgbm90IHJlZ2lzdGVyZWQuIFBsZWFzZSB1c2UgTkFGLmFkYXB0ZXJzLnJlZ2lzdGVyKCkgdG8gcmVnaXN0ZXIgdGhpcyBhZGFwdGVyLlwiKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1dKTtcblxuXHQgIHJldHVybiBBZGFwdGVyRmFjdG9yeTtcblx0fSgpO1xuXG5cdEFkYXB0ZXJGYWN0b3J5LklTX0NPTk5FQ1RFRCA9IFwiSVNfQ09OTkVDVEVEXCI7XG5cdEFkYXB0ZXJGYWN0b3J5LkNPTk5FQ1RJTkcgPSBcIkNPTk5FQ1RJTkdcIjtcblx0QWRhcHRlckZhY3RvcnkuTk9UX0NPTk5FQ1RFRCA9IFwiTk9UX0NPTk5FQ1RFRFwiO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gQWRhcHRlckZhY3Rvcnk7XG5cbi8qKiovIH0pLFxuLyogNTYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF9zbGljZWRUb0FycmF5ID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9IHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgcmV0dXJuIGFycjsgfSBlbHNlIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpIHsgcmV0dXJuIHNsaWNlSXRlcmF0b3IoYXJyLCBpKTsgfSBlbHNlIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7IH0gfTsgfSgpO1xuXG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuXHR2YXIgV3NFYXN5UnRjSW50ZXJmYWNlID0gZnVuY3Rpb24gKCkge1xuXHQgIGZ1bmN0aW9uIFdzRWFzeVJ0Y0ludGVyZmFjZShlYXN5cnRjKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV3NFYXN5UnRjSW50ZXJmYWNlKTtcblxuXHQgICAgdGhpcy5lYXN5cnRjID0gZWFzeXJ0YyB8fCB3aW5kb3cuZWFzeXJ0Yztcblx0ICAgIHRoaXMuYXBwID0gJ2RlZmF1bHQnO1xuXHQgICAgdGhpcy5yb29tID0gJ2RlZmF1bHQnO1xuXG5cdCAgICB0aGlzLmNvbm5lY3RlZENsaWVudHMgPSBbXTtcblxuXHQgICAgdGhpcy5zZXJ2ZXJUaW1lUmVxdWVzdHMgPSAwO1xuXHQgICAgdGhpcy50aW1lT2Zmc2V0cyA9IFtdO1xuXHQgICAgdGhpcy5hdmdUaW1lT2Zmc2V0ID0gMDtcblx0ICB9XG5cblx0ICBfY3JlYXRlQ2xhc3MoV3NFYXN5UnRjSW50ZXJmYWNlLCBbe1xuXHQgICAga2V5OiAnc2V0U2VydmVyVXJsJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRTZXJ2ZXJVcmwodXJsKSB7XG5cdCAgICAgIHRoaXMuc2VydmVyVXJsID0gdXJsO1xuXHQgICAgICB0aGlzLmVhc3lydGMuc2V0U29ja2V0VXJsKHVybCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2V0QXBwJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRBcHAoYXBwTmFtZSkge1xuXHQgICAgICB0aGlzLmFwcCA9IGFwcE5hbWU7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2V0Um9vbScsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Um9vbShyb29tTmFtZSkge1xuXHQgICAgICB0aGlzLnJvb20gPSByb29tTmFtZTtcblx0ICAgICAgdGhpcy5lYXN5cnRjLmpvaW5Sb29tKHJvb21OYW1lLCBudWxsKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZXRXZWJSdGNPcHRpb25zJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRXZWJSdGNPcHRpb25zKG9wdGlvbnMpIHtcblx0ICAgICAgLy8gTm8gd2VicnRjIHN1cHBvcnRcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZXRTZXJ2ZXJDb25uZWN0TGlzdGVuZXJzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRTZXJ2ZXJDb25uZWN0TGlzdGVuZXJzKHN1Y2Nlc3NMaXN0ZW5lciwgZmFpbHVyZUxpc3RlbmVyKSB7XG5cdCAgICAgIHRoaXMuY29ubmVjdFN1Y2Nlc3MgPSBzdWNjZXNzTGlzdGVuZXI7XG5cdCAgICAgIHRoaXMuY29ubmVjdEZhaWx1cmUgPSBmYWlsdXJlTGlzdGVuZXI7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2V0Um9vbU9jY3VwYW50TGlzdGVuZXInLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFJvb21PY2N1cGFudExpc3RlbmVyKG9jY3VwYW50TGlzdGVuZXIpIHtcblx0ICAgICAgdGhpcy5lYXN5cnRjLnNldFJvb21PY2N1cGFudExpc3RlbmVyKGZ1bmN0aW9uIChyb29tTmFtZSwgb2NjdXBhbnRzLCBwcmltYXJ5KSB7XG5cdCAgICAgICAgb2NjdXBhbnRMaXN0ZW5lcihvY2N1cGFudHMpO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZXREYXRhQ2hhbm5lbExpc3RlbmVycycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RGF0YUNoYW5uZWxMaXN0ZW5lcnMob3Blbkxpc3RlbmVyLCBjbG9zZWRMaXN0ZW5lciwgbWVzc2FnZUxpc3RlbmVyKSB7XG5cdCAgICAgIHRoaXMub3Blbkxpc3RlbmVyID0gb3Blbkxpc3RlbmVyO1xuXHQgICAgICB0aGlzLmNsb3NlZExpc3RlbmVyID0gY2xvc2VkTGlzdGVuZXI7XG5cdCAgICAgIHRoaXMuZWFzeXJ0Yy5zZXRQZWVyTGlzdGVuZXIobWVzc2FnZUxpc3RlbmVyKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICd1cGRhdGVUaW1lT2Zmc2V0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVUaW1lT2Zmc2V0KCkge1xuXHQgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG5cdCAgICAgIHZhciBjbGllbnRTZW50VGltZSA9IERhdGUubm93KCkgKyB0aGlzLmF2Z1RpbWVPZmZzZXQ7XG5cblx0ICAgICAgcmV0dXJuIGZldGNoKGRvY3VtZW50LmxvY2F0aW9uLmhyZWYsIHsgbWV0aG9kOiBcIkhFQURcIiwgY2FjaGU6IFwibm8tY2FjaGVcIiB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICB2YXIgcHJlY2lzaW9uID0gMTAwMDtcblx0ICAgICAgICB2YXIgc2VydmVyUmVjZWl2ZWRUaW1lID0gbmV3IERhdGUocmVzLmhlYWRlcnMuZ2V0KFwiRGF0ZVwiKSkuZ2V0VGltZSgpICsgcHJlY2lzaW9uIC8gMjtcblx0ICAgICAgICB2YXIgY2xpZW50UmVjZWl2ZWRUaW1lID0gRGF0ZS5ub3coKTtcblx0ICAgICAgICB2YXIgc2VydmVyVGltZSA9IHNlcnZlclJlY2VpdmVkVGltZSArIChjbGllbnRSZWNlaXZlZFRpbWUgLSBjbGllbnRTZW50VGltZSkgLyAyO1xuXHQgICAgICAgIHZhciB0aW1lT2Zmc2V0ID0gc2VydmVyVGltZSAtIGNsaWVudFJlY2VpdmVkVGltZTtcblxuXHQgICAgICAgIF90aGlzLnNlcnZlclRpbWVSZXF1ZXN0cysrO1xuXG5cdCAgICAgICAgaWYgKF90aGlzLnNlcnZlclRpbWVSZXF1ZXN0cyA8PSAxMCkge1xuXHQgICAgICAgICAgX3RoaXMudGltZU9mZnNldHMucHVzaCh0aW1lT2Zmc2V0KTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgX3RoaXMudGltZU9mZnNldHNbX3RoaXMuc2VydmVyVGltZVJlcXVlc3RzICUgMTBdID0gdGltZU9mZnNldDtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICBfdGhpcy5hdmdUaW1lT2Zmc2V0ID0gX3RoaXMudGltZU9mZnNldHMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIG9mZnNldCkge1xuXHQgICAgICAgICAgcmV0dXJuIGFjYyArPSBvZmZzZXQ7XG5cdCAgICAgICAgfSwgMCkgLyBfdGhpcy50aW1lT2Zmc2V0cy5sZW5ndGg7XG5cblx0ICAgICAgICBpZiAoX3RoaXMuc2VydmVyVGltZVJlcXVlc3RzID4gMTApIHtcblx0ICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gX3RoaXMudXBkYXRlVGltZU9mZnNldCgpO1xuXHQgICAgICAgICAgfSwgNSAqIDYwICogMTAwMCk7IC8vIFN5bmMgY2xvY2sgZXZlcnkgNSBtaW51dGVzLlxuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBfdGhpcy51cGRhdGVUaW1lT2Zmc2V0KCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb25uZWN0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb25uZWN0KCkge1xuXHQgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuXHQgICAgICBQcm9taXNlLmFsbChbdGhpcy51cGRhdGVUaW1lT2Zmc2V0KCksIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICBfdGhpczIuZWFzeXJ0Yy5jb25uZWN0KF90aGlzMi5hcHAsIHJlc29sdmUsIHJlamVjdCk7XG5cdCAgICAgIH0pXSkudGhlbihmdW5jdGlvbiAoX3JlZikge1xuXHQgICAgICAgIHZhciBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDIpLFxuXHQgICAgICAgICAgICBfID0gX3JlZjJbMF0sXG5cdCAgICAgICAgICAgIGNsaWVudElkID0gX3JlZjJbMV07XG5cblx0ICAgICAgICBfdGhpczIuY29ubmVjdFN1Y2Nlc3MoY2xpZW50SWQpO1xuXHQgICAgICB9KS5jYXRjaCh0aGlzLmNvbm5lY3RGYWlsdXJlKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzaG91bGRTdGFydENvbm5lY3Rpb25UbycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdWxkU3RhcnRDb25uZWN0aW9uVG8oY2xpZW50SWQpIHtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc3RhcnRTdHJlYW1Db25uZWN0aW9uJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzdGFydFN0cmVhbUNvbm5lY3Rpb24oY2xpZW50SWQpIHtcblx0ICAgICAgdGhpcy5jb25uZWN0ZWRDbGllbnRzLnB1c2goY2xpZW50SWQpO1xuXHQgICAgICB0aGlzLm9wZW5MaXN0ZW5lcihjbGllbnRJZCk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnY2xvc2VTdHJlYW1Db25uZWN0aW9uJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9zZVN0cmVhbUNvbm5lY3Rpb24oY2xpZW50SWQpIHtcblx0ICAgICAgdmFyIGluZGV4ID0gdGhpcy5jb25uZWN0ZWRDbGllbnRzLmluZGV4T2YoY2xpZW50SWQpO1xuXHQgICAgICBpZiAoaW5kZXggPiAtMSkge1xuXHQgICAgICAgIHRoaXMuY29ubmVjdGVkQ2xpZW50cy5zcGxpY2UoaW5kZXgsIDEpO1xuXHQgICAgICB9XG5cdCAgICAgIHRoaXMuY2xvc2VkTGlzdGVuZXIoY2xpZW50SWQpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3NlbmREYXRhJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZW5kRGF0YShjbGllbnRJZCwgZGF0YVR5cGUsIGRhdGEpIHtcblx0ICAgICAgdGhpcy5lYXN5cnRjLnNlbmREYXRhV1MoY2xpZW50SWQsIGRhdGFUeXBlLCBkYXRhKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZW5kRGF0YUd1YXJhbnRlZWQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNlbmREYXRhR3VhcmFudGVlZChjbGllbnRJZCwgZGF0YVR5cGUsIGRhdGEpIHtcblx0ICAgICAgdGhpcy5zZW5kRGF0YShjbGllbnRJZCwgZGF0YVR5cGUsIGRhdGEpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2Jyb2FkY2FzdERhdGEnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGJyb2FkY2FzdERhdGEoZGF0YVR5cGUsIGRhdGEpIHtcblx0ICAgICAgdmFyIGRlc3RpbmF0aW9uID0geyB0YXJnZXRSb29tOiB0aGlzLnJvb20gfTtcblx0ICAgICAgdGhpcy5lYXN5cnRjLnNlbmREYXRhV1MoZGVzdGluYXRpb24sIGRhdGFUeXBlLCBkYXRhKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdicm9hZGNhc3REYXRhR3VhcmFudGVlZCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gYnJvYWRjYXN0RGF0YUd1YXJhbnRlZWQoZGF0YVR5cGUsIGRhdGEpIHtcblx0ICAgICAgdGhpcy5icm9hZGNhc3REYXRhKGRhdGFUeXBlLCBkYXRhKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdnZXRDb25uZWN0U3RhdHVzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb25uZWN0U3RhdHVzKGNsaWVudElkKSB7XG5cdCAgICAgIHZhciBjb25uZWN0ZWQgPSB0aGlzLmNvbm5lY3RlZENsaWVudHMuaW5kZXhPZihjbGllbnRJZCkgIT0gLTE7XG5cblx0ICAgICAgaWYgKGNvbm5lY3RlZCkge1xuXHQgICAgICAgIHJldHVybiBOQUYuYWRhcHRlcnMuSVNfQ09OTkVDVEVEO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBOQUYuYWRhcHRlcnMuTk9UX0NPTk5FQ1RFRDtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2dldFNlcnZlclRpbWUnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNlcnZlclRpbWUoKSB7XG5cdCAgICAgIHJldHVybiBEYXRlLm5vdygpICsgdGhpcy5hdmdUaW1lT2Zmc2V0O1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ2Rpc2Nvbm5lY3QnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGRpc2Nvbm5lY3QoKSB7XG5cdCAgICAgIHRoaXMuZWFzeXJ0Yy5kaXNjb25uZWN0KCk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXG5cdCAgcmV0dXJuIFdzRWFzeVJ0Y0ludGVyZmFjZTtcblx0fSgpO1xuXG5cdG1vZHVsZS5leHBvcnRzID0gV3NFYXN5UnRjSW50ZXJmYWNlO1xuXG4vKioqLyB9KSxcbi8qIDU3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0dmFyIF9zbGljZWRUb0FycmF5ID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9IHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgcmV0dXJuIGFycjsgfSBlbHNlIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpIHsgcmV0dXJuIHNsaWNlSXRlcmF0b3IoYXJyLCBpKTsgfSBlbHNlIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7IH0gfTsgfSgpO1xuXG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuXHR2YXIgRWFzeVJ0Y0FkYXB0ZXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gRWFzeVJ0Y0FkYXB0ZXIoZWFzeXJ0Yykge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVhc3lSdGNBZGFwdGVyKTtcblxuXHQgICAgdGhpcy5lYXN5cnRjID0gZWFzeXJ0YyB8fCB3aW5kb3cuZWFzeXJ0Yztcblx0ICAgIHRoaXMuYXBwID0gXCJkZWZhdWx0XCI7XG5cdCAgICB0aGlzLnJvb20gPSBcImRlZmF1bHRcIjtcblxuXHQgICAgdGhpcy5hdWRpb1N0cmVhbXMgPSB7fTtcblx0ICAgIHRoaXMucGVuZGluZ0F1ZGlvUmVxdWVzdCA9IHt9O1xuXG5cdCAgICB0aGlzLnNlcnZlclRpbWVSZXF1ZXN0cyA9IDA7XG5cdCAgICB0aGlzLnRpbWVPZmZzZXRzID0gW107XG5cdCAgICB0aGlzLmF2Z1RpbWVPZmZzZXQgPSAwO1xuXHQgIH1cblxuXHQgIF9jcmVhdGVDbGFzcyhFYXN5UnRjQWRhcHRlciwgW3tcblx0ICAgIGtleTogXCJzZXRTZXJ2ZXJVcmxcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRTZXJ2ZXJVcmwodXJsKSB7XG5cdCAgICAgIHRoaXMuZWFzeXJ0Yy5zZXRTb2NrZXRVcmwodXJsKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwic2V0QXBwXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2V0QXBwKGFwcE5hbWUpIHtcblx0ICAgICAgdGhpcy5hcHAgPSBhcHBOYW1lO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJzZXRSb29tXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Um9vbShyb29tTmFtZSkge1xuXHQgICAgICB0aGlzLnJvb20gPSByb29tTmFtZTtcblx0ICAgICAgdGhpcy5lYXN5cnRjLmpvaW5Sb29tKHJvb21OYW1lLCBudWxsKTtcblx0ICAgIH1cblxuXHQgICAgLy8gb3B0aW9uczogeyBkYXRhY2hhbm5lbDogYm9vbCwgYXVkaW86IGJvb2wgfVxuXG5cdCAgfSwge1xuXHQgICAga2V5OiBcInNldFdlYlJ0Y09wdGlvbnNcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRXZWJSdGNPcHRpb25zKG9wdGlvbnMpIHtcblx0ICAgICAgLy8gdGhpcy5lYXN5cnRjLmVuYWJsZURlYnVnKHRydWUpO1xuXHQgICAgICB0aGlzLmVhc3lydGMuZW5hYmxlRGF0YUNoYW5uZWxzKG9wdGlvbnMuZGF0YWNoYW5uZWwpO1xuXG5cdCAgICAgIHRoaXMuZWFzeXJ0Yy5lbmFibGVWaWRlbyhmYWxzZSk7XG5cdCAgICAgIHRoaXMuZWFzeXJ0Yy5lbmFibGVBdWRpbyhvcHRpb25zLmF1ZGlvKTtcblxuXHQgICAgICB0aGlzLmVhc3lydGMuZW5hYmxlVmlkZW9SZWNlaXZlKGZhbHNlKTtcblx0ICAgICAgdGhpcy5lYXN5cnRjLmVuYWJsZUF1ZGlvUmVjZWl2ZShvcHRpb25zLmF1ZGlvKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwic2V0U2VydmVyQ29ubmVjdExpc3RlbmVyc1wiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFNlcnZlckNvbm5lY3RMaXN0ZW5lcnMoc3VjY2Vzc0xpc3RlbmVyLCBmYWlsdXJlTGlzdGVuZXIpIHtcblx0ICAgICAgdGhpcy5jb25uZWN0U3VjY2VzcyA9IHN1Y2Nlc3NMaXN0ZW5lcjtcblx0ICAgICAgdGhpcy5jb25uZWN0RmFpbHVyZSA9IGZhaWx1cmVMaXN0ZW5lcjtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwic2V0Um9vbU9jY3VwYW50TGlzdGVuZXJcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRSb29tT2NjdXBhbnRMaXN0ZW5lcihvY2N1cGFudExpc3RlbmVyKSB7XG5cdCAgICAgIHRoaXMuZWFzeXJ0Yy5zZXRSb29tT2NjdXBhbnRMaXN0ZW5lcihmdW5jdGlvbiAocm9vbU5hbWUsIG9jY3VwYW50cywgcHJpbWFyeSkge1xuXHQgICAgICAgIG9jY3VwYW50TGlzdGVuZXIob2NjdXBhbnRzKTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcInNldERhdGFDaGFubmVsTGlzdGVuZXJzXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RGF0YUNoYW5uZWxMaXN0ZW5lcnMob3Blbkxpc3RlbmVyLCBjbG9zZWRMaXN0ZW5lciwgbWVzc2FnZUxpc3RlbmVyKSB7XG5cdCAgICAgIHRoaXMuZWFzeXJ0Yy5zZXREYXRhQ2hhbm5lbE9wZW5MaXN0ZW5lcihvcGVuTGlzdGVuZXIpO1xuXHQgICAgICB0aGlzLmVhc3lydGMuc2V0RGF0YUNoYW5uZWxDbG9zZUxpc3RlbmVyKGNsb3NlZExpc3RlbmVyKTtcblx0ICAgICAgdGhpcy5lYXN5cnRjLnNldFBlZXJMaXN0ZW5lcihtZXNzYWdlTGlzdGVuZXIpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJ1cGRhdGVUaW1lT2Zmc2V0XCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlVGltZU9mZnNldCgpIHtcblx0ICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuXHQgICAgICB2YXIgY2xpZW50U2VudFRpbWUgPSBEYXRlLm5vdygpICsgdGhpcy5hdmdUaW1lT2Zmc2V0O1xuXG5cdCAgICAgIHJldHVybiBmZXRjaChkb2N1bWVudC5sb2NhdGlvbi5ocmVmLCB7IG1ldGhvZDogXCJIRUFEXCIsIGNhY2hlOiBcIm5vLWNhY2hlXCIgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgICAgdmFyIHByZWNpc2lvbiA9IDEwMDA7XG5cdCAgICAgICAgdmFyIHNlcnZlclJlY2VpdmVkVGltZSA9IG5ldyBEYXRlKHJlcy5oZWFkZXJzLmdldChcIkRhdGVcIikpLmdldFRpbWUoKSArIHByZWNpc2lvbiAvIDI7XG5cdCAgICAgICAgdmFyIGNsaWVudFJlY2VpdmVkVGltZSA9IERhdGUubm93KCk7XG5cdCAgICAgICAgdmFyIHNlcnZlclRpbWUgPSBzZXJ2ZXJSZWNlaXZlZFRpbWUgKyAoY2xpZW50UmVjZWl2ZWRUaW1lIC0gY2xpZW50U2VudFRpbWUpIC8gMjtcblx0ICAgICAgICB2YXIgdGltZU9mZnNldCA9IHNlcnZlclRpbWUgLSBjbGllbnRSZWNlaXZlZFRpbWU7XG5cblx0ICAgICAgICBfdGhpcy5zZXJ2ZXJUaW1lUmVxdWVzdHMrKztcblxuXHQgICAgICAgIGlmIChfdGhpcy5zZXJ2ZXJUaW1lUmVxdWVzdHMgPD0gMTApIHtcblx0ICAgICAgICAgIF90aGlzLnRpbWVPZmZzZXRzLnB1c2godGltZU9mZnNldCk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIF90aGlzLnRpbWVPZmZzZXRzW190aGlzLnNlcnZlclRpbWVSZXF1ZXN0cyAlIDEwXSA9IHRpbWVPZmZzZXQ7XG5cdCAgICAgICAgfVxuXG5cdCAgICAgICAgX3RoaXMuYXZnVGltZU9mZnNldCA9IF90aGlzLnRpbWVPZmZzZXRzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBvZmZzZXQpIHtcblx0ICAgICAgICAgIHJldHVybiBhY2MgKz0gb2Zmc2V0O1xuXHQgICAgICAgIH0sIDApIC8gX3RoaXMudGltZU9mZnNldHMubGVuZ3RoO1xuXG5cdCAgICAgICAgaWYgKF90aGlzLnNlcnZlclRpbWVSZXF1ZXN0cyA+IDEwKSB7XG5cdCAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIF90aGlzLnVwZGF0ZVRpbWVPZmZzZXQoKTtcblx0ICAgICAgICAgIH0sIDUgKiA2MCAqIDEwMDApOyAvLyBTeW5jIGNsb2NrIGV2ZXJ5IDUgbWludXRlcy5cblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgX3RoaXMudXBkYXRlVGltZU9mZnNldCgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcImNvbm5lY3RcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjb25uZWN0KCkge1xuXHQgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuXHQgICAgICBQcm9taXNlLmFsbChbdGhpcy51cGRhdGVUaW1lT2Zmc2V0KCksIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICBpZiAoX3RoaXMyLmVhc3lydGMuYXVkaW9FbmFibGVkKSB7XG5cdCAgICAgICAgICBfdGhpczIuX2Nvbm5lY3RXaXRoQXVkaW8ocmVzb2x2ZSwgcmVqZWN0KTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgX3RoaXMyLmVhc3lydGMuY29ubmVjdChfdGhpczIuYXBwLCByZXNvbHZlLCByZWplY3QpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSldKS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7XG5cdCAgICAgICAgdmFyIF9yZWYyID0gX3NsaWNlZFRvQXJyYXkoX3JlZiwgMiksXG5cdCAgICAgICAgICAgIF8gPSBfcmVmMlswXSxcblx0ICAgICAgICAgICAgY2xpZW50SWQgPSBfcmVmMlsxXTtcblxuXHQgICAgICAgIF90aGlzMi5fc3RvcmVBdWRpb1N0cmVhbShfdGhpczIuZWFzeXJ0Yy5teUVhc3lydGNpZCwgX3RoaXMyLmVhc3lydGMuZ2V0TG9jYWxTdHJlYW0oKSk7XG5cblx0ICAgICAgICBfdGhpczIuX215Um9vbUpvaW5UaW1lID0gX3RoaXMyLl9nZXRSb29tSm9pblRpbWUoY2xpZW50SWQpO1xuXHQgICAgICAgIF90aGlzMi5jb25uZWN0U3VjY2VzcyhjbGllbnRJZCk7XG5cdCAgICAgIH0pLmNhdGNoKHRoaXMuY29ubmVjdEZhaWx1cmUpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJzaG91bGRTdGFydENvbm5lY3Rpb25Ub1wiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNob3VsZFN0YXJ0Q29ubmVjdGlvblRvKGNsaWVudCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5fbXlSb29tSm9pblRpbWUgPD0gY2xpZW50LnJvb21Kb2luVGltZTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwic3RhcnRTdHJlYW1Db25uZWN0aW9uXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc3RhcnRTdHJlYW1Db25uZWN0aW9uKGNsaWVudElkKSB7XG5cdCAgICAgIHRoaXMuZWFzeXJ0Yy5jYWxsKGNsaWVudElkLCBmdW5jdGlvbiAoY2FsbGVyLCBtZWRpYSkge1xuXHQgICAgICAgIGlmIChtZWRpYSA9PT0gXCJkYXRhY2hhbm5lbFwiKSB7XG5cdCAgICAgICAgICBOQUYubG9nLndyaXRlKFwiU3VjY2Vzc2Z1bGx5IHN0YXJ0ZWQgZGF0YWNoYW5uZWwgdG8gXCIsIGNhbGxlcik7XG5cdCAgICAgICAgfVxuXHQgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JDb2RlLCBlcnJvclRleHQpIHtcblx0ICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yQ29kZSwgZXJyb3JUZXh0KTtcblx0ICAgICAgfSwgZnVuY3Rpb24gKHdhc0FjY2VwdGVkKSB7XG5cdCAgICAgICAgLy8gY29uc29sZS5sb2coXCJ3YXMgYWNjZXB0ZWQ9XCIgKyB3YXNBY2NlcHRlZCk7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJjbG9zZVN0cmVhbUNvbm5lY3Rpb25cIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9zZVN0cmVhbUNvbm5lY3Rpb24oY2xpZW50SWQpIHtcblx0ICAgICAgLy8gSGFuZGxlZCBieSBlYXN5cnRjXG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcInNlbmREYXRhXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2VuZERhdGEoY2xpZW50SWQsIGRhdGFUeXBlLCBkYXRhKSB7XG5cdCAgICAgIC8vIHNlbmQgdmlhIHdlYnJ0YyBvdGhlcndpc2UgZmFsbGJhY2sgdG8gd2Vic29ja2V0c1xuXHQgICAgICB0aGlzLmVhc3lydGMuc2VuZERhdGEoY2xpZW50SWQsIGRhdGFUeXBlLCBkYXRhKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwic2VuZERhdGFHdWFyYW50ZWVkXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gc2VuZERhdGFHdWFyYW50ZWVkKGNsaWVudElkLCBkYXRhVHlwZSwgZGF0YSkge1xuXHQgICAgICB0aGlzLmVhc3lydGMuc2VuZERhdGFXUyhjbGllbnRJZCwgZGF0YVR5cGUsIGRhdGEpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJicm9hZGNhc3REYXRhXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gYnJvYWRjYXN0RGF0YShkYXRhVHlwZSwgZGF0YSkge1xuXHQgICAgICB2YXIgcm9vbU9jY3VwYW50cyA9IHRoaXMuZWFzeXJ0Yy5nZXRSb29tT2NjdXBhbnRzQXNNYXAodGhpcy5yb29tKTtcblxuXHQgICAgICAvLyBJdGVyYXRlIG92ZXIgdGhlIGtleXMgb2YgdGhlIGVhc3lydGMgcm9vbSBvY2N1cGFudHMgbWFwLlxuXHQgICAgICAvLyBnZXRSb29tT2NjdXBhbnRzQXNBcnJheSB1c2VzIE9iamVjdC5rZXlzIHdoaWNoIGFsbG9jYXRlcyBtZW1vcnkuXG5cdCAgICAgIGZvciAodmFyIHJvb21PY2N1cGFudCBpbiByb29tT2NjdXBhbnRzKSB7XG5cdCAgICAgICAgaWYgKHJvb21PY2N1cGFudHMuaGFzT3duUHJvcGVydHkocm9vbU9jY3VwYW50KSAmJiByb29tT2NjdXBhbnQgIT09IHRoaXMuZWFzeXJ0Yy5teUVhc3lydGNpZCkge1xuXHQgICAgICAgICAgLy8gc2VuZCB2aWEgd2VicnRjIG90aGVyd2lzZSBmYWxsYmFjayB0byB3ZWJzb2NrZXRzXG5cdCAgICAgICAgICB0aGlzLmVhc3lydGMuc2VuZERhdGEocm9vbU9jY3VwYW50LCBkYXRhVHlwZSwgZGF0YSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcImJyb2FkY2FzdERhdGFHdWFyYW50ZWVkXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gYnJvYWRjYXN0RGF0YUd1YXJhbnRlZWQoZGF0YVR5cGUsIGRhdGEpIHtcblx0ICAgICAgdmFyIGRlc3RpbmF0aW9uID0geyB0YXJnZXRSb29tOiB0aGlzLnJvb20gfTtcblx0ICAgICAgdGhpcy5lYXN5cnRjLnNlbmREYXRhV1MoZGVzdGluYXRpb24sIGRhdGFUeXBlLCBkYXRhKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiZ2V0Q29ubmVjdFN0YXR1c1wiLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvbm5lY3RTdGF0dXMoY2xpZW50SWQpIHtcblx0ICAgICAgdmFyIHN0YXR1cyA9IHRoaXMuZWFzeXJ0Yy5nZXRDb25uZWN0U3RhdHVzKGNsaWVudElkKTtcblxuXHQgICAgICBpZiAoc3RhdHVzID09IHRoaXMuZWFzeXJ0Yy5JU19DT05ORUNURUQpIHtcblx0ICAgICAgICByZXR1cm4gTkFGLmFkYXB0ZXJzLklTX0NPTk5FQ1RFRDtcblx0ICAgICAgfSBlbHNlIGlmIChzdGF0dXMgPT0gdGhpcy5lYXN5cnRjLk5PVF9DT05ORUNURUQpIHtcblx0ICAgICAgICByZXR1cm4gTkFGLmFkYXB0ZXJzLk5PVF9DT05ORUNURUQ7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIE5BRi5hZGFwdGVycy5DT05ORUNUSU5HO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcImdldE1lZGlhU3RyZWFtXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TWVkaWFTdHJlYW0oY2xpZW50SWQpIHtcblx0ICAgICAgY29uc29sZS5sb2coJ2dldE1lZGlhU3RyZWFtJywgY2xpZW50SWQpO1xuXHQgICAgICB2YXIgdGhhdCA9IHRoaXM7XG5cdCAgICAgIGlmICh0aGlzLmF1ZGlvU3RyZWFtc1tjbGllbnRJZF0pIHtcblx0ICAgICAgICBOQUYubG9nLndyaXRlKFwiQWxyZWFkeSBoYWQgYXVkaW8gZm9yIFwiICsgY2xpZW50SWQpO1xuXHQgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hdWRpb1N0cmVhbXNbY2xpZW50SWRdKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBOQUYubG9nLndyaXRlKFwiV2FpdGluZyBvbiBhdWRpbyBmb3IgXCIgKyBjbGllbnRJZCk7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG5cdCAgICAgICAgICB0aGF0LnBlbmRpbmdBdWRpb1JlcXVlc3RbY2xpZW50SWRdID0gcmVzb2x2ZTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJkaXNjb25uZWN0XCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZGlzY29ubmVjdCgpIHtcblx0ICAgICAgdGhpcy5lYXN5cnRjLmRpc2Nvbm5lY3QoKTtcblx0ICAgIH1cblxuXHQgICAgLyoqXG5cdCAgICAgKiBQcml2YXRlc1xuXHQgICAgICovXG5cblx0ICB9LCB7XG5cdCAgICBrZXk6IFwiX3N0b3JlQXVkaW9TdHJlYW1cIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfc3RvcmVBdWRpb1N0cmVhbShlYXN5cnRjaWQsIHN0cmVhbSkge1xuXHQgICAgICB0aGlzLmF1ZGlvU3RyZWFtc1tlYXN5cnRjaWRdID0gc3RyZWFtO1xuXHQgICAgICBpZiAodGhpcy5wZW5kaW5nQXVkaW9SZXF1ZXN0W2Vhc3lydGNpZF0pIHtcblx0ICAgICAgICBOQUYubG9nLndyaXRlKFwiZ290IHBlbmRpbmcgYXVkaW8gZm9yIFwiICsgZWFzeXJ0Y2lkKTtcblx0ICAgICAgICB0aGlzLnBlbmRpbmdBdWRpb1JlcXVlc3RbZWFzeXJ0Y2lkXShzdHJlYW0pO1xuXHQgICAgICAgIGRlbGV0ZSB0aGlzLnBlbmRpbmdBdWRpb1JlcXVlc3RbZWFzeXJ0Y2lkXShzdHJlYW0pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcIl9jb25uZWN0V2l0aEF1ZGlvXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gX2Nvbm5lY3RXaXRoQXVkaW8oY29ubmVjdFN1Y2Nlc3MsIGNvbm5lY3RGYWlsdXJlKSB7XG5cdCAgICAgIHZhciB0aGF0ID0gdGhpcztcblxuXHQgICAgICB0aGlzLmVhc3lydGMuc2V0U3RyZWFtQWNjZXB0b3IodGhpcy5fc3RvcmVBdWRpb1N0cmVhbS5iaW5kKHRoaXMpKTtcblxuXHQgICAgICB0aGlzLmVhc3lydGMuc2V0T25TdHJlYW1DbG9zZWQoZnVuY3Rpb24gKGVhc3lydGNpZCkge1xuXHQgICAgICAgIGRlbGV0ZSB0aGF0LmF1ZGlvU3RyZWFtc1tlYXN5cnRjaWRdO1xuXHQgICAgICB9KTtcblxuXHQgICAgICB0aGlzLmVhc3lydGMuaW5pdE1lZGlhU291cmNlKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICB0aGF0LmVhc3lydGMuY29ubmVjdCh0aGF0LmFwcCwgY29ubmVjdFN1Y2Nlc3MsIGNvbm5lY3RGYWlsdXJlKTtcblx0ICAgICAgfSwgZnVuY3Rpb24gKGVycm9yQ29kZSwgZXJybWVzZykge1xuXHQgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3JDb2RlLCBlcnJtZXNnKTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiBcIl9nZXRSb29tSm9pblRpbWVcIixcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0Um9vbUpvaW5UaW1lKGNsaWVudElkKSB7XG5cdCAgICAgIHZhciBteVJvb21JZCA9IE5BRi5yb29tO1xuXHQgICAgICB2YXIgam9pblRpbWUgPSBlYXN5cnRjLmdldFJvb21PY2N1cGFudHNBc01hcChteVJvb21JZClbY2xpZW50SWRdLnJvb21Kb2luVGltZTtcblx0ICAgICAgcmV0dXJuIGpvaW5UaW1lO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogXCJnZXRTZXJ2ZXJUaW1lXCIsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2VydmVyVGltZSgpIHtcblx0ICAgICAgcmV0dXJuIERhdGUubm93KCkgKyB0aGlzLmF2Z1RpbWVPZmZzZXQ7XG5cdCAgICB9XG5cdCAgfV0pO1xuXG5cdCAgcmV0dXJuIEVhc3lSdGNBZGFwdGVyO1xuXHR9KCk7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBFYXN5UnRjQWRhcHRlcjtcblxuLyoqKi8gfSksXG4vKiA1OCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgbmFmID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nyk7XG5cblx0QUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCduZXR3b3JrZWQtc2NlbmUnLCB7XG5cdCAgc2NoZW1hOiB7XG5cdCAgICBzZXJ2ZXJVUkw6IHsgZGVmYXVsdDogJy8nIH0sXG5cdCAgICBhcHA6IHsgZGVmYXVsdDogJ2RlZmF1bHQnIH0sXG5cdCAgICByb29tOiB7IGRlZmF1bHQ6ICdkZWZhdWx0JyB9LFxuXHQgICAgY29ubmVjdE9uTG9hZDogeyBkZWZhdWx0OiB0cnVlIH0sXG5cdCAgICBvbkNvbm5lY3Q6IHsgZGVmYXVsdDogJ29uQ29ubmVjdCcgfSxcblx0ICAgIGFkYXB0ZXI6IHsgZGVmYXVsdDogJ3dzRWFzeVJ0YycgfSwgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9uZXR3b3JrZWQtYWZyYW1lL25ldHdvcmtlZC1hZnJhbWUjYWRhcHRlcnMgZm9yIGxpc3Qgb2YgYWRhcHRlcnNcblx0ICAgIGF1ZGlvOiB7IGRlZmF1bHQ6IGZhbHNlIH0sIC8vIE9ubHkgaWYgYWRhcHRlciBzdXBwb3J0cyBhdWRpb1xuXHQgICAgZGVidWc6IHsgZGVmYXVsdDogZmFsc2UgfVxuXHQgIH0sXG5cblx0ICBpbml0OiBmdW5jdGlvbiBpbml0KCkge1xuXHQgICAgdmFyIGVsID0gdGhpcy5lbDtcblx0ICAgIHRoaXMuY29ubmVjdCA9IHRoaXMuY29ubmVjdC5iaW5kKHRoaXMpO1xuXHQgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY29ubmVjdCcsIHRoaXMuY29ubmVjdCk7XG5cdCAgICBpZiAodGhpcy5kYXRhLmNvbm5lY3RPbkxvYWQpIHtcblx0ICAgICAgZWwuZW1pdCgnY29ubmVjdCcsIG51bGwsIGZhbHNlKTtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgLyoqXG5cdCAgICogQ29ubmVjdCB0byBzaWduYWxsaW5nIHNlcnZlciBhbmQgYmVnaW4gY29ubmVjdGluZyB0byBvdGhlciBjbGllbnRzXG5cdCAgICovXG5cdCAgY29ubmVjdDogZnVuY3Rpb24gY29ubmVjdCgpIHtcblx0ICAgIE5BRi5sb2cuc2V0RGVidWcodGhpcy5kYXRhLmRlYnVnKTtcblx0ICAgIE5BRi5sb2cud3JpdGUoJ05ldHdvcmtlZC1BZnJhbWUgQ29ubmVjdGluZy4uLicpO1xuXG5cdCAgICB0aGlzLmNoZWNrRGVwcmVjYXRlZFByb3BlcnRpZXMoKTtcblx0ICAgIHRoaXMuc2V0dXBOZXR3b3JrQWRhcHRlcigpO1xuXG5cdCAgICBpZiAodGhpcy5oYXNPbkNvbm5lY3RGdW5jdGlvbigpKSB7XG5cdCAgICAgIHRoaXMuY2FsbE9uQ29ubmVjdCgpO1xuXHQgICAgfVxuXHQgICAgTkFGLmNvbm5lY3Rpb24uY29ubmVjdCh0aGlzLmRhdGEuc2VydmVyVVJMLCB0aGlzLmRhdGEuYXBwLCB0aGlzLmRhdGEucm9vbSwgdGhpcy5kYXRhLmF1ZGlvKTtcblx0ICB9LFxuXG5cdCAgY2hlY2tEZXByZWNhdGVkUHJvcGVydGllczogZnVuY3Rpb24gY2hlY2tEZXByZWNhdGVkUHJvcGVydGllcygpIHtcblx0ICAgIC8vIE5vIGN1cnJlbnRcblx0ICB9LFxuXG5cdCAgc2V0dXBOZXR3b3JrQWRhcHRlcjogZnVuY3Rpb24gc2V0dXBOZXR3b3JrQWRhcHRlcigpIHtcblx0ICAgIHZhciBhZGFwdGVyTmFtZSA9IHRoaXMuZGF0YS5hZGFwdGVyO1xuXHQgICAgdmFyIGFkYXB0ZXIgPSBOQUYuYWRhcHRlcnMubWFrZShhZGFwdGVyTmFtZSk7XG5cdCAgICBOQUYuY29ubmVjdGlvbi5zZXROZXR3b3JrQWRhcHRlcihhZGFwdGVyKTtcblx0ICB9LFxuXG5cdCAgaGFzT25Db25uZWN0RnVuY3Rpb246IGZ1bmN0aW9uIGhhc09uQ29ubmVjdEZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIHRoaXMuZGF0YS5vbkNvbm5lY3QgIT0gJycgJiYgd2luZG93Lmhhc093blByb3BlcnR5KHRoaXMuZGF0YS5vbkNvbm5lY3QpO1xuXHQgIH0sXG5cblx0ICBjYWxsT25Db25uZWN0OiBmdW5jdGlvbiBjYWxsT25Db25uZWN0KCkge1xuXHQgICAgTkFGLmNvbm5lY3Rpb24ub25Db25uZWN0KHdpbmRvd1t0aGlzLmRhdGEub25Db25uZWN0XSk7XG5cdCAgfSxcblxuXHQgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuXHQgICAgTkFGLmxvZy53cml0ZSgnbmV0d29ya2VkLXNjZW5lIGRpc2Nvbm5lY3RlZCcpO1xuXHQgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjb25uZWN0JywgdGhpcy5jb25uZWN0KTtcblx0ICAgIE5BRi5jb25uZWN0aW9uLmRpc2Nvbm5lY3QoKTtcblx0ICB9XG5cdH0pO1xuXG4vKioqLyB9KSxcbi8qIDU5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBuYWYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KTtcblx0dmFyIGNvbXBvbmVudEhlbHBlciA9IF9fd2VicGFja19yZXF1aXJlX18oNjApO1xuXHR2YXIgQ29tcHJlc3NvciA9IF9fd2VicGFja19yZXF1aXJlX18oNjQpO1xuXHR2YXIgYmluZCA9IEFGUkFNRS51dGlscy5iaW5kO1xuXG5cdEFGUkFNRS5yZWdpc3RlckNvbXBvbmVudCgnbmV0d29ya2VkJywge1xuXHQgIHNjaGVtYToge1xuXHQgICAgdGVtcGxhdGU6IHsgZGVmYXVsdDogJycgfSxcblx0ICAgIHNob3dMb2NhbFRlbXBsYXRlOiB7IGRlZmF1bHQ6IHRydWUgfSxcblxuXHQgICAgbmV0d29ya0lkOiB7IGRlZmF1bHQ6ICcnIH0sXG5cdCAgICBvd25lcjogeyBkZWZhdWx0OiAnJyB9XG5cdCAgfSxcblxuXHQgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7XG5cdCAgICB0aGlzLk9XTkVSU0hJUF9HQUlORUQgPSAnb3duZXJzaGlwLWdhaW5lZCc7XG5cdCAgICB0aGlzLk9XTkVSU0hJUF9DSEFOR0VEID0gJ293bmVyc2hpcC1jaGFuZ2VkJztcblx0ICAgIHRoaXMuT1dORVJTSElQX0xPU1QgPSAnb3duZXJzaGlwLWxvc3QnO1xuXG5cdCAgICB2YXIgd2FzQ3JlYXRlZEJ5TmV0d29yayA9IHRoaXMud2FzQ3JlYXRlZEJ5TmV0d29yaygpO1xuXG5cdCAgICB0aGlzLm9uQ29ubmVjdGVkID0gYmluZCh0aGlzLm9uQ29ubmVjdGVkLCB0aGlzKTtcblx0ICAgIHRoaXMub25TeW5jQWxsID0gYmluZCh0aGlzLm9uU3luY0FsbCwgdGhpcyk7XG5cdCAgICB0aGlzLnN5bmNEaXJ0eSA9IGJpbmQodGhpcy5zeW5jRGlydHksIHRoaXMpO1xuXHQgICAgdGhpcy5uZXR3b3JrVXBkYXRlSGFuZGxlciA9IGJpbmQodGhpcy5uZXR3b3JrVXBkYXRlSGFuZGxlciwgdGhpcyk7XG5cblx0ICAgIHRoaXMuY2FjaGVkRGF0YSA9IHt9O1xuXHQgICAgdGhpcy5pbml0TmV0d29ya1BhcmVudCgpO1xuXG5cdCAgICBpZiAodGhpcy5kYXRhLm5ldHdvcmtJZCA9PT0gJycpIHtcblx0ICAgICAgdGhpcy5lbC5zZXRBdHRyaWJ1dGUodGhpcy5uYW1lLCB7IG5ldHdvcmtJZDogTkFGLnV0aWxzLmNyZWF0ZU5ldHdvcmtJZCgpIH0pO1xuXHQgICAgfVxuXG5cdCAgICBpZiAodGhpcy5kYXRhLnRlbXBsYXRlICE9ICcnKSB7XG5cdCAgICAgIHRoaXMuaW5pdFRlbXBsYXRlKCk7XG5cdCAgICB9XG5cblx0ICAgIGlmICh3YXNDcmVhdGVkQnlOZXR3b3JrKSB7XG5cdCAgICAgIHRoaXMuZmlyc3RVcGRhdGUoKTtcblx0ICAgICAgdGhpcy5hdHRhY2hMZXJwKCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB0aGlzLnJlZ2lzdGVyRW50aXR5KHRoaXMuZGF0YS5uZXR3b3JrSWQpO1xuXHQgICAgfVxuXG5cdCAgICB0aGlzLmxhc3RPd25lclRpbWUgPSAtMTtcblxuXHQgICAgaWYgKE5BRi5jbGllbnRJZCkge1xuXHQgICAgICB0aGlzLm9uQ29ubmVjdGVkKCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2Nvbm5lY3RlZCcsIHRoaXMub25Db25uZWN0ZWQsIGZhbHNlKTtcblx0ICAgIH1cblxuXHQgICAgZG9jdW1lbnQuYm9keS5kaXNwYXRjaEV2ZW50KHRoaXMuZW50aXR5Q3JlYXRlZEV2ZW50KCkpO1xuXHQgIH0sXG5cblx0ICB0YWtlT3duZXJzaGlwOiBmdW5jdGlvbiB0YWtlT3duZXJzaGlwKCkge1xuXHQgICAgdmFyIG93bmVyID0gdGhpcy5kYXRhLm93bmVyO1xuXHQgICAgdmFyIGxhc3RPd25lclRpbWUgPSB0aGlzLmxhc3RPd25lclRpbWU7XG5cdCAgICB2YXIgbm93ID0gTkFGLmNvbm5lY3Rpb24uZ2V0U2VydmVyVGltZSgpO1xuXHQgICAgaWYgKG93bmVyICYmICF0aGlzLmlzTWluZSgpICYmIGxhc3RPd25lclRpbWUgPCBub3cpIHtcblx0ICAgICAgdGhpcy5sYXN0T3duZXJUaW1lID0gbm93O1xuXHQgICAgICB0aGlzLnJlbW92ZUxlcnAoKTtcblx0ICAgICAgdGhpcy5lbC5zZXRBdHRyaWJ1dGUoJ25ldHdvcmtlZCcsIHsgb3duZXI6IE5BRi5jbGllbnRJZCB9KTtcblx0ICAgICAgdGhpcy5zeW5jQWxsKCk7XG5cdCAgICAgIHRoaXMuZWwuZW1pdCh0aGlzLk9XTkVSU0hJUF9HQUlORUQsIHsgZWw6IHRoaXMuZWwsIG9sZE93bmVyOiBvd25lciB9KTtcblx0ICAgICAgdGhpcy5lbC5lbWl0KHRoaXMuT1dORVJTSElQX0NIQU5HRUQsIHsgZWw6IHRoaXMuZWwsIG9sZE93bmVyOiBvd25lciwgbmV3T3duZXI6IE5BRi5jbGllbnRJZCB9KTtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdCAgfSxcblxuXHQgIHdhc0NyZWF0ZWRCeU5ldHdvcms6IGZ1bmN0aW9uIHdhc0NyZWF0ZWRCeU5ldHdvcmsoKSB7XG5cdCAgICByZXR1cm4gISF0aGlzLmVsLmZpcnN0VXBkYXRlRGF0YTtcblx0ICB9LFxuXG5cdCAgaW5pdE5ldHdvcmtQYXJlbnQ6IGZ1bmN0aW9uIGluaXROZXR3b3JrUGFyZW50KCkge1xuXHQgICAgdmFyIHBhcmVudEVsID0gdGhpcy5lbC5wYXJlbnRFbGVtZW50O1xuXHQgICAgaWYgKHBhcmVudEVsLmhhc093blByb3BlcnR5KCdjb21wb25lbnRzJykgJiYgcGFyZW50RWwuY29tcG9uZW50cy5oYXNPd25Qcm9wZXJ0eSgnbmV0d29ya2VkJykpIHtcblx0ICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnRFbDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgYXR0YWNoTGVycDogZnVuY3Rpb24gYXR0YWNoTGVycCgpIHtcblx0ICAgIGlmIChOQUYub3B0aW9ucy51c2VMZXJwKSB7XG5cdCAgICAgIHRoaXMuZWwuc2V0QXR0cmlidXRlKCdsZXJwJywgJycpO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICByZW1vdmVMZXJwOiBmdW5jdGlvbiByZW1vdmVMZXJwKCkge1xuXHQgICAgaWYgKE5BRi5vcHRpb25zLnVzZUxlcnApIHtcblx0ICAgICAgdGhpcy5lbC5yZW1vdmVBdHRyaWJ1dGUoJ2xlcnAnKTtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgcmVnaXN0ZXJFbnRpdHk6IGZ1bmN0aW9uIHJlZ2lzdGVyRW50aXR5KG5ldHdvcmtJZCkge1xuXHQgICAgTkFGLmVudGl0aWVzLnJlZ2lzdGVyRW50aXR5KG5ldHdvcmtJZCwgdGhpcy5lbCk7XG5cdCAgfSxcblxuXHQgIGluaXRUZW1wbGF0ZTogZnVuY3Rpb24gaW5pdFRlbXBsYXRlKCkge1xuXHQgICAgdmFyIGRhdGEgPSB0aGlzLmRhdGE7XG5cdCAgICB2YXIgc2hvd1RlbXBsYXRlID0gIXRoaXMud2FzQ3JlYXRlZEJ5TmV0d29yaygpICYmIGRhdGEuc2hvd0xvY2FsVGVtcGxhdGU7XG5cdCAgICB0aGlzLmF0dGFjaEFuZFNob3dUZW1wbGF0ZShkYXRhLnRlbXBsYXRlLCBkYXRhLnNob3dMb2NhbFRlbXBsYXRlKTtcblx0ICB9LFxuXG5cdCAgYXR0YWNoQW5kU2hvd1RlbXBsYXRlOiBmdW5jdGlvbiBhdHRhY2hBbmRTaG93VGVtcGxhdGUodGVtcGxhdGUsIHNob3cpIHtcblx0ICAgIHZhciBlbCA9IHRoaXMuZWw7XG5cdCAgICB2YXIgZGF0YSA9IHRoaXMuZGF0YTtcblxuXHQgICAgaWYgKHRoaXMudGVtcGxhdGVFbCkge1xuXHQgICAgICBlbC5yZW1vdmVDaGlsZCh0aGlzLnRlbXBsYXRlRWwpO1xuXHQgICAgfVxuXG5cdCAgICB2YXIgdGVtcGxhdGVDaGlsZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EtZW50aXR5Jyk7XG5cdCAgICB0ZW1wbGF0ZUNoaWxkLnNldEF0dHJpYnV0ZSgndGVtcGxhdGUnLCAnc3JjOicgKyB0ZW1wbGF0ZSk7XG5cdCAgICB0ZW1wbGF0ZUNoaWxkLnNldEF0dHJpYnV0ZSgndmlzaWJsZScsIHNob3cpO1xuXG5cdCAgICBlbC5hcHBlbmRDaGlsZCh0ZW1wbGF0ZUNoaWxkKTtcblx0ICAgIHRoaXMudGVtcGxhdGVFbCA9IHRlbXBsYXRlQ2hpbGQ7XG5cdCAgfSxcblxuXHQgIGZpcnN0VXBkYXRlOiBmdW5jdGlvbiBmaXJzdFVwZGF0ZSgpIHtcblx0ICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cblx0ICAgIHZhciBlbnRpdHlEYXRhID0gdGhpcy5lbC5maXJzdFVwZGF0ZURhdGE7XG5cdCAgICB0aGlzLm5ldHdvcmtVcGRhdGUoZW50aXR5RGF0YSk7IC8vIHVwZGF0ZXMgcm9vdCBlbGVtZW50IG9ubHlcblxuXHQgICAgdGhpcy53YWl0Rm9yVGVtcGxhdGUoZnVuY3Rpb24gKCkge1xuXHQgICAgICBfdGhpcy5uZXR3b3JrVXBkYXRlKGVudGl0eURhdGEpO1xuXHQgICAgfSk7XG5cdCAgfSxcblxuXHQgIHdhaXRGb3JUZW1wbGF0ZTogZnVuY3Rpb24gd2FpdEZvclRlbXBsYXRlKGNhbGxiYWNrKSB7XG5cdCAgICAvLyB3YWl0IGZvciB0ZW1wbGF0ZSB0byByZW5kZXIgdGhlbiBjYWxsYmFja1xuXHQgICAgaWYgKHRoaXMudGVtcGxhdGVFbCkge1xuXHQgICAgICB0aGlzLnRlbXBsYXRlRWwuYWRkRXZlbnRMaXN0ZW5lcigndGVtcGxhdGVyZW5kZXJlZCcsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBzZXRUaW1lb3V0KGNhbGxiYWNrKTtcblx0ICAgICAgfSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBzZXRUaW1lb3V0KGNhbGxiYWNrKTtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgb25Db25uZWN0ZWQ6IGZ1bmN0aW9uIG9uQ29ubmVjdGVkKCkge1xuXHQgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cblx0ICAgIGlmICh0aGlzLmRhdGEub3duZXIgPT09ICcnKSB7XG5cdCAgICAgIHRoaXMubGFzdE93bmVyVGltZSA9IE5BRi5jb25uZWN0aW9uLmdldFNlcnZlclRpbWUoKTtcblx0ICAgICAgdGhpcy5lbC5zZXRBdHRyaWJ1dGUodGhpcy5uYW1lLCB7IG93bmVyOiBOQUYuY2xpZW50SWQgfSk7XG5cblx0ICAgICAgdGhpcy53YWl0Rm9yVGVtcGxhdGUoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIF90aGlzMi5zeW5jQWxsKCk7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXG5cdCAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Nvbm5lY3RlZCcsIHRoaXMub25Db25uZWN0ZWQsIGZhbHNlKTtcblx0ICB9LFxuXG5cdCAgaXNNaW5lOiBmdW5jdGlvbiBpc01pbmUoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5kYXRhLm93bmVyID09PSBOQUYuY2xpZW50SWQ7XG5cdCAgfSxcblxuXHQgIHBsYXk6IGZ1bmN0aW9uIHBsYXkoKSB7XG5cdCAgICB0aGlzLmJpbmRFdmVudHMoKTtcblx0ICB9LFxuXG5cdCAgYmluZEV2ZW50czogZnVuY3Rpb24gYmluZEV2ZW50cygpIHtcblx0ICAgIHZhciBlbCA9IHRoaXMuZWw7XG5cdCAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdzeW5jJywgdGhpcy5zeW5jRGlydHkpO1xuXHQgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignc3luY0FsbCcsIHRoaXMub25TeW5jQWxsKTtcblx0ICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ25ldHdvcmtVcGRhdGUnLCB0aGlzLm5ldHdvcmtVcGRhdGVIYW5kbGVyKTtcblx0ICB9LFxuXG5cdCAgcGF1c2U6IGZ1bmN0aW9uIHBhdXNlKCkge1xuXHQgICAgdGhpcy51bmJpbmRFdmVudHMoKTtcblx0ICB9LFxuXG5cdCAgdW5iaW5kRXZlbnRzOiBmdW5jdGlvbiB1bmJpbmRFdmVudHMoKSB7XG5cdCAgICB2YXIgZWwgPSB0aGlzLmVsO1xuXHQgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignc3luYycsIHRoaXMuc3luY0RpcnR5KTtcblx0ICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3N5bmNBbGwnLCB0aGlzLm9uU3luY0FsbCk7XG5cdCAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCduZXR3b3JrVXBkYXRlJywgdGhpcy5uZXR3b3JrVXBkYXRlSGFuZGxlcik7XG5cdCAgfSxcblxuXHQgIHRpY2s6IGZ1bmN0aW9uIHRpY2soKSB7XG5cdCAgICBpZiAodGhpcy5pc01pbmUoKSAmJiB0aGlzLm5lZWRzVG9TeW5jKCkpIHtcblx0ICAgICAgdGhpcy5zeW5jRGlydHkoKTtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgb25TeW5jQWxsOiBmdW5jdGlvbiBvblN5bmNBbGwoZSkge1xuXHQgICAgdmFyIHRhcmdldENsaWVudElkID0gZS5kZXRhaWwudGFyZ2V0Q2xpZW50SWQ7XG5cblx0ICAgIHRoaXMuc3luY0FsbCh0YXJnZXRDbGllbnRJZCk7XG5cdCAgfSxcblxuXHQgIC8qIFNlbmRpbmcgdXBkYXRlcyAqL1xuXG5cdCAgc3luY0FsbDogZnVuY3Rpb24gc3luY0FsbCh0YXJnZXRDbGllbnRJZCkge1xuXHQgICAgaWYgKCF0aGlzLmNhblN5bmMoKSkge1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICB0aGlzLnVwZGF0ZU5leHRTeW5jVGltZSgpO1xuXHQgICAgdmFyIHN5bmNlZENvbXBzID0gdGhpcy5nZXRBbGxTeW5jZWRDb21wb25lbnRzKCk7XG5cdCAgICB2YXIgY29tcG9uZW50cyA9IGNvbXBvbmVudEhlbHBlci5nYXRoZXJDb21wb25lbnRzRGF0YSh0aGlzLmVsLCBzeW5jZWRDb21wcyk7XG5cdCAgICB2YXIgc3luY0RhdGEgPSB0aGlzLmNyZWF0ZVN5bmNEYXRhKGNvbXBvbmVudHMpO1xuXHQgICAgLy8gY29uc29sZS5lcnJvcignc3luY0FsbCcsIHN5bmNEYXRhLCBOQUYuY2xpZW50SWQpO1xuXHQgICAgaWYgKHRhcmdldENsaWVudElkKSB7XG5cdCAgICAgIE5BRi5jb25uZWN0aW9uLnNlbmREYXRhR3VhcmFudGVlZCh0YXJnZXRDbGllbnRJZCwgJ3UnLCBzeW5jRGF0YSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBOQUYuY29ubmVjdGlvbi5icm9hZGNhc3REYXRhR3VhcmFudGVlZCgndScsIHN5bmNEYXRhKTtcblx0ICAgIH1cblx0ICAgIHRoaXMudXBkYXRlQ2FjaGUoY29tcG9uZW50cyk7XG5cdCAgfSxcblxuXHQgIHN5bmNEaXJ0eTogZnVuY3Rpb24gc3luY0RpcnR5KCkge1xuXHQgICAgaWYgKCF0aGlzLmNhblN5bmMoKSkge1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICB0aGlzLnVwZGF0ZU5leHRTeW5jVGltZSgpO1xuXHQgICAgdmFyIHN5bmNlZENvbXBzID0gdGhpcy5nZXRBbGxTeW5jZWRDb21wb25lbnRzKCk7XG5cdCAgICB2YXIgZGlydHlDb21wcyA9IGNvbXBvbmVudEhlbHBlci5maW5kRGlydHlDb21wb25lbnRzKHRoaXMuZWwsIHN5bmNlZENvbXBzLCB0aGlzLmNhY2hlZERhdGEpO1xuXHQgICAgaWYgKGRpcnR5Q29tcHMubGVuZ3RoID09IDApIHtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdmFyIGNvbXBvbmVudHMgPSBjb21wb25lbnRIZWxwZXIuZ2F0aGVyQ29tcG9uZW50c0RhdGEodGhpcy5lbCwgZGlydHlDb21wcyk7XG5cdCAgICB2YXIgc3luY0RhdGEgPSB0aGlzLmNyZWF0ZVN5bmNEYXRhKGNvbXBvbmVudHMpO1xuXHQgICAgaWYgKE5BRi5vcHRpb25zLmNvbXByZXNzU3luY1BhY2tldHMpIHtcblx0ICAgICAgc3luY0RhdGEgPSBDb21wcmVzc29yLmNvbXByZXNzU3luY0RhdGEoc3luY0RhdGEsIHN5bmNlZENvbXBzKTtcblx0ICAgIH1cblx0ICAgIE5BRi5jb25uZWN0aW9uLmJyb2FkY2FzdERhdGEoJ3UnLCBzeW5jRGF0YSk7XG5cdCAgICAvLyBjb25zb2xlLmVycm9yKCdzeW5jRGlydHknLCBzeW5jRGF0YSwgTkFGLmNsaWVudElkKTtcblx0ICAgIHRoaXMudXBkYXRlQ2FjaGUoY29tcG9uZW50cyk7XG5cdCAgfSxcblxuXHQgIGNhblN5bmM6IGZ1bmN0aW9uIGNhblN5bmMoKSB7XG5cdCAgICByZXR1cm4gdGhpcy5kYXRhLm93bmVyICYmIHRoaXMuaXNNaW5lKCk7XG5cdCAgfSxcblxuXHQgIG5lZWRzVG9TeW5jOiBmdW5jdGlvbiBuZWVkc1RvU3luYygpIHtcblx0ICAgIHJldHVybiBOQUYudXRpbHMubm93KCkgPj0gdGhpcy5uZXh0U3luY1RpbWU7XG5cdCAgfSxcblxuXHQgIHVwZGF0ZU5leHRTeW5jVGltZTogZnVuY3Rpb24gdXBkYXRlTmV4dFN5bmNUaW1lKCkge1xuXHQgICAgdGhpcy5uZXh0U3luY1RpbWUgPSBOQUYudXRpbHMubm93KCkgKyAxMDAwIC8gTkFGLm9wdGlvbnMudXBkYXRlUmF0ZTtcblx0ICB9LFxuXG5cdCAgY3JlYXRlU3luY0RhdGE6IGZ1bmN0aW9uIGNyZWF0ZVN5bmNEYXRhKGNvbXBvbmVudHMpIHtcblx0ICAgIHZhciBkYXRhID0gdGhpcy5kYXRhO1xuXHQgICAgdmFyIHN5bmMgPSB7XG5cdCAgICAgIDA6IDAsIC8vIDAgZm9yIG5vdCBjb21wcmVzc2VkXG5cdCAgICAgIG5ldHdvcmtJZDogZGF0YS5uZXR3b3JrSWQsXG5cdCAgICAgIG93bmVyOiBkYXRhLm93bmVyLFxuXHQgICAgICBsYXN0T3duZXJUaW1lOiB0aGlzLmxhc3RPd25lclRpbWUsXG5cdCAgICAgIHRlbXBsYXRlOiBkYXRhLnRlbXBsYXRlLFxuXHQgICAgICBwYXJlbnQ6IHRoaXMuZ2V0UGFyZW50SWQoKSxcblx0ICAgICAgY29tcG9uZW50czogY29tcG9uZW50c1xuXHQgICAgfTtcblx0ICAgIHJldHVybiBzeW5jO1xuXHQgIH0sXG5cblx0ICBnZXRQYXJlbnRJZDogZnVuY3Rpb24gZ2V0UGFyZW50SWQoKSB7XG5cdCAgICB0aGlzLmluaXROZXR3b3JrUGFyZW50KCk7IC8vIFRPRE8gZml4IGNhbGxpbmcgdGhpcyBlYWNoIG5ldHdvcmsgdGlja1xuXHQgICAgaWYgKCF0aGlzLnBhcmVudCkge1xuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHZhciBuZXRDb21wID0gdGhpcy5wYXJlbnQuZ2V0QXR0cmlidXRlKCduZXR3b3JrZWQnKTtcblx0ICAgIHJldHVybiBuZXRDb21wLm5ldHdvcmtJZDtcblx0ICB9LFxuXG5cdCAgZ2V0QWxsU3luY2VkQ29tcG9uZW50czogZnVuY3Rpb24gZ2V0QWxsU3luY2VkQ29tcG9uZW50cygpIHtcblx0ICAgIHJldHVybiBOQUYuc2NoZW1hcy5nZXRDb21wb25lbnRzKHRoaXMuZGF0YS50ZW1wbGF0ZSk7XG5cdCAgfSxcblxuXHQgIHVwZGF0ZUNhY2hlOiBmdW5jdGlvbiB1cGRhdGVDYWNoZShjb21wb25lbnRzKSB7XG5cdCAgICBmb3IgKHZhciBuYW1lIGluIGNvbXBvbmVudHMpIHtcblx0ICAgICAgdGhpcy5jYWNoZWREYXRhW25hbWVdID0gY29tcG9uZW50c1tuYW1lXTtcblx0ICAgIH1cblx0ICB9LFxuXG5cdCAgLyogUmVjZWl2aW5nIHVwZGF0ZXMgKi9cblxuXHQgIG5ldHdvcmtVcGRhdGVIYW5kbGVyOiBmdW5jdGlvbiBuZXR3b3JrVXBkYXRlSGFuZGxlcihyZWNlaXZlZCkge1xuXHQgICAgdmFyIGVudGl0eURhdGEgPSByZWNlaXZlZC5kZXRhaWwuZW50aXR5RGF0YTtcblx0ICAgIHRoaXMubmV0d29ya1VwZGF0ZShlbnRpdHlEYXRhKTtcblx0ICB9LFxuXG5cdCAgbmV0d29ya1VwZGF0ZTogZnVuY3Rpb24gbmV0d29ya1VwZGF0ZShlbnRpdHlEYXRhKSB7XG5cdCAgICBpZiAoZW50aXR5RGF0YVswXSA9PSAxKSB7XG5cdCAgICAgIGVudGl0eURhdGEgPSBDb21wcmVzc29yLmRlY29tcHJlc3NTeW5jRGF0YShlbnRpdHlEYXRhLCB0aGlzLmdldEFsbFN5bmNlZENvbXBvbmVudHMoKSk7XG5cdCAgICB9XG5cblx0ICAgIC8vIEF2b2lkIHVwZGF0aW5nIGNvbXBvbmVudHMgaWYgdGhlIGVudGl0eSBkYXRhIHJlY2VpdmVkIGRpZCBub3QgY29tZSBmcm9tIHRoZSBjdXJyZW50IG93bmVyLlxuXHQgICAgaWYgKGVudGl0eURhdGEubGFzdE93bmVyVGltZSA8IHRoaXMubGFzdE93bmVyVGltZSB8fCB0aGlzLmxhc3RPd25lclRpbWUgPT09IGVudGl0eURhdGEubGFzdE93bmVyVGltZSAmJiB0aGlzLmRhdGEub3duZXIgPiBlbnRpdHlEYXRhLm93bmVyKSB7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblxuXHQgICAgaWYgKHRoaXMuZGF0YS5vd25lciAhPT0gZW50aXR5RGF0YS5vd25lcikge1xuXHQgICAgICB2YXIgd2FzTWluZSA9IHRoaXMuaXNNaW5lKCk7XG5cdCAgICAgIHRoaXMubGFzdE93bmVyVGltZSA9IGVudGl0eURhdGEubGFzdE93bmVyVGltZTtcblx0ICAgICAgdGhpcy5hdHRhY2hMZXJwKCk7XG5cblx0ICAgICAgdmFyIG9sZE93bmVyID0gdGhpcy5kYXRhLm93bmVyO1xuXHQgICAgICB2YXIgbmV3T3duZXIgPSBlbnRpdHlEYXRhLm93bmVyO1xuXHQgICAgICBpZiAod2FzTWluZSkge1xuXHQgICAgICAgIHRoaXMuZWwuZW1pdCh0aGlzLk9XTkVSU0hJUF9MT1NULCB7IGVsOiB0aGlzLmVsLCBuZXdPd25lcjogbmV3T3duZXIgfSk7XG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy5lbC5lbWl0KHRoaXMuT1dORVJTSElQX0NIQU5HRUQsIHsgZWw6IHRoaXMuZWwsIG9sZE93bmVyOiBvbGRPd25lciwgbmV3T3duZXI6IG5ld093bmVyIH0pO1xuXG5cdCAgICAgIHRoaXMuZWwuc2V0QXR0cmlidXRlKCduZXR3b3JrZWQnLCB7IG93bmVyOiBlbnRpdHlEYXRhLm93bmVyIH0pO1xuXHQgICAgfVxuXHQgICAgdGhpcy51cGRhdGVDb21wb25lbnRzKGVudGl0eURhdGEuY29tcG9uZW50cyk7XG5cdCAgfSxcblxuXHQgIHVwZGF0ZUNvbXBvbmVudHM6IGZ1bmN0aW9uIHVwZGF0ZUNvbXBvbmVudHMoY29tcG9uZW50cykge1xuXHQgICAgdmFyIGVsID0gdGhpcy5lbDtcblxuXHQgICAgZm9yICh2YXIga2V5IGluIGNvbXBvbmVudHMpIHtcblx0ICAgICAgaWYgKHRoaXMuaXNTeW5jYWJsZUNvbXBvbmVudChrZXkpKSB7XG5cdCAgICAgICAgdmFyIGRhdGEgPSBjb21wb25lbnRzW2tleV07XG5cdCAgICAgICAgaWYgKE5BRi51dGlscy5pc0NoaWxkU2NoZW1hS2V5KGtleSkpIHtcblx0ICAgICAgICAgIHZhciBzY2hlbWEgPSBOQUYudXRpbHMua2V5VG9DaGlsZFNjaGVtYShrZXkpO1xuXHQgICAgICAgICAgdmFyIGNoaWxkRWwgPSBzY2hlbWEuc2VsZWN0b3IgPyBlbC5xdWVyeVNlbGVjdG9yKHNjaGVtYS5zZWxlY3RvcikgOiBlbDtcblx0ICAgICAgICAgIGlmIChjaGlsZEVsKSB7XG5cdCAgICAgICAgICAgIC8vIElzIGZhbHNlIHdoZW4gZmlyc3QgY2FsbGVkIGluIGluaXRcblx0ICAgICAgICAgICAgaWYgKHNjaGVtYS5wcm9wZXJ0eSkge1xuXHQgICAgICAgICAgICAgIGNoaWxkRWwuc2V0QXR0cmlidXRlKHNjaGVtYS5jb21wb25lbnQsIHNjaGVtYS5wcm9wZXJ0eSwgZGF0YSk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgY2hpbGRFbC5zZXRBdHRyaWJ1dGUoc2NoZW1hLmNvbXBvbmVudCwgZGF0YSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKGtleSwgZGF0YSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIGlzU3luY2FibGVDb21wb25lbnQ6IGZ1bmN0aW9uIGlzU3luY2FibGVDb21wb25lbnQoa2V5KSB7XG5cdCAgICBpZiAoTkFGLnV0aWxzLmlzQ2hpbGRTY2hlbWFLZXkoa2V5KSkge1xuXHQgICAgICB2YXIgc2NoZW1hID0gTkFGLnV0aWxzLmtleVRvQ2hpbGRTY2hlbWEoa2V5KTtcblx0ICAgICAgcmV0dXJuIHRoaXMuaGFzVGhpc0NoaWxkU2NoZW1hKHNjaGVtYSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gdGhpcy5nZXRBbGxTeW5jZWRDb21wb25lbnRzKCkuaW5kZXhPZihrZXkpICE9IC0xO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICBoYXNUaGlzQ2hpbGRTY2hlbWE6IGZ1bmN0aW9uIGhhc1RoaXNDaGlsZFNjaGVtYShzY2hlbWEpIHtcblx0ICAgIHZhciBzY2hlbWFDb21wb25lbnRzID0gdGhpcy5nZXRBbGxTeW5jZWRDb21wb25lbnRzKCk7XG5cdCAgICBmb3IgKHZhciBpIGluIHNjaGVtYUNvbXBvbmVudHMpIHtcblx0ICAgICAgdmFyIGxvY2FsQ2hpbGRTY2hlbWEgPSBzY2hlbWFDb21wb25lbnRzW2ldO1xuXHQgICAgICBpZiAoTkFGLnV0aWxzLmNoaWxkU2NoZW1hRXF1YWwobG9jYWxDaGlsZFNjaGVtYSwgc2NoZW1hKSkge1xuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdCAgfSxcblxuXHQgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuXHQgICAgaWYgKHRoaXMuaXNNaW5lKCkgJiYgTkFGLmNvbm5lY3Rpb24uaXNDb25uZWN0ZWQoKSkge1xuXHQgICAgICB2YXIgc3luY0RhdGEgPSB7IG5ldHdvcmtJZDogdGhpcy5kYXRhLm5ldHdvcmtJZCB9O1xuXHQgICAgICBOQUYuY29ubmVjdGlvbi5icm9hZGNhc3REYXRhR3VhcmFudGVlZCgncicsIHN5bmNEYXRhKTtcblx0ICAgIH1cblx0ICAgIGRvY3VtZW50LmJvZHkuZGlzcGF0Y2hFdmVudCh0aGlzLmVudGl0eVJlbW92ZWRFdmVudCh0aGlzLmRhdGEubmV0d29ya0lkKSk7XG5cdCAgfSxcblxuXHQgIGVudGl0eUNyZWF0ZWRFdmVudDogZnVuY3Rpb24gZW50aXR5Q3JlYXRlZEV2ZW50KCkge1xuXHQgICAgcmV0dXJuIG5ldyBDdXN0b21FdmVudCgnZW50aXR5Q3JlYXRlZCcsIHsgZGV0YWlsOiB7IGVsOiB0aGlzLmVsIH0gfSk7XG5cdCAgfSxcblx0ICBlbnRpdHlSZW1vdmVkRXZlbnQ6IGZ1bmN0aW9uIGVudGl0eVJlbW92ZWRFdmVudChuZXR3b3JrSWQpIHtcblx0ICAgIHJldHVybiBuZXcgQ3VzdG9tRXZlbnQoJ2VudGl0eVJlbW92ZWQnLCB7IGRldGFpbDogeyBuZXR3b3JrSWQ6IG5ldHdvcmtJZCB9IH0pO1xuXHQgIH1cblx0fSk7XG5cbi8qKiovIH0pLFxuLyogNjAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGRlZXBFcXVhbCA9IF9fd2VicGFja19yZXF1aXJlX18oNjEpO1xuXG5cdHZhciBPQkpFQ1QzRF9DT01QT05FTlRTID0gWydwb3NpdGlvbicsICdyb3RhdGlvbicsICdzY2FsZScsICd2aXNpYmxlJ107XG5cblx0bW9kdWxlLmV4cG9ydHMuZ2F0aGVyQ29tcG9uZW50c0RhdGEgPSBmdW5jdGlvbiAoZWwsIHNjaGVtYUNvbXBvbmVudHMpIHtcblx0ICB2YXIgY29tcHNEYXRhID0ge307XG5cblx0ICBmb3IgKHZhciBpIGluIHNjaGVtYUNvbXBvbmVudHMpIHtcblx0ICAgIHZhciBlbGVtZW50ID0gc2NoZW1hQ29tcG9uZW50c1tpXTtcblxuXHQgICAgaWYgKHR5cGVvZiBlbGVtZW50ID09PSAnc3RyaW5nJykge1xuXHQgICAgICBpZiAoZWwuZ2V0QXR0cmlidXRlKGVsZW1lbnQpKSB7XG5cdCAgICAgICAgdmFyIG5hbWUgPSBlbGVtZW50O1xuXHQgICAgICAgIGNvbXBzRGF0YVtuYW1lXSA9IEFGUkFNRS51dGlscy5jbG9uZShlbC5nZXRBdHRyaWJ1dGUobmFtZSkpO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB2YXIgY2hpbGRLZXkgPSBOQUYudXRpbHMuY2hpbGRTY2hlbWFUb0tleShlbGVtZW50KTtcblx0ICAgICAgdmFyIGNoaWxkID0gZWxlbWVudC5zZWxlY3RvciA/IGVsLnF1ZXJ5U2VsZWN0b3IoZWxlbWVudC5zZWxlY3RvcikgOiBlbDtcblx0ICAgICAgaWYgKGNoaWxkKSB7XG5cdCAgICAgICAgaWYgKGNoaWxkLmdldEF0dHJpYnV0ZShlbGVtZW50LmNvbXBvbmVudCkpIHtcblx0ICAgICAgICAgIHZhciBkYXRhID0gZWxlbWVudC5wcm9wZXJ0eSA/IGVsLmdldEF0dHJpYnV0ZShlbGVtZW50LmNvbXBvbmVudClbZWxlbWVudC5wcm9wZXJ0eV0gOiBlbC5nZXRBdHRyaWJ1dGUoZWxlbWVudC5jb21wb25lbnQpO1xuXHQgICAgICAgICAgY29tcHNEYXRhW2NoaWxkS2V5XSA9IEFGUkFNRS51dGlscy5jbG9uZShkYXRhKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgLy8gTkFGLmxvZy53cml0ZSgnQ29tcG9uZW50SGVscGVyLmdhdGhlckNvbXBvbmVudHNEYXRhOiBDb3VsZCBub3QgZmluZCBjb21wb25lbnQgJyArIGVsZW1lbnQuY29tcG9uZW50ICsgJyBvbiBjaGlsZCAnLCBjaGlsZCwgY2hpbGQuY29tcG9uZW50cyk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiBjb21wc0RhdGE7XG5cdH07XG5cblx0bW9kdWxlLmV4cG9ydHMuZmluZERpcnR5Q29tcG9uZW50cyA9IGZ1bmN0aW9uIChlbCwgc3luY2VkQ29tcHMsIGNhY2hlZERhdGEpIHtcblx0ICB2YXIgZGlydHlDb21wcyA9IFtdO1xuXG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBzeW5jZWRDb21wcy5sZW5ndGg7IGkrKykge1xuXHQgICAgdmFyIHNjaGVtYSA9IHN5bmNlZENvbXBzW2ldO1xuXHQgICAgdmFyIGNvbXBLZXk7XG5cdCAgICB2YXIgbmV3Q29tcERhdGE7XG5cblx0ICAgIHZhciBpc1Jvb3QgPSB0eXBlb2Ygc2NoZW1hID09PSAnc3RyaW5nJztcblx0ICAgIGlmIChpc1Jvb3QpIHtcblx0ICAgICAgdmFyIGhhc0NvbXBvbmVudCA9IGVsLmdldEF0dHJpYnV0ZShzY2hlbWEpO1xuXHQgICAgICBpZiAoIWhhc0NvbXBvbmVudCAmJiBPQkpFQ1QzRF9DT01QT05FTlRTLmluZGV4T2Yoc3luY2VkQ29tcHNbaV0pID09PSAtMSkge1xuXHQgICAgICAgIGNvbnRpbnVlO1xuXHQgICAgICB9XG5cdCAgICAgIGNvbXBLZXkgPSBzY2hlbWE7XG5cdCAgICAgIG5ld0NvbXBEYXRhID0gZWwuZ2V0QXR0cmlidXRlKHNjaGVtYSk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAvLyBpcyBjaGlsZFxuXHQgICAgICB2YXIgc2VsZWN0b3IgPSBzY2hlbWEuc2VsZWN0b3I7XG5cdCAgICAgIHZhciBjb21wTmFtZSA9IHNjaGVtYS5jb21wb25lbnQ7XG5cdCAgICAgIHZhciBwcm9wTmFtZSA9IHNjaGVtYS5wcm9wZXJ0eTtcblx0ICAgICAgdmFyIGNoaWxkRWwgPSBzZWxlY3RvciA/IGVsLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpIDogZWw7XG5cdCAgICAgIHZhciBoYXNDb21wb25lbnQgPSBjaGlsZEVsICYmIGNoaWxkRWwuZ2V0QXR0cmlidXRlKGNvbXBOYW1lKTtcblx0ICAgICAgaWYgKCFoYXNDb21wb25lbnQpIHtcblx0ICAgICAgICBjb250aW51ZTtcblx0ICAgICAgfVxuXHQgICAgICBjb21wS2V5ID0gTkFGLnV0aWxzLmNoaWxkU2NoZW1hVG9LZXkoc2NoZW1hKTtcblx0ICAgICAgbmV3Q29tcERhdGEgPSBjaGlsZEVsLmdldEF0dHJpYnV0ZShjb21wTmFtZSk7XG5cdCAgICAgIGlmIChwcm9wTmFtZSkge1xuXHQgICAgICAgIG5ld0NvbXBEYXRhID0gbmV3Q29tcERhdGFbcHJvcE5hbWVdO1xuXHQgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIHZhciBjb21wSXNDYWNoZWQgPSBjYWNoZWREYXRhLmhhc093blByb3BlcnR5KGNvbXBLZXkpO1xuXHQgICAgaWYgKCFjb21wSXNDYWNoZWQpIHtcblx0ICAgICAgZGlydHlDb21wcy5wdXNoKHNjaGVtYSk7XG5cdCAgICAgIGNvbnRpbnVlO1xuXHQgICAgfVxuXG5cdCAgICB2YXIgb2xkQ29tcERhdGEgPSBjYWNoZWREYXRhW2NvbXBLZXldO1xuXHQgICAgaWYgKCFkZWVwRXF1YWwob2xkQ29tcERhdGEsIG5ld0NvbXBEYXRhKSkge1xuXHQgICAgICBkaXJ0eUNvbXBzLnB1c2goc2NoZW1hKTtcblx0ICAgIH1cblx0ICB9XG5cblx0ICByZXR1cm4gZGlydHlDb21wcztcblx0fTtcblxuLyoqKi8gfSksXG4vKiA2MSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cblx0dmFyIHBTbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblx0dmFyIG9iamVjdEtleXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYyKTtcblx0dmFyIGlzQXJndW1lbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Myk7XG5cblx0dmFyIGRlZXBFcXVhbCA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFjdHVhbCwgZXhwZWN0ZWQsIG9wdHMpIHtcblx0ICBpZiAoIW9wdHMpIG9wdHMgPSB7fTtcblx0ICAvLyA3LjEuIEFsbCBpZGVudGljYWwgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBhcyBkZXRlcm1pbmVkIGJ5ID09PS5cblx0ICBpZiAoYWN0dWFsID09PSBleHBlY3RlZCkge1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfSBlbHNlIGlmIChhY3R1YWwgaW5zdGFuY2VvZiBEYXRlICYmIGV4cGVjdGVkIGluc3RhbmNlb2YgRGF0ZSkge1xuXHQgICAgcmV0dXJuIGFjdHVhbC5nZXRUaW1lKCkgPT09IGV4cGVjdGVkLmdldFRpbWUoKTtcblxuXHQgICAgLy8gNy4zLiBPdGhlciBwYWlycyB0aGF0IGRvIG5vdCBib3RoIHBhc3MgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnLFxuXHQgICAgLy8gZXF1aXZhbGVuY2UgaXMgZGV0ZXJtaW5lZCBieSA9PS5cblx0ICB9IGVsc2UgaWYgKCFhY3R1YWwgfHwgIWV4cGVjdGVkIHx8ICh0eXBlb2YgYWN0dWFsID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihhY3R1YWwpKSAhPSAnb2JqZWN0JyAmJiAodHlwZW9mIGV4cGVjdGVkID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihleHBlY3RlZCkpICE9ICdvYmplY3QnKSB7XG5cdCAgICByZXR1cm4gb3B0cy5zdHJpY3QgPyBhY3R1YWwgPT09IGV4cGVjdGVkIDogYWN0dWFsID09IGV4cGVjdGVkO1xuXG5cdCAgICAvLyA3LjQuIEZvciBhbGwgb3RoZXIgT2JqZWN0IHBhaXJzLCBpbmNsdWRpbmcgQXJyYXkgb2JqZWN0cywgZXF1aXZhbGVuY2UgaXNcblx0ICAgIC8vIGRldGVybWluZWQgYnkgaGF2aW5nIHRoZSBzYW1lIG51bWJlciBvZiBvd25lZCBwcm9wZXJ0aWVzIChhcyB2ZXJpZmllZFxuXHQgICAgLy8gd2l0aCBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwpLCB0aGUgc2FtZSBzZXQgb2Yga2V5c1xuXHQgICAgLy8gKGFsdGhvdWdoIG5vdCBuZWNlc3NhcmlseSB0aGUgc2FtZSBvcmRlciksIGVxdWl2YWxlbnQgdmFsdWVzIGZvciBldmVyeVxuXHQgICAgLy8gY29ycmVzcG9uZGluZyBrZXksIGFuZCBhbiBpZGVudGljYWwgJ3Byb3RvdHlwZScgcHJvcGVydHkuIE5vdGU6IHRoaXNcblx0ICAgIC8vIGFjY291bnRzIGZvciBib3RoIG5hbWVkIGFuZCBpbmRleGVkIHByb3BlcnRpZXMgb24gQXJyYXlzLlxuXHQgIH0gZWxzZSB7XG5cdCAgICByZXR1cm4gb2JqRXF1aXYoYWN0dWFsLCBleHBlY3RlZCwgb3B0cyk7XG5cdCAgfVxuXHR9O1xuXG5cdGZ1bmN0aW9uIGlzVW5kZWZpbmVkT3JOdWxsKHZhbHVlKSB7XG5cdCAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQ7XG5cdH1cblxuXHRmdW5jdGlvbiBpc0J1ZmZlcih4KSB7XG5cdCAgaWYgKCF4IHx8ICh0eXBlb2YgeCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoeCkpICE9PSAnb2JqZWN0JyB8fCB0eXBlb2YgeC5sZW5ndGggIT09ICdudW1iZXInKSByZXR1cm4gZmFsc2U7XG5cdCAgaWYgKHR5cGVvZiB4LmNvcHkgIT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIHguc2xpY2UgIT09ICdmdW5jdGlvbicpIHtcblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdCAgaWYgKHgubGVuZ3RoID4gMCAmJiB0eXBlb2YgeFswXSAhPT0gJ251bWJlcicpIHJldHVybiBmYWxzZTtcblx0ICByZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGZ1bmN0aW9uIG9iakVxdWl2KGEsIGIsIG9wdHMpIHtcblx0ICB2YXIgaSwga2V5O1xuXHQgIGlmIChpc1VuZGVmaW5lZE9yTnVsbChhKSB8fCBpc1VuZGVmaW5lZE9yTnVsbChiKSkgcmV0dXJuIGZhbHNlO1xuXHQgIC8vIGFuIGlkZW50aWNhbCAncHJvdG90eXBlJyBwcm9wZXJ0eS5cblx0ICBpZiAoYS5wcm90b3R5cGUgIT09IGIucHJvdG90eXBlKSByZXR1cm4gZmFsc2U7XG5cdCAgLy9+fn5JJ3ZlIG1hbmFnZWQgdG8gYnJlYWsgT2JqZWN0LmtleXMgdGhyb3VnaCBzY3Jld3kgYXJndW1lbnRzIHBhc3NpbmcuXG5cdCAgLy8gICBDb252ZXJ0aW5nIHRvIGFycmF5IHNvbHZlcyB0aGUgcHJvYmxlbS5cblx0ICBpZiAoaXNBcmd1bWVudHMoYSkpIHtcblx0ICAgIGlmICghaXNBcmd1bWVudHMoYikpIHtcblx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHQgICAgYSA9IHBTbGljZS5jYWxsKGEpO1xuXHQgICAgYiA9IHBTbGljZS5jYWxsKGIpO1xuXHQgICAgcmV0dXJuIGRlZXBFcXVhbChhLCBiLCBvcHRzKTtcblx0ICB9XG5cdCAgaWYgKGlzQnVmZmVyKGEpKSB7XG5cdCAgICBpZiAoIWlzQnVmZmVyKGIpKSB7XG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHJldHVybiBmYWxzZTtcblx0ICAgIGZvciAoaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIGlmIChhW2ldICE9PSBiW2ldKSByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9XG5cdCAgdHJ5IHtcblx0ICAgIHZhciBrYSA9IG9iamVjdEtleXMoYSksXG5cdCAgICAgICAga2IgPSBvYmplY3RLZXlzKGIpO1xuXHQgIH0gY2F0Y2ggKGUpIHtcblx0ICAgIC8vaGFwcGVucyB3aGVuIG9uZSBpcyBhIHN0cmluZyBsaXRlcmFsIGFuZCB0aGUgb3RoZXIgaXNuJ3Rcblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdCAgLy8gaGF2aW5nIHRoZSBzYW1lIG51bWJlciBvZiBvd25lZCBwcm9wZXJ0aWVzIChrZXlzIGluY29ycG9yYXRlc1xuXHQgIC8vIGhhc093blByb3BlcnR5KVxuXHQgIGlmIChrYS5sZW5ndGggIT0ga2IubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG5cdCAgLy90aGUgc2FtZSBzZXQgb2Yga2V5cyAoYWx0aG91Z2ggbm90IG5lY2Vzc2FyaWx5IHRoZSBzYW1lIG9yZGVyKSxcblx0ICBrYS5zb3J0KCk7XG5cdCAga2Iuc29ydCgpO1xuXHQgIC8vfn5+Y2hlYXAga2V5IHRlc3Rcblx0ICBmb3IgKGkgPSBrYS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHQgICAgaWYgKGthW2ldICE9IGtiW2ldKSByZXR1cm4gZmFsc2U7XG5cdCAgfVxuXHQgIC8vZXF1aXZhbGVudCB2YWx1ZXMgZm9yIGV2ZXJ5IGNvcnJlc3BvbmRpbmcga2V5LCBhbmRcblx0ICAvL35+fnBvc3NpYmx5IGV4cGVuc2l2ZSBkZWVwIHRlc3Rcblx0ICBmb3IgKGkgPSBrYS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHQgICAga2V5ID0ga2FbaV07XG5cdCAgICBpZiAoIWRlZXBFcXVhbChhW2tleV0sIGJba2V5XSwgb3B0cykpIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdCAgcmV0dXJuICh0eXBlb2YgYSA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoYSkpID09PSAodHlwZW9mIGIgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGIpKTtcblx0fVxuXG4vKioqLyB9KSxcbi8qIDYyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiBPYmplY3Qua2V5cyA9PT0gJ2Z1bmN0aW9uJyA/IE9iamVjdC5rZXlzIDogc2hpbTtcblxuXHRleHBvcnRzLnNoaW0gPSBzaGltO1xuXHRmdW5jdGlvbiBzaGltKG9iaikge1xuXHQgIHZhciBrZXlzID0gW107XG5cdCAgZm9yICh2YXIga2V5IGluIG9iaikge1xuXHQgICAga2V5cy5wdXNoKGtleSk7XG5cdCAgfXJldHVybiBrZXlzO1xuXHR9XG5cbi8qKiovIH0pLFxuLyogNjMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG5cdHZhciBzdXBwb3J0c0FyZ3VtZW50c0NsYXNzID0gZnVuY3Rpb24gKCkge1xuXHQgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJndW1lbnRzKTtcblx0fSgpID09ICdbb2JqZWN0IEFyZ3VtZW50c10nO1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHN1cHBvcnRzQXJndW1lbnRzQ2xhc3MgPyBzdXBwb3J0ZWQgOiB1bnN1cHBvcnRlZDtcblxuXHRleHBvcnRzLnN1cHBvcnRlZCA9IHN1cHBvcnRlZDtcblx0ZnVuY3Rpb24gc3VwcG9ydGVkKG9iamVjdCkge1xuXHQgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqZWN0KSA9PSAnW29iamVjdCBBcmd1bWVudHNdJztcblx0fTtcblxuXHRleHBvcnRzLnVuc3VwcG9ydGVkID0gdW5zdXBwb3J0ZWQ7XG5cdGZ1bmN0aW9uIHVuc3VwcG9ydGVkKG9iamVjdCkge1xuXHQgIHJldHVybiBvYmplY3QgJiYgKHR5cGVvZiBvYmplY3QgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKG9iamVjdCkpID09ICdvYmplY3QnICYmIHR5cGVvZiBvYmplY3QubGVuZ3RoID09ICdudW1iZXInICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsICdjYWxsZWUnKSAmJiAhT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKG9iamVjdCwgJ2NhbGxlZScpIHx8IGZhbHNlO1xuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDY0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0LyoqXG5cdCAgQ29tcHJlc3NlZCBwYWNrZXQgc3RydWN0dXJlOlxuXHQgIFtcblx0ICAgIDEsIC8vIDEgZm9yIGNvbXByZXNzZWRcblx0ICAgIG5ldHdvcmtJZCxcblx0ICAgIG93bmVySWQsXG5cdCAgICBwYXJlbnQsXG5cdCAgICB7XG5cdCAgICAgIDA6IGRhdGEsIC8vIGtleSBtYXBzIHRvIGluZGV4IG9mIHN5bmNlZCBjb21wb25lbnRzIGluIG5ldHdvcmsgY29tcG9uZW50IHNjaGVtYVxuXHQgICAgICAzOiBkYXRhLFxuXHQgICAgICA0OiBkYXRhXG5cdCAgICB9XG5cdCAgXVxuXHQqL1xuXHRtb2R1bGUuZXhwb3J0cy5jb21wcmVzc1N5bmNEYXRhID0gZnVuY3Rpb24gKHN5bmNEYXRhLCBhbGxDb21wb25lbnRzKSB7XG5cdCAgdmFyIGNvbXByZXNzZWQgPSBbXTtcblx0ICBjb21wcmVzc2VkLnB1c2goMSk7IC8vIDBcblx0ICBjb21wcmVzc2VkLnB1c2goc3luY0RhdGEubmV0d29ya0lkKTsgLy8gMVxuXHQgIGNvbXByZXNzZWQucHVzaChzeW5jRGF0YS5vd25lcik7IC8vIDJcblx0ICBjb21wcmVzc2VkLnB1c2goc3luY0RhdGEucGFyZW50KTsgLy8gM1xuXHQgIGNvbXByZXNzZWQucHVzaChzeW5jRGF0YS50ZW1wbGF0ZSk7IC8vIDRcblxuXHQgIHZhciBjb21wcmVzc2VkQ29tcHMgPSB0aGlzLmNvbXByZXNzQ29tcG9uZW50cyhzeW5jRGF0YS5jb21wb25lbnRzLCBhbGxDb21wb25lbnRzKTtcblx0ICBjb21wcmVzc2VkLnB1c2goY29tcHJlc3NlZENvbXBzKTsgLy8gNVxuXG5cdCAgcmV0dXJuIGNvbXByZXNzZWQ7XG5cdH07XG5cblx0bW9kdWxlLmV4cG9ydHMuY29tcHJlc3NDb21wb25lbnRzID0gZnVuY3Rpb24gKHN5bmNDb21wb25lbnRzLCBhbGxDb21wb25lbnRzKSB7XG5cdCAgdmFyIGNvbXByZXNzZWQgPSB7fTtcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbENvbXBvbmVudHMubGVuZ3RoOyBpKyspIHtcblx0ICAgIHZhciBuYW1lO1xuXHQgICAgaWYgKHR5cGVvZiBhbGxDb21wb25lbnRzW2ldID09PSAnc3RyaW5nJykge1xuXHQgICAgICBuYW1lID0gYWxsQ29tcG9uZW50c1tpXTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIG5hbWUgPSBOQUYudXRpbHMuY2hpbGRTY2hlbWFUb0tleShhbGxDb21wb25lbnRzW2ldKTtcblx0ICAgIH1cblx0ICAgIGlmIChzeW5jQ29tcG9uZW50cy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuXHQgICAgICBjb21wcmVzc2VkW2ldID0gc3luY0NvbXBvbmVudHNbbmFtZV07XG5cdCAgICB9XG5cdCAgfVxuXHQgIHJldHVybiBjb21wcmVzc2VkO1xuXHR9O1xuXG5cdC8qKlxuXHQgIERlY29tcHJlc3NlZCBwYWNrZXQgc3RydWN0dXJlOlxuXHQgIFtcblx0ICAgIDA6IDAsIC8vIDAgZm9yIHVuY29tcHJlc3NlZFxuXHQgICAgbmV0d29ya0lkOiBuZXR3b3JrSWQsXG5cdCAgICBvd25lcjogY2xpZW50SWQsXG5cdCAgICBwYXJlbnQ6IHBhcmVudE5ldHdvcmtJZCBvciBudWxsLFxuXHQgICAgdGVtcGxhdGU6IHRlbXBsYXRlLFxuXHQgICAgY29tcG9uZW50czoge1xuXHQgICAgICBwb3NpdGlvbjogZGF0YSxcblx0ICAgICAgc2NhbGU6IGRhdGEsXG5cdCAgICAgIC5oZWFkLS0tdmlzaWJsZTogZGF0YVxuXHQgICAgfSxcblx0ICBdXG5cdCovXG5cdG1vZHVsZS5leHBvcnRzLmRlY29tcHJlc3NTeW5jRGF0YSA9IGZ1bmN0aW9uIChjb21wcmVzc2VkLCBjb21wb25lbnRzKSB7XG5cdCAgdmFyIGVudGl0eURhdGEgPSB7fTtcblx0ICBlbnRpdHlEYXRhWzBdID0gMDtcblx0ICBlbnRpdHlEYXRhLm5ldHdvcmtJZCA9IGNvbXByZXNzZWRbMV07XG5cdCAgZW50aXR5RGF0YS5vd25lciA9IGNvbXByZXNzZWRbMl07XG5cdCAgZW50aXR5RGF0YS5wYXJlbnQgPSBjb21wcmVzc2VkWzNdO1xuXHQgIGVudGl0eURhdGEudGVtcGxhdGUgPSBjb21wcmVzc2VkWzRdO1xuXG5cdCAgdmFyIGNvbXByZXNzZWRDb21wcyA9IGNvbXByZXNzZWRbNV07XG5cdCAgdmFyIGNvbXBvbmVudHMgPSB0aGlzLmRlY29tcHJlc3NDb21wb25lbnRzKGNvbXByZXNzZWRDb21wcywgY29tcG9uZW50cyk7XG5cdCAgZW50aXR5RGF0YS5jb21wb25lbnRzID0gY29tcG9uZW50cztcblxuXHQgIHJldHVybiBlbnRpdHlEYXRhO1xuXHR9O1xuXG5cdG1vZHVsZS5leHBvcnRzLmRlY29tcHJlc3NDb21wb25lbnRzID0gZnVuY3Rpb24gKGNvbXByZXNzZWQsIGNvbXBvbmVudHMpIHtcblx0ICB2YXIgZGVjb21wcmVzc2VkID0ge307XG5cdCAgZm9yICh2YXIgaSBpbiBjb21wcmVzc2VkKSB7XG5cdCAgICB2YXIgc2NoZW1hQ29tcCA9IGNvbXBvbmVudHNbaV07XG5cblx0ICAgIHZhciBuYW1lO1xuXHQgICAgaWYgKHR5cGVvZiBzY2hlbWFDb21wID09PSBcInN0cmluZ1wiKSB7XG5cdCAgICAgIG5hbWUgPSBzY2hlbWFDb21wO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgbmFtZSA9IE5BRi51dGlscy5jaGlsZFNjaGVtYVRvS2V5KHNjaGVtYUNvbXApO1xuXHQgICAgfVxuXHQgICAgZGVjb21wcmVzc2VkW25hbWVdID0gY29tcHJlc3NlZFtpXTtcblx0ICB9XG5cdCAgcmV0dXJuIGRlY29tcHJlc3NlZDtcblx0fTtcblxuLyoqKi8gfSksXG4vKiA2NSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgbmFmID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0Nyk7XG5cblx0QUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCduZXR3b3JrZWQtYXVkaW8tc291cmNlJywge1xuXHQgIHNjaGVtYToge1xuXHQgICAgcG9zaXRpb25hbDogeyBkZWZhdWx0OiB0cnVlIH0sXG5cdCAgICBkaXN0YW5jZU1vZGVsOiB7XG5cdCAgICAgIGRlZmF1bHQ6IFwiaW52ZXJzZVwiLFxuXHQgICAgICBvbmVPZjogW1wibGluZWFyXCIsIFwiaW52ZXJzZVwiLCBcImV4cG9uZW50aWFsXCJdXG5cdCAgICB9LFxuXHQgICAgbWF4RGlzdGFuY2U6IHsgZGVmYXVsdDogMTAwMDAgfSxcblx0ICAgIHJlZkRpc3RhbmNlOiB7IGRlZmF1bHQ6IDEgfSxcblx0ICAgIHJvbGxvZmZGYWN0b3I6IHsgZGVmYXVsdDogMSB9XG5cdCAgfSxcblxuXHQgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7XG5cdCAgICB0aGlzLmxpc3RlbmVyID0gbnVsbDtcblx0ICAgIHRoaXMuc3RyZWFtID0gbnVsbDtcblxuXHQgICAgdGhpcy5fc2V0TWVkaWFTdHJlYW0gPSB0aGlzLl9zZXRNZWRpYVN0cmVhbS5iaW5kKHRoaXMpO1xuXG5cdCAgICB2YXIgbmV0d29ya2VkRWwgPSBOQUYudXRpbHMuZ2V0TmV0d29ya2VkRW50aXR5KHRoaXMuZWwpO1xuXHQgICAgdmFyIG93bmVySWQgPSBuZXR3b3JrZWRFbCAmJiBuZXR3b3JrZWRFbC5jb21wb25lbnRzLm5ldHdvcmtlZC5kYXRhLm93bmVyO1xuXHQgICAgaWYgKG93bmVySWQpIHtcblx0ICAgICAgTkFGLmNvbm5lY3Rpb24uYWRhcHRlci5nZXRNZWRpYVN0cmVhbShvd25lcklkKS50aGVuKHRoaXMuX3NldE1lZGlhU3RyZWFtKS5jYXRjaChmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgIHJldHVybiBuYWYubG9nLmVycm9yKCdFcnJvciBnZXR0aW5nIG1lZGlhIHN0cmVhbSBmb3IgJyArIG93bmVySWQsIGUpO1xuXHQgICAgICB9KTtcblx0ICAgIH0gZWxzZSBpZiAob3duZXJJZCA9PT0gJycpIHtcblx0ICAgICAgLy8gQ29ycmVjdGx5IGNvbmZpZ3VyZWQgbG9jYWwgZW50aXR5LCBwZXJoYXBzIGRvIHNvbWV0aGluZyBoZXJlIGZvciBlbmFibGluZyBkZWJ1ZyBhdWRpbyBsb29wYmFja1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgbmFmLmxvZy5lcnJvcignW25ldHdvcmtlZC1hdWRpby1zb3VyY2VdIG11c3QgYmUgYWRkZWQgb24gYW4gZW50aXR5LCBvciBhIGNoaWxkIG9mIGFuIGVudGl0eSwgd2l0aCB0aGUgW25ldHdvcmtlZF0gY29tcG9uZW50LicpO1xuXHQgICAgfVxuXHQgIH0sXG5cblx0ICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcblx0ICAgIHRoaXMuX3NldFBhbm5lclByb3BlcnRpZXMoKTtcblx0ICB9LFxuXHQgIF9zZXRNZWRpYVN0cmVhbTogZnVuY3Rpb24gX3NldE1lZGlhU3RyZWFtKG5ld1N0cmVhbSkge1xuXHQgICAgaWYgKCF0aGlzLnNvdW5kKSB7XG5cdCAgICAgIHRoaXMuc2V0dXBTb3VuZCgpO1xuXHQgICAgfVxuXG5cdCAgICBpZiAobmV3U3RyZWFtICE9IHRoaXMuc3RyZWFtKSB7XG5cdCAgICAgIGlmICh0aGlzLnN0cmVhbSkge1xuXHQgICAgICAgIHRoaXMuc291bmQuZGlzY29ubmVjdCgpO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChuZXdTdHJlYW0pIHtcblx0ICAgICAgICAvLyBDaHJvbWUgc2VlbXMgdG8gcmVxdWlyZSBhIE1lZGlhU3RyZWFtIGJlIGF0dGFjaGVkIHRvIGFuIEF1ZGlvRWxlbWVudCBiZWZvcmUgQXVkaW9Ob2RlcyB3b3JrIGNvcnJlY3RseVxuXHQgICAgICAgIHRoaXMuYXVkaW9FbCA9IG5ldyBBdWRpbygpO1xuXHQgICAgICAgIHRoaXMuYXVkaW9FbC5zZXRBdHRyaWJ1dGUoXCJhdXRvcGxheVwiLCBcImF1dG9wbGF5XCIpO1xuXHQgICAgICAgIHRoaXMuYXVkaW9FbC5zZXRBdHRyaWJ1dGUoXCJwbGF5c2lubGluZVwiLCBcInBsYXlzaW5saW5lXCIpO1xuXHQgICAgICAgIHRoaXMuYXVkaW9FbC5zcmNPYmplY3QgPSBuZXdTdHJlYW07XG5cdCAgICAgICAgdGhpcy5hdWRpb0VsLnZvbHVtZSA9IDA7IC8vIHdlIGRvbid0IGFjdHVhbGx5IHdhbnQgdG8gaGVhciBhdWRpbyBmcm9tIHRoaXMgZWxlbWVudFxuXG5cdCAgICAgICAgdGhpcy5zb3VuZC5zZXROb2RlU291cmNlKHRoaXMuc291bmQuY29udGV4dC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZShuZXdTdHJlYW0pKTtcblx0ICAgICAgfVxuXHQgICAgICB0aGlzLnN0cmVhbSA9IG5ld1N0cmVhbTtcblx0ICAgIH1cblx0ICB9LFxuXHQgIF9zZXRQYW5uZXJQcm9wZXJ0aWVzOiBmdW5jdGlvbiBfc2V0UGFubmVyUHJvcGVydGllcygpIHtcblx0ICAgIGlmICh0aGlzLnNvdW5kICYmIHRoaXMuZGF0YS5wb3NpdGlvbmFsKSB7XG5cdCAgICAgIHRoaXMuc291bmQuc2V0RGlzdGFuY2VNb2RlbCh0aGlzLmRhdGEuZGlzdGFuY2VNb2RlbCk7XG5cdCAgICAgIHRoaXMuc291bmQuc2V0TWF4RGlzdGFuY2UodGhpcy5kYXRhLm1heERpc3RhbmNlKTtcblx0ICAgICAgdGhpcy5zb3VuZC5zZXRSZWZEaXN0YW5jZSh0aGlzLmRhdGEucmVmRGlzdGFuY2UpO1xuXHQgICAgICB0aGlzLnNvdW5kLnNldFJvbGxvZmZGYWN0b3IodGhpcy5kYXRhLnJvbGxvZmZGYWN0b3IpO1xuXHQgICAgfVxuXHQgIH0sXG5cblxuXHQgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuXHQgICAgaWYgKCF0aGlzLnNvdW5kKSByZXR1cm47XG5cblx0ICAgIHRoaXMuZWwucmVtb3ZlT2JqZWN0M0QodGhpcy5hdHRyTmFtZSk7XG5cdCAgICBpZiAodGhpcy5zdHJlYW0pIHtcblx0ICAgICAgdGhpcy5zb3VuZC5kaXNjb25uZWN0KCk7XG5cdCAgICB9XG5cdCAgfSxcblxuXHQgIHNldHVwU291bmQ6IGZ1bmN0aW9uIHNldHVwU291bmQoKSB7XG5cdCAgICB2YXIgZWwgPSB0aGlzLmVsO1xuXHQgICAgdmFyIHNjZW5lRWwgPSBlbC5zY2VuZUVsO1xuXG5cdCAgICBpZiAodGhpcy5zb3VuZCkge1xuXHQgICAgICBlbC5yZW1vdmVPYmplY3QzRCh0aGlzLmF0dHJOYW1lKTtcblx0ICAgIH1cblxuXHQgICAgaWYgKCFzY2VuZUVsLmF1ZGlvTGlzdGVuZXIpIHtcblx0ICAgICAgc2NlbmVFbC5hdWRpb0xpc3RlbmVyID0gbmV3IFRIUkVFLkF1ZGlvTGlzdGVuZXIoKTtcblx0ICAgICAgc2NlbmVFbC5jYW1lcmEgJiYgc2NlbmVFbC5jYW1lcmEuYWRkKHNjZW5lRWwuYXVkaW9MaXN0ZW5lcik7XG5cdCAgICAgIHNjZW5lRWwuYWRkRXZlbnRMaXN0ZW5lcignY2FtZXJhLXNldC1hY3RpdmUnLCBmdW5jdGlvbiAoZXZ0KSB7XG5cdCAgICAgICAgZXZ0LmRldGFpbC5jYW1lcmFFbC5nZXRPYmplY3QzRCgnY2FtZXJhJykuYWRkKHNjZW5lRWwuYXVkaW9MaXN0ZW5lcik7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgICAgdGhpcy5saXN0ZW5lciA9IHNjZW5lRWwuYXVkaW9MaXN0ZW5lcjtcblxuXHQgICAgdGhpcy5zb3VuZCA9IHRoaXMuZGF0YS5wb3NpdGlvbmFsID8gbmV3IFRIUkVFLlBvc2l0aW9uYWxBdWRpbyh0aGlzLmxpc3RlbmVyKSA6IG5ldyBUSFJFRS5BdWRpbyh0aGlzLmxpc3RlbmVyKTtcblx0ICAgIGVsLnNldE9iamVjdDNEKHRoaXMuYXR0ck5hbWUsIHRoaXMuc291bmQpO1xuXHQgICAgdGhpcy5fc2V0UGFubmVyUHJvcGVydGllcygpO1xuXHQgIH1cblx0fSk7XG5cbi8qKiovIH0pXG4vKioqKioqLyBdKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vbmV0d29ya2VkLWFmcmFtZS9kaXN0L25ldHdvcmtlZC1hZnJhbWUuanNcbi8vIG1vZHVsZSBpZCA9IDEwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBtYXAgPSB7XG5cdFwiLi9hZGRpdGl2ZS5qc1wiOiAxNixcblx0XCIuL2RlYnVnLWNvbnRyb2xsZXIuanNcIjogMTcsXG5cdFwiLi9kZWJ1Zy1jdXJzb3IuanNcIjogMTgsXG5cdFwiLi9lZ2dzL2FuaW1hdGVkLXN1bi5qc1wiOiAxOSxcblx0XCIuL2VnZ3MvY3JvbXVsb24uanNcIjogMjAsXG5cdFwiLi9lZ2dzL2RhbGVrLmpzXCI6IDIxLFxuXHRcIi4vZWdncy9tZWNoYWdvZHppbGxhLmpzXCI6IDIyLFxuXHRcIi4vZWdncy9yYW5kb20tY29sb3ItZW52aXJvbm1lbnQuanNcIjogMjMsXG5cdFwiLi9lZ2dzL3NoaWZ0aW5nLWNvbG9ycy5qc1wiOiAyNCxcblx0XCIuL2VnZ3Mvc29saWRzbmFrZS5qc1wiOiAyNSxcblx0XCIuL2VnZ3MvdXBzaWRlZG93bi5qc1wiOiAyNixcblx0XCIuL2VnZ3Mvd2F5YmFjay1tYWNoaW5lLmpzXCI6IDI3LFxuXHRcIi4vZW52aXJvbm1lbnQuanNcIjogMjgsXG5cdFwiLi9oaW50LmpzXCI6IDI5LFxuXHRcIi4vaXRlbS5qc1wiOiAzMCxcblx0XCIuL29hc2lzLWF1ZGlvLmpzXCI6IDMxLFxuXHRcIi4vb2FzaXMtcG9ydGFsLmpzXCI6IDMyLFxuXHRcIi4vcGxheS1hdWRpby5qc1wiOiAzMyxcblx0XCIuL3JheWNhc3RhYmxlLmpzXCI6IDM0LFxuXHRcIi4vc3ViLW9iamVjdC5qc1wiOiAzNSxcblx0XCIuL3RlbGVwb3J0LWxpc3RlbmVyLmpzXCI6IDM2LFxuXHRcIi4vdGVsZXBvcnQtcmVmcmVzaC5qc1wiOiAzNyxcblx0XCIuL3RvdWNoLmpzXCI6IDM4LFxuXHRcIi4vdG91Y2hhYmxlLmpzXCI6IDM5XG59O1xuZnVuY3Rpb24gd2VicGFja0NvbnRleHQocmVxKSB7XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpKTtcbn07XG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdHZhciBpZCA9IG1hcFtyZXFdO1xuXHRpZighKGlkICsgMSkpIC8vIGNoZWNrIGZvciBudW1iZXIgb3Igc3RyaW5nXG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIiArIHJlcSArIFwiJy5cIik7XG5cdHJldHVybiBpZDtcbn07XG53ZWJwYWNrQ29udGV4dC5rZXlzID0gZnVuY3Rpb24gd2VicGFja0NvbnRleHRLZXlzKCkge1xuXHRyZXR1cm4gT2JqZWN0LmtleXMobWFwKTtcbn07XG53ZWJwYWNrQ29udGV4dC5yZXNvbHZlID0gd2VicGFja0NvbnRleHRSZXNvbHZlO1xubW9kdWxlLmV4cG9ydHMgPSB3ZWJwYWNrQ29udGV4dDtcbndlYnBhY2tDb250ZXh0LmlkID0gMTE7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvY29tcG9uZW50cyBcXC5qcyRcbi8vIG1vZHVsZSBpZCA9IDExXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qXG4gMjAxNyBKdWxpYW4gR2FybmllclxuIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuKi9cbnZhciAkanNjb21wPXtzY29wZTp7fX07JGpzY29tcC5kZWZpbmVQcm9wZXJ0eT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuZGVmaW5lUHJvcGVydGllcz9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oZSxyLHApe2lmKHAuZ2V0fHxwLnNldCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRVMzIGRvZXMgbm90IHN1cHBvcnQgZ2V0dGVycyBhbmQgc2V0dGVycy5cIik7ZSE9QXJyYXkucHJvdG90eXBlJiZlIT1PYmplY3QucHJvdG90eXBlJiYoZVtyXT1wLnZhbHVlKX07JGpzY29tcC5nZXRHbG9iYWw9ZnVuY3Rpb24oZSl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93PT09ZT9lOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWwmJm51bGwhPWdsb2JhbD9nbG9iYWw6ZX07JGpzY29tcC5nbG9iYWw9JGpzY29tcC5nZXRHbG9iYWwodGhpcyk7JGpzY29tcC5TWU1CT0xfUFJFRklYPVwianNjb21wX3N5bWJvbF9cIjtcbiRqc2NvbXAuaW5pdFN5bWJvbD1mdW5jdGlvbigpeyRqc2NvbXAuaW5pdFN5bWJvbD1mdW5jdGlvbigpe307JGpzY29tcC5nbG9iYWwuU3ltYm9sfHwoJGpzY29tcC5nbG9iYWwuU3ltYm9sPSRqc2NvbXAuU3ltYm9sKX07JGpzY29tcC5zeW1ib2xDb3VudGVyXz0wOyRqc2NvbXAuU3ltYm9sPWZ1bmN0aW9uKGUpe3JldHVybiAkanNjb21wLlNZTUJPTF9QUkVGSVgrKGV8fFwiXCIpKyRqc2NvbXAuc3ltYm9sQ291bnRlcl8rK307XG4kanNjb21wLmluaXRTeW1ib2xJdGVyYXRvcj1mdW5jdGlvbigpeyRqc2NvbXAuaW5pdFN5bWJvbCgpO3ZhciBlPSRqc2NvbXAuZ2xvYmFsLlN5bWJvbC5pdGVyYXRvcjtlfHwoZT0kanNjb21wLmdsb2JhbC5TeW1ib2wuaXRlcmF0b3I9JGpzY29tcC5nbG9iYWwuU3ltYm9sKFwiaXRlcmF0b3JcIikpO1wiZnVuY3Rpb25cIiE9dHlwZW9mIEFycmF5LnByb3RvdHlwZVtlXSYmJGpzY29tcC5kZWZpbmVQcm9wZXJ0eShBcnJheS5wcm90b3R5cGUsZSx7Y29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuICRqc2NvbXAuYXJyYXlJdGVyYXRvcih0aGlzKX19KTskanNjb21wLmluaXRTeW1ib2xJdGVyYXRvcj1mdW5jdGlvbigpe319OyRqc2NvbXAuYXJyYXlJdGVyYXRvcj1mdW5jdGlvbihlKXt2YXIgcj0wO3JldHVybiAkanNjb21wLml0ZXJhdG9yUHJvdG90eXBlKGZ1bmN0aW9uKCl7cmV0dXJuIHI8ZS5sZW5ndGg/e2RvbmU6ITEsdmFsdWU6ZVtyKytdfTp7ZG9uZTohMH19KX07XG4kanNjb21wLml0ZXJhdG9yUHJvdG90eXBlPWZ1bmN0aW9uKGUpeyRqc2NvbXAuaW5pdFN5bWJvbEl0ZXJhdG9yKCk7ZT17bmV4dDplfTtlWyRqc2NvbXAuZ2xvYmFsLlN5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307cmV0dXJuIGV9OyRqc2NvbXAuYXJyYXk9JGpzY29tcC5hcnJheXx8e307JGpzY29tcC5pdGVyYXRvckZyb21BcnJheT1mdW5jdGlvbihlLHIpeyRqc2NvbXAuaW5pdFN5bWJvbEl0ZXJhdG9yKCk7ZSBpbnN0YW5jZW9mIFN0cmluZyYmKGUrPVwiXCIpO3ZhciBwPTAsbT17bmV4dDpmdW5jdGlvbigpe2lmKHA8ZS5sZW5ndGgpe3ZhciB1PXArKztyZXR1cm57dmFsdWU6cih1LGVbdV0pLGRvbmU6ITF9fW0ubmV4dD1mdW5jdGlvbigpe3JldHVybntkb25lOiEwLHZhbHVlOnZvaWQgMH19O3JldHVybiBtLm5leHQoKX19O21bU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiBtfTtyZXR1cm4gbX07XG4kanNjb21wLnBvbHlmaWxsPWZ1bmN0aW9uKGUscixwLG0pe2lmKHIpe3A9JGpzY29tcC5nbG9iYWw7ZT1lLnNwbGl0KFwiLlwiKTtmb3IobT0wO208ZS5sZW5ndGgtMTttKyspe3ZhciB1PWVbbV07dSBpbiBwfHwocFt1XT17fSk7cD1wW3VdfWU9ZVtlLmxlbmd0aC0xXTttPXBbZV07cj1yKG0pO3IhPW0mJm51bGwhPXImJiRqc2NvbXAuZGVmaW5lUHJvcGVydHkocCxlLHtjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6cn0pfX07JGpzY29tcC5wb2x5ZmlsbChcIkFycmF5LnByb3RvdHlwZS5rZXlzXCIsZnVuY3Rpb24oZSl7cmV0dXJuIGU/ZTpmdW5jdGlvbigpe3JldHVybiAkanNjb21wLml0ZXJhdG9yRnJvbUFycmF5KHRoaXMsZnVuY3Rpb24oZSl7cmV0dXJuIGV9KX19LFwiZXM2LWltcGxcIixcImVzM1wiKTt2YXIgJGpzY29tcCR0aGlzPXRoaXM7XG4oZnVuY3Rpb24oZSxyKXtcImZ1bmN0aW9uXCI9PT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSxyKTpcIm9iamVjdFwiPT09dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9cigpOmUuYW5pbWU9cigpfSkodGhpcyxmdW5jdGlvbigpe2Z1bmN0aW9uIGUoYSl7aWYoIWguY29sKGEpKXRyeXtyZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChhKX1jYXRjaChjKXt9fWZ1bmN0aW9uIHIoYSxjKXtmb3IodmFyIGQ9YS5sZW5ndGgsYj0yPD1hcmd1bWVudHMubGVuZ3RoP2FyZ3VtZW50c1sxXTp2b2lkIDAsZj1bXSxuPTA7bjxkO24rKylpZihuIGluIGEpe3ZhciBrPWFbbl07Yy5jYWxsKGIsayxuLGEpJiZmLnB1c2goayl9cmV0dXJuIGZ9ZnVuY3Rpb24gcChhKXtyZXR1cm4gYS5yZWR1Y2UoZnVuY3Rpb24oYSxkKXtyZXR1cm4gYS5jb25jYXQoaC5hcnIoZCk/cChkKTpkKX0sW10pfWZ1bmN0aW9uIG0oYSl7aWYoaC5hcnIoYSkpcmV0dXJuIGE7XG5oLnN0cihhKSYmKGE9ZShhKXx8YSk7cmV0dXJuIGEgaW5zdGFuY2VvZiBOb2RlTGlzdHx8YSBpbnN0YW5jZW9mIEhUTUxDb2xsZWN0aW9uP1tdLnNsaWNlLmNhbGwoYSk6W2FdfWZ1bmN0aW9uIHUoYSxjKXtyZXR1cm4gYS5zb21lKGZ1bmN0aW9uKGEpe3JldHVybiBhPT09Y30pfWZ1bmN0aW9uIEMoYSl7dmFyIGM9e30sZDtmb3IoZCBpbiBhKWNbZF09YVtkXTtyZXR1cm4gY31mdW5jdGlvbiBEKGEsYyl7dmFyIGQ9QyhhKSxiO2ZvcihiIGluIGEpZFtiXT1jLmhhc093blByb3BlcnR5KGIpP2NbYl06YVtiXTtyZXR1cm4gZH1mdW5jdGlvbiB6KGEsYyl7dmFyIGQ9QyhhKSxiO2ZvcihiIGluIGMpZFtiXT1oLnVuZChhW2JdKT9jW2JdOmFbYl07cmV0dXJuIGR9ZnVuY3Rpb24gVChhKXthPWEucmVwbGFjZSgvXiM/KFthLWZcXGRdKShbYS1mXFxkXSkoW2EtZlxcZF0pJC9pLGZ1bmN0aW9uKGEsYyxkLGspe3JldHVybiBjK2MrZCtkK2sra30pO3ZhciBjPS9eIz8oW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkkL2kuZXhlYyhhKTtcbmE9cGFyc2VJbnQoY1sxXSwxNik7dmFyIGQ9cGFyc2VJbnQoY1syXSwxNiksYz1wYXJzZUludChjWzNdLDE2KTtyZXR1cm5cInJnYmEoXCIrYStcIixcIitkK1wiLFwiK2MrXCIsMSlcIn1mdW5jdGlvbiBVKGEpe2Z1bmN0aW9uIGMoYSxjLGIpezA+YiYmKGIrPTEpOzE8YiYmLS1iO3JldHVybiBiPDEvNj9hKzYqKGMtYSkqYjouNT5iP2M6YjwyLzM/YSsoYy1hKSooMi8zLWIpKjY6YX12YXIgZD0vaHNsXFwoKFxcZCspLFxccyooW1xcZC5dKyklLFxccyooW1xcZC5dKyklXFwpL2cuZXhlYyhhKXx8L2hzbGFcXCgoXFxkKyksXFxzKihbXFxkLl0rKSUsXFxzKihbXFxkLl0rKSUsXFxzKihbXFxkLl0rKVxcKS9nLmV4ZWMoYSk7YT1wYXJzZUludChkWzFdKS8zNjA7dmFyIGI9cGFyc2VJbnQoZFsyXSkvMTAwLGY9cGFyc2VJbnQoZFszXSkvMTAwLGQ9ZFs0XXx8MTtpZigwPT1iKWY9Yj1hPWY7ZWxzZXt2YXIgbj0uNT5mP2YqKDErYik6ZitiLWYqYixrPTIqZi1uLGY9YyhrLG4sYSsxLzMpLGI9YyhrLG4sYSk7YT1jKGssbixhLTEvMyl9cmV0dXJuXCJyZ2JhKFwiK1xuMjU1KmYrXCIsXCIrMjU1KmIrXCIsXCIrMjU1KmErXCIsXCIrZCtcIilcIn1mdW5jdGlvbiB5KGEpe2lmKGE9LyhbXFwrXFwtXT9bMC05I1xcLl0rKSglfHB4fHB0fGVtfHJlbXxpbnxjbXxtbXxleHxjaHxwY3x2d3x2aHx2bWlufHZtYXh8ZGVnfHJhZHx0dXJuKT8kLy5leGVjKGEpKXJldHVybiBhWzJdfWZ1bmN0aW9uIFYoYSl7aWYoLTE8YS5pbmRleE9mKFwidHJhbnNsYXRlXCIpfHxcInBlcnNwZWN0aXZlXCI9PT1hKXJldHVyblwicHhcIjtpZigtMTxhLmluZGV4T2YoXCJyb3RhdGVcIil8fC0xPGEuaW5kZXhPZihcInNrZXdcIikpcmV0dXJuXCJkZWdcIn1mdW5jdGlvbiBJKGEsYyl7cmV0dXJuIGguZm5jKGEpP2EoYy50YXJnZXQsYy5pZCxjLnRvdGFsKTphfWZ1bmN0aW9uIEUoYSxjKXtpZihjIGluIGEuc3R5bGUpcmV0dXJuIGdldENvbXB1dGVkU3R5bGUoYSkuZ2V0UHJvcGVydHlWYWx1ZShjLnJlcGxhY2UoLyhbYS16XSkoW0EtWl0pL2csXCIkMS0kMlwiKS50b0xvd2VyQ2FzZSgpKXx8XCIwXCJ9ZnVuY3Rpb24gSihhLGMpe2lmKGguZG9tKGEpJiZcbnUoVyxjKSlyZXR1cm5cInRyYW5zZm9ybVwiO2lmKGguZG9tKGEpJiYoYS5nZXRBdHRyaWJ1dGUoYyl8fGguc3ZnKGEpJiZhW2NdKSlyZXR1cm5cImF0dHJpYnV0ZVwiO2lmKGguZG9tKGEpJiZcInRyYW5zZm9ybVwiIT09YyYmRShhLGMpKXJldHVyblwiY3NzXCI7aWYobnVsbCE9YVtjXSlyZXR1cm5cIm9iamVjdFwifWZ1bmN0aW9uIFgoYSxjKXt2YXIgZD1WKGMpLGQ9LTE8Yy5pbmRleE9mKFwic2NhbGVcIik/MTowK2Q7YT1hLnN0eWxlLnRyYW5zZm9ybTtpZighYSlyZXR1cm4gZDtmb3IodmFyIGI9W10sZj1bXSxuPVtdLGs9LyhcXHcrKVxcKCguKz8pXFwpL2c7Yj1rLmV4ZWMoYSk7KWYucHVzaChiWzFdKSxuLnB1c2goYlsyXSk7YT1yKG4sZnVuY3Rpb24oYSxiKXtyZXR1cm4gZltiXT09PWN9KTtyZXR1cm4gYS5sZW5ndGg/YVswXTpkfWZ1bmN0aW9uIEsoYSxjKXtzd2l0Y2goSihhLGMpKXtjYXNlIFwidHJhbnNmb3JtXCI6cmV0dXJuIFgoYSxjKTtjYXNlIFwiY3NzXCI6cmV0dXJuIEUoYSxjKTtjYXNlIFwiYXR0cmlidXRlXCI6cmV0dXJuIGEuZ2V0QXR0cmlidXRlKGMpfXJldHVybiBhW2NdfHxcbjB9ZnVuY3Rpb24gTChhLGMpe3ZhciBkPS9eKFxcKj18XFwrPXwtPSkvLmV4ZWMoYSk7aWYoIWQpcmV0dXJuIGE7dmFyIGI9eShhKXx8MDtjPXBhcnNlRmxvYXQoYyk7YT1wYXJzZUZsb2F0KGEucmVwbGFjZShkWzBdLFwiXCIpKTtzd2l0Y2goZFswXVswXSl7Y2FzZSBcIitcIjpyZXR1cm4gYythK2I7Y2FzZSBcIi1cIjpyZXR1cm4gYy1hK2I7Y2FzZSBcIipcIjpyZXR1cm4gYyphK2J9fWZ1bmN0aW9uIEYoYSxjKXtyZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KGMueC1hLngsMikrTWF0aC5wb3coYy55LWEueSwyKSl9ZnVuY3Rpb24gTShhKXthPWEucG9pbnRzO2Zvcih2YXIgYz0wLGQsYj0wO2I8YS5udW1iZXJPZkl0ZW1zO2IrKyl7dmFyIGY9YS5nZXRJdGVtKGIpOzA8YiYmKGMrPUYoZCxmKSk7ZD1mfXJldHVybiBjfWZ1bmN0aW9uIE4oYSl7aWYoYS5nZXRUb3RhbExlbmd0aClyZXR1cm4gYS5nZXRUb3RhbExlbmd0aCgpO3N3aXRjaChhLnRhZ05hbWUudG9Mb3dlckNhc2UoKSl7Y2FzZSBcImNpcmNsZVwiOnJldHVybiAyKlxuTWF0aC5QSSphLmdldEF0dHJpYnV0ZShcInJcIik7Y2FzZSBcInJlY3RcIjpyZXR1cm4gMiphLmdldEF0dHJpYnV0ZShcIndpZHRoXCIpKzIqYS5nZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIik7Y2FzZSBcImxpbmVcIjpyZXR1cm4gRih7eDphLmdldEF0dHJpYnV0ZShcIngxXCIpLHk6YS5nZXRBdHRyaWJ1dGUoXCJ5MVwiKX0se3g6YS5nZXRBdHRyaWJ1dGUoXCJ4MlwiKSx5OmEuZ2V0QXR0cmlidXRlKFwieTJcIil9KTtjYXNlIFwicG9seWxpbmVcIjpyZXR1cm4gTShhKTtjYXNlIFwicG9seWdvblwiOnZhciBjPWEucG9pbnRzO3JldHVybiBNKGEpK0YoYy5nZXRJdGVtKGMubnVtYmVyT2ZJdGVtcy0xKSxjLmdldEl0ZW0oMCkpfX1mdW5jdGlvbiBZKGEsYyl7ZnVuY3Rpb24gZChiKXtiPXZvaWQgMD09PWI/MDpiO3JldHVybiBhLmVsLmdldFBvaW50QXRMZW5ndGgoMTw9YytiP2MrYjowKX12YXIgYj1kKCksZj1kKC0xKSxuPWQoMSk7c3dpdGNoKGEucHJvcGVydHkpe2Nhc2UgXCJ4XCI6cmV0dXJuIGIueDtjYXNlIFwieVwiOnJldHVybiBiLnk7XG5jYXNlIFwiYW5nbGVcIjpyZXR1cm4gMTgwKk1hdGguYXRhbjIobi55LWYueSxuLngtZi54KS9NYXRoLlBJfX1mdW5jdGlvbiBPKGEsYyl7dmFyIGQ9Ly0/XFxkKlxcLj9cXGQrL2csYjtiPWgucHRoKGEpP2EudG90YWxMZW5ndGg6YTtpZihoLmNvbChiKSlpZihoLnJnYihiKSl7dmFyIGY9L3JnYlxcKChcXGQrLFxccypbXFxkXSssXFxzKltcXGRdKylcXCkvZy5leGVjKGIpO2I9Zj9cInJnYmEoXCIrZlsxXStcIiwxKVwiOmJ9ZWxzZSBiPWguaGV4KGIpP1QoYik6aC5oc2woYik/VShiKTp2b2lkIDA7ZWxzZSBmPShmPXkoYikpP2Iuc3Vic3RyKDAsYi5sZW5ndGgtZi5sZW5ndGgpOmIsYj1jJiYhL1xccy9nLnRlc3QoYik/ZitjOmY7Yis9XCJcIjtyZXR1cm57b3JpZ2luYWw6YixudW1iZXJzOmIubWF0Y2goZCk/Yi5tYXRjaChkKS5tYXAoTnVtYmVyKTpbMF0sc3RyaW5nczpoLnN0cihhKXx8Yz9iLnNwbGl0KGQpOltdfX1mdW5jdGlvbiBQKGEpe2E9YT9wKGguYXJyKGEpP2EubWFwKG0pOm0oYSkpOltdO3JldHVybiByKGEsXG5mdW5jdGlvbihhLGQsYil7cmV0dXJuIGIuaW5kZXhPZihhKT09PWR9KX1mdW5jdGlvbiBaKGEpe3ZhciBjPVAoYSk7cmV0dXJuIGMubWFwKGZ1bmN0aW9uKGEsYil7cmV0dXJue3RhcmdldDphLGlkOmIsdG90YWw6Yy5sZW5ndGh9fSl9ZnVuY3Rpb24gYWEoYSxjKXt2YXIgZD1DKGMpO2lmKGguYXJyKGEpKXt2YXIgYj1hLmxlbmd0aDsyIT09Ynx8aC5vYmooYVswXSk/aC5mbmMoYy5kdXJhdGlvbil8fChkLmR1cmF0aW9uPWMuZHVyYXRpb24vYik6YT17dmFsdWU6YX19cmV0dXJuIG0oYSkubWFwKGZ1bmN0aW9uKGEsYil7Yj1iPzA6Yy5kZWxheTthPWgub2JqKGEpJiYhaC5wdGgoYSk/YTp7dmFsdWU6YX07aC51bmQoYS5kZWxheSkmJihhLmRlbGF5PWIpO3JldHVybiBhfSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiB6KGEsZCl9KX1mdW5jdGlvbiBiYShhLGMpe3ZhciBkPXt9LGI7Zm9yKGIgaW4gYSl7dmFyIGY9SShhW2JdLGMpO2guYXJyKGYpJiYoZj1mLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gSShhLFxuYyl9KSwxPT09Zi5sZW5ndGgmJihmPWZbMF0pKTtkW2JdPWZ9ZC5kdXJhdGlvbj1wYXJzZUZsb2F0KGQuZHVyYXRpb24pO2QuZGVsYXk9cGFyc2VGbG9hdChkLmRlbGF5KTtyZXR1cm4gZH1mdW5jdGlvbiBjYShhKXtyZXR1cm4gaC5hcnIoYSk/QS5hcHBseSh0aGlzLGEpOlFbYV19ZnVuY3Rpb24gZGEoYSxjKXt2YXIgZDtyZXR1cm4gYS50d2VlbnMubWFwKGZ1bmN0aW9uKGIpe2I9YmEoYixjKTt2YXIgZj1iLnZhbHVlLGU9SyhjLnRhcmdldCxhLm5hbWUpLGs9ZD9kLnRvLm9yaWdpbmFsOmUsaz1oLmFycihmKT9mWzBdOmssdz1MKGguYXJyKGYpP2ZbMV06ZixrKSxlPXkodyl8fHkoayl8fHkoZSk7Yi5mcm9tPU8oayxlKTtiLnRvPU8odyxlKTtiLnN0YXJ0PWQ/ZC5lbmQ6YS5vZmZzZXQ7Yi5lbmQ9Yi5zdGFydCtiLmRlbGF5K2IuZHVyYXRpb247Yi5lYXNpbmc9Y2EoYi5lYXNpbmcpO2IuZWxhc3RpY2l0eT0oMUUzLU1hdGgubWluKE1hdGgubWF4KGIuZWxhc3RpY2l0eSwxKSw5OTkpKS9cbjFFMztiLmlzUGF0aD1oLnB0aChmKTtiLmlzQ29sb3I9aC5jb2woYi5mcm9tLm9yaWdpbmFsKTtiLmlzQ29sb3ImJihiLnJvdW5kPTEpO3JldHVybiBkPWJ9KX1mdW5jdGlvbiBlYShhLGMpe3JldHVybiByKHAoYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGMubWFwKGZ1bmN0aW9uKGIpe3ZhciBjPUooYS50YXJnZXQsYi5uYW1lKTtpZihjKXt2YXIgZD1kYShiLGEpO2I9e3R5cGU6Yyxwcm9wZXJ0eTpiLm5hbWUsYW5pbWF0YWJsZTphLHR3ZWVuczpkLGR1cmF0aW9uOmRbZC5sZW5ndGgtMV0uZW5kLGRlbGF5OmRbMF0uZGVsYXl9fWVsc2UgYj12b2lkIDA7cmV0dXJuIGJ9KX0pKSxmdW5jdGlvbihhKXtyZXR1cm4haC51bmQoYSl9KX1mdW5jdGlvbiBSKGEsYyxkLGIpe3ZhciBmPVwiZGVsYXlcIj09PWE7cmV0dXJuIGMubGVuZ3RoPyhmP01hdGgubWluOk1hdGgubWF4KS5hcHBseShNYXRoLGMubWFwKGZ1bmN0aW9uKGIpe3JldHVybiBiW2FdfSkpOmY/Yi5kZWxheTpkLm9mZnNldCtiLmRlbGF5K1xuYi5kdXJhdGlvbn1mdW5jdGlvbiBmYShhKXt2YXIgYz1EKGdhLGEpLGQ9RChTLGEpLGI9WihhLnRhcmdldHMpLGY9W10sZT16KGMsZCksaztmb3IoayBpbiBhKWUuaGFzT3duUHJvcGVydHkoayl8fFwidGFyZ2V0c1wiPT09a3x8Zi5wdXNoKHtuYW1lOmssb2Zmc2V0OmUub2Zmc2V0LHR3ZWVuczphYShhW2tdLGQpfSk7YT1lYShiLGYpO3JldHVybiB6KGMse2NoaWxkcmVuOltdLGFuaW1hdGFibGVzOmIsYW5pbWF0aW9uczphLGR1cmF0aW9uOlIoXCJkdXJhdGlvblwiLGEsYyxkKSxkZWxheTpSKFwiZGVsYXlcIixhLGMsZCl9KX1mdW5jdGlvbiBxKGEpe2Z1bmN0aW9uIGMoKXtyZXR1cm4gd2luZG93LlByb21pc2UmJm5ldyBQcm9taXNlKGZ1bmN0aW9uKGEpe3JldHVybiBwPWF9KX1mdW5jdGlvbiBkKGEpe3JldHVybiBnLnJldmVyc2VkP2cuZHVyYXRpb24tYTphfWZ1bmN0aW9uIGIoYSl7Zm9yKHZhciBiPTAsYz17fSxkPWcuYW5pbWF0aW9ucyxmPWQubGVuZ3RoO2I8Zjspe3ZhciBlPWRbYl0sXG5rPWUuYW5pbWF0YWJsZSxoPWUudHdlZW5zLG49aC5sZW5ndGgtMSxsPWhbbl07biYmKGw9cihoLGZ1bmN0aW9uKGIpe3JldHVybiBhPGIuZW5kfSlbMF18fGwpO2Zvcih2YXIgaD1NYXRoLm1pbihNYXRoLm1heChhLWwuc3RhcnQtbC5kZWxheSwwKSxsLmR1cmF0aW9uKS9sLmR1cmF0aW9uLHc9aXNOYU4oaCk/MTpsLmVhc2luZyhoLGwuZWxhc3RpY2l0eSksaD1sLnRvLnN0cmluZ3MscD1sLnJvdW5kLG49W10sbT12b2lkIDAsbT1sLnRvLm51bWJlcnMubGVuZ3RoLHQ9MDt0PG07dCsrKXt2YXIgeD12b2lkIDAseD1sLnRvLm51bWJlcnNbdF0scT1sLmZyb20ubnVtYmVyc1t0XSx4PWwuaXNQYXRoP1kobC52YWx1ZSx3KngpOnErdyooeC1xKTtwJiYobC5pc0NvbG9yJiYyPHR8fCh4PU1hdGgucm91bmQoeCpwKS9wKSk7bi5wdXNoKHgpfWlmKGw9aC5sZW5ndGgpZm9yKG09aFswXSx3PTA7dzxsO3crKylwPWhbdysxXSx0PW5bd10saXNOYU4odCl8fChtPXA/bSsodCtwKTptKyh0K1wiIFwiKSk7XG5lbHNlIG09blswXTtoYVtlLnR5cGVdKGsudGFyZ2V0LGUucHJvcGVydHksbSxjLGsuaWQpO2UuY3VycmVudFZhbHVlPW07YisrfWlmKGI9T2JqZWN0LmtleXMoYykubGVuZ3RoKWZvcihkPTA7ZDxiO2QrKylIfHwoSD1FKGRvY3VtZW50LmJvZHksXCJ0cmFuc2Zvcm1cIik/XCJ0cmFuc2Zvcm1cIjpcIi13ZWJraXQtdHJhbnNmb3JtXCIpLGcuYW5pbWF0YWJsZXNbZF0udGFyZ2V0LnN0eWxlW0hdPWNbZF0uam9pbihcIiBcIik7Zy5jdXJyZW50VGltZT1hO2cucHJvZ3Jlc3M9YS9nLmR1cmF0aW9uKjEwMH1mdW5jdGlvbiBmKGEpe2lmKGdbYV0pZ1thXShnKX1mdW5jdGlvbiBlKCl7Zy5yZW1haW5pbmcmJiEwIT09Zy5yZW1haW5pbmcmJmcucmVtYWluaW5nLS19ZnVuY3Rpb24gayhhKXt2YXIgaz1nLmR1cmF0aW9uLG49Zy5vZmZzZXQsdz1uK2cuZGVsYXkscj1nLmN1cnJlbnRUaW1lLHg9Zy5yZXZlcnNlZCxxPWQoYSk7aWYoZy5jaGlsZHJlbi5sZW5ndGgpe3ZhciB1PWcuY2hpbGRyZW4sdj11Lmxlbmd0aDtcbmlmKHE+PWcuY3VycmVudFRpbWUpZm9yKHZhciBHPTA7Rzx2O0crKyl1W0ddLnNlZWsocSk7ZWxzZSBmb3IoO3YtLTspdVt2XS5zZWVrKHEpfWlmKHE+PXd8fCFrKWcuYmVnYW58fChnLmJlZ2FuPSEwLGYoXCJiZWdpblwiKSksZihcInJ1blwiKTtpZihxPm4mJnE8ayliKHEpO2Vsc2UgaWYocTw9biYmMCE9PXImJihiKDApLHgmJmUoKSkscT49ayYmciE9PWt8fCFrKWIoaykseHx8ZSgpO2YoXCJ1cGRhdGVcIik7YT49ayYmKGcucmVtYWluaW5nPyh0PWgsXCJhbHRlcm5hdGVcIj09PWcuZGlyZWN0aW9uJiYoZy5yZXZlcnNlZD0hZy5yZXZlcnNlZCkpOihnLnBhdXNlKCksZy5jb21wbGV0ZWR8fChnLmNvbXBsZXRlZD0hMCxmKFwiY29tcGxldGVcIiksXCJQcm9taXNlXCJpbiB3aW5kb3cmJihwKCksbT1jKCkpKSksbD0wKX1hPXZvaWQgMD09PWE/e306YTt2YXIgaCx0LGw9MCxwPW51bGwsbT1jKCksZz1mYShhKTtnLnJlc2V0PWZ1bmN0aW9uKCl7dmFyIGE9Zy5kaXJlY3Rpb24sYz1nLmxvb3A7Zy5jdXJyZW50VGltZT1cbjA7Zy5wcm9ncmVzcz0wO2cucGF1c2VkPSEwO2cuYmVnYW49ITE7Zy5jb21wbGV0ZWQ9ITE7Zy5yZXZlcnNlZD1cInJldmVyc2VcIj09PWE7Zy5yZW1haW5pbmc9XCJhbHRlcm5hdGVcIj09PWEmJjE9PT1jPzI6YztiKDApO2ZvcihhPWcuY2hpbGRyZW4ubGVuZ3RoO2EtLTspZy5jaGlsZHJlblthXS5yZXNldCgpfTtnLnRpY2s9ZnVuY3Rpb24oYSl7aD1hO3R8fCh0PWgpO2soKGwraC10KSpxLnNwZWVkKX07Zy5zZWVrPWZ1bmN0aW9uKGEpe2soZChhKSl9O2cucGF1c2U9ZnVuY3Rpb24oKXt2YXIgYT12LmluZGV4T2YoZyk7LTE8YSYmdi5zcGxpY2UoYSwxKTtnLnBhdXNlZD0hMH07Zy5wbGF5PWZ1bmN0aW9uKCl7Zy5wYXVzZWQmJihnLnBhdXNlZD0hMSx0PTAsbD1kKGcuY3VycmVudFRpbWUpLHYucHVzaChnKSxCfHxpYSgpKX07Zy5yZXZlcnNlPWZ1bmN0aW9uKCl7Zy5yZXZlcnNlZD0hZy5yZXZlcnNlZDt0PTA7bD1kKGcuY3VycmVudFRpbWUpfTtnLnJlc3RhcnQ9ZnVuY3Rpb24oKXtnLnBhdXNlKCk7XG5nLnJlc2V0KCk7Zy5wbGF5KCl9O2cuZmluaXNoZWQ9bTtnLnJlc2V0KCk7Zy5hdXRvcGxheSYmZy5wbGF5KCk7cmV0dXJuIGd9dmFyIGdhPXt1cGRhdGU6dm9pZCAwLGJlZ2luOnZvaWQgMCxydW46dm9pZCAwLGNvbXBsZXRlOnZvaWQgMCxsb29wOjEsZGlyZWN0aW9uOlwibm9ybWFsXCIsYXV0b3BsYXk6ITAsb2Zmc2V0OjB9LFM9e2R1cmF0aW9uOjFFMyxkZWxheTowLGVhc2luZzpcImVhc2VPdXRFbGFzdGljXCIsZWxhc3RpY2l0eTo1MDAscm91bmQ6MH0sVz1cInRyYW5zbGF0ZVggdHJhbnNsYXRlWSB0cmFuc2xhdGVaIHJvdGF0ZSByb3RhdGVYIHJvdGF0ZVkgcm90YXRlWiBzY2FsZSBzY2FsZVggc2NhbGVZIHNjYWxlWiBza2V3WCBza2V3WSBwZXJzcGVjdGl2ZVwiLnNwbGl0KFwiIFwiKSxILGg9e2FycjpmdW5jdGlvbihhKXtyZXR1cm4gQXJyYXkuaXNBcnJheShhKX0sb2JqOmZ1bmN0aW9uKGEpe3JldHVybi0xPE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKS5pbmRleE9mKFwiT2JqZWN0XCIpfSxcbnB0aDpmdW5jdGlvbihhKXtyZXR1cm4gaC5vYmooYSkmJmEuaGFzT3duUHJvcGVydHkoXCJ0b3RhbExlbmd0aFwiKX0sc3ZnOmZ1bmN0aW9uKGEpe3JldHVybiBhIGluc3RhbmNlb2YgU1ZHRWxlbWVudH0sZG9tOmZ1bmN0aW9uKGEpe3JldHVybiBhLm5vZGVUeXBlfHxoLnN2ZyhhKX0sc3RyOmZ1bmN0aW9uKGEpe3JldHVyblwic3RyaW5nXCI9PT10eXBlb2YgYX0sZm5jOmZ1bmN0aW9uKGEpe3JldHVyblwiZnVuY3Rpb25cIj09PXR5cGVvZiBhfSx1bmQ6ZnVuY3Rpb24oYSl7cmV0dXJuXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBhfSxoZXg6ZnVuY3Rpb24oYSl7cmV0dXJuLyheI1swLTlBLUZdezZ9JCl8KF4jWzAtOUEtRl17M30kKS9pLnRlc3QoYSl9LHJnYjpmdW5jdGlvbihhKXtyZXR1cm4vXnJnYi8udGVzdChhKX0saHNsOmZ1bmN0aW9uKGEpe3JldHVybi9eaHNsLy50ZXN0KGEpfSxjb2w6ZnVuY3Rpb24oYSl7cmV0dXJuIGguaGV4KGEpfHxoLnJnYihhKXx8aC5oc2woYSl9fSxBPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLFxuZCxiKXtyZXR1cm4oKCgxLTMqYiszKmQpKmErKDMqYi02KmQpKSphKzMqZCkqYX1yZXR1cm4gZnVuY3Rpb24oYyxkLGIsZil7aWYoMDw9YyYmMT49YyYmMDw9YiYmMT49Yil7dmFyIGU9bmV3IEZsb2F0MzJBcnJheSgxMSk7aWYoYyE9PWR8fGIhPT1mKWZvcih2YXIgaz0wOzExPms7KytrKWVba109YSguMSprLGMsYik7cmV0dXJuIGZ1bmN0aW9uKGspe2lmKGM9PT1kJiZiPT09ZilyZXR1cm4gaztpZigwPT09aylyZXR1cm4gMDtpZigxPT09aylyZXR1cm4gMTtmb3IodmFyIGg9MCxsPTE7MTAhPT1sJiZlW2xdPD1rOysrbCloKz0uMTstLWw7dmFyIGw9aCsoay1lW2xdKS8oZVtsKzFdLWVbbF0pKi4xLG49MyooMS0zKmIrMypjKSpsKmwrMiooMypiLTYqYykqbCszKmM7aWYoLjAwMTw9bil7Zm9yKGg9MDs0Pmg7KytoKXtuPTMqKDEtMypiKzMqYykqbCpsKzIqKDMqYi02KmMpKmwrMypjO2lmKDA9PT1uKWJyZWFrO3ZhciBtPWEobCxjLGIpLWssbD1sLW0vbn1rPWx9ZWxzZSBpZigwPT09XG5uKWs9bDtlbHNle3ZhciBsPWgsaD1oKy4xLGc9MDtkbyBtPWwrKGgtbCkvMixuPWEobSxjLGIpLWssMDxuP2g9bTpsPW07d2hpbGUoMWUtNzxNYXRoLmFicyhuKSYmMTA+KytnKTtrPW19cmV0dXJuIGEoayxkLGYpfX19fSgpLFE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYil7cmV0dXJuIDA9PT1hfHwxPT09YT9hOi1NYXRoLnBvdygyLDEwKihhLTEpKSpNYXRoLnNpbigyKihhLTEtYi8oMipNYXRoLlBJKSpNYXRoLmFzaW4oMSkpKk1hdGguUEkvYil9dmFyIGM9XCJRdWFkIEN1YmljIFF1YXJ0IFF1aW50IFNpbmUgRXhwbyBDaXJjIEJhY2sgRWxhc3RpY1wiLnNwbGl0KFwiIFwiKSxkPXtJbjpbWy41NSwuMDg1LC42OCwuNTNdLFsuNTUsLjA1NSwuNjc1LC4xOV0sWy44OTUsLjAzLC42ODUsLjIyXSxbLjc1NSwuMDUsLjg1NSwuMDZdLFsuNDcsMCwuNzQ1LC43MTVdLFsuOTUsLjA1LC43OTUsLjAzNV0sWy42LC4wNCwuOTgsLjMzNV0sWy42LC0uMjgsLjczNSwuMDQ1XSxhXSxPdXQ6W1suMjUsXG4uNDYsLjQ1LC45NF0sWy4yMTUsLjYxLC4zNTUsMV0sWy4xNjUsLjg0LC40NCwxXSxbLjIzLDEsLjMyLDFdLFsuMzksLjU3NSwuNTY1LDFdLFsuMTksMSwuMjIsMV0sWy4wNzUsLjgyLC4xNjUsMV0sWy4xNzUsLjg4NSwuMzIsMS4yNzVdLGZ1bmN0aW9uKGIsYyl7cmV0dXJuIDEtYSgxLWIsYyl9XSxJbk91dDpbWy40NTUsLjAzLC41MTUsLjk1NV0sWy42NDUsLjA0NSwuMzU1LDFdLFsuNzcsMCwuMTc1LDFdLFsuODYsMCwuMDcsMV0sWy40NDUsLjA1LC41NSwuOTVdLFsxLDAsMCwxXSxbLjc4NSwuMTM1LC4xNSwuODZdLFsuNjgsLS41NSwuMjY1LDEuNTVdLGZ1bmN0aW9uKGIsYyl7cmV0dXJuLjU+Yj9hKDIqYixjKS8yOjEtYSgtMipiKzIsYykvMn1dfSxiPXtsaW5lYXI6QSguMjUsLjI1LC43NSwuNzUpfSxmPXt9LGU7Zm9yKGUgaW4gZClmLnR5cGU9ZSxkW2YudHlwZV0uZm9yRWFjaChmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oZCxmKXtiW1wiZWFzZVwiK2EudHlwZStjW2ZdXT1oLmZuYyhkKT9cbmQ6QS5hcHBseSgkanNjb21wJHRoaXMsZCl9fShmKSksZj17dHlwZTpmLnR5cGV9O3JldHVybiBifSgpLGhhPXtjc3M6ZnVuY3Rpb24oYSxjLGQpe3JldHVybiBhLnN0eWxlW2NdPWR9LGF0dHJpYnV0ZTpmdW5jdGlvbihhLGMsZCl7cmV0dXJuIGEuc2V0QXR0cmlidXRlKGMsZCl9LG9iamVjdDpmdW5jdGlvbihhLGMsZCl7cmV0dXJuIGFbY109ZH0sdHJhbnNmb3JtOmZ1bmN0aW9uKGEsYyxkLGIsZil7YltmXXx8KGJbZl09W10pO2JbZl0ucHVzaChjK1wiKFwiK2QrXCIpXCIpfX0sdj1bXSxCPTAsaWE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7Qj1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYyl9ZnVuY3Rpb24gYyhjKXt2YXIgYj12Lmxlbmd0aDtpZihiKXtmb3IodmFyIGQ9MDtkPGI7KXZbZF0mJnZbZF0udGljayhjKSxkKys7YSgpfWVsc2UgY2FuY2VsQW5pbWF0aW9uRnJhbWUoQiksQj0wfXJldHVybiBhfSgpO3EudmVyc2lvbj1cIjIuMi4wXCI7cS5zcGVlZD0xO3EucnVubmluZz12O3EucmVtb3ZlPVxuZnVuY3Rpb24oYSl7YT1QKGEpO2Zvcih2YXIgYz12Lmxlbmd0aDtjLS07KWZvcih2YXIgZD12W2NdLGI9ZC5hbmltYXRpb25zLGY9Yi5sZW5ndGg7Zi0tOyl1KGEsYltmXS5hbmltYXRhYmxlLnRhcmdldCkmJihiLnNwbGljZShmLDEpLGIubGVuZ3RofHxkLnBhdXNlKCkpfTtxLmdldFZhbHVlPUs7cS5wYXRoPWZ1bmN0aW9uKGEsYyl7dmFyIGQ9aC5zdHIoYSk/ZShhKVswXTphLGI9Y3x8MTAwO3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm57ZWw6ZCxwcm9wZXJ0eTphLHRvdGFsTGVuZ3RoOk4oZCkqKGIvMTAwKX19fTtxLnNldERhc2hvZmZzZXQ9ZnVuY3Rpb24oYSl7dmFyIGM9TihhKTthLnNldEF0dHJpYnV0ZShcInN0cm9rZS1kYXNoYXJyYXlcIixjKTtyZXR1cm4gY307cS5iZXppZXI9QTtxLmVhc2luZ3M9UTtxLnRpbWVsaW5lPWZ1bmN0aW9uKGEpe3ZhciBjPXEoYSk7Yy5wYXVzZSgpO2MuZHVyYXRpb249MDtjLmFkZD1mdW5jdGlvbihkKXtjLmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24oYSl7YS5iZWdhbj1cbiEwO2EuY29tcGxldGVkPSEwfSk7bShkKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3ZhciBkPXooYixEKFMsYXx8e30pKTtkLnRhcmdldHM9ZC50YXJnZXRzfHxhLnRhcmdldHM7Yj1jLmR1cmF0aW9uO3ZhciBlPWQub2Zmc2V0O2QuYXV0b3BsYXk9ITE7ZC5kaXJlY3Rpb249Yy5kaXJlY3Rpb247ZC5vZmZzZXQ9aC51bmQoZSk/YjpMKGUsYik7Yy5iZWdhbj0hMDtjLmNvbXBsZXRlZD0hMDtjLnNlZWsoZC5vZmZzZXQpO2Q9cShkKTtkLmJlZ2FuPSEwO2QuY29tcGxldGVkPSEwO2QuZHVyYXRpb24+YiYmKGMuZHVyYXRpb249ZC5kdXJhdGlvbik7Yy5jaGlsZHJlbi5wdXNoKGQpfSk7Yy5zZWVrKDApO2MucmVzZXQoKTtjLmF1dG9wbGF5JiZjLnJlc3RhcnQoKTtyZXR1cm4gY307cmV0dXJuIGN9O3EucmFuZG9tPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSooYy1hKzEpKSthfTtyZXR1cm4gcX0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9hbmltZWpzL2FuaW1lLm1pbi5qc1xuLy8gbW9kdWxlIGlkID0gMTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyogZ2xvYmFsIFRIUkVFICovXG4vLyBQYXJhYm9saWMgbW90aW9uIGVxdWF0aW9uLCB5ID0gcDAgKyB2MCp0ICsgMS8yYXReMlxuZnVuY3Rpb24gcGFyYWJvbGljQ3VydmVTY2FsYXIgKHAwLCB2MCwgYSwgdCkge1xuICByZXR1cm4gcDAgKyB2MCAqIHQgKyAwLjUgKiBhICogdCAqIHQ7XG59XG5cbi8vIFBhcmFib2xpYyBtb3Rpb24gZXF1YXRpb24gYXBwbGllZCB0byAzIGRpbWVuc2lvbnNcbmZ1bmN0aW9uIHBhcmFib2xpY0N1cnZlIChwMCwgdjAsIGEsIHQsIG91dCkge1xuICBvdXQueCA9IHBhcmFib2xpY0N1cnZlU2NhbGFyKHAwLngsIHYwLngsIGEueCwgdCk7XG4gIG91dC55ID0gcGFyYWJvbGljQ3VydmVTY2FsYXIocDAueSwgdjAueSwgYS55LCB0KTtcbiAgb3V0LnogPSBwYXJhYm9saWNDdXJ2ZVNjYWxhcihwMC56LCB2MC56LCBhLnosIHQpO1xuICByZXR1cm4gb3V0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcmFib2xpY0N1cnZlO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4uL2FmcmFtZS10ZWxlcG9ydC1jb250cm9scy9saWIvUGFyYWJvbGljQ3VydmUuanMiLCIvKiBnbG9iYWwgVEhSRUUgKi9cbnZhciBSYXlDdXJ2ZSA9IGZ1bmN0aW9uIChudW1Qb2ludHMsIHdpZHRoKSB7XG4gIHRoaXMuZ2VvbWV0cnkgPSBuZXcgVEhSRUUuQnVmZmVyR2VvbWV0cnkoKTtcbiAgdGhpcy52ZXJ0aWNlcyA9IG5ldyBGbG9hdDMyQXJyYXkobnVtUG9pbnRzICogMyAqIDIpO1xuICB0aGlzLnV2cyA9IG5ldyBGbG9hdDMyQXJyYXkobnVtUG9pbnRzICogMiAqIDIpO1xuICB0aGlzLndpZHRoID0gd2lkdGg7XG5cbiAgdGhpcy5nZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJywgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZSh0aGlzLnZlcnRpY2VzLCAzKS5zZXREeW5hbWljKHRydWUpKTtcblxuICB0aGlzLm1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcbiAgICBzaWRlOiBUSFJFRS5Eb3VibGVTaWRlLFxuICAgIGNvbG9yOiAweGZmMDAwMFxuICB9KTtcblxuICB0aGlzLm1lc2ggPSBuZXcgVEhSRUUuTWVzaCh0aGlzLmdlb21ldHJ5LCB0aGlzLm1hdGVyaWFsKTtcbiAgdGhpcy5tZXNoLmRyYXdNb2RlID0gVEhSRUUuVHJpYW5nbGVTdHJpcERyYXdNb2RlO1xuXG4gIHRoaXMubWVzaC5mcnVzdHVtQ3VsbGVkID0gZmFsc2U7XG4gIHRoaXMubWVzaC52ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7XG5cbiAgdGhpcy5kaXJlY3Rpb24gPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICB0aGlzLm51bVBvaW50cyA9IG51bVBvaW50cztcbn07XG5cblJheUN1cnZlLnByb3RvdHlwZSA9IHtcbiAgc2V0RGlyZWN0aW9uOiBmdW5jdGlvbiAoZGlyZWN0aW9uKSB7XG4gICAgdmFyIFVQID0gbmV3IFRIUkVFLlZlY3RvcjMoMCwgMSwgMCk7XG4gICAgdGhpcy5kaXJlY3Rpb25cbiAgICAgIC5jb3B5KGRpcmVjdGlvbilcbiAgICAgIC5jcm9zcyhVUClcbiAgICAgIC5ub3JtYWxpemUoKVxuICAgICAgLm11bHRpcGx5U2NhbGFyKHRoaXMud2lkdGggLyAyKTtcbiAgfSxcblxuICBzZXRXaWR0aDogZnVuY3Rpb24gKHdpZHRoKSB7XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICB9LFxuXG4gIHNldFBvaW50OiAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBwb3NBID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgICB2YXIgcG9zQiA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKGksIHBvaW50KSB7XG4gICAgICBwb3NBLmNvcHkocG9pbnQpLmFkZCh0aGlzLmRpcmVjdGlvbik7XG4gICAgICBwb3NCLmNvcHkocG9pbnQpLnN1Yih0aGlzLmRpcmVjdGlvbik7XG5cbiAgICAgIHZhciBpZHggPSAyICogMyAqIGk7XG4gICAgICB0aGlzLnZlcnRpY2VzW2lkeCsrXSA9IHBvc0EueDtcbiAgICAgIHRoaXMudmVydGljZXNbaWR4KytdID0gcG9zQS55O1xuICAgICAgdGhpcy52ZXJ0aWNlc1tpZHgrK10gPSBwb3NBLno7XG5cbiAgICAgIHRoaXMudmVydGljZXNbaWR4KytdID0gcG9zQi54O1xuICAgICAgdGhpcy52ZXJ0aWNlc1tpZHgrK10gPSBwb3NCLnk7XG4gICAgICB0aGlzLnZlcnRpY2VzW2lkeCsrXSA9IHBvc0IuejtcblxuICAgICAgdGhpcy5nZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICB9O1xuICB9KSgpXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJheUN1cnZlO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4uL2FmcmFtZS10ZWxlcG9ydC1jb250cm9scy9saWIvUmF5Q3VydmUuanMiLCJtb2R1bGUuZXhwb3J0cyA9ICd1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBRUFBQUFRQ0FZQUFBRFhueFczQUFBQUNYQklXWE1BQUFzVEFBQUxFd0VBbXB3WUFBQUtUMmxEUTFCUWFHOTBiM05vYjNBZ1NVTkRJSEJ5YjJacGJHVUFBSGphblZOblZGUHBGajMzM3ZSQ1M0aUFsRXR2VWhVSUlGSkNpNEFVa1NZcUlRa1FTb2dob2RrVlVjRVJSVVVFRzhpZ2lBT09qb0NNRlZFc0RJb0syQWZrSWFLT2c2T0lpc3I3NFh1amE5YTg5K2JOL3JYWFB1ZXM4NTJ6endmQUNBeVdTRE5STllBTXFVSWVFZUNEeDhURzRlUXVRSUVLSkhBQUVBaXpaQ0Z6L1NNQkFQaCtQRHdySXNBSHZnQUJlTk1MQ0FEQVRadkFNQnlIL3cvcVFwbGNBWUNFQWNCMGtUaExDSUFVQUVCNmprS21BRUJHQVlDZG1DWlRBS0FFQUdETFkyTGpBRkF0QUdBbmYrYlRBSUNkK0psN0FRQmJsQ0VWQWFDUkFDQVRaWWhFQUdnN0FLelBWb3BGQUZnd0FCUm1TOFE1QU5ndEFEQkpWMlpJQUxDM0FNRE9FQXV5QUFnTUFEQlJpSVVwQUFSN0FHRElJeU40QUlTWkFCUkc4bGM4OFN1dUVPY3FBQUI0bWJJOHVTUTVSWUZiQ0MxeEIxZFhMaDRvemtrWEt4UTJZUUpobWtBdXdubVpHVEtCTkEvZzg4d0FBS0NSRlJIZ2cvUDllTTRPcnM3T05vNjJEbDh0NnI4Ry95SmlZdVArNWMrcmNFQUFBT0YwZnRIK0xDK3pHb0E3Qm9CdC9xSWw3Z1JvWGd1Z2RmZUxacklQUUxVQW9PbmFWL053K0g0OFBFV2hrTG5aMmVYazVOaEt4RUpiWWNwWGZmNW53bC9BVi8xcytYNDgvUGYxNEw3aUpJRXlYWUZIQlBqZ3dzejBUS1VjejVJSmhHTGM1bzlIL0xjTC8vd2QweUxFU1dLNVdDb1U0MUVTY1k1RW1venpNcVVpaVVLU0tjVWwwdjlrNHQ4cyt3TSszelVBc0dvK0FYdVJMYWhkWXdQMlN5Y1FXSFRBNHZjQUFQSzdiOEhVS0FnRGdHaUQ0YzkzLys4Ly9VZWdKUUNBWmttU2NRQUFYa1FrTGxUS3N6L0hDQUFBUktDQktyQkJHL1RCR0N6QUJoekJCZHpCQy94Z05vUkNKTVRDUWhCQ0NtU0FISEpnS2F5Q1FpaUd6YkFkS21BdjFFQWROTUJSYUlhVGNBNHV3bFc0RGoxd0QvcGhDSjdCS0x5QkNRUkJ5QWdUWVNIYWlBRmlpbGdqamdnWG1ZWDRJY0ZJQkJLTEpDREppQlJSSWt1Uk5VZ3hVb3BVSUZWSUhmSTljZ0k1aDF4R3VwRTd5QUF5Z3Z5R3ZFY3hsSUd5VVQzVURMVkR1YWczR29SR29ndlFaSFF4bW84V29KdlFjclFhUFl3Mm9lZlFxMmdQMm84K1E4Y3d3T2dZQnpQRWJEQXV4c05Dc1Rnc0NaTmp5N0VpckF5cnhocXdWcXdEdTRuMVk4K3hkd1FTZ1VYQUNUWUVkMElnWVI1QlNGaE1XRTdZU0tnZ0hDUTBFZG9KTndrRGhGSENKeUtUcUV1MEpyb1IrY1FZWWpJeGgxaElMQ1BXRW84VEx4QjdpRVBFTnlRU2lVTXlKN21RQWtteHBGVFNFdEpHMG01U0kra3NxWnMwU0Jvams4bmFaR3V5QnptVUxDQXJ5SVhrbmVURDVEUGtHK1FoOGxzS25XSkFjYVQ0VStJb1VzcHFTaG5sRU9VMDVRWmxtREpCVmFPYVV0Mm9vVlFSTlk5YVFxMmh0bEt2VVllb0V6UjFtam5OZ3haSlM2V3RvcFhUR21nWGFQZHByK2gwdWhIZGxSNU9sOUJYMHN2cFIraVg2QVAwZHd3TmhoV0R4NGhuS0JtYkdBY1laeGwzR0srWVRLWVowNHNaeDFRd056SHJtT2VaRDVsdlZWZ3F0aXA4RlpIS0NwVktsU2FWR3lvdlZLbXFwcXJlcWd0VjgxWExWSStwWGxOOXJrWlZNMVBqcVFuVWxxdFZxcDFRNjFNYlUyZXBPNmlIcW1lb2IxUS9wSDVaL1lrR1djTk13MDlEcEZHZ3NWL2p2TVlnQzJNWnMzZ3NJV3NOcTRaMWdUWEVKckhOMlh4MktydVkvUjI3aXoycXFhRTVRek5LTTFlelV2T1VaajhINDVoeCtKeDBUZ25uS0tlWDgzNkszaFR2S2VJcEc2WTBUTGt4WlZ4cnFwYVhsbGlyU0t0UnEwZnJ2VGF1N2FlZHByMUZ1MW43Z1E1Qngwb25YQ2RIWjQvT0JaM25VOWxUM2FjS3B4Wk5QVHIxcmk2cWE2VWJvYnRFZDc5dXArNllucjVlZ0o1TWI2ZmVlYjNuK2h4OUwvMVUvVzM2cC9WSERGZ0dzd3drQnRzTXpoZzh4VFZ4Ynp3ZEw4ZmI4VkZEWGNOQVE2VmhsV0dYNFlTUnVkRThvOVZHalVZUGpHbkdYT01rNDIzR2JjYWpKZ1ltSVNaTFRlcE43cHBTVGJtbUthWTdURHRNeDgzTXphTE4xcGsxbXoweDF6TG5tK2ViMTV2ZnQyQmFlRm9zdHFpMnVHVkpzdVJhcGxudXRyeHVoVm81V2FWWVZWcGRzMGF0bmEwbDFydXR1NmNScDdsT2swNnJudFpudzdEeHRzbTJxYmNac09YWUJ0dXV0bTIyZldGblloZG50OFd1dys2VHZaTjl1bjJOL1QwSERZZlpEcXNkV2gxK2M3UnlGRHBXT3Q2YXpwenVQMzNGOUpicEwyZFl6eERQMkRQanRoUExLY1JwblZPYjAwZG5GMmU1YzRQemlJdUpTNExMTHBjK0xwc2J4dDNJdmVSS2RQVnhYZUY2MHZXZG03T2J3dTJvMjYvdU51NXA3b2Zjbjh3MG55bWVXVE56ME1QSVErQlI1ZEUvQzUrVk1HdmZySDVQUTArQlo3WG5JeTlqTDVGWHJkZXd0NlYzcXZkaDd4Yys5ajV5bitNKzR6dzMzakxlV1YvTU44QzN5TGZMVDhOdm5sK0YzME4vSS85ay8zci8wUUNuZ0NVQlp3T0pnVUdCV3dMNytIcDhJYitPUHpyYlpmYXkyZTFCaktDNVFSVkJqNEt0Z3VYQnJTRm95T3lRclNIMzU1ak9rYzVwRG9WUWZ1alcwQWRoNW1HTHczNE1KNFdIaFZlR1A0NXdpRmdhMFRHWE5YZlIzRU56MzBUNlJKWkUzcHRuTVU4NXJ5MUtOU28rcWk1cVBObzN1alM2UDhZdVpsbk0xVmlkV0Vsc1N4dzVMaXF1Tm01c3Z0Lzg3Zk9INHAzaUMrTjdGNWd2eUYxd2VhSE93dlNGcHhhcExoSXNPcFpBVEloT09KVHdRUkFxcUJhTUpmSVRkeVdPQ25uQ0hjSm5JaS9STnRHSTJFTmNLaDVPOGtncVRYcVM3Skc4Tlhra3hUT2xMT1c1aENlcGtMeE1EVXpkbXpxZUZwcDJJRzB5UFRxOU1ZT1NrWkJ4UXFvaFRaTzJaK3BuNW1aMnk2eGxoYkwreFc2THR5OGVsUWZKYTdPUXJBVlpMUXEyUXFib1ZGb28xeW9Ic21kbFYyYS96WW5LT1phcm5pdk43Y3l6eXR1UU41enZuLy90RXNJUzRaSzJwWVpMVnkwZFdPYTlyR281c2p4eGVkc0s0eFVGSzRaV0Jxdzh1SXEyS20zVlQ2dnRWNWV1ZnIwbWVrMXJnVjdCeW9MQnRRRnI2d3RWQ3VXRmZldmMxKzFkVDFndldkKzFZZnFHblJzK0ZZbUtyaFRiRjVjVmY5Z28zSGpsRzRkdnlyK1ozSlMwcWF2RXVXVFBadEptNmViZUxaNWJEcGFxbCthWERtNE4yZHEwRGQ5V3RPMzE5a1hiTDVmTktOdTdnN1pEdWFPL1BMaThaYWZKenMwN1AxU2tWUFJVK2xRMjd0TGR0V0hYK0c3UjdodDd2UFkwN05YYlc3ejMvVDdKdnR0VkFWVk4xV2JWWmZ0Sis3UDNQNjZKcXVuNGx2dHRYYTFPYlhIdHh3UFNBLzBISXc2MjE3blUxUjNTUFZSU2o5WXI2MGNPeHgrKy9wM3ZkeTBOTmcxVmpaekc0aU53UkhuazZmY0ozL2NlRFRyYWRveDdyT0VIMHg5MkhXY2RMMnBDbXZLYVJwdFRtdnRiWWx1NlQ4dyswZGJxM25yOFI5c2ZENXcwUEZsNVN2TlV5V25hNllMVGsyZnl6NHlkbFoxOWZpNzUzR0Rib3JaNzUyUE8zMm9QYisrNkVIVGgwa1gvaStjN3ZEdk9YUEs0ZFBLeTIrVVRWN2hYbXE4NlgyM3FkT284L3BQVFQ4ZTduTHVhcnJsY2E3bnVlcjIxZTJiMzZSdWVOODdkOUwxNThSYi8xdFdlT1QzZHZmTjZiL2ZGOS9YZkZ0MStjaWY5enN1NzJYY243cTI4VDd4ZjlFRHRRZGxEM1lmVlAxdiszTmp2M0g5cXdIZWc4OUhjUi9jR2hZUFAvcEgxanc5REJZK1pqOHVHRFlicm5qZytPVG5pUDNMOTZmeW5RODlrenlhZUYvNmkvc3V1RnhZdmZ2alY2OWZPMFpqUm9aZnlsNU8vYlh5bC9lckE2eG12MjhiQ3hoNit5WGd6TVY3MFZ2dnR3WGZjZHgzdm85OFBUK1I4SUg4by8yajVzZlZUMEtmN2t4bVRrLzhFQTVqei9HTXpMZHNBQUFBZ1kwaFNUUUFBZWlVQUFJQ0RBQUQ1L3dBQWdPa0FBSFV3QUFEcVlBQUFPcGdBQUJkdmtsL0ZSZ0FBQURKSlJFRlVlTnBFeDdFTmdEQUFBekFySzBKQTZmOFg5b2V3bGNXU3RVMXdCR2R3QjA4d2dqZVltNzlqYzJuYllIMERBQy8rQ09SSnhPNWZBQUFBQUVsRlRrU3VRbUNDKSc7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi4vYWZyYW1lLXRlbGVwb3J0LWNvbnRyb2xzL2xpYi9jeWxpbmRlclRleHR1cmUuanMiLCJBRlJBTUUucmVnaXN0ZXJDb21wb25lbnQoJ2FkZGl0aXZlJywge1xuICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdzdWJvYmplY3Rsb2FkZWQnLCBmdW5jdGlvbihldil7XG4gICAgICBldi5kZXRhaWwubWF0ZXJpYWwuYmxlbmRpbmcgPSBUSFJFRS5BZGRpdGl2ZUJsZW5kaW5nO1xuICAgIH0pO1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW9kZWwtbG9hZGVkJywgZnVuY3Rpb24oZXYpe1xuICAgICAgZXYuZGV0YWlsLm1vZGVsLm1hdGVyaWFsLmJsZW5kaW5nID0gVEhSRUUuQWRkaXRpdmVCbGVuZGluZztcbiAgICB9KTtcbiAgfVxufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9hZGRpdGl2ZS5qcyIsIi8qKlxuICogS2V5Ym9hcmQgYmluZGluZ3MgdG8gY29udHJvbCBjb250cm9sbGVyLlxuICogUG9zaXRpb24gY29udHJvbGxlciBpbiBmcm9udCBvZiBjYW1lcmEuXG4gKi9cbkFGUkFNRS5yZWdpc3RlckNvbXBvbmVudCgnZGVidWctY29udHJvbGxlcicsIHtcbiAgc2NoZW1hOiB7XG4gICAgZW5hYmxlZDoge2RlZmF1bHQ6IGZhbHNlfVxuICB9LFxuXG4gIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcHJpbWFyeUhhbmQ7XG4gICAgdmFyIHByaW1hcnlIYW5kO1xuXG4gICAgaWYgKCF0aGlzLmRhdGEuZW5hYmxlZCB8fCAhQUZSQU1FLnV0aWxzLmdldFVybFBhcmFtZXRlcignZGVidWcnKSkgeyByZXR1cm47IH1cblxuICAgIGNvbnNvbGUubG9nKCclYyBkZWJ1Zy1jb250cm9sbGVyIGVuYWJsZWQgJywgJ2JhY2tncm91bmQ6ICMxMTE7IGNvbG9yOiByZWQnKTtcblxuICAgIHRoaXMuaXNUcmlnZ2VyRG93biA9IGZhbHNlO1xuXG4gICAgcHJpbWFyeUhhbmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJpbWFyeUhhbmQnKTtcbiAgICBwcmltYXJ5SGFuZC5vYmplY3QzRC5wb3NpdGlvbi5zZXQoMC4yLCAxLjUsIC0wLjUpO1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGV2dCA9PiB7XG4gICAgICB2YXIgcHJpbWFyeVBvc2l0aW9uO1xuICAgICAgdmFyIHByaW1hcnlSb3RhdGlvbjtcblxuICAgICAgaWYgKCFldnQuc2hpZnRLZXkpIHsgcmV0dXJuOyB9XG5cbiAgICAgIC8vIDxzcGFjZT4gZm9yIHRyaWdnZXIuXG4gICAgICBpZiAoZXZ0LmtleUNvZGUgPT09IDMyKSB7XG4gICAgICAgIGlmICh0aGlzLmlzVHJpZ2dlckRvd24pIHtcbiAgICAgICAgICBwcmltYXJ5SGFuZC5lbWl0KCd0cmlnZ2VydXAnKTtcbiAgICAgICAgICB0aGlzLmlzVHJpZ2dlckRvd24gPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcmltYXJ5SGFuZC5lbWl0KCd0cmlnZ2VyZG93bicpO1xuICAgICAgICAgIHRoaXMuaXNUcmlnZ2VyRG93biA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBQb3NpdGlvbiBiaW5kaW5ncy5cbiAgICAgIHByaW1hcnlQb3NpdGlvbiA9IHByaW1hcnlIYW5kLm9iamVjdDNELnBvc2l0aW9uO1xuICAgICAgaWYgKGV2dC5rZXlDb2RlID09PSA3MikgeyBwcmltYXJ5UG9zaXRpb24ueCAtPSAwLjAxIH0gIC8vIGguXG4gICAgICBpZiAoZXZ0LmtleUNvZGUgPT09IDc0KSB7IHByaW1hcnlQb3NpdGlvbi55IC09IDAuMDEgfSAgLy8gai5cbiAgICAgIGlmIChldnQua2V5Q29kZSA9PT0gNzUpIHsgcHJpbWFyeVBvc2l0aW9uLnkgKz0gMC4wMSB9ICAvLyBrLlxuICAgICAgaWYgKGV2dC5rZXlDb2RlID09PSA3NikgeyBwcmltYXJ5UG9zaXRpb24ueCArPSAwLjAxIH0gIC8vIGwuXG4gICAgICBpZiAoZXZ0LmtleUNvZGUgPT09IDU5IHx8IGV2dC5rZXlDb2RlID09PSAxODYpIHsgcHJpbWFyeVBvc2l0aW9uLnogLT0gMC4wMSB9ICAvLyA7LlxuICAgICAgaWYgKGV2dC5rZXlDb2RlID09PSAyMjIpIHsgcHJpbWFyeVBvc2l0aW9uLnogKz0gMC4wMSB9ICAvLyA7LlxuXG4gICAgICAvLyBSb3RhdGlvbiBiaW5kaW5ncy5cbiAgICAgIHZhciBwcmltYXJ5Um90YXRpb25cbiAgICAgIHByaW1hcnlSb3RhdGlvbiA9IHByaW1hcnlIYW5kLmdldEF0dHJpYnV0ZSgncm90YXRpb24nKTtcbiAgICAgIGlmIChldnQua2V5Q29kZSA9PT0gODkpIHsgcHJpbWFyeVJvdGF0aW9uLnggLT0gMTAgfSAgLy8geS5cbiAgICAgIGlmIChldnQua2V5Q29kZSA9PT0gNzkpIHsgcHJpbWFyeVJvdGF0aW9uLnggKz0gMTAgfSAgLy8gby5cbiAgICAgIGlmIChldnQua2V5Q29kZSA9PT0gODUpIHsgcHJpbWFyeVJvdGF0aW9uLnkgLT0gMTAgfSAgLy8gdS5cbiAgICAgIGlmIChldnQua2V5Q29kZSA9PT0gNzMpIHsgcHJpbWFyeVJvdGF0aW9uLnkgKz0gMTAgfSAgLy8gaS5cblxuICAgICAgcHJpbWFyeUhhbmQuc2V0QXR0cmlidXRlKCdyb3RhdGlvbicsIEFGUkFNRS51dGlscy5jbG9uZShwcmltYXJ5Um90YXRpb24pKTtcbiAgICB9KTtcbiAgfSxcblxuICBwbGF5OiBmdW5jdGlvbiAoKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJpbWFyeUhhbmQnKS5lbWl0KCdjb250cm9sbGVyY29ubmVjdGVkJywge1xuICAgICAgICBuYW1lOiAndml2ZS1jb250cm9scydcbiAgICAgIH0pO1xuICAgIH0sIDEwMDApO1xuICB9XG59KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL2RlYnVnLWNvbnRyb2xsZXIuanMiLCIvKipcbiAqIExvZyBjdXJzb3IgZXZlbnRzLlxuICovXG5BRlJBTUUucmVnaXN0ZXJDb21wb25lbnQoJ2RlYnVnLWN1cnNvcicsIHtcbiAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7IHJldHVybjsgfVxuXG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgZXZ0ID0+IHtcbiAgICAgIHRoaXMubG9nKCdtb3VzZWVudGVyJywgZXZ0LmRldGFpbC5pbnRlcnNlY3RlZEVsLCAnZ3JlZW4nKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGV2dCA9PiB7XG4gICAgICB0aGlzLmxvZygnbW91c2VsZWF2ZScsIGV2dC5kZXRhaWwuaW50ZXJzZWN0ZWRFbCwgJ3JlZCcpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV2dCA9PiB7XG4gICAgICB0aGlzLmxvZygnY2xpY2snLCBldnQuZGV0YWlsLmludGVyc2VjdGVkRWwsICdibHVlJyk7XG4gICAgfSk7XG4gIH0sXG5cbiAgbG9nOiBmdW5jdGlvbiAoZXZlbnQsIGludGVyc2VjdGVkRWwsIGNvbG9yKSB7XG4gICAgaWYgKGludGVyc2VjdGVkRWwuaWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKGAlY1ske2V2ZW50fV0gJHtpbnRlcnNlY3RlZEVsLmlkfWAsIGBjb2xvcjogJHtjb2xvcn1gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coYCVjWyR7ZXZlbnR9XWAsIGBjb2xvcjogJHtjb2xvcn1gKTtcbiAgICAgIGNvbnNvbGUubG9nKGludGVyc2VjdGVkRWwpO1xuICAgIH1cbiAgfVxufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9kZWJ1Zy1jdXJzb3IuanMiLCJBRlJBTUUucmVnaXN0ZXJDb21wb25lbnQoJ2FuaW1hdGVkLXN1bicsIHtcbiAgZGVwZGVuZGVuY2llczogWydlbnZpcm9ubWVudCddLFxuXG4gIHBsYXk6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZWwgPSB0aGlzLmVsO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgZWwuY29tcG9uZW50c1snZW52aXJvbm1lbnQnXS5zdW5saWdodC5zZXRBdHRyaWJ1dGUoJ2FuaW1hdGlvbl9fbGlnaHQnLCB7XG4gICAgICAgIHByb3BlcnR5OiAnY29tcG9uZW50cy5saWdodC5saWdodC5pbnRlbnNpdHknLFxuICAgICAgICBkaXI6ICdhbHRlcm5hdGUnLFxuICAgICAgICBkdXI6IDEyMDAsXG4gICAgICAgIGVhc2luZzogJ2Vhc2VJbk91dEN1YmljJyxcbiAgICAgICAgZnJvbTogZWwuY29tcG9uZW50c1snZW52aXJvbm1lbnQnXS5zdW5saWdodC5nZXRBdHRyaWJ1dGUoJ2xpZ2h0JykuaW50ZW5zaXR5LFxuICAgICAgICBsb29wOiB0cnVlLFxuICAgICAgICB0bzogMC4yXG4gICAgICB9KTtcblxuICAgICAgZWwuY29tcG9uZW50c1snZW52aXJvbm1lbnQnXS5zdW5saWdodC5zZXRBdHRyaWJ1dGUoJ2FuaW1hdGlvbl9fcG9zaXRpb24nLCB7XG4gICAgICAgIHByb3BlcnR5OiAnb2JqZWN0M0QucG9zaXRpb24ueCcsXG4gICAgICAgIGRpcjogJ2FsdGVybmF0ZScsXG4gICAgICAgIGR1cjogMzAwMCxcbiAgICAgICAgZWFzaW5nOiAnZWFzZUluT3V0Q3ViaWMnLFxuICAgICAgICBmcm9tOiAnLTEwJyxcbiAgICAgICAgbG9vcDogdHJ1ZSxcbiAgICAgICAgdG86IDEwXG4gICAgICB9KTtcbiAgICB9LCAxMDAwKTtcbiAgfVxufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9lZ2dzL2FuaW1hdGVkLXN1bi5qcyIsInZhciB1dGlscyA9IHdpbmRvdy51dGlscztcblxuQUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCdjcm9tdWxvbicsIHtcbiAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgIHZhciBhdWRpbztcbiAgICB2YXIgZWwgPSB0aGlzLmVsO1xuICAgIHZhciBpO1xuICAgIHZhciBwO1xuICAgIHZhciBzO1xuXG4gICAgZm9yIChpID0gMCwgcCA9IDAsIHMgPSAwOyBpIDwgTWF0aC5mbG9vcihyYW5kb20oMzApICogNSkgKyAzOyBpKyssIHArKywgcysrKSB7XG4gICAgICB0aGlzLmNyZWF0ZUNyb211bG9uKGksIHAsIHMpO1xuICAgIH1cblxuICAgIGF1ZGlvID0gbmV3IEF1ZGlvKHV0aWxzLmFzc2V0UGF0aCgnYXNzZXRzL2F1ZGlvL2Nyb211bG9uLm1wMycpKTtcbiAgICBhdWRpby52b2x1bWUgPSAwLjU7XG4gICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPCAwLjExKSB7IGF1ZGlvLnBsYXkoKTsgfVxuICAgIH0sIDEwMDApO1xuICB9LFxuXG4gIGNyZWF0ZUNyb211bG9uOiBmdW5jdGlvbiAoaSwgcCwgcykge1xuICAgIHZhciBpbWc7XG4gICAgdmFyIHNjYWxlO1xuXG4gICAgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYS1pbWFnZScpO1xuICAgIGltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIHV0aWxzLmFzc2V0UGF0aCgnYXNzZXRzL2ltZy9jcm9tdWxvbi5wbmcnKSk7XG4gICAgaW1nLnNldEF0dHJpYnV0ZSgnY29sb3InLCByYW5kb21Db2xvcihzKSk7XG5cbiAgICBzY2FsZSA9IHJhbmRvbShzKSAqIDMwICsgMTA7XG4gICAgaW1nLm9iamVjdDNELnNjYWxlLnNldChzY2FsZSwgc2NhbGUsIHNjYWxlKTtcbiAgICBpbWcub2JqZWN0M0QucG9zaXRpb24uc2V0KFxuICAgICAgcmFuZG9tKHApICogMTUwIC0gNzUsXG4gICAgICByYW5kb20ocCArIDIwKSAqIDMwICsgMjUsXG4gICAgICByYW5kb20ocCArIDEwKSAqIDE1MCAtIDc1KTtcbiAgICBpbWcub2JqZWN0M0QubG9va0F0KDAsIDAsIDApO1xuXG4gICAgaW1nLm9iamVjdDNELnZpc2libGUgPSBmYWxzZTtcbiAgICBpbWcuYWRkRXZlbnRMaXN0ZW5lcignbWF0ZXJpYWx0ZXh0dXJlbG9hZGVkJywgKCkgPT4ge1xuICAgICAgaW1nLm9iamVjdDNELnZpc2libGUgPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgdGhpcy5lbC5zY2VuZUVsLmFwcGVuZENoaWxkKGltZyk7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiByYW5kb20gKHgpIHtcbiAgdmFyIGk7XG4gIHZhciBzZWVkO1xuICBzZWVkID0gMDtcbiAgZm9yIChpID0gMDsgaSA8IHdpbmRvdy5sb2NhdGlvbi5ocmVmLmxlbmd0aDsgaSsrKSB7XG4gICAgc2VlZCArPSB3aW5kb3cubG9jYXRpb24uaHJlZi5jaGFyQ29kZUF0KGkpO1xuICB9XG4gIHJldHVybiBwYXJzZUZsb2F0KCcwLicgKyBNYXRoLnNpbihzZWVkICogOTk5OSAqIHgpLnRvU3RyaW5nKCkuc3Vic3RyKDcpKTtcbn1cblxuZnVuY3Rpb24gcmFuZG9tQ29sb3IgKGkpIHtcbiAgcmV0dXJuIGAjJHtuZXcgVEhSRUUuQ29sb3IocmFuZG9tKGkpLCByYW5kb20oaSArIDEpLCByYW5kb20oaSArIDIpKS5nZXRIZXhTdHJpbmcoKX1gO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvZWdncy9jcm9tdWxvbi5qcyIsIkFGUkFNRS5yZWdpc3RlckNvbXBvbmVudCgnZGFsZWsnLCB7XG4gIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZWw7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgTWF0aC5mbG9vcih1dGlscy5yYW5kb20oNTAwKSAqIDQpICsgMjsgaSsrKSB7XG4gICAgICBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EtZW50aXR5Jyk7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoJ29iai1tb2RlbCcsIHtcbiAgICAgICAgb2JqOiB1dGlscy5hc3NldFBhdGgoJ2Fzc2V0cy9tb2RlbHMvZGFsZWsvbW9kZWwub2JqJyksXG4gICAgICAgIG10bDogdXRpbHMuYXNzZXRQYXRoKCdhc3NldHMvbW9kZWxzL2RhbGVrL21hdGVyaWFscy5tdGwnKVxuICAgICAgfSk7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2RhbGVrLXNvdW5kJywgJycpO1xuICAgICAgZWwuc2V0QXR0cmlidXRlKCdzaGFkb3cnLCB7Y2FzdDogdHJ1ZSwgcmVjZWl2ZTogZmFsc2V9KTtcbiAgICAgIGVsLm9iamVjdDNELnNjYWxlLnNldCg4LCA4LCA4KTtcbiAgICAgIGVsLm9iamVjdDNELnJvdGF0aW9uLnNldCgwLCBNYXRoLlBJLCAwKTtcbiAgICAgIGVsLm9iamVjdDNELnBvc2l0aW9uLnNldChcbiAgICAgICAgdXRpbHMucmFuZG9tKGkgKyA5OSkgKiAyMCAtIDEwLFxuICAgICAgICAxLFxuICAgICAgICB1dGlscy5yYW5kb20oaSArIDg5KSAqIDIwIC0gMTBcbiAgICAgICk7XG4gICAgICB0aGlzLmVsLmFwcGVuZENoaWxkKGVsKTtcbiAgICB9XG4gIH1cbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvZWdncy9kYWxlay5qcyIsIkFGUkFNRS5yZWdpc3RlckNvbXBvbmVudCgnbWVjaGFnb2R6aWxsYScsIHtcbiAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgIHZhciBlbDtcbiAgICBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EtZW50aXR5Jyk7XG4gICAgZWwuc2V0QXR0cmlidXRlKCdvYmotbW9kZWwnLCB7XG4gICAgICBvYmo6IHV0aWxzLmFzc2V0UGF0aCgnYXNzZXRzL21vZGVscy9tZWNoYWdvZHppbGxhL21vZGVsLm9iaicpLFxuICAgICAgbXRsOiB1dGlscy5hc3NldFBhdGgoJ2Fzc2V0cy9tb2RlbHMvbWVjaGFnb2R6aWxsYS9tYXRlcmlhbHMubXRsJylcbiAgICB9KTtcbiAgICBlbC5vYmplY3QzRC5zY2FsZS5zZXQoMTAsIDEwLCAxMCk7XG4gICAgZWwub2JqZWN0M0Qucm90YXRpb24uc2V0KDAsIE1hdGguUEksIDApO1xuICAgIGVsLm9iamVjdDNELnBvc2l0aW9uLnNldChcbiAgICAgIHdpbmRvdy51dGlscy5yYW5kb20oMTAwKSAqIDQwLFxuICAgICAgMjUsXG4gICAgICAtMzBcbiAgICApO1xuICAgIHRoaXMuZWwuYXBwZW5kQ2hpbGQoZWwpO1xuICB9XG59KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL2VnZ3MvbWVjaGFnb2R6aWxsYS5qcyIsIkFGUkFNRS5yZWdpc3RlckNvbXBvbmVudCgncmFuZG9tLWNvbG9yLWVudmlyb25tZW50Jywge1xuICBkZXBlbmRlbmNpZXM6IFsnZW52aXJvbm1lbnQnXSxcblxuICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbC5zZXRBdHRyaWJ1dGUoJ2Vudmlyb25tZW50Jywge1xuICAgICAgZHJlc3NpbmcxQ29sb3I6IHJhbmRvbUNvbG9yKDApLFxuICAgICAgZHJlc3NpbmcyQ29sb3I6IHJhbmRvbUNvbG9yKDEpLFxuICAgICAgZ3JpZENvbG9yOiByYW5kb21Db2xvcigyKSxcbiAgICAgIGdyb3VuZENvbG9yOiByYW5kb21Db2xvcigzKSxcbiAgICAgIGdyb3VuZENvbG9yMjogcmFuZG9tQ29sb3IoNCksXG4gICAgICBob3Jpem9uQ29sb3I6IHJhbmRvbUNvbG9yKDUpLFxuICAgICAgc2t5Q29sb3I6IHJhbmRvbUNvbG9yKDYpXG4gICAgfSk7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiByYW5kb20gKHgpIHtcbiAgdmFyIGk7XG4gIHZhciBzZWVkO1xuICBzZWVkID0gMDtcbiAgZm9yIChpID0gMDsgaSA8IHdpbmRvdy5sb2NhdGlvbi5ocmVmLmxlbmd0aDsgaSsrKSB7XG4gICAgc2VlZCArPSB3aW5kb3cubG9jYXRpb24uaHJlZi5jaGFyQ29kZUF0KGkpO1xuICB9XG4gIHJldHVybiBwYXJzZUZsb2F0KCcwLicgKyBNYXRoLnNpbihzZWVkICogOTk5OSAqIHgpLnRvU3RyaW5nKCkuc3Vic3RyKDcpKTtcbn1cblxuZnVuY3Rpb24gcmFuZG9tQ29sb3IgKGkpIHtcbiAgcmV0dXJuIGAjJHtuZXcgVEhSRUUuQ29sb3IocmFuZG9tKGkpLCByYW5kb20oaSArIDEpLCByYW5kb20oaSArIDIpKS5nZXRIZXhTdHJpbmcoKX1gO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvZWdncy9yYW5kb20tY29sb3ItZW52aXJvbm1lbnQuanMiLCJ2YXIgciA9IE1hdGgucmFuZG9tKCk7XG52YXIgZyA9IE1hdGgucmFuZG9tKCk7XG52YXIgYiA9IE1hdGgucmFuZG9tKCk7XG5cbnZhciByMiA9IE1hdGgucmFuZG9tKCk7XG52YXIgZzIgPSBNYXRoLnJhbmRvbSgpO1xudmFyIGIyID0gTWF0aC5yYW5kb20oKTtcblxuQUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCdzaGlmdGluZy1jb2xvcnMnLCB7XG4gIGRlcGRlbmRlbmNpZXM6IFsnZW52aXJvbm1lbnQnXSxcblxuICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5yRGlyID0gMTtcbiAgICB0aGlzLmdEaXIgPSAxO1xuICAgIHRoaXMuYkRpciA9IDE7XG4gICAgdGhpcy5yRGlyMiA9IDE7XG4gICAgdGhpcy5nRGlyMiA9IDE7XG4gICAgdGhpcy5iRGlyMiA9IDE7XG4gIH0sXG5cbiAgdGljazogZnVuY3Rpb24gKHQsIGR0KSB7XG4gICAgdmFyIGNvbG9yO1xuICAgIHZhciBkcmVzc2luZzE7XG4gICAgdmFyIG1lc2g7XG5cbiAgICBpZiAoIWR0KSB7IHJldHVybjsgfVxuXG4gICAgZHJlc3NpbmcxID0gdGhpcy5lbC5jb21wb25lbnRzLmVudmlyb25tZW50LmRyZXNzaW5nMS5nZXRPYmplY3QzRCgnbWVzaCcpO1xuICAgIGlmIChkcmVzc2luZzEpIHtcbiAgICAgIGRyZXNzaW5nMSA9IGRyZXNzaW5nMS5jaGlsZHJlblswXTtcbiAgICAgIGNvbG9yID0gZHJlc3NpbmcxLm1hdGVyaWFsLmNvbG9yO1xuICAgICAgY29sb3IuciArPSAoMSAvICgyMDAgKiBkdCAqIHIpKSAqIHRoaXMuckRpcjtcbiAgICAgIGNvbG9yLmcgKz0gKDEgLyAoMjAwICogZHQgKiBnKSkgKiB0aGlzLmdEaXI7XG4gICAgICBjb2xvci5iICs9ICgxIC8gKDIwMCAqIGR0ICogYikpICogdGhpcy5iRGlyO1xuXG4gICAgICBpZiAoY29sb3IuciA+IDEpIHsgY29sb3IuciA9IDE7IHRoaXMuckRpciA9IC0xOyB9XG4gICAgICBpZiAoY29sb3IuciA8IDApIHsgY29sb3IuciA9IDA7IHRoaXMuckRpciA9IDE7IH1cbiAgICAgIGlmIChjb2xvci5nID4gMSkgeyBjb2xvci5nID0gMTsgdGhpcy5nRGlyID0gLTE7IH1cbiAgICAgIGlmIChjb2xvci5nIDwgMCkgeyBjb2xvci5nID0gMDsgdGhpcy5nRGlyID0gMTsgfVxuICAgICAgaWYgKGNvbG9yLmIgPiAxKSB7IGNvbG9yLmIgPSAxOyB0aGlzLmJEaXIgPSAtMTsgfVxuICAgICAgaWYgKGNvbG9yLmIgPCAwKSB7IGNvbG9yLmIgPSAwOyB0aGlzLmJEaXIgPSAxOyB9XG4gICAgfVxuXG4gICAgZHJlc3NpbmcyID0gdGhpcy5lbC5jb21wb25lbnRzLmVudmlyb25tZW50LmRyZXNzaW5nMi5nZXRPYmplY3QzRCgnbWVzaCcpO1xuICAgIGlmIChkcmVzc2luZzIpIHtcbiAgICAgIGRyZXNzaW5nMiA9IGRyZXNzaW5nMi5jaGlsZHJlblswXTtcbiAgICAgIGNvbG9yID0gZHJlc3NpbmcyLm1hdGVyaWFsLmNvbG9yO1xuICAgICAgY29sb3IuciArPSAoMSAvICgyMDAgKiBkdCAqIHIyKSkgKiB0aGlzLnJEaXIyO1xuICAgICAgY29sb3IuZyArPSAoMSAvICgyMDAgKiBkdCAqIGcyKSkgKiB0aGlzLmdEaXIyO1xuICAgICAgY29sb3IuYiArPSAoMSAvICgyMDAgKiBkdCAqIGIyKSkgKiB0aGlzLmJEaXIyO1xuXG4gICAgICBpZiAoY29sb3IuciA+IDEpIHsgY29sb3IuciA9IDE7IHRoaXMuckRpcjIgPSAtMTsgfVxuICAgICAgaWYgKGNvbG9yLnIgPCAwKSB7IGNvbG9yLnIgPSAwOyB0aGlzLnJEaXIyID0gMTsgfVxuICAgICAgaWYgKGNvbG9yLmcgPiAxKSB7IGNvbG9yLmcgPSAxOyB0aGlzLmdEaXIyID0gLTE7IH1cbiAgICAgIGlmIChjb2xvci5nIDwgMCkgeyBjb2xvci5nID0gMDsgdGhpcy5nRGlyMiA9IDE7IH1cbiAgICAgIGlmIChjb2xvci5iID4gMSkgeyBjb2xvci5iID0gMTsgdGhpcy5iRGlyMiA9IC0xOyB9XG4gICAgICBpZiAoY29sb3IuYiA8IDApIHsgY29sb3IuYiA9IDA7IHRoaXMuYkRpcjIgPSAxOyB9XG4gICAgfVxuICB9XG59KTtcblxuZnVuY3Rpb24gcmFuZG9tICh4KSB7XG4gIHZhciBpO1xuICB2YXIgc2VlZDtcbiAgc2VlZCA9IDA7XG4gIGZvciAoaSA9IDA7IGkgPCB3aW5kb3cubG9jYXRpb24uaHJlZi5sZW5ndGg7IGkrKykge1xuICAgIHNlZWQgKz0gd2luZG93LmxvY2F0aW9uLmhyZWYuY2hhckNvZGVBdChpKTtcbiAgfVxuICByZXR1cm4gcGFyc2VGbG9hdCgnMC4nICsgTWF0aC5zaW4oc2VlZCAqIDk5OTkgKiB4KS50b1N0cmluZygpLnN1YnN0cig3KSk7XG59XG5cbmZ1bmN0aW9uIHJhbmRvbUNvbG9yICgpIHtcbiAgcmV0dXJuIG5ldyBUSFJFRS5Db2xvcihyYW5kb20oMCksIHJhbmRvbSgxKSwgcmFuZG9tKDIpKTtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL2VnZ3Mvc2hpZnRpbmctY29sb3JzLmpzIiwiQUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCdzb2xpZHNuYWtlJywge1xuICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGVsID0gdGhpcy5lbDtcbiAgICB2YXIgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICB2YXIgaXRlbTs7XG4gICAgdmFyIHNuYWtlOztcblxuICAgIGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhLWVudGl0eScpO1xuICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgnc29saWRzbmFrZScpO1xuICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdvYmotbW9kZWwnLCB7XG4gICAgICBvYmo6IHV0aWxzLmFzc2V0UGF0aCgnYXNzZXRzL21vZGVscy9ib3gvYm94Lm9iaicpXG4gICAgfSk7XG4gICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ21hdGVyaWFsJywge2NvbG9yOiAnYnJvd24nLCBtZXRhbG5lc3M6IDAsIHJvdWdobmVzczogMSwgc2lkZTogJ2RvdWJsZSd9KTtcbiAgICBpdGVtLnNldEF0dHJpYnV0ZSgnc2hhZG93JywgJycpO1xuICAgIGl0ZW0ub2JqZWN0M0QucG9zaXRpb24uc2V0KFxuICAgICAgd2luZG93LnV0aWxzLnJhbmRvbSgyMDUpICogMTAsXG4gICAgICAwLFxuICAgICAgd2luZG93LnV0aWxzLnJhbmRvbSgyMDYpICogMTBcbiAgICApO1xuICAgIGl0ZW0uc2V0QXR0cmlidXRlKCd0b3VjaGFibGUnLCAnJyk7XG4gICAgaXRlbS5vYmplY3QzRC5sb29rQXQoMCwgMCwgMCk7XG4gICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdvYmplY3QzZHNldCcsICgpID0+IHtcbiAgICAgIGl0ZW0ub2JqZWN0M0QubWVzaCA9IGl0ZW0uZ2V0T2JqZWN0M0QoJ21lc2gnKTtcbiAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdhbmltYXRpb25fX3RvdWNoZWQnLCB7XG4gICAgICAgIGR1cjogNzUwLFxuICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCcsXG4gICAgICAgIGZyb206IDAsXG4gICAgICAgIHByb3BlcnR5OiAnb2JqZWN0M0QubWVzaC5yb3RhdGlvbi54JyxcbiAgICAgICAgc3RhcnRFdmVudHM6ICd0b3VjaGVkJyxcbiAgICAgICAgdG86IC0xICogTWF0aC5QSSAvIDIuNVxuICAgICAgfSk7XG4gICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnYW5pbWF0aW9uX190b3VjaGVkMicsIHtcbiAgICAgICAgZHVyOiA3NTAsXG4gICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFkJyxcbiAgICAgICAgZnJvbTogMCxcbiAgICAgICAgcHJvcGVydHk6ICdvYmplY3QzRC5tZXNoLnBvc2l0aW9uLnonLFxuICAgICAgICBzdGFydEV2ZW50czogJ3RvdWNoZWQnLFxuICAgICAgICB0bzogLTFcbiAgICAgIH0pO1xuICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ2FuaW1hdGlvbl9fdG91Y2hlZDMnLCB7XG4gICAgICAgIGR1cjogNzUwLFxuICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCcsXG4gICAgICAgIGZyb206IDAsXG4gICAgICAgIHByb3BlcnR5OiAnb2JqZWN0M0QubWVzaC5wb3NpdGlvbi55JyxcbiAgICAgICAgc3RhcnRFdmVudHM6ICd0b3VjaGVkJyxcbiAgICAgICAgdG86IDAuNVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgZWwuYXBwZW5kQ2hpbGQoaXRlbSk7XG5cbiAgICBzbmFrZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EtZW50aXR5Jyk7XG4gICAgc25ha2Uuc2V0QXR0cmlidXRlKCdvYmotbW9kZWwnLCB7XG4gICAgICBvYmo6IHV0aWxzLmFzc2V0UGF0aCgnYXNzZXRzL21vZGVscy9zbmFrZS9NZXNoX0NvYnJhLm9iaicpLFxuICAgICAgbXRsOiB1dGlscy5hc3NldFBhdGgoJ2Fzc2V0cy9tb2RlbHMvc25ha2UvTWVzaF9Db2JyYS5tdGwnKVxuICAgIH0pO1xuICAgIHNuYWtlLm9iamVjdDNELnBvc2l0aW9uLmNvcHkoaXRlbS5vYmplY3QzRC5wb3NpdGlvbik7XG4gICAgc25ha2Uub2JqZWN0M0QucG9zaXRpb24ueSArPSAwLjM7XG4gICAgc25ha2Uub2JqZWN0M0Quc2NhbGUuc2V0KDAuMDIsIDAuMDIsIDAuMDIpXG4gICAgc25ha2Uub2JqZWN0M0Qucm90YXRpb24ueSArPSBNYXRoLlBJO1xuICAgIGVsLmFwcGVuZENoaWxkKHNuYWtlKTtcblxuICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlZCcsICgpID0+IHtcbiAgICAgIHZhciBhdWRpbztcbiAgICAgIGF1ZGlvID0gbmV3IEF1ZGlvKHV0aWxzLmFzc2V0UGF0aCgnYXNzZXRzL2F1ZGlvL2FsZXJ0LndhdicpKTtcbiAgICAgIGF1ZGlvLnZvbHVtZSA9IDAuNTtcbiAgICAgIGF1ZGlvLnBsYXkoKTtcbiAgICB9KTtcbiAgfVxufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9lZ2dzL3NvbGlkc25ha2UuanMiLCJBRlJBTUUucmVnaXN0ZXJDb21wb25lbnQoJ3Vwc2lkZWRvd24nLCB7XG4gIGRlcGVuZGVuY2llczogWydlbnZpcm9ubWVudCddLFxuXG4gIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaTtcbiAgICB2YXIgaW50ZW5zaXR5O1xuICAgIHZhciBsaWdodHM7XG4gICAgdmFyIHBvcnRhbHM7XG5cbiAgICB0aGlzLmVsLnNldEF0dHJpYnV0ZSgnZW52aXJvbm1lbnQnLCB7XG4gICAgICBkcmVzc2luZzFDb2xvcjogcmFuZG9tR3JheXNjYWxlQ29sb3IoMCksXG4gICAgICBkcmVzc2luZzJDb2xvcjogcmFuZG9tR3JheXNjYWxlQ29sb3IoMSksXG4gICAgICBncmlkQ29sb3I6IHJhbmRvbUdyYXlzY2FsZUNvbG9yKDIpLFxuICAgICAgZ3JvdW5kQ29sb3I6IHJhbmRvbUdyYXlzY2FsZUNvbG9yKDMpLFxuICAgICAgZ3JvdW5kQ29sb3IyOiByYW5kb21HcmF5c2NhbGVDb2xvcig0KSxcbiAgICAgIGhvcml6b25Db2xvcjogcmFuZG9tR3JheXNjYWxlQ29sb3IoNSksXG4gICAgICBza3lDb2xvcjogcmFuZG9tR3JheXNjYWxlQ29sb3IoNiksXG4gICAgICB2YXJ5Q29sb3I6IGZhbHNlXG4gICAgfSk7XG5cbiAgICBwb3J0YWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBvcnRhbCcpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBwb3J0YWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBwb3J0YWxzW2ldLnNldEF0dHJpYnV0ZSgnbWF0ZXJpYWwnLCAnaXNHcmF5c2NhbGUnLCAxKTtcbiAgICAgIHBvcnRhbHNbaV0uc2V0QXR0cmlidXRlKCdvYXNpcy1wb3J0YWwnLCAnY29sb3InLCAnI0ZBRkFGQScpO1xuICAgICAgcG9ydGFsc1tpXS5xdWVyeVNlbGVjdG9yKCcucG9ydGFsVGV4dCcpLnNldEF0dHJpYnV0ZSgndGV4dCcsICdjb2xvcicsICcjRkFGQUZBJyk7XG4gICAgICBwb3J0YWxzW2ldLnF1ZXJ5U2VsZWN0b3IoJy5wb3J0YWxFZmZlY3QxJykuc2V0QXR0cmlidXRlKCdtYXRlcmlhbCcsICdjb2xvcicsICcjMTExJyk7XG4gICAgICBwb3J0YWxzW2ldLnF1ZXJ5U2VsZWN0b3IoJy5wb3J0YWxFZmZlY3QyJykuc2V0QXR0cmlidXRlKCdtYXRlcmlhbCcsICdjb2xvcicsICcjQUFBJyk7XG4gICAgfVxuXG4gICAgbGlnaHRzID0gW1xuICAgICAgdGhpcy5lbC5jb21wb25lbnRzLmVudmlyb25tZW50LmhlbWlsaWdodCxcbiAgICAgIHRoaXMuZWwuY29tcG9uZW50cy5lbnZpcm9ubWVudC5zdW5saWdodFxuICAgIF07XG4gICAgbGlnaHRzWzBdLnNldEF0dHJpYnV0ZSgnbGlnaHQnLCAnaW50ZW5zaXR5JywgMCk7XG4gICAgbGlnaHRzWzFdLnNldEF0dHJpYnV0ZSgnbGlnaHQnLCAnaW50ZW5zaXR5JywgMCk7XG5cbiAgICAvKlxuICAgICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA+IDAuMTUpIHsgcmV0dXJuOyB9XG4gICAgICAgIHRoaXMuZmxpY2tlckxpZ2h0KGxpZ2h0c1swXSk7XG4gICAgICAgIHRoaXMuZmxpY2tlckxpZ2h0KGxpZ2h0c1sxXSk7XG4gICAgICB9LCA1MDApO1xuICAgICovXG4gIH0sXG5cbiAgZmxpY2tlckxpZ2h0OiBmdW5jdGlvbiAobGlnaHQpIHtcbiAgICBsaWdodC5zZXRBdHRyaWJ1dGUoJ2xpZ2h0JywgJ2ludGVuc2l0eScsIC4xKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGxpZ2h0LnNldEF0dHJpYnV0ZSgnbGlnaHQnLCAnaW50ZW5zaXR5JywgMCk7XG4gICAgfSwgMzAwKTtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIHJhbmRvbUdyYXlzY2FsZUNvbG9yIChpKSB7XG4gIHZhciBjb2xvcjtcbiAgaSArPSAxMjM0O1xuICBjb2xvciA9IHV0aWxzLnJhbmRvbShpKTtcbiAgcmV0dXJuIGAjJHtuZXcgVEhSRUUuQ29sb3IoY29sb3IsIGNvbG9yLCBjb2xvcikuZ2V0SGV4U3RyaW5nKCl9YDtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL2VnZ3MvdXBzaWRlZG93bi5qcyIsIi8qKlxuICogUG93ZXIgdXAgdGhhdCBsZXRzIHlvdSBzZWUgd2hpY2ggcG9ydGFscyB5b3UndmUgdmlzaXRlZCBhbHJlYWR5LlxuICovXG5BRlJBTUUucmVnaXN0ZXJDb21wb25lbnQoJ3dheWJhY2stbWFjaGluZScsIHtcbiAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgIHZhciBlbDtcblxuICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnd2F5YmFja21hY2hpbmUnKSA9PT0gJ3RydWUnKSB7IHJldHVybjsgfVxuXG4gICAgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhLWVudGl0eScpO1xuXG4gICAgZWwuY2xhc3NMaXN0LmFkZCgnd2F5YmFja01hY2hpbmUnKTtcblxuICAgIGVsLnNldEF0dHJpYnV0ZSgnb2JqLW1vZGVsJywge1xuICAgICAgb2JqOiB1dGlscy5hc3NldFBhdGgoJ2Fzc2V0cy9tb2RlbHMvd2F5YmFja21hY2hpbmUvbW9kZWwub2JqJyksXG4gICAgICBtdGw6IHV0aWxzLmFzc2V0UGF0aCgnYXNzZXRzL21vZGVscy93YXliYWNrbWFjaGluZS9tYXRlcmlhbHMubXRsJylcbiAgICB9KTtcblxuICAgIGVsLnNldEF0dHJpYnV0ZSgnaXRlbScsIHtcbiAgICAgIG1lc3NhZ2U6IGBZb3UgZ290IGEgV2F5YmFjayBNYWNoaW5lISBab25lcyB5b3UndmUgcHJldmlvdXNseSB2aXNpdGVkIGFyZSBub3cgaGlnaGxpZ2h0ZWQgaW4gcHVycGxlLmAsXG4gICAgICBzdG9yZUFzOiAnd2F5YmFja21hY2hpbmUnXG4gICAgfSk7XG5cbiAgICBlbC5vYmplY3QzRC5wb3NpdGlvbi5zZXQoXG4gICAgICB3aW5kb3cudXRpbHMucmFuZG9tKDIwMCkgKiAxMCxcbiAgICAgIDEuNixcbiAgICAgIHdpbmRvdy51dGlscy5yYW5kb20oMjAxKSAqIDEwXG4gICAgKTtcblxuICAgIHRoaXMuZWwuYXBwZW5kQ2hpbGQoZWwpO1xuICB9XG59KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL2VnZ3Mvd2F5YmFjay1tYWNoaW5lLmpzIiwiLyogZ2xvYmFsIEFGUkFNRSwgVEhSRUUgKi9cblxuaWYgKHR5cGVvZiBBRlJBTUUgPT09ICd1bmRlZmluZWQnKSB7XG4gIHRocm93IG5ldyBFcnJvcignQ29tcG9uZW50IGF0dGVtcHRlZCB0byByZWdpc3RlciBiZWZvcmUgQUZSQU1FIHdhcyBhdmFpbGFibGUuJyk7XG59XG5cbi8qKlxuICogZW52aXJvR2V0U2V0dGluZ3MoKSAtIGNvbnNvbGUgZnVuY3Rpb24gZm9yIHByaW50aW5nIG91dCB0aGUgY3VycmVudCBlbnZpcm9ubWVudCBzZXR0aW5nc1xuICovXG5mdW5jdGlvbiBlbnZpcm9HZXRTZXR0aW5ncyAoKSB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tlbnZpcm9ubWVudF0nKS5jb21wb25lbnRzWydlbnZpcm9ubWVudCddLmxvZ1ByZXNldCgpO1xufVxuXG52YXIgZHJlc3NpbmdUeXBlcyA9IFsnbm9uZScsICdjdWJlcycsICdweXJhbWlkcycsICdjeWxpbmRlcnMnLCAnaGV4YWdvbnMnLCAnc3RvbmVzJywgJ3RyZWVzJywgJ211c2hyb29tcycsICd0b3dlcnMnLCAnYXBwYXJhdHVzJywgJ2FyY2hlcycsICd0b3JpaScsICdncmFzcycsICdpc2xhbmRzJ107XG5cbkFGUkFNRS5yZWdpc3RlckNvbXBvbmVudCgnZW52aXJvbm1lbnQnLCB7XG4gIHNjaGVtYToge1xuICAgIGFjdGl2ZToge2RlZmF1bHQ6IGZhbHNlfSxcbiAgICBwcmVzZXQ6IHtkZWZhdWx0OiAnZGVmYXVsdCcsIG9uZU9mOiBbJ25vbmUnLCAnZGVmYXVsdCcsICdjb250YWN0JywgJ2VneXB0JywgJ2NoZWNrZXJib2FyZCcsICdmb3Jlc3QnLCAnZ29hbGFuZCcsICd5YXZhcGFpJywgJ2dvbGRtaW5lJywgJ2FyY2hlcycsICd0aHJlZXRvd2VycycsICdwb2lzb24nLCAndHJvbicsICdqYXBhbicsICdkcmVhbScsICd2b2xjYW5vJywgJ3N0YXJyeScsICdvc2lyaXMnXX0sXG4gICAgc2VlZDoge3R5cGU6ICdzdHJpbmcnfSxcblxuICAgIHNreVR5cGU6IHtkZWZhdWx0OiAnY29sb3InLCBvbmVPZjpbJ25vbmUnLCAnY29sb3InLCAnZ3JhZGllbnQnLCAnYXRtb3NwaGVyZSddfSxcbiAgICBza3lDb2xvcjoge3R5cGU6ICdjb2xvcid9LFxuICAgIGhvcml6b25Db2xvcjoge3R5cGU6ICdjb2xvcid9LFxuICAgIGxpZ2h0aW5nOiB7ZGVmYXVsdDogJ2Rpc3RhbnQnLCBvbmVPZjogWydub25lJywgJ2Rpc3RhbnQnLCAncG9pbnQnXX0sXG4gICAgc2hhZG93OiB7ZGVmYXVsdDogZmFsc2V9LFxuICAgIHNoYWRvd1NpemU6IHsgZGVmYXVsdDogMTB9LFxuICAgIGxpZ2h0UG9zaXRpb246IHt0eXBlOid2ZWMzJywgZGVmYXVsdDoge3g6IDAsIHk6IDEsIHo6IC0wLjJ9fSxcbiAgICBmb2c6IHt0eXBlOidmbG9hdCcsIGRlZmF1bHQ6IDAsIG1pbjogMCwgbWF4OiAxfSxcblxuICAgIGZsYXRTaGFkaW5nOiB7ZGVmYXVsdDogZmFsc2V9LFxuICAgIHBsYXlBcmVhOiB7dHlwZTogJ2Zsb2F0JywgZGVmYXVsdDogMS41LCBtaW46IDAuNSwgbWF4OiAxMH0sXG5cbiAgICBncm91bmQ6IHtkZWZhdWx0OiAnaGlsbHMnLCBvbmVPZjpbJ25vbmUnLCAnZmxhdCcsICdoaWxscycsICdjYW55b24nLCAnc3Bpa2VzJywgJ25vaXNlJ119LFxuICAgIGdyb3VuZFlTY2FsZToge3R5cGU6ICdmbG9hdCcsIGRlZmF1bHQ6IDIwLCBtaW46IDAsIG1heDogNTB9LFxuICAgIGdyb3VuZFRleHR1cmU6IHtkZWZhdWx0OiAnbm9uZScsIG9uZU9mOlsnbm9uZScsICdjaGVja2VyYm9hcmQnLCAnc3F1YXJlcycsICd3YWxrZXJub2lzZSddfSxcbiAgICBncm91bmRDb2xvcjogIHt0eXBlOiAnY29sb3InLCBkZWZhdWx0OiAnIzU1M2UzNSd9LFxuICAgIGdyb3VuZENvbG9yMjoge3R5cGU6ICdjb2xvcicsIGRlZmF1bHQ6ICcjNjk0NDM5J30sXG5cbiAgICBkcmVzc2luZzE6IHtkZWZhdWx0OiAnbm9uZScsIG9uZU9mOiBkcmVzc2luZ1R5cGVzfSxcbiAgICBkcmVzc2luZzFBbW91bnQ6IHt0eXBlOiAnaW50JywgZGVmYXVsdDogMTAsIG1pbjogMCwgbWF4OiAxMDAwfSxcbiAgICBkcmVzc2luZzFDb2xvcjogIHt0eXBlOiAnY29sb3InLCBkZWZhdWx0OiAnIzc5NTQ0OSd9LFxuICAgIGRyZXNzaW5nMVNjYWxlOiB7dHlwZTogJ2Zsb2F0JywgZGVmYXVsdDogNSwgbWluOiAwLCBtYXg6IDEwMH0sXG4gICAgZHJlc3NpbmcxVmFyaWFuY2U6IHt0eXBlOiAndmVjMycsIGRlZmF1bHQ6IHt4OiAxLCB5OiAxLCB6OiAxfX0sXG4gICAgZHJlc3NpbmcxVW5pZm9ybVNjYWxlOiB7ZGVmYXVsdDogZmFsc2V9LFxuICAgIGRyZXNzaW5nMU9uUGxheUFyZWE6IHt0eXBlOiAnZmxvYXQnLCBkZWZhdWx0OiAwLCBtaW46IDAsIG1heDogMX0sXG5cbiAgICBkcmVzc2luZzI6IHtkZWZhdWx0OiAnbm9uZScsIG9uZU9mOiBkcmVzc2luZ1R5cGVzfSxcbiAgICBkcmVzc2luZzJBbW91bnQ6IHt0eXBlOiAnaW50JywgZGVmYXVsdDogMTAsIG1pbjogMCwgbWF4OiAxMDAwfSxcbiAgICBkcmVzc2luZzJDb2xvcjogIHt0eXBlOiAnY29sb3InLCBkZWZhdWx0OiAnIzc5NTQ0OSd9LFxuICAgIGRyZXNzaW5nMlNjYWxlOiB7dHlwZTogJ2Zsb2F0JywgZGVmYXVsdDogNSwgbWluOiAwLCBtYXg6IDEwMH0sXG4gICAgZHJlc3NpbmcyVmFyaWFuY2U6IHt0eXBlOiAndmVjMycsIGRlZmF1bHQ6IHt4OiAxLCB5OiAxLCB6OiAxfX0sXG4gICAgZHJlc3NpbmcyVW5pZm9ybVNjYWxlOiB7ZGVmYXVsdDogZmFsc2V9LFxuICAgIGRyZXNzaW5nMk9uUGxheUFyZWE6IHt0eXBlOiAnZmxvYXQnLCBkZWZhdWx0OiAwLCBtaW46IDAsIG1heDogMX0sXG5cbiAgICBncmlkOiB7ZGVmYXVsdDonbm9uZScsIG9uZU9mOlsnbm9uZScsICcxeDEnLCAnMngyJywgJ2Nyb3NzZXMnLCAnZG90cycsICd4bGluZXMnLCAneWxpbmVzJ119LFxuICAgIGdyaWRDb2xvcjoge3R5cGU6ICdjb2xvcicsIGRlZmF1bHQ6ICcjY2NjJ30sXG4gICAgdmFyeUNvbG9yOiB7ZGVmYXVsdDogdHJ1ZX1cbiAgfSxcblxuICBtdWx0aXBsZTogZmFsc2UsXG5cbiAgcHJlc2V0czoge1xuICAgICdub25lJyA6IHt9LFxuICAgICdkZWZhdWx0JyA6IHtkcmVzc2luZzI6ICdub25lJywgZHJlc3NpbmcyQW1vdW50OiAxMCwgZHJlc3NpbmcyQ29sb3I6ICcjNzk1NDQ5JywgZHJlc3NpbmcyU2NhbGU6IDEsIGRyZXNzaW5nMlZhcmlhbmNlOiB7IHg6IDAsIHk6IDAsIHo6IDB9LCBkcmVzc2luZzJVbmlmb3JtU2NhbGU6IHRydWUsIGRyZXNzaW5nMk9uUGxheUFyZWE6IDAsIGFjdGl2ZTogdHJ1ZSwgc2VlZDogMSwgc2t5VHlwZTogJ2F0bW9zcGhlcmUnLCBza3lDb2xvcjogJyM4OGMnLCBob3Jpem9uQ29sb3I6ICcjZGRkJywgbGlnaHRpbmc6ICdkaXN0YW50JywgbGlnaHRQb3NpdGlvbjogeyB4OiAtMC4xMSwgeTogMSwgejogMC4zM30sIGZvZzogMC43OCwgZmxhdFNoYWRpbmc6IGZhbHNlLCBwbGF5QXJlYTogMS41LCBncm91bmQ6ICdoaWxscycsIGdyb3VuZFlTY2FsZTogMywgZ3JvdW5kVGV4dHVyZTogJ2NoZWNrZXJib2FyZCcsIGdyb3VuZENvbG9yOiAnIzQ1NDU0NScsIGdyb3VuZENvbG9yMjogJyM1ZDVkNWQnLCBkcmVzc2luZzE6ICdub25lJywgZHJlc3NpbmcxQW1vdW50OiAxMCwgZHJlc3NpbmcxQ29sb3I6ICcjNzk1NDQ5JywgZHJlc3NpbmcxU2NhbGU6IDEsIGRyZXNzaW5nMVZhcmlhbmNlOiB7IHg6IDAsIHk6IDAsIHo6IDB9LCBkcmVzc2luZzFVbmlmb3JtU2NhbGU6IHRydWUsIGRyZXNzaW5nMU9uUGxheUFyZWE6IDAsIGdyaWQ6ICdub25lJywgZ3JpZENvbG9yOiAnI2NjYycsIHNoYWRvdzogZmFsc2V9LFxuICAgICdjb250YWN0Jzoge2RyZXNzaW5nMjogJ2FwcGFyYXR1cycsIGRyZXNzaW5nMkFtb3VudDogMTAsIGRyZXNzaW5nMkNvbG9yOiAnIzY1NzA2NycsIGRyZXNzaW5nMlNjYWxlOiAyLCBkcmVzc2luZzJWYXJpYW5jZTogeyB4OiAxMCwgeTogMTAsIHo6IDEwfSwgZHJlc3NpbmcyVW5pZm9ybVNjYWxlOiB0cnVlLCBkcmVzc2luZzJPblBsYXlBcmVhOiAwLjgsIGFjdGl2ZTogdHJ1ZSwgc2VlZDogMTQsIHNreVR5cGU6ICdncmFkaWVudCcsIHNreUNvbG9yOiAnIzQ3OGQ1NCcsIGhvcml6b25Db2xvcjogJyNiNjk2Y2InLCBsaWdodGluZzogJ2Rpc3RhbnQnLCBsaWdodFBvc2l0aW9uOiB7IHg6IDAsIHk6IDIuMDEsIHo6IC0xfSwgZm9nOiAwLjY0LCBmbGF0U2hhZGluZzogZmFsc2UsIHBsYXlBcmVhOiAxLjUsIGdyb3VuZDogJ3NwaWtlcycsIGdyb3VuZFlTY2FsZTogMTAwLCBncm91bmRUZXh0dXJlOiAnbm9uZScsIGdyb3VuZENvbG9yOiAnIzJlNDU1ZicsIGdyb3VuZENvbG9yMjogJyM2OTQ0MzknLCBkcmVzc2luZzE6ICdhcHBhcmF0dXMnLCBkcmVzc2luZzFBbW91bnQ6IDMwLCBkcmVzc2luZzFDb2xvcjogJyM2NTcwNjcnLCBkcmVzc2luZzFTY2FsZTogMjAsIGRyZXNzaW5nMVZhcmlhbmNlOiB7IHg6IDIwLCB5OiAyMCwgejogMjB9LCBkcmVzc2luZzFVbmlmb3JtU2NhbGU6IHRydWUsIGRyZXNzaW5nMU9uUGxheUFyZWE6IDAsIGdyaWQ6ICcxeDEnLCBncmlkQ29sb3I6ICcjNDc4ZDU0Jywgc2hhZG93OiBmYWxzZX0sXG4gICAgJ2VneXB0Jzoge2RyZXNzaW5nMjogJ3N0b25lcycsIGRyZXNzaW5nMkFtb3VudDogMjAwLCBkcmVzc2luZzJDb2xvcjogJyM5OTY5NGYnLCBkcmVzc2luZzJTY2FsZTogMC4yNiwgZHJlc3NpbmcyVmFyaWFuY2U6IHt4OjAuMiwgeTogMC4yLCB6OiAwLjJ9LCBkcmVzc2luZzJVbmlmb3JtU2NhbGU6IGZhbHNlLCBkcmVzc2luZzJPblBsYXlBcmVhOiAwLjgsIGFjdGl2ZTogdHJ1ZSwgc2VlZDogMjYsIHNreVR5cGU6ICdncmFkaWVudCcsIHNreUNvbG9yOiAnIzFiNzY2MCcsIGhvcml6b25Db2xvcjogJyNlNGI2NzYnLCBsaWdodGluZzogJ2Rpc3RhbnQnLCBsaWdodFBvc2l0aW9uOiB7IHg6IDAsIHk6IDEuNjUsIHo6IC0xfSwgZm9nOiAwLjc1LCBmbGF0U2hhZGluZzogZmFsc2UsIHBsYXlBcmVhOiAxLjUsIGdyb3VuZDogJ2hpbGxzJywgZ3JvdW5kWVNjYWxlOiAyMCwgZ3JvdW5kVGV4dHVyZTogJ3dhbGtlcm5vaXNlJywgZ3JvdW5kQ29sb3I6ICcjOTc2ODRmJywgZ3JvdW5kQ29sb3IyOiAnIzk3Njg0ZicsIGRyZXNzaW5nMTogJ3B5cmFtaWRzJywgZHJlc3NpbmcxQW1vdW50OiAyMCwgZHJlc3NpbmcxQ29sb3I6ICcjN2M1YzQ1JywgZHJlc3NpbmcxU2NhbGU6IDUsIGRyZXNzaW5nMVZhcmlhbmNlOiB7IHg6IDIwLCB5OiAyMCwgejogMjB9LCBkcmVzc2luZzFVbmlmb3JtU2NhbGU6IHRydWUsIGRyZXNzaW5nMU9uUGxheUFyZWE6IDAsIGdyaWQ6ICdzcG90cycsIGdyaWRDb2xvcjogJyNlNGI2NzYnLCBzaGFkb3c6IGZhbHNlfSxcbiAgICAnY2hlY2tlcmJvYXJkJzoge2RyZXNzaW5nMjogJ2lzbGFuZHMnLCBkcmVzc2luZzJBbW91bnQ6IDEwMCwgZHJlc3NpbmcyQ29sb3I6ICcjZTQwNTQ4JywgZHJlc3NpbmcyU2NhbGU6IDAuMTQsIGRyZXNzaW5nMlZhcmlhbmNlOiB7IHg6IDAsIHk6IDEsIHo6IDB9LCBkcmVzc2luZzJVbmlmb3JtU2NhbGU6IHRydWUsIGRyZXNzaW5nMk9uUGxheUFyZWE6IDAuNywgYWN0aXZlOiB0cnVlLCBzZWVkOiAxLCBza3lUeXBlOiAnZ3JhZGllbnQnLCBza3lDb2xvcjogJyM0MDQwNDAnLCBob3Jpem9uQ29sb3I6ICcjZTQwNTQ4JywgbGlnaHRpbmc6ICdkaXN0YW50JywgbGlnaHRQb3NpdGlvbjogeyB4OiAwLCB5OiAxLCB6OiAtMC4yfSwgZm9nOiAwLjcxLCBmbGF0U2hhZGluZzogdHJ1ZSwgcGxheUFyZWE6IDEuNSwgZ3JvdW5kOiAnc3Bpa2VzJywgZ3JvdW5kWVNjYWxlOiAzMCwgZ3JvdW5kVGV4dHVyZTogJ2NoZWNrZXJib2FyZCcsIGdyb3VuZENvbG9yOiAnIzI1MjUyNScsIGdyb3VuZENvbG9yMjogJyMxMTExMTEnLCBkcmVzc2luZzE6ICdpc2xhbmRzJywgZHJlc3NpbmcxQW1vdW50OiAyMCwgZHJlc3NpbmcxQ29sb3I6ICcjNmI0ZmYwJywgZHJlc3NpbmcxU2NhbGU6IDIuNTEsIGRyZXNzaW5nMVZhcmlhbmNlOiB7IHg6IDEwLCB5OiAxNSwgejogMTB9LCBkcmVzc2luZzFVbmlmb3JtU2NhbGU6IHRydWUsIGRyZXNzaW5nMU9uUGxheUFyZWE6IDAsIGdyaWQ6ICdkb3RzJywgZ3JpZENvbG9yOiAnIzZiNGZmMCcsIHNoYWRvdzogZmFsc2V9LFxuICAgICdmb3Jlc3QnOiB7ZHJlc3NpbmcyOiAnZ3Jhc3MnLCBkcmVzc2luZzJBbW91bnQ6IDE1MDAsIGRyZXNzaW5nMkNvbG9yOiAnIzg4OGIxZCcsIGRyZXNzaW5nMlNjYWxlOiAwLjMsIGRyZXNzaW5nMlZhcmlhbmNlOiB7eDogMSwgeTogMiwgejogMH0sIGRyZXNzaW5nMlVuaWZvcm1TY2FsZTogZmFsc2UsIGRyZXNzaW5nMk9uUGxheUFyZWE6IDAuOCwgYWN0aXZlOiB0cnVlLCBzZWVkOiA4LCBza3lUeXBlOiAnZ3JhZGllbnQnLCBza3lDb2xvcjogJyMyNGI1OWYnLCBob3Jpem9uQ29sb3I6ICcjZWZmOWI3JywgbGlnaHRpbmc6ICdkaXN0YW50JywgbGlnaHRQb3NpdGlvbjogeyB4OiAtMS4yLCB5OiAwLjg4LCB6OiAtMC41NX0sIGZvZzogMC44LCBmbGF0U2hhZGluZzogZmFsc2UsIHBsYXlBcmVhOiAxLjUsIGdyb3VuZDogJ25vaXNlJywgZ3JvdW5kWVNjYWxlOiA0LjE4LCBncm91bmRUZXh0dXJlOiAnc3F1YXJlcycsIGdyb3VuZENvbG9yOiAnIzkzN2EyNCcsIGdyb3VuZENvbG9yMjogJyM5ODdkMmUnLCBkcmVzc2luZzE6ICd0cmVlcycsIGRyZXNzaW5nMUFtb3VudDogNTAwLCBkcmVzc2luZzFDb2xvcjogJyM4ODhiMWQnLCBkcmVzc2luZzFTY2FsZTogMSwgZHJlc3NpbmcxVmFyaWFuY2U6IHsgeDogMTAsIHk6IDEwLCB6OiAxMH0sIGRyZXNzaW5nMVVuaWZvcm1TY2FsZTogdHJ1ZSwgZHJlc3NpbmcxT25QbGF5QXJlYTogMC4wMSwgZ3JpZDogJ25vbmUnLCBncmlkQ29sb3I6ICcjYzVhNTQzJywgc2hhZG93OiB0cnVlfSxcbiAgICAnZ29hbGFuZCc6IHtkcmVzc2luZzI6ICdncmFzcycsIGRyZXNzaW5nMkFtb3VudDogMTUwMCwgZHJlc3NpbmcyQ29sb3I6ICcjZGI0NDUzJywgZHJlc3NpbmcyU2NhbGU6IDEsIGRyZXNzaW5nMlZhcmlhbmNlOiB7eDogMSwgeTogMiwgejogMH0sIGRyZXNzaW5nMlVuaWZvcm1TY2FsZTogZmFsc2UsIGRyZXNzaW5nMk9uUGxheUFyZWE6IDAuOCwgYWN0aXZlOiB0cnVlLCBzZWVkOiAxNywgc2t5VHlwZTogJ2dyYWRpZW50Jywgc2t5Q29sb3I6ICcjMTQ2NDVmJywgaG9yaXpvbkNvbG9yOiAnIzdjY2I5YScsIGxpZ2h0aW5nOiAncG9pbnQnLCBsaWdodFBvc2l0aW9uOiB7IHg6IDAuMSwgeTogNCwgejogMC41Nn0sIGZvZzogMC43MywgZmxhdFNoYWRpbmc6IGZhbHNlLCBwbGF5QXJlYTogMS41LCBncm91bmQ6ICdjYW55b24nLCBncm91bmRZU2NhbGU6IDEwMCwgZ3JvdW5kVGV4dHVyZTogJ25vbmUnLCBncm91bmRDb2xvcjogJyNhZTMyNDEnLCBncm91bmRDb2xvcjI6ICcjZGI0NDUzJywgZHJlc3NpbmcxOiAnbXVzaHJvb21zJywgZHJlc3NpbmcxQW1vdW50OiAxNTAsIGRyZXNzaW5nMUNvbG9yOiAnI2E5MzEzZCcsIGRyZXNzaW5nMVNjYWxlOiA1LCBkcmVzc2luZzFWYXJpYW5jZTogeyB4OiA1LCB5OiAxMCwgejogNX0sIGRyZXNzaW5nMVVuaWZvcm1TY2FsZTogdHJ1ZSwgZHJlc3NpbmcxT25QbGF5QXJlYTogMC4wMSwgZ3JpZDogJ25vbmUnLCBncmlkQ29sb3I6ICcjMjM5ODkzJywgc2hhZG93OiBmYWxzZX0sXG4gICAgJ3lhdmFwYWknOiB7ZHJlc3NpbmcyOiAnbm9uZScsIGRyZXNzaW5nMkFtb3VudDogMTAsIGRyZXNzaW5nMkNvbG9yOiAnIzc5NTQ0OScsIGRyZXNzaW5nMlNjYWxlOiAxLCBkcmVzc2luZzJWYXJpYW5jZTogeyB4OiAwLCB5OiAwLCB6OiAwfSwgZHJlc3NpbmcyVW5pZm9ybVNjYWxlOiB0cnVlLCBkcmVzc2luZzJPblBsYXlBcmVhOiAwLCBhY3RpdmU6IHRydWUsIHNlZWQ6IDExLCBza3lUeXBlOiAnZ3JhZGllbnQnLCBza3lDb2xvcjogJyMyMzk4NDknLCBob3Jpem9uQ29sb3I6ICcjY2ZlMGFmJywgbGlnaHRpbmc6ICdkaXN0YW50JywgbGlnaHRQb3NpdGlvbjogeyB4OiAwLjUsIHk6IDEsIHo6IDB9LCBmb2c6IDAuOCwgZmxhdFNoYWRpbmc6IHRydWUsIHBsYXlBcmVhOiAxLjUsIGdyb3VuZDogJ2NhbnlvbicsIGdyb3VuZFlTY2FsZTogOS43NiwgZ3JvdW5kVGV4dHVyZTogJ3dhbGtlcm5vaXNlJywgZ3JvdW5kQ29sb3I6ICcjQzY2MzQ0JywgZ3JvdW5kQ29sb3IyOiAnI2M5NmI0YicsIGRyZXNzaW5nMTogJ3N0b25lcycsIGRyZXNzaW5nMUFtb3VudDogNTAwLCBkcmVzc2luZzFDb2xvcjogJyNDNjYzNDQnLCBkcmVzc2luZzFTY2FsZTogMC4wNiwgZHJlc3NpbmcxVmFyaWFuY2U6IHsgeDogMC4yLCB5OiAwLjEsIHo6IDAuMn0sIGRyZXNzaW5nMVVuaWZvcm1TY2FsZTogdHJ1ZSwgZHJlc3NpbmcxT25QbGF5QXJlYTogMSwgZ3JpZDogJ25vbmUnLCBncmlkQ29sb3I6ICcjMjM5ODkzJywgc2hhZG93OiBmYWxzZX0sXG4gICAgJ2dvbGRtaW5lJzoge2RyZXNzaW5nMjogJ3N0b25lcycsIGRyZXNzaW5nMkFtb3VudDogMzAwLCBkcmVzc2luZzJDb2xvcjogJyNmZTkyMWInLCBkcmVzc2luZzJTY2FsZTogLjIsIGRyZXNzaW5nMlZhcmlhbmNlOiB7IHg6IDAuMiwgeTogMC4yLCB6OiAwLjJ9LCBkcmVzc2luZzJVbmlmb3JtU2NhbGU6IGZhbHNlLCBkcmVzc2luZzJPblBsYXlBcmVhOiAwLjgzLCBhY3RpdmU6IHRydWUsIHNlZWQ6IDUzLCBza3lUeXBlOiAnZ3JhZGllbnQnLCBza3lDb2xvcjogJyMxZTFjMWEnLCBob3Jpem9uQ29sb3I6ICcjOGM3OTY0JywgbGlnaHRpbmc6ICdwb2ludCcsIGxpZ2h0UG9zaXRpb246IHsgeDogMCwgeTogMS41LCB6OiAzLjMzfSwgZm9nOiAwLjI1LCBmbGF0U2hhZGluZzogdHJ1ZSwgcGxheUFyZWE6IDEuNSwgZ3JvdW5kOiAnY2FueW9uJywgZ3JvdW5kWVNjYWxlOiAxMDAsIGdyb3VuZFRleHR1cmU6ICdub25lJywgZ3JvdW5kQ29sb3I6ICcjMzUzNTM1JywgZ3JvdW5kQ29sb3IyOiAnIzI1MjUyNScsIGRyZXNzaW5nMTogJ2hleGFnb25zJywgZHJlc3NpbmcxQW1vdW50OiAyMDAsIGRyZXNzaW5nMUNvbG9yOiAnI2ZlOTIxYicsIGRyZXNzaW5nMVNjYWxlOiAwLjUsIGRyZXNzaW5nMVZhcmlhbmNlOiB7IHg6IDQsIHk6IDE0LCB6OiA0fSwgZHJlc3NpbmcxVW5pZm9ybVNjYWxlOiB0cnVlLCBkcmVzc2luZzFPblBsYXlBcmVhOiAwLjAzLCBncmlkOiAnbm9uZScsIGdyaWRDb2xvcjogJyMyMjInLCBzaGFkb3c6IGZhbHNlfSxcbiAgICAndGhyZWV0b3dlcnMnOiB7ZHJlc3NpbmcyOiAnbm9uZScsIGRyZXNzaW5nMkFtb3VudDogMTAsIGRyZXNzaW5nMkNvbG9yOiAnIzc5NTQ0OScsIGRyZXNzaW5nMlNjYWxlOiAxLCBkcmVzc2luZzJWYXJpYW5jZTogeyB4OiAwLCB5OiAwLCB6OiAwfSwgZHJlc3NpbmcyVW5pZm9ybVNjYWxlOiB0cnVlLCBkcmVzc2luZzJPblBsYXlBcmVhOiAwLCBhY3RpdmU6IHRydWUsIHNlZWQ6IDUsIHNreVR5cGU6ICdncmFkaWVudCcsIHNreUNvbG9yOiAnIzIzYTA2YicsIGhvcml6b25Db2xvcjogJyNmNWUxNzAnLCBsaWdodGluZzogJ2Rpc3RhbnQnLCBsaWdodFBvc2l0aW9uOiB7IHg6IDAuNSwgeTogMSwgejogMH0sIGZvZzogMC44LCBmbGF0U2hhZGluZzogZmFsc2UsIHBsYXlBcmVhOiAxLjUsIGdyb3VuZDogJ3NwaWtlcycsIGdyb3VuZFlTY2FsZTogNC4yNiwgZ3JvdW5kVGV4dHVyZTogJ3dhbGtlcm5vaXNlJywgZ3JvdW5kQ29sb3I6ICcjMjczYTQ5JywgZ3JvdW5kQ29sb3IyOiAnIzJiNDY0ZicsIGRyZXNzaW5nMTogJ3Rvd2VycycsIGRyZXNzaW5nMUFtb3VudDogMTUsIGRyZXNzaW5nMUNvbG9yOiAnIzVmNmQ5NCcsIGRyZXNzaW5nMVNjYWxlOiA1MCwgZHJlc3NpbmcxVmFyaWFuY2U6IHsgeDogMTAsIHk6IDEwMCwgejogMTB9LCBkcmVzc2luZzFVbmlmb3JtU2NhbGU6IHRydWUsIGRyZXNzaW5nMU9uUGxheUFyZWE6IDAsIGdyaWQ6ICdub25lJywgZ3JpZENvbG9yOiAnIzIzOTg5MycsIHNoYWRvdzogZmFsc2UsIGRyZXNzaW5nMjogJ2N1YmVzJywgZHJlc3NpbmcyQW1vdW50OiAzMH0sXG4gICAgJ3BvaXNvbic6IHtkcmVzc2luZzI6ICdub25lJywgZHJlc3NpbmcyQW1vdW50OiAxMCwgZHJlc3NpbmcyQ29sb3I6ICcjNzk1NDQ5JywgZHJlc3NpbmcyU2NhbGU6IDEsIGRyZXNzaW5nMlZhcmlhbmNlOiB7IHg6IDAsIHk6IDAsIHo6IDB9LCBkcmVzc2luZzJVbmlmb3JtU2NhbGU6IHRydWUsIGRyZXNzaW5nMk9uUGxheUFyZWE6IDAsIGFjdGl2ZTogdHJ1ZSwgc2VlZDogOTIsIHNreVR5cGU6ICdncmFkaWVudCcsIHNreUNvbG9yOiAnIzFlYTg0YScsIGhvcml6b25Db2xvcjogJyMxNzcxMzInLCBsaWdodGluZzogJ2Rpc3RhbnQnLCBsaWdodFBvc2l0aW9uOiB7IHg6IDAuNSwgeTogMSwgejogMH0sIGZvZzogMC44LCBmbGF0U2hhZGluZzogZmFsc2UsIHBsYXlBcmVhOiAxLjUsIGdyb3VuZDogJ2NhbnlvbicsIGdyb3VuZFlTY2FsZTogOS43NiwgZ3JvdW5kVGV4dHVyZTogJ25vbmUnLCBncm91bmRDb2xvcjogJyM4NTFmMzEnLCBncm91bmRDb2xvcjI6ICcjOTEyMjM1JywgZHJlc3NpbmcxOiAnaGV4YWdvbnMnLCBkcmVzc2luZzFBbW91bnQ6IDQwLCBkcmVzc2luZzFDb2xvcjogJyNjNzQxNWInLCBkcmVzc2luZzFTY2FsZTogMjAsIGRyZXNzaW5nMVZhcmlhbmNlOiB7IHg6IDIwLCB5OiAyMDAsIHo6IDIwfSwgZHJlc3NpbmcxVW5pZm9ybVNjYWxlOiBmYWxzZSwgZHJlc3NpbmcxT25QbGF5QXJlYTogMCwgZ3JpZDogJ2Nyb3NzZXMnLCBncmlkQ29sb3I6ICcjMWVhODRhJywgc2hhZG93OiBmYWxzZX0sXG4gICAgJ2FyY2hlcyc6IHtkcmVzc2luZzI6ICdpc2xhbmRzJywgZHJlc3NpbmcyQW1vdW50OiA1MCwgZHJlc3NpbmcyQ29sb3I6ICcjZTQ0NmZiJywgZHJlc3NpbmcyU2NhbGU6IDEsIGRyZXNzaW5nMlZhcmlhbmNlOiB7eDogMSwgeTogMiwgejogMH0sIGRyZXNzaW5nMlVuaWZvcm1TY2FsZTogZmFsc2UsIGRyZXNzaW5nMk9uUGxheUFyZWE6IDAuNiwgYWN0aXZlOiB0cnVlLCBzZWVkOiAxOSwgc2t5VHlwZTogJ2F0bW9zcGhlcmUnLCBza3lDb2xvcjogJyM4Y2JkYzgnLCBob3Jpem9uQ29sb3I6ICcjZGRkJywgbGlnaHRpbmc6ICdkaXN0YW50JywgbGlnaHRQb3NpdGlvbjogeyB4OiAtMC4xMSwgeTogMC4xNiwgejogMC4zM30sIGZvZzogMC42NywgZmxhdFNoYWRpbmc6IHRydWUsIHBsYXlBcmVhOiAxLjUsIGdyb3VuZDogJ2NhbnlvbicsIGdyb3VuZFlTY2FsZTogMTAsIGdyb3VuZFRleHR1cmU6ICd3YWxrZXJub2lzZScsIGdyb3VuZENvbG9yOiAnIzVjNDU2NicsIGdyb3VuZENvbG9yMjogJyM0NDNhNGUnLCBkcmVzc2luZzE6ICdhcmNoZXMnLCBkcmVzc2luZzFBbW91bnQ6IDMwLCBkcmVzc2luZzFDb2xvcjogJyM2MjUzNmYnLCBkcmVzc2luZzFTY2FsZTogMjYsIGRyZXNzaW5nMVZhcmlhbmNlOiB7IHg6IDIwLCB5OiA0MCwgejogMjB9LCBkcmVzc2luZzFVbmlmb3JtU2NhbGU6IHRydWUsIGRyZXNzaW5nMU9uUGxheUFyZWE6IDAuMDQsIGdyaWQ6ICdub25lJywgZ3JpZENvbG9yOiAnI2NjYycsIHNoYWRvdzogZmFsc2V9LFxuICAgICd0cm9uJzoge2RyZXNzaW5nMjogJ25vbmUnLCBkcmVzc2luZzJBbW91bnQ6IDEwLCBkcmVzc2luZzJDb2xvcjogJyM3OTU0NDknLCBkcmVzc2luZzJTY2FsZTogMSwgZHJlc3NpbmcyVmFyaWFuY2U6IHsgeDogMCwgeTogMCwgejogMH0sIGRyZXNzaW5nMlVuaWZvcm1TY2FsZTogdHJ1ZSwgZHJlc3NpbmcyT25QbGF5QXJlYTogMCwgYWN0aXZlOiB0cnVlLCBzZWVkOiAxNCwgc2t5VHlwZTogJ2dyYWRpZW50Jywgc2t5Q29sb3I6ICcjMDkxYjM5JywgaG9yaXpvbkNvbG9yOiAnIzI4NGE5ZScsIGxpZ2h0aW5nOiAnZGlzdGFudCcsIGxpZ2h0UG9zaXRpb246IHsgeDogLTAuNzIsIHk6IDAuNjIsIHo6IDAuNH0sIGZvZzogMC44LCBmbGF0U2hhZGluZzogZmFsc2UsIHBsYXlBcmVhOiAxLjUsIGdyb3VuZDogJ3NwaWtlcycsIGdyb3VuZFlTY2FsZTogNC45MSwgZ3JvdW5kVGV4dHVyZTogJ25vbmUnLCBncm91bmRDb2xvcjogJyMwNjExMjMnLCBncm91bmRDb2xvcjI6ICcjNjk0NDM5JywgZHJlc3NpbmcxOiAndG93ZXJzJywgZHJlc3NpbmcxQW1vdW50OiAyMCwgZHJlc3NpbmcxQ29sb3I6ICcjZmIwMDBlJywgZHJlc3NpbmcxU2NhbGU6IDE1LCBkcmVzc2luZzFWYXJpYW5jZTogeyB4OiAyMCwgeTogMjAsIHo6IDIwfSwgZHJlc3NpbmcxVW5pZm9ybVNjYWxlOiB0cnVlLCBkcmVzc2luZzFPblBsYXlBcmVhOiAwLCBncmlkOiAnMXgxJywgZ3JpZENvbG9yOiAnI2ZiMDAwZScsIHNoYWRvdzogZmFsc2V9LFxuICAgICdqYXBhbic6IHtkcmVzc2luZzI6ICdncmFzcycsIGRyZXNzaW5nMkFtb3VudDogMTUwMCwgZHJlc3NpbmcyQ29sb3I6ICcjZGI0NDUzJywgZHJlc3NpbmcyU2NhbGU6IDAuNSwgZHJlc3NpbmcyVmFyaWFuY2U6IHt4OiAxLCB5OiAyLCB6OiAwfSwgZHJlc3NpbmcyVW5pZm9ybVNjYWxlOiBmYWxzZSwgZHJlc3NpbmcyT25QbGF5QXJlYTogMC42LCBhY3RpdmU6IHRydWUsIHNlZWQ6IDE0LCBza3lUeXBlOiAnZ3JhZGllbnQnLCBza3lDb2xvcjogJyM3ZTVkYjUnLCBob3Jpem9uQ29sb3I6ICcjYjRhZGRhJywgbGlnaHRpbmc6ICdkaXN0YW50JywgbGlnaHRQb3NpdGlvbjogeyB4OiAxLjMzLCB5OiAxLCB6OiAwLjI0fSwgZm9nOiAwLjksIGZsYXRTaGFkaW5nOiBmYWxzZSwgcGxheUFyZWE6IDEuNSwgZ3JvdW5kOiAnaGlsbHMnLCBncm91bmRZU2NhbGU6IDI1LCBncm91bmRUZXh0dXJlOiAnd2Fsa2Vybm9pc2UnLCBncm91bmRDb2xvcjogJyM3ZTVkYjUnLCBncm91bmRDb2xvcjI6ICcjY2FiZGY1JywgZHJlc3NpbmcxOiAndG9yaWknLCBkcmVzc2luZzFBbW91bnQ6IDIwLCBkcmVzc2luZzFDb2xvcjogJyNkYjQ0NTMnLCBkcmVzc2luZzFTY2FsZTogMTUsIGRyZXNzaW5nMVZhcmlhbmNlOiB7IHg6IDAsIHk6IDAsIHo6IDB9LCBkcmVzc2luZzFVbmlmb3JtU2NhbGU6IHRydWUsIGRyZXNzaW5nMU9uUGxheUFyZWE6IDAsIGdyaWQ6ICdzcG90cycsIGdyaWRDb2xvcjogJyNlNGI2NzYnLCBzaGFkb3c6IGZhbHNlfSxcbiAgICAnZHJlYW0nOiB7ZHJlc3NpbmcyOiAnbm9uZScsIGRyZXNzaW5nMkFtb3VudDogMTAsIGRyZXNzaW5nMkNvbG9yOiAnIzc5NTQ0OScsIGRyZXNzaW5nMlNjYWxlOiAxLCBkcmVzc2luZzJWYXJpYW5jZTogeyB4OiAwLCB5OiAwLCB6OiAwfSwgZHJlc3NpbmcyVW5pZm9ybVNjYWxlOiB0cnVlLCBkcmVzc2luZzJPblBsYXlBcmVhOiAwLCBhY3RpdmU6IHRydWUsIHNlZWQ6IDE3LCBza3lUeXBlOiAnZ3JhZGllbnQnLCBza3lDb2xvcjogJyM4N2ZhZjQnLCBob3Jpem9uQ29sb3I6ICcjYjM0MDkzJywgbGlnaHRpbmc6ICdkaXN0YW50JywgbGlnaHRQb3NpdGlvbjogeyB4OiAtMC43MiwgeTogMC41MywgejogMC45N30sIGZvZzogMC44LCBmbGF0U2hhZGluZzogZmFsc2UsIHBsYXlBcmVhOiAxLjUsIGdyb3VuZDogJ2hpbGxzJywgZ3JvdW5kWVNjYWxlOiAyMCwgZ3JvdW5kVGV4dHVyZTogJ2NoZWNrZXJib2FyZCcsIGdyb3VuZENvbG9yOiAnI2IzNDA5MycsIGdyb3VuZENvbG9yMjogJyNjMDUwYTInLCBkcmVzc2luZzE6ICdtdXNocm9vbXMnLCBkcmVzc2luZzFBbW91bnQ6IDMwMCwgZHJlc3NpbmcxQ29sb3I6ICcjM2NmN2VkJywgZHJlc3NpbmcxU2NhbGU6IDAuMiwgZHJlc3NpbmcxVmFyaWFuY2U6IHsgeDogMC4yLCB5OiAwLjIsIHo6IDAuMn0sIGRyZXNzaW5nMVVuaWZvcm1TY2FsZTogdHJ1ZSwgZHJlc3NpbmcxT25QbGF5QXJlYTogMSwgZ3JpZDogJ25vbmUnLCBncmlkQ29sb3I6ICcjMjM5ODkzJywgc2hhZG93OiBmYWxzZX0sXG4gICAgJ3ZvbGNhbm8nOiB7ZHJlc3NpbmcyOiAnbm9uZScsIGRyZXNzaW5nMkFtb3VudDogMTAsIGRyZXNzaW5nMkNvbG9yOiAnIzc5NTQ0OScsIGRyZXNzaW5nMlNjYWxlOiAxLCBkcmVzc2luZzJWYXJpYW5jZTogeyB4OiAwLCB5OiAwLCB6OiAwfSwgZHJlc3NpbmcyVW5pZm9ybVNjYWxlOiB0cnVlLCBkcmVzc2luZzJPblBsYXlBcmVhOiAwLCBhY3RpdmU6IHRydWUsIHNlZWQ6IDkyLCBza3lUeXBlOiAnZ3JhZGllbnQnLCBza3lDb2xvcjogJyM0YTA3MGYnLCBob3Jpem9uQ29sb3I6ICcjZjYyMzAwJywgbGlnaHRpbmc6ICdwb2ludCcsIGxpZ2h0UG9zaXRpb246IHsgeDogMC41LCB5OiAyLjI1LCB6OiAwfSwgZm9nOiAwLjg3LCBmbGF0U2hhZGluZzogZmFsc2UsIHBsYXlBcmVhOiAxLjUsIGdyb3VuZDogJ2NhbnlvbicsIGdyb3VuZFlTY2FsZTogOS43NiwgZ3JvdW5kVGV4dHVyZTogJ3dhbGtlcm5vaXNlJywgZ3JvdW5kQ29sb3I6ICcjZmIwODAzJywgZ3JvdW5kQ29sb3IyOiAnIzUxMDAwMCcsIGRyZXNzaW5nMTogJ2FyY2hlcycsIGRyZXNzaW5nMUFtb3VudDogMTUsIGRyZXNzaW5nMUNvbG9yOiAnI2ZiMDgwMycsIGRyZXNzaW5nMVNjYWxlOiAzLCBkcmVzc2luZzFWYXJpYW5jZTogeyB4OiAxMCwgeTogMTAwLCB6OiAxMH0sIGRyZXNzaW5nMVVuaWZvcm1TY2FsZTogZmFsc2UsIGRyZXNzaW5nMU9uUGxheUFyZWE6IDAuMiwgZ3JpZDogJ25vbmUnLCBncmlkQ29sb3I6ICcjZmEwZTAwJywgc2hhZG93OiBmYWxzZX0sXG4gICAgJ3N0YXJyeSc6IHtkcmVzc2luZzI6ICdub25lJywgZHJlc3NpbmcyQW1vdW50OiAxMCwgZHJlc3NpbmcyQ29sb3I6ICcjNzk1NDQ5JywgZHJlc3NpbmcyU2NhbGU6IDEsIGRyZXNzaW5nMlZhcmlhbmNlOiB7IHg6IDAsIHk6IDAsIHo6IDB9LCBkcmVzc2luZzJVbmlmb3JtU2NhbGU6IHRydWUsIGRyZXNzaW5nMk9uUGxheUFyZWE6IDAsIGFjdGl2ZTogdHJ1ZSwgc2VlZDogMSwgc2t5VHlwZTogJ2F0bW9zcGhlcmUnLCBza3lDb2xvcjogJyM4OGMnLCBob3Jpem9uQ29sb3I6ICcjZGRkJywgbGlnaHRpbmc6ICdkaXN0YW50JywgbGlnaHRQb3NpdGlvbjogeyB4OiAwLCB5OiAtMC4wMSwgejogLTAuNDZ9LCBmb2c6IDAuNywgZmxhdFNoYWRpbmc6IGZhbHNlLCBwbGF5QXJlYTogMS41LCBncm91bmQ6ICdoaWxscycsIGdyb3VuZFlTY2FsZTogMywgZ3JvdW5kVGV4dHVyZTogJ25vbmUnLCBncm91bmRDb2xvcjogJyM1NTNlMzUnLCBncm91bmRDb2xvcjI6ICcjNjk0NDM5JywgZHJlc3NpbmcxOiAnbm9uZScsIGRyZXNzaW5nMUFtb3VudDogMTAwLCBkcmVzc2luZzFDb2xvcjogJyM3OTU0NDknLCBkcmVzc2luZzFTY2FsZTogNSwgZHJlc3NpbmcxVmFyaWFuY2U6IHsgeDogMSwgeTogMSwgejogMX0sIGRyZXNzaW5nMVVuaWZvcm1TY2FsZTogdHJ1ZSwgZ3JpZDogJzF4MScsIGRyZXNzaW5nMU9uUGxheUFyZWE6IDAsIGdyaWRDb2xvcjogJyMzOWQyZjInLCBzaGFkb3c6IGZhbHNlfSxcbiAgICAnb3NpcmlzJzoge2RyZXNzaW5nMjogJ25vbmUnLCBkcmVzc2luZzJBbW91bnQ6IDEwLCBkcmVzc2luZzJDb2xvcjogJyM3OTU0NDknLCBkcmVzc2luZzJTY2FsZTogMSwgZHJlc3NpbmcyVmFyaWFuY2U6IHsgeDogMCwgeTogMCwgejogMH0sIGRyZXNzaW5nMlVuaWZvcm1TY2FsZTogdHJ1ZSwgZHJlc3NpbmcyT25QbGF5QXJlYTogMCwgYWN0aXZlOiB0cnVlLCBzZWVkOiA0Niwgc2t5VHlwZTogJ2F0bW9zcGhlcmUnLCBza3lDb2xvcjogJyM4OGMnLCBob3Jpem9uQ29sb3I6ICcjZGRkJywgbGlnaHRpbmc6ICdkaXN0YW50JywgbGlnaHRQb3NpdGlvbjogeyB4OiAwLCB5OiAwLjAyLCB6OiAtMC40Nn0sIGZvZzogMCwgZmxhdFNoYWRpbmc6IGZhbHNlLCBwbGF5QXJlYTogMS41LCBncm91bmQ6ICdoaWxscycsIGdyb3VuZFlTY2FsZTogMywgZ3JvdW5kVGV4dHVyZTogJ25vbmUnLCBncm91bmRDb2xvcjogJyM5ZTdiNDcnLCBncm91bmRDb2xvcjI6ICcjOWU3YjQ3JywgZHJlc3NpbmcxOiAncHlyYW1pZHMnLCBkcmVzc2luZzFBbW91bnQ6IDE1LCBkcmVzc2luZzFDb2xvcjogJyM5ZTdiNDcnLCBkcmVzc2luZzFTY2FsZTogNSwgZHJlc3NpbmcxVmFyaWFuY2U6IHsgeDogMzAsIHk6IDMwLCB6OiAzMH0sIGRyZXNzaW5nMVVuaWZvcm1TY2FsZTogdHJ1ZSwgZ3JpZDogJ2RvdHMnLCBkcmVzc2luZzFPblBsYXlBcmVhOiAwLCBncmlkQ29sb3I6ICcjZGFhNDUyJywgc2hhZG93OiBmYWxzZX1cbiAgfSxcblxuICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgLy8gc3RhZ2UgZ3JvdW5kIGRpYW1ldGVyIChhbmQgc2t5IHJhZGl1cylcbiAgICB0aGlzLlNUQUdFX1NJWkUgPSAyMDA7XG5cbiAgICB0aGlzLnJhbmRvbSA9IHRoaXMucmFuZG9tLmJpbmQodGhpcyk7XG5cbiAgICAvLyBkYXRhIGZvciBkcmVzc2luZyBtZXNoZXNcbiAgICB0aGlzLmFzc2V0cyA9IHtcbiAgICAgICdhcmNoZXMnOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiAnbWVzaCcsXG4gICAgICAgICAgdmVydGljZXM6IFs0MDksMjY4LDQsMzUxLDIyOCwzNiwzMzYsMjM2LC01NywtMTUyLDM5MSw2OSwtMTM1LDM1OCw4OCwtMTE5LDMzMCw0MywtMjAsMzU4LC0zNSwtMTUzLDM1NywtNDcsMzcsNDEzLC0yNiwtMjAsNDExLC0xNCwtMzAyLDE0OCwxNTQsLTMzOSwxMjEsLTEyNiwtMzg5LDIwMCwtODgsLTQ3NywxOTMsLTc2LC0zMTQsMzQ2LC0xOSwtMzE0LDMwNiwtMzAsLTI1MCwyOTYsLTczLC0yNjcsMjM3LC04MiwtMjEyLDMwMywtNjgsLTI0NSwyMDAsLTY3LC0yMjMsMzA0LDEwOCwtMzI5LDI5OSwxMDcsLTI4OSwzNTAsNzYsLTMyMCwzNDIsNjksMTE5LDM3MywtMzksMzgsMzcwLDgsMTEzLDM2Nyw1Miw0OTIsMjAyLC0zMSw0NjIsODMsLTEwNCw0NDcsNzEsLTgwLDQyNiwxMTIsMjUsNDgyLDE4OSwtNywyMjIsMzcyLDYsMTIxLDQwMiw0MSw4NywzODIsNjcsMjIxLDM0Niw1NSw1NTksOTMsLTEzLDUyOCw0NywzOSw1MDUsMjEsLTExMSw1MjgsNTQsLTEwMSw2MTYsMzEsLTUzLDQ0MiwyNTYsLTE1LDMwMCwzMzgsMTksMjU3LDMwOCwtNzksNDA4LDI1NiwtNzQsMzEyLDM1MiwtMjYsMzg0LDI5NywtMzEsNDM3LDI1NywtNDcsLTI5LDQxNSw1MywtMjMyLDM3Nyw1OSwtMTM5LDMzNSw3NywtMTMyLDM0NCwyLC0xOCwzNzcsLTM3LC0xNzEsMzg3LC0yOCwtMjU0LDM4NCwxOCwtNjUxLC0yNywyNywtNDM1LC0yOCwxNzksLTM0NSwxNDksMTY1LC0yNzIsLTI4LDIzLC0yMTUsMTQ2LC0yLC0yNzksLTI5LC01OSwtMjExLDE0NSwtNTUsLTMzNywtMjgsLTEyOCwtNDEzLDI0NywwLC0yOTMsMzYzLDI0LC0yMTQsMjU0LC0zNiwtMTY0LDI5MCwzMywtMjg0LDE1MCw5NCwtMjE4LDM2MiwxMDUsNzUsMzY5LDI5LDUxOCwxNDcsLTYzLDQ0NywxOTAsLTcwLDQ0NSw1NiwtMTA1LDM5MSwxODUsLTYwLDQzMSw0OSwtMzMsNDU5LDgzLDI2LDQ3MCwxNjIsNDIsMTMwLDM5MCw1MywxNjcsMzQxLC0zMCwxMjUsMzk0LC00NSwyMzksMzY4LC0xNyw5MSw0MTQsMTAsNDUwLDE4LDIsNDQ5LC0yNywtOSw0MzYsLTI4LC01OCw0OTYsLTI3LC0xMTAsNTgyLC0yOCwtMTQwLDY0NywtMjcsLTU2LDMyNSwzMjUsLTQ1LC0zMDcsMjk3LC01NiwtNjQ3LC0yOCwtNDUsLTE4OCwzMTAsLTU0LC0yNjQsMTk3LDExMywtMzY3LDE3NSwxMzksOCwzODcsODIsNDI2LDQ1LC01NSwxMTQsMzU5LC0yOCw1MDAsMjcsNDQsNDYxLC0yOSwxMywtNTEyLC0yNywtMTUxLC0xNTIsMzc2LC0zOCwtNDkwLC0yOCwxNDgsMTIsMzcwLC0yOCw0NDIsMTYwLDQyLDQ2NSwxOTQsMzIsMzgxLDE4MywtMzMsNjQ5LC0yNywtMzQsNDQ0LDE2LDI5LDYxNiwtMjgsMjUsNDE3LDI2NywtNjYsLTEzMiwzNTIsLTM0LC0zMjIsLTI3LDEzMCwtMjcxLDg2LC0xMTUsLTYzNSwtMjgsLTEyMSwtMjkxLDIwMywtOTksMTc2LDQwNSwtMTAsNTYxLDUyLC05MywzNzEsMzA1LDksMzExLDIzNywtMjIsMzc3LDIwMCwtODEsLTEyOSw0MDYsNDYsLTE1NCwzNzEsOTksLTgyLDM2MSw3MSwtMjEsMzU0LDI2LC05MSwzNjMsLTI3LC0xNjUsNDEzLC0xMiwtNDE0LDIxNSwxMTAsLTIzOCwxMjcsMjYsLTQwOCwtMjgsLTEyOCwtNjc0LC0yOCwtOTQsLTQ0NiwyMzIsLTM5LC0zMTEsMjI2LC05MCwtMjU1LDIxMCwtNjEsLTIzNSwxOTIsLTExLC0yMTcsMjE4LDU4LC0yNjksMjk5LDEyNCwtMzg2LDI3Niw3OCwtMzk5LDI4MSw0MiwxNSwzNzMsNTgsMTYsMzkzLDc1LDU0OSwxMDcsLTQ2LDQ4MSwxODgsLTY4LDQwOSwxMjAsLTQxLDU0MSw4MSwxMiwyMzAsMzY4LDQxLDE5NCwzNTAsLTUwLDIyNCwzNjEsLTUwLDYwNCwtMjgsLTEwLDYwMiwtMjcsMzUsNDg2LDU2LC0xMjEsNTAyLDY5LC0xMjAsNDU3LC0yNywtMTEwLDIyNiwzMTcsLTQwLC01ODQsLTI4LC0xMjQsNDM5LC0yNiwtMzAsNDY3LC0yNiwzOSw1NDcsLTI3LC0xNDYsMjEsMzY4LDE0LDQ2NiwyMjksLTI5LDU3OCwtMjcsNDQsNjA5LC0yNywtOTYsMjkxLDM1NiwtMTUsMjkwLDMwNiwzNCwyNTUsMzIxLDI4LDIzMSwzMTEsLTUsLTI1MSwzODYsNTAsLTE4MywzMDcsODcsLTE1MiwzMDcsMjQsLTI2NCwzNzMsLTEyLC0zOTIsLTI3LDE5MCwtMzMzLC0yOCw4NCwtMjgxLC0yNyw1NCwtMjcwLC0yOCwtMjMsLTMwOCwtMjgsLTEwMSwtNjg3LC0yNywtNTksMzksNDE4LDM5LDQxMywxNjMsMjUsNDA0LDIwNiwtOTAsNTQsNDAwLC0zMSwxMjEsMzUyLDgsLTQ1NCw0MSwxNDgsLTQyNiw5LDE4MiwtNTY0LDExNSwzLC00MjcsMjcsLTEwNywtNTQ4LDExOCwtMzIsLTU1NiwxMjIsLTUzLC01MTcsOTEsLTEwMSwtNDc1LDU0LDE0MCwtNDYxLDUyLC0xMzQsLTU1OCwxMTksLTcxLC00MzQsMjg2LDU5LC02ODcsLTMxLDUyLC01OTUsMTQ2LDIyLC02NzAsLTI4LDE2NCwtNTM3LDE2NiwxMjIsLTU3NSwtMjgsMjE3LC01NjYsMTU5LDY1LC00NzAsMTUyLDEzNiwtNzEyLC0yOSwxMDIsLTYzOSwtMjksMjExLC01MzIsLTMwLDE4MSwtNDQyLC0zMCwtMTAwXSxcbiAgICAgICAgICBmYWNlczogWzc2LDEwNCwxNjIsMSwxNzYsMTAzLDEwMyw3NiwxLDIsMTE5LDczLDczLDEwNSwyLDIsMTE4LDE1Miw0NSwxNjEsNDYsNDYsMTA5LDQ1LDMsMTIwLDQ5LDQ5LDY4LDMsMywxMjEsMTM5LDEzOSw0OCwzLDQsMTIyLDk0LDk0LDEyMSw0LDYsMTIzLDEyNCw5LDE3NSw4MSwxMCwxNjksMTExLDEwLDY3LDkyLDg4LDQzLDE0NiwxMSwxMzEsMTE0LDExLDEyOCwxODMsMTMsMTMwLDE1LDkwLDE4NCwxNzQsOTAsMTgyLDE4NCwxMzAsMTg0LDYzLDE0LDEzMCw2MywxNSwxMzAsMTQsMTYsMTMxLDEyLDE1LDE2OCw1MywxOCw5MSwxNywxMzEsMTYsMTcsNjUsMTMzLDEzMiw2NSwxMzIsOTEsNjcsMTM0LDE2NiwxNjYsOTIsNjcsMjAsMTM1LDkyLDIwLDE2Niw0LDQsMTIxLDIwLDIyLDEzNSw2OCwyNSwxMDIsOTYsMjUsMTU3LDEwMiw2OSwxMzgsMTU3LDY5LDE1NywyNSwzOSwxNTAsNzEsNzEsMTQxLDM5LDI4LDE1MCwxNDksMTQ5LDcyLDI4LDE0MiwxNzYsMTA1LDM2LDE0MCwyNywyNywxNDMsMzYsMzIsMTE1LDgxLDMyLDE0NCwxNjEsMTYxLDgwLDMyLDc3LDM1LDE0NCwzNCwyNiw3Nyw3OCwxNzksOTYsMTQ1LDE1Miw3OCwxNzgsNzksMTQ1LDgwLDE0Niw3OSwxNDcsMTQwLDM2LDE0MywxMDgsMzYsMTQzLDM3LDE0OCw3NCw5NSwxNTQsMTU0LDgzLDc0LDcyLDE0OSwxNTEsMTUxLDk1LDcyLDM4LDE1MCwxNTYsNDAsMTQ3LDEwNiw3MCwxNDAsNDAsNDAsMTE2LDcwLDQyLDE2MiwwLDM1LDE2MywxNjIsNDMsMTQ1LDE0Niw0NiwxMTcsNDEsNDcsMTU4LDI3LDQ4LDEzOSwxNzUsMTIyLDEzOCw5NCwxNTcsMTM4LDEyMyw1MiwxNzgsMTAyLDUyLDEwMiw2LDUyLDEyNCw3LDcsMTAwLDUyLDUzLDEyNSw4LDU3LDkzLDE4MSw1NiwxNjksMTgxLDU5LDEyNyw1OCw2MCwxNzMsNjEsNjIsMTI4LDExLDExLDExMiw2Miw2NSw5MSwxNjcsNjUsMTY3LDY2LDEyNiw5MywyMSwyMiw2OCw0OSw3Miw5NSwyOSwxNDIsMjksNzQsNzQsODIsMTQyLDc1LDEwNyw5Nyw3NSw5NywxMDMsNzYsOTcsMzcsMTA0LDE0MywzMSw3OCwxNTIsMTY0LDc4LDE2NCwxNzksNzksMTc4LDgsOTcsMTU1LDE1OSwxMDcsOTgsMTU1LDgzLDk4LDgyLDE1NCw5NSw4NCwzOSwxMTYsODYsODYsMTU2LDM5LDg3LDE2MCwxMTYsMjQsMTQ1LDk2LDE2MiwxMDQsMCwxMDUsMTE4LDIsNDMsMTc3LDExOSw0NCwxNzcsNDMsOTEsNTEsMTY3LDQ0LDg4LDEwOSw0NiwxNjEsMTE3LDMsNjgsMTIxLDMsNDgsMTIwLDQsMTY2LDUwLDUwLDEyMiw0LDUsMTIzLDEyMiwxMjMsMTM4LDEyMiwxMTAsMTI0LDUxLDE3MCwxMCwxMTEsMTEwLDkxLDcsNywxMjQsMTEwLDgsMTI1LDksOSw4MSw4LDE4NiwxMiwxODgsOTIsMTM1LDEwLDExLDExNCwxMTIsNjQsNjMsMTM3LDEzLDE1LDg5LDg5LDUzLDEwMCw2NCwxNjgsMTQsMTQsMTY4LDE1LDg5LDEwMCwxNiwxNiwxMiw4OSwxMDAsMTgsMTYsMTcsOTEsMTMyLDExMiwxOSw2MSwxOCw3LDkxLDE5LDE3LDEzMiwxMzMsMTI3LDU5LDEzMyw1OSw2MSwxMzYsMjEsMjIsMTM0LDEyNywxMzMsMjAsOTIsMTY2LDEyMSwxMzUsMjAsMTU4LDMxLDI3LDIxLDEzNSwyMiwyMywxMzcsMTM2LDI0LDEwMiwxNzgsMTc4LDE0NSwyNCwyNSwxNzksNjksMjYsOTQsMTM4LDI3LDE0MCw3MCwyNyw3MCwxNDEsMTUwLDE3Nyw3MSwyOCwxNzcsMTUwLDI5LDE0Miw3Myw3MywxMTksMjksMTQyLDgyLDMwLDMwLDE3NiwxNDIsMTA3LDc1LDgyLDMxLDE0MywyNywzMyw4MSwxNzUsMzEsNDEsMTA0LDExNSw3OSw4LDMyLDMzLDE0NCw4MCwxMTUsMzIsMzMsMTc1LDEzOSwzNSwxNjIsNDIsNzcsMTM5LDM0LDE2MywyNiwxNzksMTYzLDE3OSwxNjQsNzgsOTYsMTQ1LDE3NywyOSwxMTksMTA4LDE0MywxNDgsMTQ4LDM3LDE1OSw5NywxNTksMzcsNzQsODMsODIsMzgsMTQ5LDE1MCwxNTYsMTUwLDM5LDQwLDEwNiw4Nyw4NywxMTYsNDAsMTQwLDE0Nyw0MCwxNjEsMTQ0LDQyLDQyLDExNywxNjEsNDEsMCwxMDQsNDEsMTE3LDAsMCwxMTcsNDIsMTY0LDExOCwxNjMsMSwxNjMsMTE4LDExOCwxNzYsMSwxMTgsMTA1LDE3NiwxNTIsMTE4LDE2NCw0MywxNTIsMTQ1LDQzLDExOSwyLDcxLDEwOSwxNDEsNDcsNDEsMTU4LDQ0LDcxLDE3Nyw0NSwxMDksODgsNDUsODgsMTQ2LDQ2LDQ3LDEwOSwxNDEsNDcsMjcsMTY3LDUwLDE2Niw0OSwxMjAsMTY1LDEzOSwxMjEsOTQsNSwxMjIsNTAsMTIzLDUxLDEyNCwxNTcsNiwxMDIsMTU3LDEyMyw2LDEwMCw4LDE3OCw1LDE2Nyw1MSw2LDEyNCw1MiwxMDAsMTc4LDUyLDUzLDE2OCwxMjUsMTI1LDE2NSwxMjAsNTQsMTI1LDE2OCw5LDQ4LDE3NSwxMjAsOSwxMjUsOTMsMTAsMTM1LDE4MSwxMDEsNTYsNTcsMTY5LDEwLDU5LDE3Miw2MSw2NywxNzAsMTcxLDY3LDE3MSwxMjcsNTgsMTI3LDE3MSwxMjksMTg2LDExMyw2MCw2MSwxNzIsNjEsMTczLDExMiw2MiwxMTIsMTczLDE3NCwxODksMTI5LDE2NSw2NCwyMyw2NCwxMzcsMjMsMTY1LDIyLDQ5LDY0LDU0LDE2OCwxNywxMTQsMTMxLDE3LDExMiwxMTQsNjYsMTMzLDY1LDE5LDEzMiwxMzMsMTksMTMzLDYxLDEzNCwxMzMsNjYsMTY2LDEzNCw2NiwxNjYsNjYsMTY3LDkzLDEzNSwyMSw2OCwxMzUsMTIxLDIzLDEzNiwyMiw5NCwzNCwxMzksMjUsOTYsMTc5LDI2LDEzOCw2OSw2OSwxNzksMjYsMzAsMTAzLDE3NiwxMTYsMTQxLDcwLDM5LDE0MSwxMTYsNzMsMTQyLDEwNSwxNDMsNzYsMzcsMjYsMzUsNzcsMTAzLDk3LDc2LDc3LDE0NCwzMywzMywxMzksNzcsMzgsMTUxLDE0OSw4MCwxNjEsNDUsODAsNDUsMTQ2LDgxLDExNSw4LDEwNywxNTUsOTcsODIsOTgsMTA3LDk1LDE1MSw4NCwzOCwxNTYsODUsODYsMTE2LDE2MCw5NiwxMDIsMjQsNzIsMjksMjgsMjksOTUsNzQsNzUsMzAsODIsMTA4LDE0NywzNiw4OCw0NCw0Myw5MSwxMTAsNTEsMTcwLDY3LDEwLDExLDE4MywxMzEsNjQsMTQsNjMsODksMTUsNTMsMTAwLDcsMTgsMTEyLDE3LDE5LDEyNywxMzQsNjcsMTM2LDEyNiwyMSwxNTgsNDEsMzEsMzMsMzIsODEsMTE1LDgwLDc5LDE3NywyOCwyOSw0MywyLDE1Miw3MSw0NCwxMDksNDcsNDYsNDEsMTQxLDEwOSw0NywxNjcsNSw1MCwxMjMsNSw1MSwxMDAsNTMsOCwxMjUsNTQsMTY1LDksMTIwLDQ4LDkzLDU3LDEwLDU5LDU4LDE3MiwxNzQsMTg1LDE4OSwxNjUsNTQsNjQsMTY1LDIzLDIyLDk0LDI2LDM0LDMwLDc1LDEwMywxNDMsMTA0LDc2LDI2LDE2MywzNSwzOCw4NSwxNTEsMTkyLDE4MiwxOTEsMTgzLDEyOCwyMDEsMTIsMTMsODksMTgxLDE2OSw1NywxODYsMTUzLDExMywxODgsMTgzLDk5LDE4NCwxODIsNjMsMTg1LDEzLDE4OSwxODAsMTgxLDkzLDE4Niw5OSwxNTMsMTg5LDE4NiwxMjksMTg1LDE4NCwxMzAsMTg2LDEzLDEyLDE4Nyw5MywxMjYsMTkzLDE5OSwxOTQsMTk0LDE5NiwxOTMsMjAwLDE4NywxOTUsMTg3LDE5NywxOTUsMTg3LDEyNiwxOTcsMTk3LDE5MCwxOTQsMTkwLDEzNiwxMzcsMTkwLDE5NiwxOTQsNjMsMTgyLDE5Miw2MywxOTIsMTk2LDE5MiwxOTgsMTk2LDE5MSwxODIsNTUsMTkzLDE5NiwxOTgsMTk0LDE5OSwxOTcsMTk1LDE5NywxOTksMTM2LDE5NywxMjYsMTkwLDEzNyw2MywxOTAsNjMsMTk2LDE5NywxMzYsMTkwLDE5MiwxOTEsMTk4LDIwMSw5OSwxODMsOTAsNTUsMTgyLDE4MSwxODAsMTAxLDE4NSwxMzAsMTMsMTg2LDE4OCw5OSwxODYsMTg5LDEzLDE4NywxODAsOTMsMjAwLDEwMSwxODcsMTgzLDE4OCwxMzEsMTg0LDE4NSwxNzQsMTgwLDE4NywxMDEsMTYsMTgsMTcsMTIsMTMxLDE4OCwzNSw0MiwxNDQsMTYzLDEsMTYyLDc2LDE2MiwxLDc5LDE0NiwxNDVdXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICAnc3RvbmVzJzogW1xuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogJ21lc2gnLFxuICAgICAgICAgIHZlcnRpY2VzOiBbLTM3NiwxODksNDIsMjMwLDIyMywtMzEwLDM1MywxNjIsLTYyLDQxNCwtMjMsLTY3LDI1Niw5MCwtNDc1LDI0LDg1LC01MjYsLTQxOCwtMTYsNTcsLTQzMiw2NiwtNDAsLTE5OSwxNTEsLTM3NiwtMTU1LDQ5LDQ2NywtOTEsMjg5LDIwMSwyOTMsMTk3LDkxLDgxLC0xNywtNDgwLDQyLDEwOCw0MzEsLTM1OSwtMTcsLTI1MCwzODMsLTE5LC0yNDMsMTk0LC0xNSwyNzAsLTI3MiwxODAsMjkzLC04NiwyMTIsMjYyLDIzNCw1NCwyOTcsMzk1LDk3LC0zMDIsLTEyMywtMjEsLTQ0NCwtNDE2LC0xOSwtMTIzLC0zMjMsLTE4LDI2NywtMTAwLC0xNiw0MjksLTMwMCw5NiwtMzYxLDE2MywtMTksNDA5LDExOCwyMDEsLTQzMSwtMjQxLC0xOCwzOTEsLTEzMCwyNzQsLTMwOSwzMDYsLTE5LC0zOTksLTIyMSw5Niw0MDRdLFxuICAgICAgICAgIGZhY2VzOiBbMzEsMTgsMTcsMCwxNywxOCwzLDIwLDIsMTgsMTEsMTAsMjksMjcsOCwyNywyOSwxLDAsMTgsMTAsMTAsMjksMCwxNiwxOSwyNiwxMSwyLDEsMjAsMzAsNCwyMCwzLDE1LDMwLDEyLDQsNCwxMiw1LDUsMjcsNCw0LDI3LDIwLDIxLDI1LDUsNyw4LDI1LDIyLDcsMTQsNywyNSwxNCwyMywyOCwzMSwwLDcsMTcsMjQsMjYsOSwzMSwyOCw5LDgsMjcsNSwyLDIwLDEsMTMsMTksMTgsMTAsMTEsMSwxOSwxMywyNiwzLDExLDE5LDE5LDE2LDMsMTEsMywyLDExLDE4LDE5LDIwLDE1LDMwLDI5LDEwLDEsMjUsMjEsMTQsOCw1LDI1LDUsMTIsMjEsNiw3LDIyLDcsNiwyMyw4LDAsMjksOCw3LDAsMjMsMzEsNywxMywzMSw5LDE4LDMxLDEzLDksMjgsMjQsMjYsMTMsOSwyNywxLDIwLDcsMzEsMTddXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiAnbWVzaCcsXG4gICAgICAgICAgdmVydGljZXM6IFstMjE3LDM0LC0xNTMsMTk4LDkwLDIwLDIxMiw4NSwxNjksLTEzMSw5MywxNzEsMTk3LDExMywzMCwxNzMsMTIxLDE2NCwzMTUsMjksLTE2LDIxOSwyNCwxODksMjgyLDUwLC0xMDIsMjMyLDM4LC0xODEsLTE5NSwtOSwtMTY2LC0xNTYsMzAsLTIwNywtNTEsLTksLTIzMSwtMTgwLDkxLC0xNzMsLTE5LDczLC0yMDQsLTI4MCwyMyw5NiwtMjQyLDEwMCwxMDcsMywxNTgsLTgyLDEwOSw4OCwyMjEsMjc1LC0xMCwtNDAsMjM2LC0xMCwtMTM1LC0xNzgsNDksMTg0LC0xLC0xMCwtMjQzLDI2NSwtMTEsMTA5LC0xMiwtOSwyMzcsLTM2LDQ2LDI1MSwtMjMzLDg2LC04MSw5Myw3NywtMTcxLC0xNjMsMTMzLDY5LDE4LDE2LDI2MywyOTYsNDQsOTMsMTMxLC0xMiwtMjI2LC04OSwtMTAsLTIwMSwtMjczLC0xMCwtNTEsLTI0MCwtOSwxMTAsMTkwLC0xMiwxOTIsLTI1MywtMTEsLTkyLDQyLDQzLC0yNTgsLTExNSwtMTEsMjM4LDE2OCw5OSwtODgsLTI4NSwtMTAsMjQsNzEsMTI0LC0xNTgsMjk4LC0xMCwxMCwxMTYsMTUwLC0yNCwtMjgyLDQ0LDM5XSxcbiAgICAgICAgICBmYWNlczogWzQ0LDE2LDI2LDEzLDI2LDE2LDAsMjYsMTMsMjcsMTQsNDEsNCw1LDEsNywzMCwyLDI4LDUsNDMsNDEsMzksMjcsMTcsNDMsNDEsNDMsNCwzOSwxMywyOCwxNywxNyw0MSwxMywyOCw0MywxNywyNCwyOSwzOCwyOSwzNSw3LDE4LDI1LDI5LDUsMTgsMiwxOCw1LDMsMzAsNDIsNiwzMCwzNSwyMywxOSwyMCw4LDgsMjAsOSw5LDM5LDgsMSwzMCw4LDMxLDM3LDksMTEsMTQsMzcsMTQsMjcsMzcsMzIsMTEsMTIsMTEsMzcsMTIsMTEsMCwxMywzMyw0MCw0NCw0NCwyNiwzMywzMywwLDM2LDM0LDM4LDE1LDQ0LDQwLDE1LDIxLDMsMTYsMjcsMzksOSwyLDMwLDEsMjEsMjUsMywxNiwzLDI4LDI4LDMsNSw0LDQzLDUsNDEsNDMsMzksMTMsMTYsMjgsMjUsMjEsMzgsMzgsMjksMjUsNywxOCwyOSwyOSwyNCwzNSwxOCw3LDIsMTgsMywyNSwzMCwyMyw0MiwzMCw3LDM1LDgsMzAsNiw2LDE5LDgsNiw0MiwxOSw4LDM5LDEsMzcsMzEsMjIsMjcsOSwzNyw5LDIwLDMxLDEwLDExLDMyLDExLDEwLDAsMTIsMzcsMjIsMTQsMTMsNDEsMTQsMTEsMTMsMzMsMjYsMCwzNiwwLDEwLDIxLDQ0LDE1LDE2LDQ0LDIxLDE1LDQwLDM0LDM4LDIxLDE1LDQsMSwzOSw1LDIsMV1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6ICdtZXNoJyxcbiAgICAgICAgICB2ZXJ0aWNlczogWy0xMDEsMTAyLDU3LDk5LDM1LDEwMiw0MCw3Miw4MCw1OSwxNCwtMTY4LC0xODYsMjIsNDUsLTE3NiwyNSwtMzAsNjYsLTcsMTQ2LDE1MywtNyw1MywtMTEwLDQ3LC05NiwtOTAsLTgsLTE0NiwxNTAsLTcsLTEyLC0yMDAsLTcsOCwtMTczLC03LC01NSw1NSw0NiwtNjAsMTI1LC03LDExMCwxMzYsMzAsLTEwLC0xNDksNTgsNjgsLTE1LDgyLC03MSw5OCwtNywtODYsLTM0LC02LC0xOTQsLTMzLC03LDE3MSwtMzYsNjUsMTM3LDM4LC04LC0xOTIsLTEwMywtOSwxNDcsLTEyLDYyLC0xNTJdLFxuICAgICAgICAgIGZhY2VzOiBbMiwxNywwLDE3LDgsMCwxNywyNCw4LDE5LDI0LDIyLDUsMTEsNCwyLDEzLDE3LDE3LDEzLDI0LDIxLDIzLDIwLDEsMiwyMSw3LDE1LDEsNywxMCwxNSw1LDksMTIsMTUsMTgsMTMsMCw1LDE2LDAsOCw1LDEsMTUsMiwxMCwxOCwxNSwzLDEzLDE4LDI0LDMsMjIsMTEsMjMsNCw0LDE2LDUsMTYsNCwyMywyNCwxMywzLDE1LDEzLDIsNiwxLDIxLDYsMjEsMjAsNiwxNCwxLDIsMCwyMSwxLDE0LDcsMywxOCwyMiw4LDI0LDE5LDgsMTksOSwxMiwxMSw1LDUsOCw5LDE2LDIzLDIxLDE2LDIxLDBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiAnbWVzaCcsXG4gICAgICAgICAgdmVydGljZXM6IFs4Niw1NSwtMTgsNTgsMzgsNzMsOTcsLTEyLDc5LDEzNSw3LDEwLC05MywtMTEsLTcyLC0xMzMsNSwzMywxMyw2OCwtMzIsOTQsLTExLC01NywtOTAsNTIsNTMsLTI0LC0xMSwtMTA2LC0xMywtMTAsMTA0LC03NSw0OSwtNjksLTEyLDE4LDExNCw0OSwtMTIsLTk2LC00NiwtMTEsLTg1LC0xMTksLTExLC0yNiw0OCw1LC0xMTEsLTU4LC0xMSwxMDUsLTExNywtMTIsNTIsLTUsMzUsLTkzLDEyMywtMTEsN10sXG4gICAgICAgICAgZmFjZXM6IFs1LDgsMTEsMiwzLDEsOCwxLDYsMTEsOCw2LDYsMTksMTEsMTAsMTIsMTcsMjAsNywzLDMsNywxNiwxNiwwLDMsMTYsOSwxOSwxNCw0LDksMTUsMTgsNSw1LDExLDE1LDE4LDE3LDUsMTksMCwxNiwxLDMsMCwwLDYsMSwxOSw2LDAsMTIsOCwxNywyLDEsMTIsMTIsMTAsMiwxLDgsMTIsMywyLDIwLDE2LDEzLDksMTYsNywxMywxOSw0LDExLDE1LDExLDQsMTcsOCw1LDksNCwxOV1cbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgICd0b3JpaSc6IFtcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6ICdtZXNoJyxcbiAgICAgICAgICBtaXJyb3I6IHRydWUsXG4gICAgICAgICAgZmxhdFNoYWRpbmc6IHRydWUsXG4gICAgICAgICAgdmVydGljZXM6IFs2OTIsOTY2LC01Miw2NjEsODM0LC01Miw2OTIsOTY2LDUyLDY2MSw4MzQsNTIsMCw4OTQsLTUyLDAsNzc2LC01MiwwLDg5NCw1MiwwLDc3Niw1Miw1MTgsOTM1LDUyLDM0NSw5MTMsNTIsMTcwLDg5OSw1MiwxNjIsNzc5LDUyLDMyOCw3OTAsNTIsNDk0LDgwOCw1MiwxNzAsODk5LC01MiwzNDUsOTEzLC01Miw1MTgsOTM1LC01Miw0OTQsODA4LC01MiwzMjgsNzkwLC01MiwxNjIsNzc5LC01MiwwLDYxOCwxNiwwLDY5NywxNiwwLDYxOCwtMTYsMCw2OTcsLTE2LDU4Niw2MTgsMTYsNTg2LDY5NywxNiw1ODYsNjE4LC0xNiw1ODYsNjk3LC0xNiwzMzEsLTI5LC03NSwzMzEsNzY2LC01MiwzNjksLTI5LC02NSwzNTcsNzY2LC00NSwzOTYsLTI5LC0zNywzNzcsNzY2LC0yNiw0MDYsLTI5LDAsMzg0LDc2NiwwLDM5NiwtMjksMzcsMzc3LDc2NiwyNiwzNjksLTI5LDY1LDM1Nyw3NjYsNDUsMzMxLC0yOSw3NSwzMzEsNzY2LDUyLDI5NCwtMjksNjUsMzA1LDc2Niw0NSwyNjcsLTI5LDM3LDI4Niw3NjYsMjYsMjU3LC0yOSwwLDI3OSw3NjYsMCwyNjcsLTI5LC0zNywyODYsNzY2LC0yNiwyOTQsLTI5LC02NSwzMDUsNzY2LC00NSwwLDc3Nyw4NSwwLDY4MSwzMywzMzMsNzYyLC03NSwzMzMsODA2LC03NSwzNzEsNzYyLC02NSwzNzEsODA2LC02NSwzOTgsNzYyLC0zNywzOTgsODA2LC0zNyw0MDgsNzYyLDAsNDA4LDgwNiwwLDM5OCw3NjIsMzcsMzk4LDgwNiwzNywzNzEsNzYyLDY1LDM3MSw4MDYsNjUsMzMzLDc2Miw3NSwzMzMsODA2LDc1LDI5Niw3NjIsNjUsMjk2LDgwNiw2NSwyNjgsNzYyLDM3LDI2OCw4MDYsMzcsMjU4LDc2MiwwLDI1OCw4MDYsMCwyNjgsNzYyLC0zNywyNjgsODA2LC0zNywyOTYsNzYyLC02NSwyOTYsODA2LC02NSwwLDY4MSwtMzMsMCw3NzcsLTg1LDUyLDY4MSwzMyw1Miw3NzcsODUsNTIsNjgxLC0zMyw1Miw3NzcsLTg1XSxcbiAgICAgICAgICBmYWNlczogWzQsMTAsMTQsMSwxMywxNywxMSw2LDcsMCwzLDEsMTYsMSwxNyw0LDE5LDUsMTQsMTgsMTksMTUsMTcsMTgsMyw4LDEzLDEzLDksMTIsMTIsMTAsMTEsMTksNyw1LDE5LDEyLDExLDE4LDEzLDEyLDE2LDIsMCwxNSw4LDE2LDE0LDksMTUsMjMsMjYsMjIsMjcsMjQsMjYsMjUsMjAsMjQsMjYsMjAsMjIsMjMsMjUsMjcsMjksMzAsMjgsMzEsMzIsMzAsMzMsMzQsMzIsMzUsMzYsMzQsMzcsMzgsMzYsMzksNDAsMzgsNDEsNDIsNDAsNDMsNDQsNDIsNDUsNDYsNDQsNDcsNDgsNDYsNDksNTAsNDgsNTEsMjgsNTAsNTUsNTYsNTQsNTcsNTgsNTYsNTksNjAsNTgsNjEsNjIsNjAsNjMsNjQsNjIsNzksODEsODMsNjUsNjYsNjQsODIsNTMsNzgsNjcsNjgsNjYsODEsNTMsODAsNjksNzAsNjgsODMsODAsODIsNzEsNzIsNzAsNzksODIsNzgsNzMsNzQsNzIsNzUsNjMsNTksNzUsNzYsNzQsNzcsNTQsNzYsNjAsNjgsNzYsNCw2LDEwLDEsMywxMywxMSwxMCw2LDAsMiwzLDE2LDAsMSw0LDE0LDE5LDE0LDE1LDE4LDE1LDE2LDE3LDMsMiw4LDEzLDgsOSwxMiw5LDEwLDE5LDExLDcsMTksMTgsMTIsMTgsMTcsMTMsMTYsOCwyLDE1LDksOCwxNCwxMCw5LDIzLDI3LDI2LDI3LDI1LDI0LDI1LDIxLDIwLDI2LDI0LDIwLDIzLDIxLDI1LDI5LDMxLDMwLDMxLDMzLDMyLDMzLDM1LDM0LDM1LDM3LDM2LDM3LDM5LDM4LDM5LDQxLDQwLDQxLDQzLDQyLDQzLDQ1LDQ0LDQ1LDQ3LDQ2LDQ3LDQ5LDQ4LDQ5LDUxLDUwLDUxLDI5LDI4LDU1LDU3LDU2LDU3LDU5LDU4LDU5LDYxLDYwLDYxLDYzLDYyLDYzLDY1LDY0LDc5LDUyLDgxLDY1LDY3LDY2LDgyLDgwLDUzLDY3LDY5LDY4LDgxLDUyLDUzLDY5LDcxLDcwLDgzLDgxLDgwLDcxLDczLDcyLDc5LDgzLDgyLDczLDc1LDc0LDU5LDU3LDU1LDU1LDc3LDc1LDc1LDczLDcxLDcxLDY5LDc1LDY3LDY1LDYzLDYzLDYxLDU5LDU5LDU1LDc1LDc1LDY5LDY3LDY3LDYzLDc1LDc1LDc3LDc2LDc3LDU1LDU0LDc2LDU0LDU2LDU2LDU4LDc2LDYwLDYyLDY4LDY0LDY2LDY4LDY4LDcwLDcyLDcyLDc0LDY4LDc2LDU4LDYwLDYyLDY0LDY4LDY4LDc0LDc2XVxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgJ2lzbGFuZHMnOltcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6ICdtZXNoJyxcbiAgICAgICAgICBmbGF0U2hhZGluZzogdHJ1ZSxcbiAgICAgICAgICB2ZXJ0aWNlczogWzAsMzgxNCwwLC0zNTgsNDk5NSw5MTAsLTk5MSw0OTk4LC00LC0yMzMsNTAzMywtODY1LDIwMCw1MjcwLDEwOTIsLTYxMCw1MTk5LC03MjYsMTE1LDczNDQsMjcyLDY1MCw0ODYwLDQwMCwxMDIxLDU2MTMsLTE5OCw2NDQsNTYyOCw3MzUsLTkyNiw1OTQ5LC02NSw3MDcsNTE4NywtNzgzLC00NzgsNTk5MSw4MzAsLTQzOCw2MzE5LC01ODUsMjIwLDYwNzUsLTc5N10sXG4gICAgICAgICAgZmFjZXM6IFswLDcsMSwwLDEsMiwwLDIsMywwLDMsMTEsMiwxLDEwLDEsNCwxMiw0LDksNiw1LDEwLDEzLDgsMTQsNiwxNCwxMyw2LDEzLDEyLDYsMTMsMTAsMTIsMTIsNCw2LDYsOSw4LDgsMTEsMTQsMywxMywxNCwzLDUsMTMsMTEsMywxNCw1LDIsMTAsMTAsMSwxMiw0LDcsOSw5LDcsOCw3LDExLDgsMywyLDUsNywwLDExLDEsNyw0XVxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgJ2dyYXNzJzogW1xuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogJ21lc2gnLFxuICAgICAgICAgIHZlcnRpY2VzOiBbLTYzLC0yMSw2OCw2NSwtMzcsMTksNTgsMjM3LDMxLDIzMSwzOTEsMTAsMTM2LDIyOCw2MSw2LC01LDksMjQsLTE0LC00LDAsMzUwLC0yNSwtNTIsLTEwLC0yOSwtODMsLTE4LDEsLTUsMzMzLDExNSwtNDYsLTE1LDc2LDEwMiwtNCw5Niw4MywyMzYsNjAsNzQsMCwyNyw2MCwxMzksNTRdLFxuICAgICAgICAgIGZhY2VzOiBbMiw0LDMsMSw0LDUsMiw1LDQsNiw4LDcsOSwxMSwxMCwxMiwxNCwxNSwxNSwxMywxMiwyLDAsNV1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6ICdtZXNoJyxcbiAgICAgICAgICB2ZXJ0aWNlczogWzkxOSwtMjEsLTYxLDgyMSwtMTgsLTk2LDg4NSwxMjgsLTg3LDc5NSwyNjQsLTE0Miw4MzYsMTE5LC0xNTQsODY1LC01LC0xNTIsNjMwLC00LDE0MCw2NDcsMjM2LDE3Nyw2NTQsMCwyMTEsNjY5LDEzOSwxODRdLFxuICAgICAgICAgIGZhY2VzOiBbMiw0LDMsMSw0LDUsMiw1LDQsNiw4LDksOSw3LDYsMiwwLDVdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiAnbWVzaCcsXG4gICAgICAgICAgdmVydGljZXM6IFsyNzQsLTEyLC01MjAsMzA1LDUyMCwtNTM2LDI3NCwtMTIsLTUzNSwyODksLTEyLC01MjgsMjc0LDI1NCwtNTIwLDI3OCwyNTQsLTUzNSwyODksMjU0LC01MjQsMjE1LDQ3NCwtNTUyLDI2OCw0OTUsLTU0MCwyNzYsNDgzLC01NTQsMzE0LDQ1MiwtNTg4LDMyOSw0NDIsLTU3MCwyNzEsNDkwLC01MTQsMzM3LDQyOSwtNjMwLDMwMyw0OTMsLTUzNSwyOTMsNDU0LC01ODQsMzAwLDQ2MSwtNTM0LDI4OSw0NDQsLTUwMywyNzcsNDM2LC01MDQsMjc0LDQzNSwtNDY5LDMxMSw0NDgsLTQ5NywyOTksNDQ2LC01MzMsMzQzLDQ0MSwtNTM0LDMyMCw0NDQsLTUxNiwzMDAsNDU3LC01MzQsMzI4LDQ2NywtNTU4LDMzMiw0NzAsLTU0MCwzMDEsNDc2LC01MzUsMzA1LDUxNiwtNTM2LDMwMyw1MzcsLTUzMywzMDgsNTQwLC01NTVdLFxuICAgICAgICAgIGZhY2VzOiBbNCwxLDUsNSwzLDIsMywxLDYsNiwxLDQsNiwwLDMsNCwyLDAsNyw4LDksOSw4LDE0LDcsMTIsOCwxMywxMCwxMSwxNCw4LDEyLDExLDEwLDE2LDEzLDE1LDEwLDE2LDEwLDE1LDE5LDE3LDE4LDE4LDE3LDIxLDE5LDIwLDE3LDIxLDE3LDIwLDIzLDIyLDI0LDI2LDI1LDI3LDI5LDI4LDMwLDUsMSwzLDYsNCwwLDQsNSwyXVxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgJ2hleGFnb25zJzogW1xuICAgICAgICB7dHlwZTogJ2V4dHJ1ZGUnLCB2ZXJ0aWNlczogWy0wLjE5OCwgLTAuMzAyLCAwLjE5NywgLTAuMywgMC4zNzIsIDAsIDAuMTk5LCAwLjI5OCwgLTAuMjAyLCAwLjI5OCwgLTAuMzY4LCAwXSB9XG4gICAgICBdLFxuICAgICAgJ3Rvd2Vycyc6IFtcbiAgICAgICAge3R5cGU6ICdleHRydWRlJywgdmVydGljZXM6ICBbLTAuMDU0LCAtMC4xNzgsIC0wLjAwNywgLTAuMTgyLCAwLjA2OSwgLTAuMDI3LCAwLjE4OSwgMC4wNzksIDAuMTc4LCAwLjEyNCwgLTAuMDA3LCAwLjA5NywgLTAuMTQ1LCAwLjE4MiwgLTAuMTc4LCAwLjE0NCwgLTAuMDc5LCAtMC4wMjFdfSxcbiAgICAgICAge3R5cGU6ICdsYXRoZScsIHNlZ21lbnRzOiA0LCB2ZXJ0aWNlczogWzAuMDA0LCAwLjAyLCAwLjAxMiwgMC4wOTIsIDAuMDQyLCAwLjE2NiwgMC4wNjcsIDAuNTUsIDAuMTAxLCAwLjU5NCwgMC4xMDUsIDAuODM4LCAwLjE5MywgMC45MzQsIDAuMTgsIDAuOTk0XX0sXG4gICAgICAgIHt0eXBlOiAnbGF0aGUnLCBzZWdtZW50czogNSwgdmVydGljZXM6IFswLjA2OSwgMC4yMTYsIDAuMDY3LCAwLjU2MiwgMC4xMjYsIDAuNTYyLCAwLjEyOCwgMC43NzQsIDAuMTkxLCAwLjc3NCwgMC4xOTMsIDAuOTg2XX1cbiAgICAgIF0sXG4gICAgICAndHJlZXMnOiBbXG4gICAgICAgIHt0eXBlOiAnbGF0aGUnLCBub2lzZTogMC4wMTUsIHNlZ21lbnRzOiA2LCB2ZXJ0aWNlczogWzAuMDAwMDAxLCAwLjgyNiwgMC4wNTQsIDAuODMyLCAwLjEwNSwgMC44NTQsIDAuMTM2LCAwLjksIDAuMTM2LCAwLjk1OCwgMC4xMTgsIDAuOTk0XX0sXG4gICAgICAgIHt0eXBlOiAnbGF0aGUnLCBub2lzZTogMC4wMTUsIHNlZ21lbnRzOiAxNCwgdmVydGljZXM6ICBbMC4wMDAwMDEsIDAuMDEsIDAuMDY5LCAwLjAyMiwgMC4xMywgMC4wNjgsIDAuMTc4LCAwLjE4LCAwLjE4OSwgMC4zMiwgMC4xOTEsIDAuNTksIDAuMTkzLCAwLjc1LCAwLjEzOCwgMC43OSwgMC4wMTgsIDAuODA4LCAwLjAxOCwgMC45OTZdfSxcbiAgICAgICAge3R5cGU6ICdsYXRoZScsIG5vaXNlOiAwLjAxNSwgc2VnbWVudHM6IDE0LCB2ZXJ0aWNlczogWzAuMDAwMDAxLCAwLjQzNiwgMC4xMjYsIDAuNDYsIDAuMjAxLCAwLjU3LCAwLjIxOSwgMC43MiwgMC4xNTQsIDAuODQ2LCAwLjAyOCwgMC44ODQsIDAuMDM0LCAwLjk5Nl19XG4gICAgICBdLFxuICAgICAgJ2FwcGFyYXR1cyc6IFtcbiAgICAgICAge3R5cGU6ICdsYXRoZScsIHNlZ21lbnRzOiAxMCwgdmVydGljZXM6IFswLjAwMDAwMSwgMC4yMywgMC4wNDIsIDAuMjMsIDAuMDY5LCAwLjM2LCAwLjAzOCwgMC4zNjIsIDAuMDM4LCAwLjM3MiwgMC4wNiwgMC4zNzIsIDAuMDczLCAwLjU3MiwgMC4wMjQsIDAuNTcyLCAwLjAyNCwgMC42NywgMC4wNjksIDAuNjcsIDAuMDc1LCAwLjcyMiwgMC4wOTcsIDAuNzI0LCAwLjEwNSwgMC44NTIsIDAuMDgzLCAwLjkwMiwgMC4wNjUsIDAuOTAyLCAwLjA2NSwgMC45MjQsIDAuMTI4LCAwLjkyNCwgMC4xNDYsIDAuOTk2XX0sXG4gICAgICAgIHt0eXBlOiAnbGF0aGUnLCBzZWdtZW50czogMTYsIHZlcnRpY2VzOiBbMC4wMDAwMDEsIDAuMjMyLCAwLjIyOSwgMC4xODIsIDAuNDg2LCAwLjA3LCAwLjM1NiwgMC4xODIsIDAuMjEzLCAwLjI0MiwgMC4xNTQsIDAuMjQyLCAwLjE0NCwgMC4yNjIsIDAuMTc4LCAwLjI2MiwgMC4xMjYsIDAuMzE0LCAwLjA0LCAwLjMyOCwgMC4wMzgsIDAuMzc0LCAwLjA1OCwgMC4zNzQsIDAuMDcxLCAwLjQwOCwgMC4wMjYsIDAuNDA2LCAwLjAzLCAwLjQyLCAwLjA5MSwgMC40MTgsIDAuMDM0LCAwLjQ5NiwgMC4wMSwgMC40OTgsIDAuMDMsIDAuNTA2LCAwLjAxNCwgMC45OThdfSxcbiAgICAgIF0sXG4gICAgICAnbXVzaHJvb21zJzogW1xuICAgICAgICB7dHlwZTogJ2xhdGhlJywgbm9pc2U6IDAuMDIsIHNlZ21lbnRzOiAxNCwgdmVydGljZXM6ICBbMC4wMDAwMDEsIDAuMDA2LCAwLjEzLCAwLjAxOCwgMC4zNDEsIDAuMDg0LCAwLjQzNywgMC4xNDQsIDAuNDkyLCAwLjIzNCwgMC40ODQsIDAuMjQ2LCAwLjI3NiwgMC4yMzIsIDAuMTA3LCAwLjI4NCwgMC4wNDYsIDAuMzQ2LCAwLjA2MiwgMC44NTIsIDAuMDk3LCAwLjk1NiwgMC4xNjYsIDAuOTk4XX0sXG4gICAgICAgIHt0eXBlOiAnbGF0aGUnLCBub2lzZTogMC4wMiwgc2VnbWVudHM6IDEwLCB2ZXJ0aWNlczogIFswLjAwMDAwMSwgMC41NjIsIDAuMDkxLCAwLjU3MiwgMC4xNzIsIDAuNjEsIDAuMjIzLCAwLjY2NiwgMC4yNTYsIDAuNzQsIDAuMjU4LCAwLjgwNiwgMC4yNDYsIDAuODI0LCAwLjA2MiwgMC44MjYsIDAuMDY1LCAwLjk0OCwgMC4wOTcsIDAuOTk4XX0sXG4gICAgICAgIHt0eXBlOiAnbGF0aGUnLCBub2lzZTogMC4wMiwgc2VnbWVudHM6IDEwLCB2ZXJ0aWNlczogIFswLjAwMDAwMSwgMC43NjgsIDAuMDk5LCAwLjc3MiwgMC4yMTksIDAuODAyLCAwLjMwNiwgMC44NDQsIDAuMzUyLCAwLjg4NiwgMC4zNTIsIDAuOTA4LCAwLjExOCwgMC45MDQsIDAuMTA3LCAwLjkzLCAwLjExNSwgMC45NjYsIDAuMTQsIDAuOTk2XX1cbiAgICAgIF1cbiAgICB9O1xuXG4gICAgLy8gc2NhbGUgZG93biBkcmVzc2luZyBtZXNoZXMgKGNvb3JkaW5hdGVzIHdlcmUgc2F2ZWQgaW4gaW50ZWdlcnMgZm9yIGJldHRlciBjb21wcmVzc2lvbilcbiAgICBmb3IgKHZhciBpIGluIHRoaXMuYXNzZXRzKXtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy5hc3NldHNbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgdmFyIGFzc2V0ID0gdGhpcy5hc3NldHNbaV1bal07XG4gICAgICAgIGlmIChhc3NldC50eXBlICE9ICdtZXNoJykgY29udGludWU7XG4gICAgICAgIGZvciAodmFyIHYgPSAwLCBsZW4gPSBhc3NldC52ZXJ0aWNlcy5sZW5ndGg7IHYgPCBsZW47IHYrKykge1xuICAgICAgICAgIGFzc2V0LnZlcnRpY2VzW3ZdIC89IDEwMDAuMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHNhdmUgY3VycmVudCBzY2VuZSBmb2dcbiAgICB0aGlzLnVzZXJGb2cgPSB0aGlzLmVsLnNjZW5lRWwuZ2V0QXR0cmlidXRlKCdmb2cnKTtcblxuICAgIC8vIGNyZWF0ZSBza3lcbiAgICB0aGlzLnNreSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Etc2t5Jyk7XG4gICAgdGhpcy5za3kuc2V0QXR0cmlidXRlKCdyYWRpdXMnLCB0aGlzLlNUQUdFX1NJWkUpO1xuICAgIHRoaXMuc2t5LnNldEF0dHJpYnV0ZSgndGhldGEtbGVuZ3RoJywgMTEwKTtcbiAgICB0aGlzLnNreS5jbGFzc0xpc3QuYWRkKCdlbnZpcm9ubWVudCcpO1xuXG4gICAgLy8gc3RhcnMgYXJlIGNyZWF0ZWQgd2hlbiBuZWVkZWRcbiAgICB0aGlzLnN0YXJzID0gbnVsbDtcblxuICAgIC8vIGNyZWF0ZSBncm91bmRcbiAgICB0aGlzLmdyb3VuZE1hdGVyaWFsID0gbnVsbDtcbiAgICB0aGlzLmdyb3VuZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EtZW50aXR5Jyk7XG4gICAgdGhpcy5ncm91bmQuc2V0QXR0cmlidXRlKCdyb3RhdGlvbicsICctOTAgMCAwJyk7XG4gICAgdGhpcy5ncm91bmQuY2xhc3NMaXN0LmFkZCgnZW52aXJvbm1lbnRHcm91bmQnKTtcbiAgICB0aGlzLmdyb3VuZC5jbGFzc0xpc3QuYWRkKCdlbnZpcm9ubWVudCcpO1xuICAgIHRoaXMuZ3JvdW5kQ2FudmFzID0gbnVsbDtcbiAgICB0aGlzLmdyb3VuZFRleHR1cmUgPSBudWxsO1xuICAgIHRoaXMuZ3JvdW5kTWF0ZXJpYWwgPSBudWxsO1xuICAgIHRoaXMuZ3JvdW5kR2VvbWV0cnkgPSBudWxsO1xuXG4gICAgdGhpcy5kcmVzc2luZzEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhLWVudGl0eScpO1xuICAgIHRoaXMuZHJlc3NpbmcxLmNsYXNzTGlzdC5hZGQoJ2Vudmlyb25tZW50RHJlc3NpbmcnKTtcbiAgICB0aGlzLmRyZXNzaW5nMS5jbGFzc0xpc3QuYWRkKCdlbnZpcm9ubWVudCcpO1xuICAgIHRoaXMuZHJlc3NpbmcyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYS1lbnRpdHknKTtcbiAgICB0aGlzLmRyZXNzaW5nMi5jbGFzc0xpc3QuYWRkKCdlbnZpcm9ubWVudERyZXNzaW5nJyk7XG4gICAgdGhpcy5kcmVzc2luZzIuY2xhc3NMaXN0LmFkZCgnZW52aXJvbm1lbnQnKTtcblxuICAgIHRoaXMuZ3JpZENhbnZhcyA9IG51bGw7XG4gICAgdGhpcy5ncmlkVGV4dHVyZSA9IG51bGw7XG5cbiAgICAvLyBjcmVhdGUgbGlnaHRzIChvbmUgYW1iaWVudCBoZW1pc3BoZXJlIGxpZ2h0LCBhbmQgb25lIGRpcmVjdGlvbmFsIGZvciB0aGUgc3VuKVxuICAgIHRoaXMuaGVtaWxpZ2h0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYS1lbnRpdHknKTtcbiAgICB0aGlzLmhlbWlsaWdodC5jbGFzc0xpc3QuYWRkKCdlbnZpcm9ubWVudCcpO1xuICAgIHRoaXMuaGVtaWxpZ2h0LnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLCAnMCA1MCAwJyk7XG4gICAgdGhpcy5oZW1pbGlnaHQuc2V0QXR0cmlidXRlKCdsaWdodCcsIHtcbiAgICAgIHR5cGU6ICdoZW1pc3BoZXJlJyxcbiAgICAgIGNvbG9yOiAnI0NFRTRGMCcsXG4gICAgICBpbnRlbnNpdHk6IDAuNFxuICAgIH0pO1xuICAgIHRoaXMuc3VubGlnaHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhLWVudGl0eScpO1xuICAgIHRoaXMuc3VubGlnaHQuY2xhc3NMaXN0LmFkZCgnZW52aXJvbm1lbnQnKTtcbiAgICB0aGlzLnN1bmxpZ2h0LnNldEF0dHJpYnV0ZSgncG9zaXRpb24nLCB0aGlzLmRhdGEubGlnaHRQb3NpdGlvbik7XG4gICAgdGhpcy5zdW5saWdodC5zZXRBdHRyaWJ1dGUoJ2xpZ2h0Jywge2ludGVuc2l0eTogMC42fSk7XG5cbiAgICAvLyBhZGQgZXZlcnl0aGluZyB0byB0aGUgc2NlbmVcbiAgICB0aGlzLmVsLmFwcGVuZENoaWxkKHRoaXMuaGVtaWxpZ2h0KTtcbiAgICB0aGlzLmVsLmFwcGVuZENoaWxkKHRoaXMuc3VubGlnaHQpO1xuICAgIHRoaXMuZWwuYXBwZW5kQ2hpbGQodGhpcy5ncm91bmQpO1xuICAgIHRoaXMuZWwuYXBwZW5kQ2hpbGQodGhpcy5kcmVzc2luZzEpO1xuICAgIHRoaXMuZWwuYXBwZW5kQ2hpbGQodGhpcy5kcmVzc2luZzIpO1xuICAgIHRoaXMuZWwuYXBwZW5kQ2hpbGQodGhpcy5za3kpO1xuICB9LFxuXG4gIC8vIHJldHVybnMgYSBmb2cgY29sb3IgZnJvbSBhIHNwZWNpZmljIHNreSB0eXBlIGFuZCBzdW4gaGVpZ2h0XG4gIGdldEZvZ0NvbG9yOiBmdW5jdGlvbiAoc2t5VHlwZSwgc3VuSGVpZ2h0KSB7XG5cbiAgICB2YXIgZm9nQ29sb3I7XG4gICAgaWYgKHNreVR5cGUgPT0gJ2NvbG9yJyB8fCBza3lUeXBlID09ICdub25lJyl7XG4gICAgICBmb2dDb2xvciA9IG5ldyBUSFJFRS5Db2xvcih0aGlzLmRhdGEuc2t5Q29sb3IpLCB0aGlzLnJhbmRvbTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2t5VHlwZSA9PSAnZ3JhZGllbnQnKXtcbiAgICAgIGZvZ0NvbG9yID0gbmV3IFRIUkVFLkNvbG9yKHRoaXMuZGF0YS5ob3Jpem9uQ29sb3IpLCB0aGlzLnJhbmRvbTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2t5VHlwZSA9PSAnYXRtb3NwaGVyZScpXG4gICAge1xuICAgICAgdmFyIGZvZ1JhdGlvcyA9IFsgICAgICAgIDEsICAgICAgIDAuNSwgICAgICAwLjIyLCAgICAgICAwLjEsICAgICAgMC4wNSwgICAgIDBdO1xuICAgICAgdmFyIGZvZ0NvbG9ycyA9IFsnI0MwQ0RDRicsICcjODFBREM1JywgJyM1MjVlNjInLCAnIzJhMmQyZCcsICcjMTQxNjE2JywgJyMwMDAnXTtcblxuICAgICAgaWYgKHN1bkhlaWdodCA8PSAwKSByZXR1cm4gJyMwMDAnO1xuXG4gICAgICBzdW5IZWlnaHQgPSBNYXRoLm1pbigxLCBzdW5IZWlnaHQpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZvZ1JhdGlvcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGlmIChzdW5IZWlnaHQgPiBmb2dSYXRpb3NbaV0pe1xuICAgICAgICAgIHZhciBjMSA9IHZhcnlDb2xvcihuZXcgVEhSRUUuQ29sb3IoZm9nQ29sb3JzW2kgLSAxXSksIHRoaXMucmFuZG9tLCB0aGlzLmRhdGEudmFyeUNvbG9yKTtcbiAgICAgICAgICB2YXIgYzIgPSB2YXJ5Q29sb3IobmV3IFRIUkVFLkNvbG9yKGZvZ0NvbG9yc1tpXSksIHRoaXMucmFuZG9tLCB0aGlzLmRhdGEudmFyeUNvbG9yKTtcbiAgICAgICAgICB2YXIgYSA9IChzdW5IZWlnaHQgLSBmb2dSYXRpb3NbaV0pIC8gKGZvZ1JhdGlvc1tpIC0gMV0gLSBmb2dSYXRpb3NbaV0pO1xuICAgICAgICAgIGMyLmxlcnAoYzEsIGEpO1xuICAgICAgICAgIGZvZ0NvbG9yID0gYzI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLy8gZGltIGRvd24gdGhlIGNvbG9yXG4gICAgZm9nQ29sb3IubXVsdGlwbHlTY2FsYXIoMC45KTtcbiAgICAvLyBtaXggaXQgYSBiaXQgd2l0aCBncm91bmQgY29sb3JcbiAgICBmb2dDb2xvci5sZXJwKG5ldyBUSFJFRS5Db2xvcih0aGlzLmRhdGEuZ3JvdW5kQ29sb3IpLCAwLjMpO1xuXG4gICAgcmV0dXJuICcjJyArIGZvZ0NvbG9yLmdldEhleFN0cmluZygpO1xuICB9LFxuXG4gIHVwZGF0ZTogZnVuY3Rpb24gKG9sZERhdGEpIHtcbiAgICAvLyBwcmVzZXQgY2hhbmdlZFxuICAgIGlmICghb2xkRGF0YSB8fCAob2xkRGF0YS5wcmVzZXQgPT09IHVuZGVmaW5lZCB8fCBvbGREYXRhLnByZXNldCAhPT0gdGhpcy5kYXRhLnByZXNldCkpIHtcbiAgICAgIHZhciBuZXdEYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5wcmVzZXRzW3RoaXMuZGF0YS5wcmVzZXRdKTtcbiAgICAgIGlmICghb2xkRGF0YSB8fCBvbGREYXRhLnByZXNldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24obmV3RGF0YSwgdGhpcy5lbC5jb21wb25lbnRzLmVudmlyb25tZW50LmF0dHJWYWx1ZSk7XG4gICAgICB9XG4gICAgICB0aGlzLmVsLnNldEF0dHJpYnV0ZSgnZW52aXJvbm1lbnQnLCBuZXdEYXRhKTtcbiAgICAgIGlmIChvbGREYXRhKSB7IHJldHVybjsgfSBlbHNlIHsgb2xkRGF0YSA9IHt9OyB9XG4gICAgfVxuXG4gICAgdGhpcy5zZWVkID0gKHRoaXMuZGF0YS5zZWVkICsgJycpLnNwbGl0KCcnKS5tYXAoKHgsIGkpID0+ICcnKyhpKzIpK3gpLnJlZHVjZSgoYSxiKSA9PiBhICsgcGFyc2VJbnQoYikgKiBiLmNoYXJDb2RlQXQoMSksIDApO1xuXG4gICAgdmFyIHNreVR5cGUgPSB0aGlzLmRhdGEuc2t5VHlwZTtcbiAgICB2YXIgc3VuUG9zID0gbmV3IFRIUkVFLlZlY3RvcjModGhpcy5kYXRhLmxpZ2h0UG9zaXRpb24ueCwgdGhpcy5kYXRhLmxpZ2h0UG9zaXRpb24ueSwgdGhpcy5kYXRhLmxpZ2h0UG9zaXRpb24ueik7XG4gICAgc3VuUG9zLm5vcm1hbGl6ZSgpO1xuXG4gICAgLy8gdXBkYXRlIGxpZ2h0IGNvbG9ycyBhbmQgaW50ZW5zaXRpZXNcbiAgICBpZiAodGhpcy5zdW5saWdodCkge1xuICAgICAgdGhpcy5zdW5saWdodC5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJywgdGhpcy5kYXRhLmxpZ2h0UG9zaXRpb24pO1xuICAgICAgaWYgKHNreVR5cGUgIT0gJ2F0bW9zcGhlcmUnKSB7XG4gICAgICAgIC8vIGRpbSBkb3duIHRoZSBza3kgY29sb3IgZm9yIHRoZSBsaWdodFxuICAgICAgICB2YXIgc2t5Y29sID0gbmV3IFRIUkVFLkNvbG9yKHRoaXMuZGF0YS5za3lDb2xvcik7XG4gICAgICAgIHNreWNvbC5yID0gKHNreWNvbC5yICsgMS4wKSAvIDIuMDtcbiAgICAgICAgc2t5Y29sLmcgPSAoc2t5Y29sLmcgKyAxLjApIC8gMi4wO1xuICAgICAgICBza3ljb2wuYiA9IChza3ljb2wuYiArIDEuMCkgLyAyLjA7XG4gICAgICAgIHRoaXMuaGVtaWxpZ2h0LnNldEF0dHJpYnV0ZSgnbGlnaHQnLCB7J2NvbG9yJzogJyMnICsgc2t5Y29sLmdldEhleFN0cmluZygpfSk7XG4gICAgICAgIHRoaXMuc3VubGlnaHQuc2V0QXR0cmlidXRlKCdsaWdodCcsIHsnaW50ZW5zaXR5JzogMC42fSk7XG4gICAgICAgIHRoaXMuaGVtaWxpZ2h0LnNldEF0dHJpYnV0ZSgnbGlnaHQnLCB7J2ludGVuc2l0eSc6IDAuNn0pO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuc3VubGlnaHQuc2V0QXR0cmlidXRlKCdsaWdodCcsIHsnaW50ZW5zaXR5JzogMC4xICsgc3VuUG9zLnkgKiAwLjV9KTtcbiAgICAgICAgdGhpcy5oZW1pbGlnaHQuc2V0QXR0cmlidXRlKCdsaWdodCcsIHsnaW50ZW5zaXR5JzogMC4xICsgc3VuUG9zLnkgKiAwLjV9KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zdW5saWdodC5zZXRBdHRyaWJ1dGUoJ2xpZ2h0Jywge1xuICAgICAgICBjYXN0U2hhZG93OiB0aGlzLmRhdGEuc2hhZG93LFxuICAgICAgICBzaGFkb3dDYW1lcmFMZWZ0OiAtdGhpcy5kYXRhLnNoYWRvd1NpemUsXG4gICAgICAgIHNoYWRvd0NhbWVyYUJvdHRvbTogLXRoaXMuZGF0YS5zaGFkb3dTaXplLFxuICAgICAgICBzaGFkb3dDYW1lcmFSaWdodDogdGhpcy5kYXRhLnNoYWRvd1NpemUsXG4gICAgICAgIHNoYWRvd0NhbWVyYVRvcDogdGhpcy5kYXRhLnNoYWRvd1NpemVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIHVwZGF0ZSBza3kgY29sb3JzXG4gICAgaWYgKHNreVR5cGUgIT0gb2xkRGF0YS5za3lUeXBlIHx8XG4gICAgICB0aGlzLmRhdGEuc2t5Q29sb3IgIT0gb2xkRGF0YS5za3lDb2xvciB8fFxuICAgICAgdGhpcy5kYXRhLmhvcml6b25Db2xvciAhPSBvbGREYXRhLmhvcml6b25Db2xvcikge1xuXG4gICAgICB0aGlzLnNreS5yZW1vdmVBdHRyaWJ1dGUoJ21hdGVyaWFsJyk7XG5cbiAgICAgIHZhciBtYXQgPSB7fTtcbiAgICAgIG1hdC5zaGFkZXIgPSB7J25vbmUnOiAnZmxhdCcsICdjb2xvcic6ICdmbGF0JywgJ2dyYWRpZW50JzogJ2dyYWRpZW50c2hhZGVyJywgJ2F0bW9zcGhlcmUnOiAnc2t5c2hhZGVyJ31bc2t5VHlwZV07XG4gICAgICBpZiAodGhpcy5zdGFycykge1xuICAgICAgICB0aGlzLnN0YXJzLnNldEF0dHJpYnV0ZSgndmlzaWJsZScsIHNreVR5cGUgPT0gJ2F0bW9zcGhlcmUnKTtcbiAgICAgIH1cbiAgICAgIGlmIChza3lUeXBlID09ICdjb2xvcicpIHtcbiAgICAgICAgbWF0LmNvbG9yID0gdGhpcy5kYXRhLnNreUNvbG9yO1xuICAgICAgICBtYXQuZm9nID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChza3lUeXBlID09ICdncmFkaWVudCcpIHtcbiAgICAgICAgbWF0LnRvcENvbG9yID0gdGhpcy5kYXRhLnNreUNvbG9yO1xuICAgICAgICBtYXQuYm90dG9tQ29sb3IgPSB0aGlzLmRhdGEuaG9yaXpvbkNvbG9yO1xuICAgICAgfVxuICAgICAgdGhpcy5za3kuc2V0QXR0cmlidXRlKCdtYXRlcmlhbCcsIG1hdCk7XG4gICAgfVxuXG4gICAgLy8gc2V0IGF0bW9zcGhlcmUgc3VuIHBvc2l0aW9uIGFuZCBzdGFyc1xuICAgIGlmIChza3lUeXBlID09ICdhdG1vc3BoZXJlJykge1xuICAgICAgdGhpcy5za3kuc2V0QXR0cmlidXRlKCdtYXRlcmlhbCcsIHsnc3VuUG9zaXRpb24nOiBzdW5Qb3N9KTtcbiAgICAgIHRoaXMuc2V0U3RhcnMoKDEgLSBNYXRoLm1heCgwLCAoc3VuUG9zLnkgKyAwLjA4KSAqIDgpKSAqIDIwMDAgKTtcbiAgICB9XG5cbiAgICAvLyBzZXQgZm9nIGNvbG9yXG4gICAgaWYgKHRoaXMuZGF0YS5mb2cgPiAwKSB7XG4gICAgICB0aGlzLmVsLnNjZW5lRWwuc2V0QXR0cmlidXRlKCdmb2cnLCB7XG4gICAgICAgIGNvbG9yOiB0aGlzLmdldEZvZ0NvbG9yKHNreVR5cGUsIHN1blBvcy55KSxcbiAgICAgICAgZmFyOiAoMS4wMSAtIHRoaXMuZGF0YS5mb2cpICogdGhpcy5TVEFHRV9TSVpFICogMlxuICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5lbC5zY2VuZUVsLnJlbW92ZUF0dHJpYnV0ZSgnZm9nJyk7XG4gICAgfVxuXG4gICAgLy8gc2NlbmUgbGlnaHRzXG4gICAgdGhpcy5zdW5saWdodC5zZXRBdHRyaWJ1dGUoJ2xpZ2h0Jywge3R5cGU6IHRoaXMuZGF0YS5saWdodGluZyA9PSAncG9pbnQnID8gJ3BvaW50JyA6ICdkaXJlY3Rpb25hbCd9KTtcbiAgICB0aGlzLnN1bmxpZ2h0LnNldEF0dHJpYnV0ZSgndmlzaWJsZScsIHRoaXMuZGF0YS5saWdodGluZyAhPT0gJ25vbmUnKTtcbiAgICB0aGlzLmhlbWlsaWdodC5zZXRBdHRyaWJ1dGUoJ3Zpc2libGUnLCB0aGlzLmRhdGEubGlnaHRpbmcgIT09ICdub25lJyk7XG5cbiAgICAvLyBjaGVjayBpZiBncm91bmQgZ2VvbWV0cnkgbmVlZHMgdG8gYmUgY2FsY3VsYXRlZFxuICAgIHZhciB1cGRhdGVHcm91bmRHZW9tZXRyeSA9XG4gICAgICAhdGhpcy5ncm91bmRHZW9tZXRyeSB8fFxuICAgICAgdGhpcy5kYXRhLnNlZWQgIT0gb2xkRGF0YS5zZWVkIHx8XG4gICAgICB0aGlzLmRhdGEuZ3JvdW5kICE9IG9sZERhdGEuZ3JvdW5kIHx8XG4gICAgICB0aGlzLmRhdGEucGxheUFyZWEgIT0gb2xkRGF0YS5wbGF5QXJlYSB8fFxuICAgICAgdGhpcy5kYXRhLmZsYXRTaGFkaW5nICE9IG9sZERhdGEuZmxhdFNoYWRpbmc7XG5cbiAgICAvLyBjaGVjayBpZiBhbnkgcGFyYW1ldGVyIG9mIHRoZSBncm91bmQgd2FzIGNoYW5nZWQsIGFuZCB1cGRhdGUgaXRcbiAgICBpZiAodXBkYXRlR3JvdW5kR2VvbWV0cnkgfHxcbiAgICAgICAgdGhpcy5kYXRhLmdyb3VuZENvbG9yICE9IG9sZERhdGEuZ3JvdW5kQ29sb3IgfHxcbiAgICAgICAgdGhpcy5kYXRhLmdyb3VuZENvbG9yMiAhPSBvbGREYXRhLmdyb3VuZENvbG9yMiB8fFxuICAgICAgICB0aGlzLmRhdGEuZ3JvdW5kWVNjYWxlICE9IG9sZERhdGEuZ3JvdW5kWVNjYWxlIHx8XG4gICAgICAgIHRoaXMuZGF0YS5ncm91bmRUZXh0dXJlICE9IG9sZERhdGEuZ3JvdW5kVGV4dHVyZSB8fFxuICAgICAgICB0aGlzLmRhdGEuZ3JpZENvbG9yICE9IG9sZERhdGEuZ3JpZENvbG9yIHx8XG4gICAgICAgIHRoaXMuZGF0YS5ncmlkICE9IG9sZERhdGEuZ3JpZFxuICAgICAgICApXG4gICAge1xuICAgICAgdGhpcy51cGRhdGVHcm91bmQodXBkYXRlR3JvdW5kR2VvbWV0cnkpO1xuICAgICAgLy8gc2V0IGJvdW5jZSBsaWdodCBjb2xvciB0byBncm91bmQgY29sb3JcbiAgICAgIGlmICh0aGlzLmhlbWlsaWdodCkgdGhpcy5oZW1pbGlnaHQuc2V0QXR0cmlidXRlKCdsaWdodCcsIHsnZ3JvdW5kQ29sb3InOiB0aGlzLmRhdGEuZ3JvdW5kQ29sb3J9KTtcbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgZHJlc3NpbmdcbiAgICB0aGlzLnVwZGF0ZURyZXNzaW5nKDEpO1xuICAgIHRoaXMudXBkYXRlRHJlc3NpbmcoMik7XG5cbiAgICB0aGlzLnNreS5zZXRBdHRyaWJ1dGUoJ3Zpc2libGUnLCBza3lUeXBlICE9PSAnbm9uZScpO1xuXG4gICAgdGhpcy5lbC5zZXRBdHRyaWJ1dGUoJ3Zpc2libGUnLCB0aGlzLmRhdGEuYWN0aXZlKTtcbiAgICBpZiAoIXRoaXMuZGF0YS5hY3RpdmUpIHtcbiAgICAgIGlmICh0aGlzLnVzZXJGb2cpIHtcbiAgICAgICAgdGhpcy5lbC5zY2VuZUVsLnNldEF0dHJpYnV0ZSgnZm9nJywgdGhpcy51c2VyRm9nKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLmVsLnNjZW5lRWwucmVtb3ZlQXR0cmlidXRlKCdmb2cnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBkdW1wIGN1cnJlbnQgY29tcG9uZW50IHNldHRpbmdzIHRvIGNvbnNvbGVcbiAgICB0aGlzLmR1bXBQYXJhbWV0ZXJzRGlmZigpO1xuICB9LFxuXG4gIC8vIGxvZ3MgY3VycmVudCBwYXJhbWV0ZXJzIHRvIGNvbnNvbGUsIGZvciBzYXZpbmcgdG8gYSBwcmVzZXRcbiAgbG9nUHJlc2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHN0ciA9ICd7JztcbiAgICBmb3IgKHZhciBpIGluIHRoaXMuc2NoZW1hKXtcbiAgICAgIGlmIChpID09ICdwcmVzZXQnKSBjb250aW51ZTtcbiAgICAgIHN0ciArPSBpICsgJzogJztcbiAgICAgIHZhciB0eXBlID0gdGhpcy5zY2hlbWFbaV0udHlwZTtcbiAgICAgIGlmICh0eXBlID09ICd2ZWMzJykge1xuICAgICAgICBzdHIgKz0gJ3sgeDogJyArIHRoaXMuZGF0YVtpXS54ICsgJywgeTogJyArIHRoaXMuZGF0YVtpXS55ICsgJywgejogJyArIHRoaXMuZGF0YVtpXS56ICsgJ30nO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodHlwZSA9PSAnc3RyaW5nJyB8fCB0eXBlID09ICdjb2xvcicpIHtcbiAgICAgICAgc3RyICs9ICdcIicgKyB0aGlzLmRhdGFbaV0gKyAnXCInO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHN0ciArPSB0aGlzLmRhdGFbaV07XG4gICAgICB9XG4gICAgICBzdHIgKz0gJywgJztcbiAgICB9XG4gICAgc3RyICs9ICd9JztcbiAgICBjb25zb2xlLmxvZyhzdHIpO1xuICB9LFxuXG4gIC8vIGR1bXBzIGN1cnJlbnQgY29tcG9uZW50IHNldHRpbmdzIHRvIGNvbnNvbGUuXG4gIGR1bXBQYXJhbWV0ZXJzRGlmZjogZnVuY3Rpb24gKCkge1xuXG4gICAgLy8gdHJpbSBudW1iZXIgdG8gMyBkZWNpbWFsc1xuICAgIGZ1bmN0aW9uIGRlYzMgKHYpIHtcbiAgICAgIHJldHVybiBNYXRoLmZsb29yKHYgKiAxMDAwKSAvIDEwMDA7XG4gICAgfVxuXG4gICAgdmFyIHBhcmFtcyA9IFtdO1xuICAgIHZhciB1c2luZ1ByZXNldCA9IHRoaXMuZGF0YS5wcmVzZXQgIT0gJ25vbmUnID8gdGhpcy5wcmVzZXRzW3RoaXMuZGF0YS5wcmVzZXRdIDogZmFsc2U7XG5cbiAgICBpZiAodXNpbmdQcmVzZXQpIHtcbiAgICAgIHBhcmFtcy5wdXNoKCdwcmVzZXQ6ICcgKyB0aGlzLmRhdGEucHJlc2V0KTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpIGluIHRoaXMuc2NoZW1hKSB7XG4gICAgICBpZiAoaSA9PSAncHJlc2V0JyB8fCAodXNpbmdQcmVzZXQgJiYgdXNpbmdQcmVzZXRbaV0gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB2YXIgZGVmID0gdXNpbmdQcmVzZXQgPyB1c2luZ1ByZXNldFtpXSA6IHRoaXMuc2NoZW1hW2ldLmRlZmF1bHQ7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuZGF0YVtpXTtcbiAgICAgIHZhciB0eXBlID0gdGhpcy5zY2hlbWFbaV0udHlwZTtcbiAgICAgIGlmICh0eXBlID09ICd2ZWMzJykge1xuICAgICAgICB2YXIgY29vcmRzID0gZGVmO1xuICAgICAgICBpZiAodHlwZW9mKGRlZikgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBkZWYgPSBkZWYuc3BsaXQoJyAnKTtcbiAgICAgICAgICBjb29yZHMgPSB7eDogZGVmWzBdLCB5OiBkZWZbMV0sIHo6IGRlZlsyXX07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlYzMoY29vcmRzLngpICE9IGRlYzMoZGF0YS54KSB8fCBkZWMzKGNvb3Jkcy55KSAhPSBkZWMzKGRhdGEueSkgfHwgZGVjMyhjb29yZHMueikgIT0gZGVjMyhkYXRhLnopKSB7XG4gICAgICAgICAgcGFyYW1zLnB1c2goaSArICc6ICcgKyBkZWMzKGRhdGEueCkgKyAnICcgKyBkZWMzKGRhdGEueSkgKyAnICcgKyBkZWMzKGRhdGEueikpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgaWYgKGRlZiAhPSBkYXRhKSB7XG4gICAgICAgICAgaWYgKHRoaXMuc2NoZW1hW2ldLnR5cGUgPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGRhdGEgPSBkZWMzKGRhdGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYXJhbXMucHVzaChpICsgJzogJyArIGRhdGEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKCclYycgKyBwYXJhbXMuam9pbignOyAnKSwgJ2NvbG9yOiAjZjQ4O2ZvbnQtd2VpZ2h0OmJvbGQnKTtcbiAgfSxcblxuICAvLyBDdXN0b20gTWF0aC5yYW5kb20oKSB3aXRoIHNlZWQuIEdpdmVuIHRoaXMuZGF0YS5zZWVkIGFuZCB4LCBpdCBhbHdheXMgcmV0dXJucyB0aGUgc2FtZSBcInJhbmRvbVwiIG51bWJlclxuICByYW5kb206IGZ1bmN0aW9uICh4KSB7XG4gICAgdmFyIHNlZWQ7XG4gICAgdmFyIHZhbDtcbiAgICB2YWwgPSBwYXJzZUZsb2F0KCcwLicgKyBNYXRoLnNpbih0aGlzLnNlZWQgKiA5OTk5ICogeCkudG9TdHJpbmcoKS5zdWJzdHIoNykpO1xuICAgIGlmICh2YWwgPT09IDApIHtcbiAgICAgIHZhbCA9IHBhcnNlRmxvYXQoJzAuJyArIE1hdGguc2luKHRoaXMuc2VlZCAqIDk5OTk5ICogeCkudG9TdHJpbmcoKS5zdWJzdHIoNykpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsO1xuICB9LFxuXG5cbiAgLy8gdXBkYXRlcyBncm91bmQgYXR0cmlidXRlcywgYW5kIGdlb21ldHJ5IGlmIHJlcXVpcmVkXG4gIHVwZGF0ZUdyb3VuZDogZnVuY3Rpb24gKHVwZGF0ZUdlb21ldHJ5KSB7XG5cbiAgICB2YXIgcmVzb2x1dGlvbiA9IDY0OyAvLyBudW1iZXIgb2YgZGl2aXNpb25zIG9mIHRoZSBncm91bmQgbWVzaFxuXG4gICAgaWYgKHVwZGF0ZUdlb21ldHJ5KSB7XG4gICAgICB2YXIgdmlzaWJsZWdyb3VuZCA9IHRoaXMuZGF0YS5ncm91bmQgIT0gJ25vbmUnO1xuICAgICAgdGhpcy5ncm91bmQuc2V0QXR0cmlidXRlKCd2aXNpYmxlJywgdmlzaWJsZWdyb3VuZCk7XG4gICAgICBpZiAoIXZpc2libGVncm91bmQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuZ3JvdW5kR2VvbWV0cnkpIHtcbiAgICAgICAgdGhpcy5ncm91bmRHZW9tZXRyeSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KHRoaXMuU1RBR0VfU0laRSArIDIsIHRoaXMuU1RBR0VfU0laRSArIDIsIHJlc29sdXRpb24gLSAxLCByZXNvbHV0aW9uIC0gMSk7XG4gICAgICB9XG4gICAgICB2YXIgcGVybGluID0gbmV3IFBlcmxpbk5vaXNlKCk7XG4gICAgICB2YXIgdmVydHMgPSB0aGlzLmdyb3VuZEdlb21ldHJ5LnZlcnRpY2VzO1xuICAgICAgdmFyIG51bVZlcnRzID0gdGhpcy5ncm91bmRHZW9tZXRyeS52ZXJ0aWNlcy5sZW5ndGg7XG4gICAgICB2YXIgZnJlcXVlbmN5ID0gMTA7XG4gICAgICB2YXIgaW5jID0gZnJlcXVlbmN5IC8gcmVzb2x1dGlvbjtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIHggPSAwLCB5ID0gMDsgaSA8IG51bVZlcnRzOyBpKyspIHtcbiAgICAgICAgaWYgKHRoaXMuZGF0YS5ncm91bmQgPT0gJ2ZsYXQnKSB7XG4gICAgICAgICAgdmVydHNbaV0ueiA9IDA7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaDtcbiAgICAgICAgc3dpdGNoICh0aGlzLmRhdGEuZ3JvdW5kKSB7XG4gICAgICAgICAgY2FzZSAnaGlsbHMnOiB7XG4gICAgICAgICAgICBoID0gTWF0aC5tYXgoMCwgcGVybGluLm5vaXNlKHgsIHksIDApKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlICdjYW55b24nOiB7XG4gICAgICAgICAgICBoID0gMC4yICsgcGVybGluLm5vaXNlKHgsIHksIDApICogMC44O1xuICAgICAgICAgICAgaCA9IE1hdGgubWluKDEsIE1hdGgucG93KGgsIDIpICogMTApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgJ3NwaWtlcyc6IHtcbiAgICAgICAgICAgIGggPSB0aGlzLnJhbmRvbShpKSA8IDAuMDIgPyB0aGlzLnJhbmRvbShpICsgMSkgOiAwO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgJ25vaXNlJzoge1xuICAgICAgICAgICAgaCA9IHRoaXMucmFuZG9tKGkpIDwgMC4zNSA/IHRoaXMucmFuZG9tKGkgKyAxKSA6IDA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBoICs9IHRoaXMucmFuZG9tKGkgKyAyKSAqIDAuMTsgLy8gYWRkIHNvbWUgcmFuZG9tbmVzc1xuXG4gICAgICAgIC8vIGZsYXQgZ3JvdW5kIGluIHRoZSBjZW50ZXJcbiAgICAgICAgdmFyIHh4ID0geCAqIDIgLyBmcmVxdWVuY3kgLSAxO1xuICAgICAgICB2YXIgeXkgPSB5ICogMiAvIGZyZXF1ZW5jeSAtIDE7XG4gICAgICAgIHZhciBwYSA9IHRoaXMuZGF0YS5wbGF5QXJlYTtcbiAgICAgICAgeHggPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCAoTWF0aC5hYnMoeHgpIC0gKHBhIC0gMC45KSkgKiAoMSAvIHBhKSApKTtcbiAgICAgICAgeXkgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCAoTWF0aC5hYnMoeXkpIC0gKHBhIC0gMC45KSkgKiAoMSAvIHBhKSApKTtcbiAgICAgICAgaCAqPSB4eCA+IHl5ID8geHggOiB5eTtcbiAgICAgICAgaWYgKGggPCAwLjAxKSBoID0gMDsgLy8gc3RpY2sgdG8gdGhlIGZsb29yXG5cbiAgICAgICAgLy8gc2V0IGhlaWdodFxuICAgICAgICB2ZXJ0c1tpXS56ID0gaDtcblxuICAgICAgICAvLyBjYWxjdWxhdGUgbmV4dCB4LHkgZ3JvdW5kIGNvb3JkaW5hdGVzXG4gICAgICAgIHggKz0gaW5jO1xuICAgICAgICBpZiAoeCA+PSAxMCkge1xuICAgICAgICAgIHggPSAwO1xuICAgICAgICAgIHkgKz0gaW5jO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZ3JvdW5kR2VvbWV0cnkuY29tcHV0ZUZhY2VOb3JtYWxzKCk7XG4gICAgICBpZiAodGhpcy5kYXRhLmZsYXRTaGFkaW5nKSB7XG4gICAgICAgIHRoaXMuZ3JvdW5kR2VvbWV0cnkuY29tcHV0ZUZsYXRWZXJ0ZXhOb3JtYWxzKCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5ncm91bmRHZW9tZXRyeS5jb21wdXRlVmVydGV4Tm9ybWFscygpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmdyb3VuZEdlb21ldHJ5LnZlcnRpY2VzTmVlZFVwZGF0ZSA9IHRydWU7XG4gICAgICB0aGlzLmdyb3VuZEdlb21ldHJ5Lm5vcm1hbHNOZWVkVXBkYXRlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBhcHBseSBZIHNjYWxlLiBUaGVyZSdzIG5vIG5lZWQgdG8gcmVjYWxjdWxhdGUgdGhlIGdlb21ldHJ5IGZvciB0aGlzLiBKdXN0IGNoYW5nZSBzY2FsZVxuICAgIHRoaXMuZ3JvdW5kLm9iamVjdDNELnNjYWxlLnogPSBNYXRoLm1heCh0aGlzLnJhbmRvbSgxMDAwKSAqIDEwMCwgMS4wKTtcblxuICAgIC8vIHVwZGF0ZSBncm91bmQsIHBsYXlhcmVhIGFuZCBncmlkIHRleHR1cmVzLlxuICAgIHZhciBncm91bmRSZXNvbHV0aW9uID0gMjA0ODtcbiAgICB2YXIgdGV4TWV0ZXJzID0gMjA7IC8vIGdyb3VuZCB0ZXh0dXJlIG9mIDIwIHggMjAgbWV0ZXJzXG4gICAgdmFyIHRleFJlcGVhdCA9IHRoaXMuU1RBR0VfU0laRSAvIHRleE1ldGVycztcblxuICAgIGlmICghdGhpcy5ncm91bmRDYW52YXMgfHwgdGhpcy5ncm91bmRDYW52YXMud2lkdGggIT0gZ3JvdW5kUmVzb2x1dGlvbikge1xuICAgICAgdGhpcy5ncmlkQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICB0aGlzLmdyaWRDYW52YXMud2lkdGggPSBncm91bmRSZXNvbHV0aW9uO1xuICAgICAgdGhpcy5ncmlkQ2FudmFzLmhlaWdodCA9IGdyb3VuZFJlc29sdXRpb247XG4gICAgICB0aGlzLmdyaWRUZXh0dXJlID0gbmV3IFRIUkVFLlRleHR1cmUodGhpcy5ncmlkQ2FudmFzKTtcbiAgICAgIHRoaXMuZ3JpZFRleHR1cmUud3JhcFMgPSBUSFJFRS5SZXBlYXRXcmFwcGluZztcbiAgICAgIHRoaXMuZ3JpZFRleHR1cmUud3JhcFQgPSBUSFJFRS5SZXBlYXRXcmFwcGluZztcbiAgICAgIHRoaXMuZ3JpZFRleHR1cmUucmVwZWF0LnNldCh0ZXhSZXBlYXQsIHRleFJlcGVhdCk7XG5cbiAgICAgIHRoaXMuZ3JvdW5kQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICB0aGlzLmdyb3VuZENhbnZhcy53aWR0aCA9IGdyb3VuZFJlc29sdXRpb247XG4gICAgICB0aGlzLmdyb3VuZENhbnZhcy5oZWlnaHQgPSBncm91bmRSZXNvbHV0aW9uO1xuICAgICAgdGhpcy5ncm91bmRUZXh0dXJlID0gbmV3IFRIUkVFLlRleHR1cmUodGhpcy5ncm91bmRDYW52YXMpO1xuICAgICAgdGhpcy5ncm91bmRUZXh0dXJlLndyYXBTID0gVEhSRUUuUmVwZWF0V3JhcHBpbmc7XG4gICAgICB0aGlzLmdyb3VuZFRleHR1cmUud3JhcFQgPSBUSFJFRS5SZXBlYXRXcmFwcGluZztcbiAgICAgIHRoaXMuZ3JvdW5kVGV4dHVyZS5yZXBlYXQuc2V0KHRleFJlcGVhdCwgdGV4UmVwZWF0KTtcblxuICAgICAgLy8gZ3JvdW5kIG1hdGVyaWFsIGRpZmZ1c2UgbWFwIGlzIHRoZSByZWd1bGFyIGdyb3VuZCB0ZXh0dXJlIGFuZCB0aGUgZ3JpZCB0ZXh0dXJlXG4gICAgICAvLyBpcyB1c2VkIGluIHRoZSBlbWlzc2l2ZSBtYXAuIFRoaXMgd2F5LCB0aGUgZ3JpZCBpcyBhbHdheXMgZXF1YWxseSB2aXNpYmxlLCBldmVuIGF0IG5pZ2h0LlxuICAgICAgdGhpcy5ncm91bmRNYXRlcmlhbFByb3BzID0ge1xuICAgICAgICBtYXA6IHRoaXMuZ3JvdW5kVGV4dHVyZSxcbiAgICAgICAgZW1pc3NpdmU6IG5ldyBUSFJFRS5Db2xvcigweEZGRkZGRiksXG4gICAgICAgIGVtaXNzaXZlTWFwOiB0aGlzLmdyaWRUZXh0dXJlXG4gICAgICB9O1xuXG4gICAgICAvLyB1c2UgLnNoYWRpbmcgZm9yIEEtRnJhbWUgPCAwLjcuMCBhbmQgLmZsYXRTaGFkaW5nIGZvciBBLUZyYW1lID49IDAuNy4wXG4gICAgICBpZiAobmV3IFRIUkVFLk1hdGVyaWFsKCkuaGFzT3duUHJvcGVydHkoJ3NoYWRpbmcnKSkge1xuICAgICAgICB0aGlzLmdyb3VuZE1hdGVyaWFsUHJvcHMuc2hhZGluZyA9IHRoaXMuZGF0YS5mbGF0U2hhZGluZyA/IFRIUkVFLkZsYXRTaGFkaW5nIDogVEhSRUUuU21vb3RoU2hhZGluZztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZ3JvdW5kTWF0ZXJpYWxQcm9wcy5mbGF0U2hhZGluZyA9IHRoaXMuZGF0YS5mbGF0U2hhZGluZztcbiAgICAgIH1cblxuICAgICAgdGhpcy5ncm91bmRNYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoTGFtYmVydE1hdGVyaWFsKHRoaXMuZ3JvdW5kTWF0ZXJpYWxQcm9wcyk7XG4gICAgfVxuXG4gICAgdmFyIGdyb3VuZGN0eCA9IHRoaXMuZ3JvdW5kQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgdmFyIGdyaWRjdHggPSB0aGlzLmdyaWRDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIHRoaXMuZHJhd1RleHR1cmUoZ3JvdW5kY3R4LCBncm91bmRSZXNvbHV0aW9uLCB0ZXhNZXRlcnMpO1xuXG4gICAgZ3JpZGN0eC5maWxsU3R5bGUgPSAnIzAwMDAwMCc7XG4gICAgZ3JpZGN0eC5maWxsUmVjdCgwLCAwLCBncm91bmRSZXNvbHV0aW9uLCBncm91bmRSZXNvbHV0aW9uKTtcbiAgICB0aGlzLmRyYXdHcmlkKGdyaWRjdHgsIGdyb3VuZFJlc29sdXRpb24sIHRleE1ldGVycyk7XG5cbiAgICB0aGlzLmdyb3VuZFRleHR1cmUubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgIHRoaXMuZ3JpZFRleHR1cmUubmVlZHNVcGRhdGUgPSB0cnVlO1xuXG4gICAgaWYgKHVwZGF0ZUdlb21ldHJ5KSB7XG4gICAgICB2YXIgbWVzaCA9IG5ldyBUSFJFRS5NZXNoKHRoaXMuZ3JvdW5kR2VvbWV0cnksIHRoaXMuZ3JvdW5kTWF0ZXJpYWwpO1xuICAgICAgdGhpcy5ncm91bmQuc2V0T2JqZWN0M0QoJ21lc2gnLCBtZXNoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmdyb3VuZC5nZXRPYmplY3QzRCgnbWVzaCcpLm1hdGVyaWFsID0gdGhpcy5ncm91bmRNYXRlcmlhbDtcbiAgICB9XG5cbiAgICB0aGlzLmdyb3VuZC5zZXRBdHRyaWJ1dGUoJ3NoYWRvdycsIHtcbiAgICAgIGNhc3Q6IGZhbHNlLFxuICAgICAgcmVjZWl2ZTogdGhpcy5kYXRhLnNoYWRvd1xuICAgIH0pO1xuICB9LFxuXG4gIC8vIGRyYXcgZ3JpZCB0byBhIGNhbnZhcyBjb250ZXh0XG4gIGRyYXdHcmlkOiBmdW5jdGlvbiAoY3R4LCBzaXplLCB0ZXhNZXRlcnMpIHtcblxuICAgIGlmICh0aGlzLmRhdGEuZ3JpZCA9PSAnbm9uZScpIHJldHVybjtcblxuICAgIC8vIG9uZSBncmlkIGZlYXR1cmUgZWFjaCAyIG1ldGVyc1xuXG4gICAgdmFyIG51bSA9IE1hdGguZmxvb3IodGV4TWV0ZXJzIC8gMik7XG4gICAgdmFyIHN0ZXAgPSBzaXplIC8gKHRleE1ldGVycyAvIDIpOyAvLyAyIG1ldGVycyA9PSA8c3RlcD4gcGl4ZWxzXG4gICAgdmFyIGksIGosIGlpO1xuXG4gICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuZGF0YS5ncmlkQ29sb3I7XG5cbiAgICBzd2l0Y2ggKHRoaXMuZGF0YS5ncmlkKSB7XG4gICAgICBjYXNlICcxeDEnOlxuICAgICAgY2FzZSAnMngyJzoge1xuICAgICAgICBpZiAodGhpcy5kYXRhLmdyaWQgPT0gJzF4MScpIHtcbiAgICAgICAgICBudW0gPSBudW0gKiAyO1xuICAgICAgICAgIHN0ZXAgPSBzaXplIC8gdGV4TWV0ZXJzO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBudW07IGkrKykge1xuICAgICAgICAgIGlpID0gTWF0aC5mbG9vcihpICogc3RlcCk7XG4gICAgICAgICAgY3R4LmZpbGxSZWN0KDAsIGlpLCBzaXplLCAxKTtcbiAgICAgICAgICBjdHguZmlsbFJlY3QoaWksIDAsIDEsIHNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnY3Jvc3Nlcyc6IHtcbiAgICAgICAgdmFyIGwgPSBNYXRoLmZsb29yKHN0ZXAgLyAyMCk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBudW0gKyAxOyBpKyspIHtcbiAgICAgICAgICBpaSA9IE1hdGguZmxvb3IoaSAqIHN0ZXApO1xuICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBudW0gKyAxOyBqKyspIHtcbiAgICAgICAgICAgIHZhciBqaiA9IE1hdGguZmxvb3IoLWwgKyBqICogc3RlcCk7XG4gICAgICAgICAgICBjdHguZmlsbFJlY3QoamosIGlpLCBsICogMiwgMSk7XG4gICAgICAgICAgICBjdHguZmlsbFJlY3QoaWksIGpqLCAxLCBsICogMik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnZG90cyc6IHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG51bSArIDE7IGkrKykge1xuICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBudW0gKyAxOyBqKyspIHtcbiAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTsgY3R4LmFyYyhNYXRoLmZsb29yKGogKiBzdGVwKSwgTWF0aC5mbG9vcihpICogc3RlcCksIDQsIDAsIE1hdGguUEkgKiAyKTsgY3R4LmZpbGwoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICd4bGluZXMnOiB7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBudW07IGkrKykge1xuICAgICAgICAgIGN0eC5maWxsUmVjdChNYXRoLmZsb29yKGkgKiBzdGVwKSwgMCwgMSwgc2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICd5bGluZXMnOiB7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBudW07IGkrKykge1xuICAgICAgICAgIGN0eC5maWxsUmVjdCgwLCBNYXRoLmZsb29yKGkgKiBzdGVwKSwgc2l6ZSwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIC8vIGRyYXcgZ3JvdW5kIHRleHR1cmUgdG8gYSBjYW52YXMgY29udGV4dFxuICBkcmF3VGV4dHVyZTogZnVuY3Rpb24oY3R4LCBzaXplLCB0ZXhNZXRlcnMpIHtcbiAgICAvLyBmaWxsIGFsbCB3aXRoIGdyb3VuZCBDb2xvclxuICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmRhdGEuZ3JvdW5kQ29sb3I7XG4gICAgY3R4LmZpbGxSZWN0KDAsIDAsIHNpemUsIHNpemUpO1xuXG4gICAgdmFyIGksIGNvbCwgY29sMSwgY29sMiwgaW0sIGltZGF0YSwgbnVtcGl4ZWxzO1xuXG4gICAgaWYgKHRoaXMuZGF0YS5ncm91bmRUZXh0dXJlID09ICdub25lJykgcmV0dXJuO1xuICAgIHN3aXRjaCh0aGlzLmRhdGEuZ3JvdW5kVGV4dHVyZSkge1xuICAgICAgY2FzZSAnY2hlY2tlcmJvYXJkJzoge1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5kYXRhLmdyb3VuZENvbG9yMjtcbiAgICAgICAgdmFyIG51bSA9IE1hdGguZmxvb3IodGV4TWV0ZXJzIC8gMik7XG4gICAgICAgIHZhciBzdGVwID0gc2l6ZSAvICh0ZXhNZXRlcnMgLyAyKTsgLy8gMiBtZXRlcnMgPT0gPHN0ZXA+IHBpeGVsc1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbnVtICsgMTsgaSArPSAyKSB7XG4gICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBudW0gKyAxOyBqICsrKSB7XG4gICAgICAgICAgICBjdHguZmlsbFJlY3QoTWF0aC5mbG9vcigoaSArIGogJSAyKSAqIHN0ZXApLCBNYXRoLmZsb29yKGogKiBzdGVwKSwgTWF0aC5mbG9vcihzdGVwKSwgTWF0aC5mbG9vcihzdGVwKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnc3F1YXJlcyc6IHtcbiAgICAgICAgdmFyIG51bVNxdWFyZXMgPSAxNjtcbiAgICAgICAgdmFyIHNxdWFyZVNpemUgPSBzaXplIC8gbnVtU3F1YXJlcztcbiAgICAgICAgY29sMSA9IHZhcnlDb2xvcihuZXcgVEhSRUUuQ29sb3IodGhpcy5kYXRhLmdyb3VuZENvbG9yKSwgdGhpcy5yYW5kb20sIHRoaXMuZGF0YS52YXJ5Q29sb3IpO1xuICAgICAgICBjb2wyID0gdmFyeUNvbG9yKG5ldyBUSFJFRS5Db2xvcih0aGlzLmRhdGEuZ3JvdW5kQ29sb3IyKSwgdGhpcy5yYW5kb20sIHRoaXMuZGF0YS52YXJ5Q29sb3IpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbnVtU3F1YXJlcyAqIG51bVNxdWFyZXM7IGkrKykge1xuICAgICAgICAgIGNvbCA9IHRoaXMucmFuZG9tKGkgKyAzKSA+IDAuNSA/IGNvbDEuY2xvbmUoKSA6IGNvbDIuY2xvbmUoKTtcbiAgICAgICAgICBjb2wuYWRkU2NhbGFyKHRoaXMucmFuZG9tKGkgKyAzKSAqIDAuMSAtIDAuMDUpO1xuICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIycgKyBjb2wuZ2V0SGV4U3RyaW5nKCk7XG4gICAgICAgICAgY3R4LmZpbGxSZWN0KChpICUgbnVtU3F1YXJlcykgKiBzcXVhcmVTaXplLCBNYXRoLmZsb29yKGkgLyBudW1TcXVhcmVzKSAqIHNxdWFyZVNpemUsIHNxdWFyZVNpemUsIHNxdWFyZVNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnbm9pc2UnOiB7XG4gICAgICAvLyBUT0RPOiBmaXhcbiAgICAgICAgaW1kYXRhID0gY3R4LmdldEltYWdlRGF0YSgwLCAwLCBzaXplLCBzaXplKTtcbiAgICAgICAgaW0gPSBpbWRhdGEuZGF0YTtcbiAgICAgICAgY29sMSA9IHZhcnlDb2xvcihuZXcgVEhSRUUuQ29sb3IodGhpcy5kYXRhLmdyb3VuZENvbG9yKSwgdGhpcy5yYW5kb20sIHRoaXMuZGF0YS52YXJ5Q29sb3IpO1xuICAgICAgICBjb2wyID0gdmFyeUNvbG9yKG5ldyBUSFJFRS5Db2xvcih0aGlzLmRhdGEuZ3JvdW5kQ29sb3IyKSwgdGhpcy5yYW5kb20sIHRoaXMuZGF0YS52YXJ5Q29sb3IpO1xuICAgICAgICB2YXIgZGlmZiA9IG5ldyBUSFJFRS5Db2xvcihjb2wyLnIgLSBjb2wxLnIsIGNvbDIuZyAtIGNvbDEuZywgY29sMi5iIC0gY29sMS5iKTtcbiAgICAgICAgdmFyIHBlcmxpbiA9IG5ldyBQZXJsaW5Ob2lzZSgpO1xuICAgICAgICBmb3IgKGkgPSAwLCBqID0gMCwgbnVtcGl4ZWxzID0gaW0ubGVuZ3RoOyBpIDwgbnVtcGl4ZWxzOyBpICs9IDQsIGorKyl7XG4gICAgICAgICAgLy9jb25zb2xlLmxvZyggKGogJSBzaXplKSAvIHNpemUsIGogLyBzaXplKVxuICAgICAgICAgIHZhciBybmQgPSBwZXJsaW4ubm9pc2UoKGogJSBzaXplKSAvIHNpemUgKiAzLCBqIC8gc2l6ZSAvIHNpemUgKiAzLCAwKTtcbiAgICAgICAgICBpbVtpICsgMF0gPSBNYXRoLmZsb29yKChjb2wxLnIgKyBkaWZmLnIgKiBybmQpICogMjU1KTtcbiAgICAgICAgICBpbVtpICsgMV0gPSBNYXRoLmZsb29yKChjb2wxLmcgKyBkaWZmLmcgKiBybmQpICogMjU1KTtcbiAgICAgICAgICBpbVtpICsgMl0gPSBNYXRoLmZsb29yKChjb2wxLmIgKyBkaWZmLmIgKiBybmQpICogMjU1KTtcbiAgICAgICAgfVxuICAgICAgICBjdHgucHV0SW1hZ2VEYXRhKGltZGF0YSwgMCwgMCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAnd2Fsa2Vybm9pc2UnOiB7XG4gICAgICAgIHZhciBzID0gTWF0aC5mbG9vcihzaXplIC8gMik7XG4gICAgICAgIHZhciB0ZXggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgdGV4LndpZHRoID0gcztcbiAgICAgICAgdGV4LmhlaWdodCA9IHM7XG4gICAgICAgIHZhciB0ZXhjdHggPSB0ZXguZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgdGV4Y3R4LmZpbGxTdHlsZSA9IHRoaXMuZGF0YS5ncm91bmRDb2xvcjtcbiAgICAgICAgdGV4Y3R4LmZpbGxSZWN0KDAsIDAsIHMsIHMpO1xuICAgICAgICBpbWRhdGEgPSB0ZXhjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIHMsIHMpO1xuICAgICAgICBpbSA9IGltZGF0YS5kYXRhO1xuICAgICAgICBjb2wxID0gdmFyeUNvbG9yKG5ldyBUSFJFRS5Db2xvcih0aGlzLmRhdGEuZ3JvdW5kQ29sb3IpLCB0aGlzLnJhbmRvbSwgdGhpcy5kYXRhLnZhcnlDb2xvcik7XG4gICAgICAgIGNvbDIgPSB2YXJ5Q29sb3IobmV3IFRIUkVFLkNvbG9yKHRoaXMuZGF0YS5ncm91bmRDb2xvcjIpLCB0aGlzLnJhbmRvbSwgdGhpcy5kYXRhLnZhcnlDb2xvcik7XG4gICAgICAgIHZhciB3YWxrZXJzID0gW107XG4gICAgICAgIHZhciBudW13YWxrZXJzID0gMTAwMDtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG51bXdhbGtlcnM7IGkrKykge1xuICAgICAgICAgIGNvbCA9IGNvbDEuY2xvbmUoKS5sZXJwKGNvbDIsIE1hdGgucmFuZG9tKCkpO1xuICAgICAgICAgIHdhbGtlcnMucHVzaCh7XG4gICAgICAgICAgICB4OiBNYXRoLnJhbmRvbSgpICogcyxcbiAgICAgICAgICAgIHk6IE1hdGgucmFuZG9tKCkgKiBzLFxuICAgICAgICAgICAgcjogTWF0aC5mbG9vcihjb2wuciAqIDI1NSksXG4gICAgICAgICAgICBnOiBNYXRoLmZsb29yKGNvbC5nICogMjU1KSxcbiAgICAgICAgICAgIGI6IE1hdGguZmxvb3IoY29sLmIgKiAyNTUpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGl0ZXJhdGlvbnMgPSA1MDAwO1xuICAgICAgICBmb3IgKHZhciBpdCA9IDA7IGl0PCBpdGVyYXRpb25zOyBpdCsrKXtcbiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbnVtd2Fsa2VyczsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgd2Fsa2VyID0gd2Fsa2Vyc1tpXTtcbiAgICAgICAgICAgIHZhciBwb3MgPSBNYXRoLmZsb29yKCh3YWxrZXIueSAqIHMgKyB3YWxrZXIueCkpICogNDtcbiAgICAgICAgICAgIGltW3BvcyArIDBdID0gd2Fsa2VyLnI7XG4gICAgICAgICAgICBpbVtwb3MgKyAxXSA9IHdhbGtlci5nO1xuICAgICAgICAgICAgaW1bcG9zICsgMl0gPSB3YWxrZXIuYjtcbiAgICAgICAgICAgIHdhbGtlci54ICs9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMpIC0gMTtcbiAgICAgICAgICAgIHdhbGtlci55ICs9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMpIC0gMTtcbiAgICAgICAgICAgIGlmICh3YWxrZXIueCA+PSBzKSB3YWxrZXIueCA9IHdhbGtlci54IC0gcztcbiAgICAgICAgICAgIGlmICh3YWxrZXIueSA+PSBzKSB3YWxrZXIueSA9IHdhbGtlci55IC0gcztcbiAgICAgICAgICAgIGlmICh3YWxrZXIueCA8IDApIHdhbGtlci54ID0gcyArIHdhbGtlci54O1xuICAgICAgICAgICAgaWYgKHdhbGtlci55IDwgMCkgd2Fsa2VyLnkgPSBzICsgd2Fsa2VyLnk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRleGN0eC5wdXRJbWFnZURhdGEoaW1kYXRhLCAwLCAwKTtcbiAgICAgICAgY3R4LmRyYXdJbWFnZSh0ZXgsIDAsIDAsIHNpemUsIHNpemUpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgLy8gcmV0dXJucyBhbiBhcnJheSBvZiBUSFJFRS5HZW9tZXRyeSBmb3Igc2V0IGRyZXNzaW5nXG4gIGdldEFzc2V0R2VvbWV0cnk6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICBpZiAoIWRhdGEpIHJldHVybiBudWxsO1xuICAgIHZhciBnZW9zZXQgPSBbXTtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICBmdW5jdGlvbiBhcHBseU5vaXNlKGdlbywgbm9pc2UpIHtcbiAgICAgIHZhciBuID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBudW1WZXJ0cyA9IGdlby52ZXJ0aWNlcy5sZW5ndGg7IGkgPCBudW1WZXJ0czsgaSsrKSB7XG4gICAgICAgIG4ueCA9IChzZWxmLnJhbmRvbShpKSAtIDAuNSkgKiBub2lzZTtcbiAgICAgICAgbi55ID0gKHNlbGYucmFuZG9tKGkgKyBudW1WZXJ0cykgLSAwLjUpICogbm9pc2U7XG4gICAgICAgIG4ueiA9IChzZWxmLnJhbmRvbShpICsgbnVtVmVydHMgKiAyKSAtIDAuNSkgKiBub2lzZTtcbiAgICAgICAgZ2VvLnZlcnRpY2VzW2ldLmFkZChuKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgaSwgZ2VvLCB2ZXJ0cztcblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGF0YS5sZW5ndGg7IGorKykge1xuXG4gICAgICBpZiAoZGF0YVtqXS50eXBlID09ICdsYXRoZScpIHtcbiAgICAgICAgdmFyIG1heHkgPSAtOTk5OTk7XG4gICAgICAgIHZhciBwb2ludHMgPSBbXTtcbiAgICAgICAgdmVydHMgPSBkYXRhW2pdLnZlcnRpY2VzO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdmVydHMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICBwb2ludHMucHVzaChuZXcgVEhSRUUuVmVjdG9yMih2ZXJ0c1tpXSwgdmVydHNbaSArIDFdKSk7XG4gICAgICAgICAgaWYgKHZlcnRzW2kgKyAxXSA+IG1heHkpIHtcbiAgICAgICAgICAgIG1heHkgPSB2ZXJ0c1tpICsgMV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGdlbyA9IG5ldyBUSFJFRS5MYXRoZUdlb21ldHJ5KHBvaW50cywgZGF0YVtqXVsnc2VnbWVudHMnXSB8fCA4KTtcbiAgICAgICAgZ2VvLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVJvdGF0aW9uRnJvbUV1bGVyKG5ldyBUSFJFRS5FdWxlcigtTWF0aC5QSSwgMCwgMCkpKTtcbiAgICAgICAgZ2VvLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKDAsIG1heHksIDApKTtcbiAgICAgICAgaWYgKGRhdGFbal1bJ25vaXNlJ10pIGFwcGx5Tm9pc2UoZ2VvLCBkYXRhW2pdLm5vaXNlKTtcbiAgICAgICAgZ2Vvc2V0LnB1c2goZ2VvKTtcbiAgICAgIH1cblxuICAgICAgZWxzZSBpZiAoZGF0YVtqXS50eXBlID09ICdleHRydWRlJykge1xuICAgICAgICB2YXIgc2hhcGUgPSBuZXcgVEhSRUUuU2hhcGUoKTtcbiAgICAgICAgdmVydHMgPSBkYXRhW2pdLnZlcnRpY2VzO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdmVydHMubGVuZ3RoOyBpKz0gMikge1xuICAgICAgICAgIGlmIChpID09IDApIHNoYXBlLm1vdmVUbyh2ZXJ0c1tpXSwgdmVydHNbaSArIDFdKTtcbiAgICAgICAgICBlbHNlIHNoYXBlLmxpbmVUbyh2ZXJ0c1tpXSwgdmVydHNbaSArIDFdKTtcbiAgICAgICAgfVxuICAgICAgICBnZW8gPSBuZXcgVEhSRUUuRXh0cnVkZUdlb21ldHJ5KHNoYXBlLCB7YW1vdW50OiAxLCBiZXZlbEVuYWJsZWQ6IGZhbHNlfSk7XG4gICAgICAgIGdlby5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VSb3RhdGlvbkZyb21FdWxlcihuZXcgVEhSRUUuRXVsZXIoLU1hdGguUEkgLyAyLCAwLCAwKSkpO1xuICAgICAgICBpZiAoZGF0YVtqXVsnbm9pc2UnXSkgYXBwbHlOb2lzZShnZW8sIGRhdGFbal0ubm9pc2UpO1xuICAgICAgICBnZW9zZXQucHVzaChnZW8pO1xuICAgICAgfVxuXG4gICAgICBlbHNlIGlmIChkYXRhW2pdLnR5cGUgPT0gJ21lc2gnKSB7XG4gICAgICAgIGdlbyA9IG5ldyBUSFJFRS5HZW9tZXRyeSgpO1xuICAgICAgICB2ZXJ0cyA9IGRhdGFbal0udmVydGljZXM7XG4gICAgICAgIHZhciBmYWNlcyA9IGRhdGFbal0uZmFjZXM7XG4gICAgICAgIGZvciAodmFyIHYgPSAwOyB2IDwgdmVydHMubGVuZ3RoOyB2ICs9IDMpIHtcbiAgICAgICAgICBnZW8udmVydGljZXMucHVzaChuZXcgVEhSRUUuVmVjdG9yMyh2ZXJ0c1t2XSwgdmVydHNbdiArIDFdLCB2ZXJ0c1t2ICsgMl0pKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBmID0gMDsgZiA8IGZhY2VzLmxlbmd0aDsgZiArPSAzKSB7XG4gICAgICAgICAgZ2VvLmZhY2VzLnB1c2gobmV3IFRIUkVFLkZhY2UzKGZhY2VzW2ZdLCBmYWNlc1tmICsgMV0sIGZhY2VzW2YgKyAyXSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZGF0YS5mbGF0U2hhZGluZyB8fCBkYXRhW2pdWydmbGF0U2hhZGluZyddKSB7XG4gICAgICAgICAgZ2VvLmNvbXB1dGVGYWNlTm9ybWFscygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGdlby5jb21wdXRlVmVydGV4Tm9ybWFscygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGFbal1bJ21pcnJvciddKSB7XG4gICAgICAgICAgZ2VvLm1lcmdlKGdlbywgbmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlUm90YXRpb25Gcm9tRXVsZXIobmV3IFRIUkVFLkV1bGVyKDAsIE1hdGguUEksIDApKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0YVtqXVsnbm9pc2UnXSkgYXBwbHlOb2lzZShnZW8sIGRhdGFbal0ubm9pc2UpO1xuICAgICAgICBnZW9zZXQucHVzaChnZW8pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZ2Vvc2V0O1xuICB9LFxuXG4gIC8vIHVwZGF0ZXMgc2V0IGRyZXNzaW5nXG4gIHVwZGF0ZURyZXNzaW5nOiBmdW5jdGlvbiAod2hpY2gpIHtcbiAgICB2YXIgZHJlc3NpbmdPYmplY3QgPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcbiAgICB2YXIgZHJlc3N0ciA9ICdkcmVzc2luZycgKyB3aGljaDtcbiAgICB2YXIgZHJlc3NpbmdFbCA9IHRoaXNbZHJlc3N0cl07XG5cbiAgICB2YXIgZHJlc3NpbmcgPSB0aGlzLmRhdGFbZHJlc3N0cl07XG4gICAgdmFyIGRyZXNzaW5nQ29sb3IgPSB0aGlzLmRhdGFbZHJlc3N0ciArICdDb2xvciddO1xuICAgIHZhciBkcmVzc2luZ0Ftb3VudCA9IHRoaXMuZGF0YVtkcmVzc3RyICsgJ0Ftb3VudCddO1xuICAgIHZhciBkcmVzc2luZ1ZhcmlhbmNlID0gdGhpcy5kYXRhW2RyZXNzdHIgKyAnVmFyaWFuY2UnXTtcbiAgICB2YXIgZHJlc3NpbmdTY2FsZSA9IHRoaXMuZGF0YVtkcmVzc3RyICsgJ1NjYWxlJ107XG4gICAgdmFyIGRyZXNzaW5nVW5pZm9ybVNjYWxlID0gdGhpcy5kYXRhW2RyZXNzdHIgKyAnVW5pZm9ybVNjYWxlJ107XG4gICAgdmFyIGRyZXNzaW5nT25QbGF5QXJlYSA9IHRoaXMuZGF0YVtkcmVzc3RyICsgJ09uUGxheUFyZWEnXTtcblxuICAgIGRyZXNzaW5nRWwuc2V0QXR0cmlidXRlKCd2aXNpYmxlJywgZHJlc3NpbmcgIT0gJ25vbmUnKTtcbiAgICBpZiAoZHJlc3NpbmcgPT0gJ25vbmUnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBnZW9tZXRyeSA9IG5ldyBUSFJFRS5HZW9tZXRyeSgpOyAvLyBtb3RoZXIgZ2VvbWV0cnkgdGhhdCB3aWxsIGhvbGQgYWxsIGluc3RhbmNlc1xuXG4gICAgLy8gZ2V0IGFycmF5IG9mIGdlb21ldHJpZXNcbiAgICB2YXIgZ2Vvc2V0O1xuICAgIHN3aXRjaCAoZHJlc3Npbmcpe1xuICAgICAgY2FzZSAnY3ViZXMnOiB7XG4gICAgICAgIGdlb3NldCA9IFtuZXcgVEhSRUUuQm94R2VvbWV0cnkoMSwgMSwgMSldO1xuICAgICAgICBnZW9zZXRbMF0uYXBwbHlNYXRyaXgobmV3IFRIUkVFLk1hdHJpeDQoKS5tYWtlVHJhbnNsYXRpb24oMCwgMC41LCAwKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAncHlyYW1pZHMnOiB7XG4gICAgICAgIGdlb3NldCA9IFtuZXcgVEhSRUUuQ29uZUdlb21ldHJ5KDEsIDEsIDQsIDEsIHRydWUpXTtcbiAgICAgICAgZ2Vvc2V0WzBdLmFwcGx5TWF0cml4KG5ldyBUSFJFRS5NYXRyaXg0KCkubWFrZVRyYW5zbGF0aW9uKDAsIDAuNSwgMCkpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ2N5bGluZGVycyc6IHtcbiAgICAgICAgZ2Vvc2V0ID0gW25ldyBUSFJFRS5DeWxpbmRlckdlb21ldHJ5KDAuNSwgMC41LCAxLCA4LCAxLCB0cnVlKV07XG4gICAgICAgIGdlb3NldFswXS5hcHBseU1hdHJpeChuZXcgVEhSRUUuTWF0cml4NCgpLm1ha2VUcmFuc2xhdGlvbigwLCAwLjUsIDApKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIGdlb3NldCA9IHRoaXMuZ2V0QXNzZXRHZW9tZXRyeSh0aGlzLmFzc2V0c1tkcmVzc2luZ10pO1xuICAgICAgICBpZiAoIWdlb3NldCkgcmV0dXJuO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgZGFtb3VudCA9IGRyZXNzaW5nQW1vdW50ICsgTWF0aC5mbG9vcih0aGlzLnJhbmRvbSgpICogZHJlc3NpbmdBbW91bnQpO1xuICAgIGNvbnNvbGUubG9nKGRhbW91bnQpO1xuICAgIGZvciAodmFyIGkgPSAwLCByID0gODgzNDM7IGkgPCBkYW1vdW50OyBpKyssIHIrKykge1xuXG4gICAgICB2YXIgZ2VvID0gZ2Vvc2V0W01hdGguZmxvb3IodGhpcy5yYW5kb20oMzMgKiB3aGljaCArIGkpICogZ2Vvc2V0Lmxlbmd0aCldO1xuLypcbiAgICAgIC8vIGNoYW5nZSB2ZXJ0ZXggY29sb3JzXG4gICAgICB2YXIgY29sb3IgPSBuZXcgVEhSRUUuQ29sb3IoMHhGRkZGRkYpLm11bHRpcGx5U2NhbGFyKDEgLSB0aGlzLnJhbmRvbSg2NiArIGkpICogMC4zKTtcblxuICAgICAgZm9yICh2YXIgZiA9IDAsIGZsID0gZ2VvLmZhY2VzLmxlbmd0aDsgZiA8IGZsOyBmKyspIHtcbiAgICAgICAgdmFyIGZhY2UgPSBnZW8uZmFjZXNbZl07XG4gICAgICAgIGZvciAodmFyIHYgPSAwOyB2IDwgMzsgdisrKSB7XG4gICAgICAgICAgcCA9IGdlby52ZXJ0aWNlc1tmYWNlW2ZhY2VpbmRleFt2XV1dOyAvLyBnZXQgdmVydGV4IHBvc2l0aW9uXG4gICAgICAgICAgdmFyIGZsb29yYW8gPSAgcC55IC8gNCArIDAuNzU7XG4gICAgICAgICAgZmFjZS52ZXJ0ZXhDb2xvcnNbdl0gPSBuZXcgVEhSRUUuQ29sb3IoY29sb3IuciAqIGZsb29yYW8sIGNvbG9yLmcgKiBmbG9vcmFvLCBjb2xvci5iICogZmxvb3Jhbyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiovXG4gICAgICAvLyBzZXQgcmFuZG9tIHBvc2l0aW9uLCByb3RhdGlvbiBhbmQgc2NhbGVcbiAgICAgIHZhciBkcyA9IGRyZXNzaW5nU2NhbGU7XG4gICAgICB2YXIgZHYgPSBuZXcgVEhSRUUuVmVjdG9yMyhkcmVzc2luZ1ZhcmlhbmNlLngsIGRyZXNzaW5nVmFyaWFuY2UueSwgZHJlc3NpbmdWYXJpYW5jZS56KTtcbiAgICAgIHZhciBkaXN0YW5jZTtcbiAgICAgIHZhciBydyA9IHIgKiB3aGljaDtcbiAgICAgIHZhciBvblBsYXlBcmVhID0gdGhpcy5yYW5kb20ocncpIDwgZHJlc3NpbmdPblBsYXlBcmVhO1xuICAgICAgaWYgKG9uUGxheUFyZWEpIHtcbiAgICAgICAgZGlzdGFuY2UgPSB0aGlzLnJhbmRvbShydyArIDEpICogMTU7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgZGlzdGFuY2UgPSAxMCArIE1hdGgubWF4KGR2LngsIGR2LnopICsgMTAgKiB0aGlzLnJhbmRvbShydyArIDEpICsgdGhpcy5yYW5kb20ocncgKyAyKSAqIHRoaXMuU1RBR0VfU0laRSAvIDM7XG4gICAgICB9XG5cbiAgICAgIHZhciBkaXJlY3Rpb24gPSB0aGlzLnJhbmRvbShydyArIDMpICogTWF0aC5QSSAqIDI7XG4gICAgICB2YXIgbWF0cml4ID0gbmV3IFRIUkVFLk1hdHJpeDQoKTtcbiAgICAgIHZhciBzY2FsZSA9IHRoaXMucmFuZG9tKHJ3ICsgNCk7XG4gICAgICB2YXIgdW5pZm9ybVNjYWxlID0gZHJlc3NpbmdVbmlmb3JtU2NhbGU7XG5cbiAgICAgIG1hdHJpeC5jb21wb3NlKFxuICAgICAgICAvLyBwb3NpdGlvblxuICAgICAgICBuZXcgVEhSRUUuVmVjdG9yMyhcbiAgICAgICAgICBNYXRoLmNvcyhkaXJlY3Rpb24pICogZGlzdGFuY2UsXG4gICAgICAgICAgMCxcbiAgICAgICAgICBNYXRoLnNpbihkaXJlY3Rpb24pICogZGlzdGFuY2VcbiAgICAgICAgICApLFxuICAgICAgICAvLyByb3RhdGlvblxuICAgICAgICBuZXcgVEhSRUUuUXVhdGVybmlvbigpLnNldEZyb21BeGlzQW5nbGUoXG4gICAgICAgICAgbmV3IFRIUkVFLlZlY3RvcjMoMCwgMSwgMCksXG4gICAgICAgICAgKHRoaXMucmFuZG9tKHJ3ICsgNSkgLSAwLjUpICogZHYubGVuZ3RoKCkgKiBNYXRoLlBJICogMlxuICAgICAgICAgICksXG4gICAgICAgIC8vIHNjYWxlXG4gICAgICAgIG5ldyBUSFJFRS5WZWN0b3IzKFxuICAgICAgICAgICBkcyArICh1bmlmb3JtU2NhbGUgPyBzY2FsZSA6IHRoaXMucmFuZG9tKHJ3ICsgNikpICogZHYueCxcbiAgICAgICAgICAgZHMgKyAodW5pZm9ybVNjYWxlID8gc2NhbGUgOiB0aGlzLnJhbmRvbShydyArIDcpKSAqIGR2LnksXG4gICAgICAgICAgIGRzICsgKHVuaWZvcm1TY2FsZSA/IHNjYWxlIDogdGhpcy5yYW5kb20ocncgKyA4KSkgKiBkdi56XG4gICAgICAgICAgKVxuICAgICAgICApO1xuXG4gICAgICAvLyBtZXJnZSB3aXRoIG1vdGhlciBnZW9tZXRyeVxuICAgICAgZ2VvbWV0cnkubWVyZ2UoZ2VvLCBtYXRyaXgpO1xuICAgIH1cblxuICAgIC8vIGNvbnZlcnQgZ2VvbWV0cnkgdG8gYnVmZmVyZ2VvbWV0cnlcbiAgICB2YXIgYnVmZ2VvID0gbmV3IFRIUkVFLkJ1ZmZlckdlb21ldHJ5KCk7XG4gICAgYnVmZ2VvLmZyb21HZW9tZXRyeShnZW9tZXRyeSk7XG5cbiAgICAvLyBzZXR1cCBtYXRlcmlhbFxuICAgIHZhciBtYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoTGFtYmVydE1hdGVyaWFsKHtcbiAgICAgIGNvbG9yOiB2YXJ5Q29sb3IobmV3IFRIUkVFLkNvbG9yKGRyZXNzaW5nQ29sb3IpLCB0aGlzLnJhbmRvbSwgdGhpcy5kYXRhLnZhcnlDb2xvciksXG4gICAgICB2ZXJ0ZXhDb2xvcnM6IFRIUkVFLlZlcnRleENvbG9yc1xuICAgIH0pO1xuXG4gICAgaWYgKHRoaXMuZGF0YS5mbGF0U2hhZGluZykge1xuICAgICAgYnVmZ2VvLmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKCk7XG4gICAgfVxuXG4gICAgLy8gY3JlYXRlIG1lc2hcbiAgICB2YXIgbWVzaCA9IG5ldyBUSFJFRS5NZXNoKGJ1ZmdlbywgbWF0ZXJpYWwpO1xuICAgIGRyZXNzaW5nT2JqZWN0LmFkZChtZXNoKTtcbiAgICAvLyBhZGQgdG8gc2NlbmVcbiAgICBkcmVzc2luZ0VsLnNldE9iamVjdDNEKCdtZXNoJywgZHJlc3NpbmdPYmplY3QpO1xuICAgIGRyZXNzaW5nRWwub2JqZWN0M0QubWF0ZXJpYWxUb0FuaW1hdGUgPSBtYXRlcmlhbDtcbiAgfSxcblxuICAvLyBpbml0aWFsaXplcyB0aGUgQnVmZmVyR2VvbWV0cnkgZm9yIHRoZSBzdGFyc1xuICBjcmVhdGVTdGFyczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIG51bVN0YXJzID0gMjAwMDtcbiAgICB2YXIgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuQnVmZmVyR2VvbWV0cnkoKTtcbiAgICB2YXIgcG9zaXRpb25zID0gbmV3IEZsb2F0MzJBcnJheSggbnVtU3RhcnMgKiAzICk7XG4gICAgdmFyIHJhZGl1cyA9IHRoaXMuU1RBR0VfU0laRSAtIDE7XG4gICAgdmFyIHYgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9zaXRpb25zLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICB2LnNldCh0aGlzLnJhbmRvbShpICsgMjMpIC0gMC41LCB0aGlzLnJhbmRvbShpICsgMjQpLCB0aGlzLnJhbmRvbShpICsgMjUpIC0gMC41KTtcbiAgICAgIHYubm9ybWFsaXplKCk7XG4gICAgICB2Lm11bHRpcGx5U2NhbGFyKHJhZGl1cyk7XG4gICAgICBwb3NpdGlvbnNbaSAgXSA9IHYueDtcbiAgICAgIHBvc2l0aW9uc1tpKzFdID0gdi55O1xuICAgICAgcG9zaXRpb25zW2krMl0gPSB2Lno7XG4gICAgfVxuICAgIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSgncG9zaXRpb24nLCBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKHBvc2l0aW9ucywgMykpO1xuICAgIGdlb21ldHJ5LnNldERyYXdSYW5nZSgwLCAwKTsgLy8gZG9uJ3QgZHJhdyBhbnkgeWV0XG4gICAgdmFyIG1hdGVyaWFsID0gbmV3IFRIUkVFLlBvaW50c01hdGVyaWFsKHtzaXplOiAwLjAxLCBjb2xvcjogMHhDQ0NDQ0MsIGZvZzogZmFsc2V9KTtcbiAgICB0aGlzLnN0YXJzLnNldE9iamVjdDNEKCdtZXNoJywgbmV3IFRIUkVFLlBvaW50cyhnZW9tZXRyeSwgbWF0ZXJpYWwpKTtcbiAgfSxcblxuICAvLyBTZXRzIHRoZSBudW1iZXIgb2Ygc3RhcnMgdmlzaWJsZS4gQ2FsbHMgY3JlYXRlU3RhcnMoKSB0byBpbml0aWFsaXplIGlmIG5lZWRlZC5cbiAgc2V0U3RhcnM6IGZ1bmN0aW9uIChudW1TdGFycykge1xuICAgIGlmICghdGhpcy5zdGFycyl7XG4gICAgICB0aGlzLnN0YXJzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYS1lbnRpdHknKTtcbiAgICAgIHRoaXMuc3RhcnMuaWQ9ICdzdGFycyc7XG4gICAgICB0aGlzLmNyZWF0ZVN0YXJzKCk7XG4gICAgICB0aGlzLmVsLmFwcGVuZENoaWxkKHRoaXMuc3RhcnMpO1xuICAgIH1cbiAgICBudW1TdGFycyA9IE1hdGguZmxvb3IoTWF0aC5taW4oMjAwMCwgTWF0aC5tYXgoMCwgbnVtU3RhcnMpKSk7XG4gICAgdGhpcy5zdGFycy5nZXRPYmplY3QzRCgnbWVzaCcpLmdlb21ldHJ5LnNldERyYXdSYW5nZSgwLCBudW1TdGFycyk7XG4gIH1cbn0pO1xuXG4vLyBhdG1vc3BoZXJlIHNreSBzaGFkZXIuIEZyb20gaHR0cHM6Ly9naXRodWIuY29tL2FmcmFtZXZyL2FmcmFtZS9ibG9iL21hc3Rlci9leGFtcGxlcy90ZXN0L3NoYWRlcnMvc2hhZGVycy9za3kuanNcbkFGUkFNRS5yZWdpc3RlclNoYWRlcignc2t5c2hhZGVyJywge1xuICBzY2hlbWE6IHtcbiAgICBsdW1pbmFuY2U6IHsgdHlwZTogJ251bWJlcicsIGRlZmF1bHQ6IDEsIG1pbjogMCwgbWF4OiAyLCBpczogJ3VuaWZvcm0nIH0sXG4gICAgdHVyYmlkaXR5OiB7IHR5cGU6ICdudW1iZXInLCBkZWZhdWx0OiAyLCBtaW46IDAsIG1heDogMjAsIGlzOiAndW5pZm9ybScgfSxcbiAgICByZWlsZWlnaDogeyB0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogMSwgbWluOiAwLCBtYXg6IDQsIGlzOiAndW5pZm9ybScgfSxcbiAgICBtaWVDb2VmZmljaWVudDogeyB0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogMC4wMDUsIG1pbjogMCwgbWF4OiAwLjEsIGlzOiAndW5pZm9ybScgfSxcbiAgICBtaWVEaXJlY3Rpb25hbEc6IHsgdHlwZTogJ251bWJlcicsIGRlZmF1bHQ6IDAuOCwgbWluOiAwLCBtYXg6IDEsIGlzOiAndW5pZm9ybScgfSxcbiAgICBzdW5Qb3NpdGlvbjogeyB0eXBlOiAndmVjMycsIGRlZmF1bHQ6IHt4OiAwLCB5OiAwLCB6OiAtMX0sIGlzOiAndW5pZm9ybScgfSxcbiAgICBjb2xvcjoge3R5cGU6ICdjb2xvcicsIGRlZmF1bHQ6ICcjZmZmJ30gLy9wbGFjZWhvbGRlciB0byByZW1vdmUgd2FybmluZ1xuICB9LFxuXG4gIHZlcnRleFNoYWRlcjogW1xuICAgICd2YXJ5aW5nIHZlYzMgdldvcmxkUG9zaXRpb247JyxcbiAgICAndm9pZCBtYWluKCkgeycsXG4gICAgJ3ZlYzQgd29ybGRQb3NpdGlvbiA9IG1vZGVsTWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApOycsXG4gICAgJ3ZXb3JsZFBvc2l0aW9uID0gd29ybGRQb3NpdGlvbi54eXo7JyxcbiAgICAnZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbW9kZWxWaWV3TWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApOycsXG4gICAgJ30nXG4gIF0uam9pbignXFxuJyksXG5cbiAgZnJhZ21lbnRTaGFkZXI6IFtcbiAgICAndW5pZm9ybSBzYW1wbGVyMkQgc2t5U2FtcGxlcjsnLFxuICAgICd1bmlmb3JtIHZlYzMgc3VuUG9zaXRpb247JyxcbiAgICAndmFyeWluZyB2ZWMzIHZXb3JsZFBvc2l0aW9uOycsXG5cbiAgICAndmVjMyBjYW1lcmFQb3MgPSB2ZWMzKDAuLCAwLiwgMC4pOycsXG5cbiAgICAndW5pZm9ybSBmbG9hdCBsdW1pbmFuY2U7JyxcbiAgICAndW5pZm9ybSBmbG9hdCB0dXJiaWRpdHk7JyxcbiAgICAndW5pZm9ybSBmbG9hdCByZWlsZWlnaDsnLFxuICAgICd1bmlmb3JtIGZsb2F0IG1pZUNvZWZmaWNpZW50OycsXG4gICAgJ3VuaWZvcm0gZmxvYXQgbWllRGlyZWN0aW9uYWxHOycsXG5cbiAgICAvLyBjb25zdGFudHMgZm9yIGF0bW9zcGhlcmljIHNjYXR0ZXJpbmcnXG4gICAgJ2NvbnN0IGZsb2F0IGUgPSAyLjcxODI4MTgyODQ1OTA0NTIzNTM2MDI4NzQ3MTM1MjY2MjQ5Nzc1NzI0NzA5MzY5OTk1OTU3OycsXG4gICAgJ2NvbnN0IGZsb2F0IHBpID0gMy4xNDE1OTI2NTM1ODk3OTMyMzg0NjI2NDMzODMyNzk1MDI4ODQxOTcxNjk7JyxcblxuICAgIC8vIHJlZnJhY3RpdmUgaW5kZXggb2YgYWlyXG4gICAgJ2NvbnN0IGZsb2F0IG4gPSAxLjAwMDM7JyxcbiAgICAvLyBudW1iZXIgb2YgbW9sZWN1bGVzIHBlciB1bml0IHZvbHVtZSBmb3IgYWlyIGF0J1xuICAgICdjb25zdCBmbG9hdCBOID0gMi41NDVFMjU7JyAsXG4gICAgLy8gMjg4LjE1SyBhbmQgMTAxM21iIChzZWEgbGV2ZWwgLTQ1IGNlbHNpdXMpXG4gICAgLy8gZGVwb2xhdGl6YXRpb24gZmFjdG9yIGZvciBzdGFuZGFyZCBhaXJcbiAgICAnY29uc3QgZmxvYXQgcG4gPSAwLjAzNTsnLFxuICAgIC8vIHdhdmVsZW5ndGggb2YgdXNlZCBwcmltYXJpZXMsIGFjY29yZGluZyB0byBwcmVldGhhbVxuICAgICdjb25zdCB2ZWMzIGxhbWJkYSA9IHZlYzMoNjgwRS05LCA1NTBFLTksIDQ1MEUtOSk7JyxcblxuICAgIC8vIG1pZSBzdHVmZlxuICAgIC8vIEsgY29lZmZpY2llbnQgZm9yIHRoZSBwcmltYXJpZXNcbiAgICAnY29uc3QgdmVjMyBLID0gdmVjMygwLjY4NiwgMC42NzgsIDAuNjY2KTsnLFxuICAgICdjb25zdCBmbG9hdCB2ID0gNC4wOycsXG5cbiAgICAvLyBvcHRpY2FsIGxlbmd0aCBhdCB6ZW5pdGggZm9yIG1vbGVjdWxlc1xuICAgICdjb25zdCBmbG9hdCByYXlsZWlnaFplbml0aExlbmd0aCA9IDguNEUzOycsXG4gICAgJ2NvbnN0IGZsb2F0IG1pZVplbml0aExlbmd0aCA9IDEuMjVFMzsnLFxuICAgICdjb25zdCB2ZWMzIHVwID0gdmVjMygwLjAsIDEuMCwgMC4wKTsnLFxuXG4gICAgJ2NvbnN0IGZsb2F0IEVFID0gMTAwMC4wOycsXG4gICAgJ2NvbnN0IGZsb2F0IHN1bkFuZ3VsYXJEaWFtZXRlckNvcyA9IDAuOTk5OTU2Njc2OTQ2NDQ4NDQzNTUzNTc0NjE5OTA2OTc2NDc4OTI2ODQ4NjkyODczOTAwODU5MzI0OycsXG4gICAgLy8gNjYgYXJjIHNlY29uZHMgLT4gZGVncmVlcywgYW5kIHRoZSBjb3NpbmUgb2YgdGhhdFxuXG4gICAgLy8gZWFydGggc2hhZG93IGhhY2snXG4gICAgJ2NvbnN0IGZsb2F0IGN1dG9mZkFuZ2xlID0gcGkvMS45NTsnLFxuICAgICdjb25zdCBmbG9hdCBzdGVlcG5lc3MgPSAxLjU7JyxcblxuICAgICd2ZWMzIHRvdGFsUmF5bGVpZ2godmVjMyBsYW1iZGEpJyxcbiAgICAneycsXG4gICAgJ3JldHVybiAoOC4wICogcG93KHBpLCAzLjApICogcG93KHBvdyhuLCAyLjApIC0gMS4wLCAyLjApICogKDYuMCArIDMuMCAqIHBuKSkgLyAoMy4wICogTiAqIHBvdyhsYW1iZGEsIHZlYzMoNC4wKSkgKiAoNi4wIC0gNy4wICogcG4pKTsnLFxuICAgICd9JyxcblxuICAgIC8vIHNlZSBodHRwOi8vYmxlbmRlcmFydGlzdHMub3JnL2ZvcnVtL3Nob3d0aHJlYWQucGhwPzMyMTExMC1TaGFkZXJzLWFuZC1Ta3lib3gtbWFkbmVzc1xuICAgIC8vIEEgc2ltcGxpZWQgdmVyc2lvbiBvZiB0aGUgdG90YWwgUmF5bGVpZ2ggc2NhdHRlcmluZyB0byB3b3JrcyBvbiBicm93c2VycyB0aGF0IHVzZSBBTkdMRVxuICAgICd2ZWMzIHNpbXBsaWZpZWRSYXlsZWlnaCgpJyxcbiAgICAneycsXG4gICAgJ3JldHVybiAwLjAwMDUgLyB2ZWMzKDk0LCA0MCwgMTgpOycsXG4gICAgJ30nLFxuXG4gICAgJ2Zsb2F0IHJheWxlaWdoUGhhc2UoZmxvYXQgY29zVGhldGEpJyxcbiAgICAneyAgICcsXG4gICAgJ3JldHVybiAoMy4wIC8gKDE2LjAqcGkpKSAqICgxLjAgKyBwb3coY29zVGhldGEsIDIuMCkpOycsXG4gICAgJ30nLFxuXG4gICAgJ3ZlYzMgdG90YWxNaWUodmVjMyBsYW1iZGEsIHZlYzMgSywgZmxvYXQgVCknLFxuICAgICd7JyxcbiAgICAnZmxvYXQgYyA9ICgwLjIgKiBUICkgKiAxMEUtMTg7JyxcbiAgICAncmV0dXJuIDAuNDM0ICogYyAqIHBpICogcG93KCgyLjAgKiBwaSkgLyBsYW1iZGEsIHZlYzModiAtIDIuMCkpICogSzsnLFxuICAgICd9JyxcblxuICAgICdmbG9hdCBoZ1BoYXNlKGZsb2F0IGNvc1RoZXRhLCBmbG9hdCBnKScsXG4gICAgJ3snLFxuICAgICdyZXR1cm4gKDEuMCAvICg0LjAqcGkpKSAqICgoMS4wIC0gcG93KGcsIDIuMCkpIC8gcG93KDEuMCAtIDIuMCpnKmNvc1RoZXRhICsgcG93KGcsIDIuMCksIDEuNSkpOycsXG4gICAgJ30nLFxuXG4gICAgJ2Zsb2F0IHN1bkludGVuc2l0eShmbG9hdCB6ZW5pdGhBbmdsZUNvcyknLFxuICAgICd7JyxcbiAgICAncmV0dXJuIEVFICogbWF4KDAuMCwgMS4wIC0gZXhwKC0oKGN1dG9mZkFuZ2xlIC0gYWNvcyh6ZW5pdGhBbmdsZUNvcykpL3N0ZWVwbmVzcykpKTsnLFxuICAgICd9JyxcblxuICAgICcvLyBGaWxtaWMgVG9uZU1hcHBpbmcgaHR0cDovL2ZpbG1pY2dhbWVzLmNvbS9hcmNoaXZlcy83NScsXG4gICAgJ2Zsb2F0IEEgPSAwLjE1OycsXG4gICAgJ2Zsb2F0IEIgPSAwLjUwOycsXG4gICAgJ2Zsb2F0IEMgPSAwLjEwOycsXG4gICAgJ2Zsb2F0IEQgPSAwLjIwOycsXG4gICAgJ2Zsb2F0IEUgPSAwLjAyOycsXG4gICAgJ2Zsb2F0IEYgPSAwLjMwOycsXG4gICAgJ2Zsb2F0IFcgPSAxMDAwLjA7JyxcblxuICAgICd2ZWMzIFVuY2hhcnRlZDJUb25lbWFwKHZlYzMgeCknLFxuICAgICd7JyxcbiAgICAncmV0dXJuICgoeCooQSp4K0MqQikrRCpFKS8oeCooQSp4K0IpK0QqRikpLUUvRjsnLFxuICAgICd9JyxcblxuICAgICd2b2lkIG1haW4oKSAnLFxuICAgICd7JyxcbiAgICAnZmxvYXQgc3VuZmFkZSA9IDEuMC1jbGFtcCgxLjAtZXhwKChzdW5Qb3NpdGlvbi55LzQ1MDAwMC4wKSksMC4wLDEuMCk7JyxcblxuICAgICdmbG9hdCByZWlsZWlnaENvZWZmaWNpZW50ID0gcmVpbGVpZ2ggLSAoMS4wKiAoMS4wLXN1bmZhZGUpKTsnLFxuXG4gICAgJ3ZlYzMgc3VuRGlyZWN0aW9uID0gbm9ybWFsaXplKHN1blBvc2l0aW9uKTsnLFxuXG4gICAgJ2Zsb2F0IHN1bkUgPSBzdW5JbnRlbnNpdHkoZG90KHN1bkRpcmVjdGlvbiwgdXApKTsnLFxuXG4gICAgLy8gZXh0aW5jdGlvbiAoYWJzb3JidGlvbiArIG91dCBzY2F0dGVyaW5nKVxuICAgIC8vIHJheWxlaWdoIGNvZWZmaWNpZW50c1xuXG4gICAgJ3ZlYzMgYmV0YVIgPSBzaW1wbGlmaWVkUmF5bGVpZ2goKSAqIHJlaWxlaWdoQ29lZmZpY2llbnQ7JyxcblxuICAgIC8vIG1pZSBjb2VmZmljaWVudHNcbiAgICAndmVjMyBiZXRhTSA9IHRvdGFsTWllKGxhbWJkYSwgSywgdHVyYmlkaXR5KSAqIG1pZUNvZWZmaWNpZW50OycsXG5cbiAgICAvLyBvcHRpY2FsIGxlbmd0aFxuICAgIC8vIGN1dG9mZiBhbmdsZSBhdCA5MCB0byBhdm9pZCBzaW5ndWxhcml0eSBpbiBuZXh0IGZvcm11bGEuXG4gICAgJ2Zsb2F0IHplbml0aEFuZ2xlID0gYWNvcyhtYXgoMC4wLCBkb3QodXAsIG5vcm1hbGl6ZSh2V29ybGRQb3NpdGlvbiAtIGNhbWVyYVBvcykpKSk7JyxcbiAgICAnZmxvYXQgc1IgPSByYXlsZWlnaFplbml0aExlbmd0aCAvIChjb3MoemVuaXRoQW5nbGUpICsgMC4xNSAqIHBvdyg5My44ODUgLSAoKHplbml0aEFuZ2xlICogMTgwLjApIC8gcGkpLCAtMS4yNTMpKTsnLFxuICAgICdmbG9hdCBzTSA9IG1pZVplbml0aExlbmd0aCAvIChjb3MoemVuaXRoQW5nbGUpICsgMC4xNSAqIHBvdyg5My44ODUgLSAoKHplbml0aEFuZ2xlICogMTgwLjApIC8gcGkpLCAtMS4yNTMpKTsnLFxuXG4gICAgLy8gY29tYmluZWQgZXh0aW5jdGlvbiBmYWN0b3JcbiAgICAndmVjMyBGZXggPSBleHAoLShiZXRhUiAqIHNSICsgYmV0YU0gKiBzTSkpOycsXG5cbiAgICAvLyBpbiBzY2F0dGVyaW5nXG4gICAgJ2Zsb2F0IGNvc1RoZXRhID0gZG90KG5vcm1hbGl6ZSh2V29ybGRQb3NpdGlvbiAtIGNhbWVyYVBvcyksIHN1bkRpcmVjdGlvbik7JyxcblxuICAgICdmbG9hdCByUGhhc2UgPSByYXlsZWlnaFBoYXNlKGNvc1RoZXRhKjAuNSswLjUpOycsXG4gICAgJ3ZlYzMgYmV0YVJUaGV0YSA9IGJldGFSICogclBoYXNlOycsXG5cbiAgICAnZmxvYXQgbVBoYXNlID0gaGdQaGFzZShjb3NUaGV0YSwgbWllRGlyZWN0aW9uYWxHKTsnLFxuICAgICd2ZWMzIGJldGFNVGhldGEgPSBiZXRhTSAqIG1QaGFzZTsnLFxuXG4gICAgJ3ZlYzMgTGluID0gcG93KHN1bkUgKiAoKGJldGFSVGhldGEgKyBiZXRhTVRoZXRhKSAvIChiZXRhUiArIGJldGFNKSkgKiAoMS4wIC0gRmV4KSx2ZWMzKDEuNSkpOycsXG4gICAgJ0xpbiAqPSBtaXgodmVjMygxLjApLHBvdyhzdW5FICogKChiZXRhUlRoZXRhICsgYmV0YU1UaGV0YSkgLyAoYmV0YVIgKyBiZXRhTSkpICogRmV4LHZlYzMoMS4wLzIuMCkpLGNsYW1wKHBvdygxLjAtZG90KHVwLCBzdW5EaXJlY3Rpb24pLDUuMCksMC4wLDEuMCkpOycsXG5cbiAgICAvL25pZ2h0c2t5XG4gICAgJ3ZlYzMgZGlyZWN0aW9uID0gbm9ybWFsaXplKHZXb3JsZFBvc2l0aW9uIC0gY2FtZXJhUG9zKTsnLFxuICAgICdmbG9hdCB0aGV0YSA9IGFjb3MoZGlyZWN0aW9uLnkpOyAvLyBlbGV2YXRpb24gLS0+IHktYXhpcywgWy1waS8yLCBwaS8yXScsXG4gICAgJ2Zsb2F0IHBoaSA9IGF0YW4oZGlyZWN0aW9uLnosIGRpcmVjdGlvbi54KTsgLy8gYXppbXV0aCAtLT4geC1heGlzIFstcGkvMiwgcGkvMl0nLFxuICAgICd2ZWMyIHV2ID0gdmVjMihwaGksIHRoZXRhKSAvIHZlYzIoMi4wKnBpLCBwaSkgKyB2ZWMyKDAuNSwgMC4wKTsnLFxuICAgIC8vIHZlYzMgTDAgPSB0ZXh0dXJlMkQoc2t5U2FtcGxlciwgdXYpLnJnYiswLjEgKiBGZXg7XG4gICAgJ3ZlYzMgTDAgPSB2ZWMzKDAuMSkgKiBGZXg7JyxcblxuICAgIC8vIGNvbXBvc2l0aW9uICsgc29sYXIgZGlzY1xuICAgICdmbG9hdCBzdW5kaXNrID0gc21vb3Roc3RlcChzdW5Bbmd1bGFyRGlhbWV0ZXJDb3Msc3VuQW5ndWxhckRpYW1ldGVyQ29zKzAuMDAwMDIsY29zVGhldGEpOycsXG4gICAgJ0wwICs9IChzdW5FICogMTkwMDAuMCAqIEZleCkqc3VuZGlzazsnLFxuXG4gICAgJ3ZlYzMgd2hpdGVTY2FsZSA9IDEuMC9VbmNoYXJ0ZWQyVG9uZW1hcCh2ZWMzKFcpKTsnLFxuXG4gICAgJ3ZlYzMgdGV4Q29sb3IgPSAoTGluK0wwKTsgICAnLFxuICAgICd0ZXhDb2xvciAqPSAwLjA0IDsnLFxuICAgICd0ZXhDb2xvciArPSB2ZWMzKDAuMCwwLjAwMSwwLjAwMjUpKjAuMzsnLFxuXG4gICAgJ2Zsb2F0IGdfZk1heEx1bWluYW5jZSA9IDEuMDsnLFxuICAgICdmbG9hdCBmTHVtU2NhbGVkID0gMC4xIC8gbHVtaW5hbmNlOyAgICAgJyxcbiAgICAnZmxvYXQgZkx1bUNvbXByZXNzZWQgPSAoZkx1bVNjYWxlZCAqICgxLjAgKyAoZkx1bVNjYWxlZCAvIChnX2ZNYXhMdW1pbmFuY2UgKiBnX2ZNYXhMdW1pbmFuY2UpKSkpIC8gKDEuMCArIGZMdW1TY2FsZWQpOyAnLFxuXG4gICAgJ2Zsb2F0IEV4cG9zdXJlQmlhcyA9IGZMdW1Db21wcmVzc2VkOycsXG5cbiAgICAndmVjMyBjdXJyID0gVW5jaGFydGVkMlRvbmVtYXAoKGxvZzIoMi4wL3BvdyhsdW1pbmFuY2UsNC4wKSkpKnRleENvbG9yKTsnLFxuICAgICd2ZWMzIGNvbG9yID0gY3Vycip3aGl0ZVNjYWxlOycsXG5cbiAgICAndmVjMyByZXRDb2xvciA9IHBvdyhjb2xvcix2ZWMzKDEuMC8oMS4yKygxLjIqc3VuZmFkZSkpKSk7JyxcblxuICAgICdnbF9GcmFnQ29sb3IucmdiID0gcmV0Q29sb3I7JyxcblxuICAgICdnbF9GcmFnQ29sb3IuYSA9IDEuMDsnLFxuICAgICd9J1xuICBdLmpvaW4oJ1xcbicpXG59KTtcblxuXG4vLyBncmFkaWVudCBza3kgc2hhZGVyXG5cbkFGUkFNRS5yZWdpc3RlclNoYWRlcignZ3JhZGllbnRzaGFkZXInLCB7XG4gIHNjaGVtYToge1xuICAgIHRvcENvbG9yOiB7dHlwZTogJ2NvbG9yJywgZGVmYXVsdDogJzEgMCAwJywgaXM6ICd1bmlmb3JtJ30sXG4gICAgYm90dG9tQ29sb3I6IHt0eXBlOiAnY29sb3InLCBkZWZhdWx0OiAnMCAwIDEnLCBpczogJ3VuaWZvcm0nfVxuICB9LFxuXG4gIHZlcnRleFNoYWRlcjogW1xuICAgICd2YXJ5aW5nIHZlYzMgdldvcmxkUG9zaXRpb247JyxcbiAgICAndm9pZCBtYWluKCkgeycsXG4gICAgJyB2ZWM0IHdvcmxkUG9zaXRpb24gPSBtb2RlbE1hdHJpeCAqIHZlYzQoIHBvc2l0aW9uLCAxLjAgKTsnLFxuICAgICcgdldvcmxkUG9zaXRpb24gPSB3b3JsZFBvc2l0aW9uLnh5ejsnLFxuICAgICcgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbW9kZWxWaWV3TWF0cml4ICogdmVjNChwb3NpdGlvbiwgMS4wICk7JyxcbiAgICAnfSdcbiAgXS5qb2luKCdcXG4nKSxcblxuICBmcmFnbWVudFNoYWRlcjogW1xuICAgICd1bmlmb3JtIHZlYzMgYm90dG9tQ29sb3I7JyxcbiAgICAndW5pZm9ybSB2ZWMzIHRvcENvbG9yOycsXG4gICAgJ3VuaWZvcm0gZmxvYXQgb2Zmc2V0OycsXG4gICAgJ3ZhcnlpbmcgdmVjMyB2V29ybGRQb3NpdGlvbjsnLFxuICAgICd2b2lkIG1haW4oKSB7JyxcbiAgICAnIGZsb2F0IGggPSBub3JtYWxpemUoIHZXb3JsZFBvc2l0aW9uICkueTsnLFxuICAgICcgZ2xfRnJhZ0NvbG9yID0gdmVjNCggbWl4KCBib3R0b21Db2xvciwgdG9wQ29sb3IsIG1heCggcG93KCBtYXgoaCwgMC4wICksIDAuOCApLCAwLjAgKSApLCAxLjAgKTsnLFxuICAgICd9J1xuICBdLmpvaW4oJ1xcbicpXG59KTtcblxuLy8gcGVybGluIG5vaXNlIGdlbmVyYXRvclxuLy8gZnJvbSBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9iYW5rc2Vhbi8zMDQ1MjJcblxudmFyIFBlcmxpbk5vaXNlID0gZnVuY3Rpb24ocikge1xuICBpZiAociA9PSB1bmRlZmluZWQpIHIgPSBNYXRoO1xuICB0aGlzLmdyYWQzID0gW1sxLDEsMF0sWy0xLDEsMF0sWzEsLTEsMF0sWy0xLC0xLDBdLFsxLDAsMV0sWy0xLDAsMV0sWzEsMCwtMV0sWy0xLDAsLTFdLFswLDEsMV0sWzAsLTEsMV0sWzAsMSwtMV0sWzAsLTEsLTFdXTtcbiAgdGhpcy5wID0gW107XG4gIHZhciBpO1xuICBmb3IgKGk9MDsgaTwyNTY7IGkrKykge1xuICAgIHRoaXMucFtpXSA9IE1hdGguZmxvb3Ioci5yYW5kb20oNjY2KSoyNTYpO1xuICB9XG4gIC8vIFRvIHJlbW92ZSB0aGUgbmVlZCBmb3IgaW5kZXggd3JhcHBpbmcsIGRvdWJsZSB0aGUgcGVybXV0YXRpb24gdGFibGUgbGVuZ3RoXG4gIHRoaXMucGVybSA9IFtdO1xuICBmb3IoaT0wOyBpPDUxMjsgaSsrKSB7XG4gICAgdGhpcy5wZXJtW2ldPXRoaXMucFtpICYgMjU1XTtcbiAgfVxufTtcblxuUGVybGluTm9pc2UucHJvdG90eXBlLmRvdCA9IGZ1bmN0aW9uKGcsIHgsIHksIHopIHtcbiAgcmV0dXJuIGdbMF0qeCArIGdbMV0qeSArIGdbMl0qejtcbn07XG5cblBlcmxpbk5vaXNlLnByb3RvdHlwZS5taXggPSBmdW5jdGlvbihhLCBiLCB0KSB7XG4gIHJldHVybiAoMS4wLXQpKmEgKyB0KmI7XG59O1xuXG5QZXJsaW5Ob2lzZS5wcm90b3R5cGUuZmFkZSA9IGZ1bmN0aW9uKHQpIHtcbiAgcmV0dXJuIHQqdCp0Kih0Kih0KjYuMC0xNS4wKSsxMC4wKTtcbn07XG5cbi8vIENsYXNzaWMgUGVybGluIG5vaXNlLCAzRCB2ZXJzaW9uXG5QZXJsaW5Ob2lzZS5wcm90b3R5cGUubm9pc2UgPSBmdW5jdGlvbih4LCB5LCB6KSB7XG4gIC8vIEZpbmQgdW5pdCBncmlkIGNlbGwgY29udGFpbmluZyBwb2ludFxuICB2YXIgWCA9IE1hdGguZmxvb3IoeCk7XG4gIHZhciBZID0gTWF0aC5mbG9vcih5KTtcbiAgdmFyIFogPSBNYXRoLmZsb29yKHopO1xuXG4gIC8vIEdldCByZWxhdGl2ZSB4eXogY29vcmRpbmF0ZXMgb2YgcG9pbnQgd2l0aGluIHRoYXQgY2VsbFxuICB4ID0geCAtIFg7XG4gIHkgPSB5IC0gWTtcbiAgeiA9IHogLSBaO1xuXG4gIC8vIFdyYXAgdGhlIGludGVnZXIgY2VsbHMgYXQgMjU1IChzbWFsbGVyIGludGVnZXIgcGVyaW9kIGNhbiBiZSBpbnRyb2R1Y2VkIGhlcmUpXG4gIFggPSBYICYgMjU1O1xuICBZID0gWSAmIDI1NTtcbiAgWiA9IFogJiAyNTU7XG5cbiAgLy8gQ2FsY3VsYXRlIGEgc2V0IG9mIGVpZ2h0IGhhc2hlZCBncmFkaWVudCBpbmRpY2VzXG4gIHZhciBnaTAwMCA9IHRoaXMucGVybVtYK3RoaXMucGVybVtZK3RoaXMucGVybVtaXV1dICUgMTI7XG4gIHZhciBnaTAwMSA9IHRoaXMucGVybVtYK3RoaXMucGVybVtZK3RoaXMucGVybVtaKzFdXV0gJSAxMjtcbiAgdmFyIGdpMDEwID0gdGhpcy5wZXJtW1grdGhpcy5wZXJtW1krMSt0aGlzLnBlcm1bWl1dXSAlIDEyO1xuICB2YXIgZ2kwMTEgPSB0aGlzLnBlcm1bWCt0aGlzLnBlcm1bWSsxK3RoaXMucGVybVtaKzFdXV0gJSAxMjtcbiAgdmFyIGdpMTAwID0gdGhpcy5wZXJtW1grMSt0aGlzLnBlcm1bWSt0aGlzLnBlcm1bWl1dXSAlIDEyO1xuICB2YXIgZ2kxMDEgPSB0aGlzLnBlcm1bWCsxK3RoaXMucGVybVtZK3RoaXMucGVybVtaKzFdXV0gJSAxMjtcbiAgdmFyIGdpMTEwID0gdGhpcy5wZXJtW1grMSt0aGlzLnBlcm1bWSsxK3RoaXMucGVybVtaXV1dICUgMTI7XG4gIHZhciBnaTExMSA9IHRoaXMucGVybVtYKzErdGhpcy5wZXJtW1krMSt0aGlzLnBlcm1bWisxXV1dICUgMTI7XG5cbiAgLy8gVGhlIGdyYWRpZW50cyBvZiBlYWNoIGNvcm5lciBhcmUgbm93OlxuICAvLyBnMDAwID0gZ3JhZDNbZ2kwMDBdO1xuICAvLyBnMDAxID0gZ3JhZDNbZ2kwMDFdO1xuICAvLyBnMDEwID0gZ3JhZDNbZ2kwMTBdO1xuICAvLyBnMDExID0gZ3JhZDNbZ2kwMTFdO1xuICAvLyBnMTAwID0gZ3JhZDNbZ2kxMDBdO1xuICAvLyBnMTAxID0gZ3JhZDNbZ2kxMDFdO1xuICAvLyBnMTEwID0gZ3JhZDNbZ2kxMTBdO1xuICAvLyBnMTExID0gZ3JhZDNbZ2kxMTFdO1xuICAvLyBDYWxjdWxhdGUgbm9pc2UgY29udHJpYnV0aW9ucyBmcm9tIGVhY2ggb2YgdGhlIGVpZ2h0IGNvcm5lcnNcbiAgdmFyIG4wMDA9IHRoaXMuZG90KHRoaXMuZ3JhZDNbZ2kwMDBdLCB4LCB5LCB6KTtcbiAgdmFyIG4xMDA9IHRoaXMuZG90KHRoaXMuZ3JhZDNbZ2kxMDBdLCB4LTEsIHksIHopO1xuICB2YXIgbjAxMD0gdGhpcy5kb3QodGhpcy5ncmFkM1tnaTAxMF0sIHgsIHktMSwgeik7XG4gIHZhciBuMTEwPSB0aGlzLmRvdCh0aGlzLmdyYWQzW2dpMTEwXSwgeC0xLCB5LTEsIHopO1xuICB2YXIgbjAwMT0gdGhpcy5kb3QodGhpcy5ncmFkM1tnaTAwMV0sIHgsIHksIHotMSk7XG4gIHZhciBuMTAxPSB0aGlzLmRvdCh0aGlzLmdyYWQzW2dpMTAxXSwgeC0xLCB5LCB6LTEpO1xuICB2YXIgbjAxMT0gdGhpcy5kb3QodGhpcy5ncmFkM1tnaTAxMV0sIHgsIHktMSwgei0xKTtcbiAgdmFyIG4xMTE9IHRoaXMuZG90KHRoaXMuZ3JhZDNbZ2kxMTFdLCB4LTEsIHktMSwgei0xKTtcbiAgLy8gQ29tcHV0ZSB0aGUgZmFkZSBjdXJ2ZSB2YWx1ZSBmb3IgZWFjaCBvZiB4LCB5LCB6XG4gIHZhciB1ID0gdGhpcy5mYWRlKHgpO1xuICB2YXIgdiA9IHRoaXMuZmFkZSh5KTtcbiAgdmFyIHcgPSB0aGlzLmZhZGUoeik7XG4gICAvLyBJbnRlcnBvbGF0ZSBhbG9uZyB4IHRoZSBjb250cmlidXRpb25zIGZyb20gZWFjaCBvZiB0aGUgY29ybmVyc1xuICB2YXIgbngwMCA9IHRoaXMubWl4KG4wMDAsIG4xMDAsIHUpO1xuICB2YXIgbngwMSA9IHRoaXMubWl4KG4wMDEsIG4xMDEsIHUpO1xuICB2YXIgbngxMCA9IHRoaXMubWl4KG4wMTAsIG4xMTAsIHUpO1xuICB2YXIgbngxMSA9IHRoaXMubWl4KG4wMTEsIG4xMTEsIHUpO1xuICAvLyBJbnRlcnBvbGF0ZSB0aGUgZm91ciByZXN1bHRzIGFsb25nIHlcbiAgdmFyIG54eTAgPSB0aGlzLm1peChueDAwLCBueDEwLCB2KTtcbiAgdmFyIG54eTEgPSB0aGlzLm1peChueDAxLCBueDExLCB2KTtcbiAgLy8gSW50ZXJwb2xhdGUgdGhlIHR3byBsYXN0IHJlc3VsdHMgYWxvbmcgelxuICB2YXIgbnh5eiA9IHRoaXMubWl4KG54eTAsIG54eTEsIHcpO1xuXG4gIHJldHVybiBueHl6O1xufTtcblxuZnVuY3Rpb24gdmFyeUNvbG9yIChjb2xvciwgcmFuZG9tLCB2YXJ5RW5hYmxlZCkge1xuICBpZiAoIXZhcnlFbmFibGVkKSB7IHJldHVybiBjb2xvcjsgfVxuXG4gIGlmIChyYW5kb20oMSkgPCAwLjUpIHtcbiAgICBjb2xvci5yICs9IHJhbmRvbSgyKSAqIDAuMjtcbiAgfSBlbHNlIHtcbiAgICBjb2xvci5yIC09IHJhbmRvbSgzKSAqIDAuMjtcbiAgfVxuXG4gIGlmIChyYW5kb20oNCkgPCAwLjUpIHtcbiAgICBjb2xvci5nICs9IHJhbmRvbSg1KSAqIDAuMjtcbiAgfSBlbHNlIHtcbiAgICBjb2xvci5nIC09IHJhbmRvbSg2KSAqIDAuMjtcbiAgfVxuXG4gIGlmIChyYW5kb20oNykgPCAwLjUpIHtcbiAgICBjb2xvci5iICs9IHJhbmRvbSg4KSAqIDAuMjtcbiAgfSBlbHNlIHtcbiAgICBjb2xvci5iIC09IHJhbmRvbSg5KSAqIDAuMjtcbiAgfVxuXG4gIHJldHVybiBjb2xvcjtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL2Vudmlyb25tZW50LmpzIiwidmFyIEhJTlRTX09QRU5FRCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2hpbnRzT3BlbmVkJykgfHwgJ3t9Jyk7XG5cbkFGUkFNRS5yZWdpc3RlckNvbXBvbmVudCgnaGludCcsIHtcbiAgc2NoZW1hOiB7XG4gICAgbmVhcjoge2RlZmF1bHQ6IGZhbHNlfVxuICB9LFxuXG4gIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY2FtZXJhO1xuICAgIHZhciBjYW1lcmFGcm9udDtcbiAgICB2YXIgZWwgPSB0aGlzLmVsO1xuICAgIHZhciB0ZXh0RWw7XG5cbiAgICAvLyBNZXNzYWdlLlxuICAgIHRleHRFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EtZW50aXR5Jyk7XG4gICAgdGV4dEVsLmNsYXNzTGlzdC5hZGQoJ2l0ZW1UZXh0Jyk7XG4gICAgdGV4dEVsLnNldEF0dHJpYnV0ZSgnbWl4aW4nLCAnaXRlbVRleHQnKTtcbiAgICB0ZXh0RWwub2JqZWN0M0QucG9zaXRpb24uY29weShlbC5vYmplY3QzRC5wb3NpdGlvbik7XG4gICAgdGV4dEVsLm9iamVjdDNELnBvc2l0aW9uLnkgPSAtMTtcbiAgICB0ZXh0RWwub2JqZWN0M0QucG9zaXRpb24ueiAtPSAwLjU7XG4gICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdicm9uemVrZXknKSA9PT0gJ3RydWUnIHx8IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqYWRla2V5JykgPT09ICd0cnVlJykge1xuICAgICAgdGV4dEVsLnNldEF0dHJpYnV0ZSgndGV4dCcsICd2YWx1ZScsIHRoaXMuZGF0YS5uZWFyXG4gICAgICAgID8gJ1RIRSBFR0cgSVMgTkVBUlxcbldPVUxEIFlPVSBLSU5ETFkuLi5LRUVQIEhVTlRJTkc/XFxufidcbiAgICAgICAgOiAnT1VSIEVHRyBJUyBJTiBBTk9USEVSIENBU1RMRVxcbn4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGV4dEVsLnNldEF0dHJpYnV0ZSgndGV4dCcsICd2YWx1ZScsIGBGSU5EIFRIRSBLRVlcXG5TT01FVElNRVMgWU9VIEpVU1QgSEFWRSBUT1xcbkdPIEJBQ0tXQVJEU1xcbn5gKTtcbiAgICB9XG4gICAgZWwuc2NlbmVFbC5hcHBlbmRDaGlsZCh0ZXh0RWwpO1xuXG4gICAgLy8gQWxyZWFkeSB0b3VjaGVkLlxuICAgIGlmIChISU5UU19PUEVORURbd2luZG93LmxvY2F0aW9uLmhyZWZdKSB7XG4gICAgICBlbC5vYmplY3QzRC52aXNpYmxlID0gZmFsc2U7XG4gICAgICB0ZXh0RWwub2JqZWN0M0QucG9zaXRpb24ueSA9IDEuNjtcbiAgICAgIHRleHRFbC5vYmplY3QzRC5sb29rQXQoMCwgMS42LCAwKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjYW1lcmFGcm9udCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW1lcmFGcm9udCcpO1xuXG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlZCcsICgpID0+IHtcbiAgICAgIGNhbWVyYUZyb250Lm9iamVjdDNELmdldFdvcmxkUG9zaXRpb24odGV4dEVsLm9iamVjdDNELnBvc2l0aW9uKTtcbiAgICAgIHRleHRFbC5vYmplY3QzRC5sb29rQXQoY2FtZXJhLm9iamVjdDNELmdldFdvcmxkUG9zaXRpb24oKSk7XG4gICAgICB0ZXh0RWwuZW1pdCgnaXRlbXRvdWNoZWQnKTtcbiAgICAgIEhJTlRTX09QRU5FRFt3aW5kb3cubG9jYXRpb24uaHJlZl0gPSB0cnVlO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2hpbnRzT3BlbmVkJywgSlNPTi5zdHJpbmdpZnkoSElOVFNfT1BFTkVEKSk7XG4gICAgfSk7XG4gIH1cbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvaGludC5qcyIsIkFGUkFNRS5yZWdpc3RlckNvbXBvbmVudCgnaXRlbScsIHtcbiAgc2NoZW1hOiB7XG4gICAgbWVzc2FnZToge3R5cGU6ICdzdHJpbmcnfSxcbiAgICBzdG9yZUFzOiB7dHlwZTogJ3N0cmluZyd9XG4gIH0sXG5cbiAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgIHZhciBjYW1lcmE7XG4gICAgdmFyIGNhbWVyYUZyb250O1xuICAgIHZhciBlbCA9IHRoaXMuZWw7XG4gICAgdmFyIHRleHRFbDtcblxuICAgIGVsLnNldEF0dHJpYnV0ZSgnbWl4aW4nLCBlbC5nZXRBdHRyaWJ1dGUoJ21peGluJykgKyAnIGl0ZW0nKTtcblxuICAgIC8vIE1lc3NhZ2UuXG4gICAgdGV4dEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYS1lbnRpdHknKTtcbiAgICB0ZXh0RWwuY2xhc3NMaXN0LmFkZCgnaXRlbVRleHQnKTtcbiAgICB0ZXh0RWwuc2V0QXR0cmlidXRlKCdtaXhpbicsICdpdGVtVGV4dCcpO1xuICAgIHRleHRFbC5zZXRBdHRyaWJ1dGUoJ3RleHQnLCAndmFsdWUnLCB0aGlzLmRhdGEubWVzc2FnZSk7XG4gICAgdGV4dEVsLm9iamVjdDNELnBvc2l0aW9uLmNvcHkoZWwub2JqZWN0M0QucG9zaXRpb24pO1xuICAgIHRleHRFbC5vYmplY3QzRC5wb3NpdGlvbi55ID0gLTE7XG4gICAgdGV4dEVsLm9iamVjdDNELnBvc2l0aW9uLnogLT0gMC41O1xuICAgIGVsLnNjZW5lRWwuYXBwZW5kQ2hpbGQodGV4dEVsKTtcblxuICAgIC8vIFNoYWRvdy5cbiAgICBzaGFkb3dFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EtZW50aXR5Jyk7XG4gICAgc2hhZG93RWwuc2V0QXR0cmlidXRlKCdtaXhpbicsICdzaGFkb3cnKTtcbiAgICBzaGFkb3dFbC5vYmplY3QzRC5wb3NpdGlvbi5jb3B5KGVsLm9iamVjdDNELnBvc2l0aW9uKTtcbiAgICBzaGFkb3dFbC5vYmplY3QzRC5wb3NpdGlvbi55ID0gMC4xO1xuICAgIGVsLnNjZW5lRWwuYXBwZW5kQ2hpbGQoc2hhZG93RWwpO1xuXG4gICAgLy8gQWxyZWFkeSBoYXZlIGl0ZW0uXG4gICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuZGF0YS5zdG9yZUFzKSA9PT0gJ3RydWUnKSB7XG4gICAgICBlbC5vYmplY3QzRC52aXNpYmxlID0gZmFsc2U7XG4gICAgICB0ZXh0RWwub2JqZWN0M0QucG9zaXRpb24ueSA9IDEuNjtcbiAgICAgIHRleHRFbC5vYmplY3QzRC5sb29rQXQoMCwgMS42LCAwKTtcbiAgICAgIHRleHRFbC5zZXRBdHRyaWJ1dGUoJ21peGluJywgJ2l0ZW1UZXh0IGhvdmVyQW5pbWF0aW9uJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY2FtZXJhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbWVyYScpO1xuICAgIGNhbWVyYUZyb250ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbWVyYUZyb250Jyk7XG5cbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVkJywgKCkgPT4ge1xuICAgICAgdGV4dEVsLnNldEF0dHJpYnV0ZSgndGV4dCcsICd2YWx1ZScsIHRoaXMuZGF0YS5tZXNzYWdlKTtcblxuICAgICAgY2FtZXJhRnJvbnQub2JqZWN0M0QuZ2V0V29ybGRQb3NpdGlvbih0ZXh0RWwub2JqZWN0M0QucG9zaXRpb24pO1xuICAgICAgdGV4dEVsLm9iamVjdDNELmxvb2tBdChjYW1lcmEub2JqZWN0M0QuZ2V0V29ybGRQb3NpdGlvbigpKTtcbiAgICAgIHRleHRFbC5vYmplY3QzRC5wb3NpdGlvbi55ID0gLTE7XG5cbiAgICAgIHRleHRFbC5lbWl0KCdpdGVtdG91Y2hlZCcpO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5kYXRhLnN0b3JlQXMsICd0cnVlJyk7XG4gICAgfSk7XG4gIH1cbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvaXRlbS5qcyIsIkFGUkFNRS5yZWdpc3RlckNvbXBvbmVudCgnb2FzaXMtYXVkaW8nLCB7XG4gIHNjaGVtYToge1xuICAgIGlzSG9tZToge3R5cGU6ICdzdHJpbmcnfSxcbiAgICB6b25lU29uZzoge3R5cGU6ICdzdHJpbmcnfVxuICB9LFxuXG4gIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYXVkaW87XG4gICAgdmFyIGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgdmFyIGVsID0gdGhpcy5lbDtcbiAgICB2YXIgc29uZztcblxuICAgIGlmIChkYXRhLmlzSG9tZSkge1xuICAgICAgc29uZyA9IHV0aWxzLmFzc2V0UGF0aCgnYXNzZXRzL2F1ZGlvL3dvcmxkaW5teWV5ZXMubXAzJyk7XG4gICAgfSBlbHNlIGlmIChlbC5oYXNBdHRyaWJ1dGUoJ3Vwc2lkZWRvd24nKSkge1xuICAgICAgc29uZyA9ICdodHRwczovL3N1cGVybWVkaXVtLmdpdGh1Yi5pby9vYXNpcy1hdWRpby9lZ2cvc3RyYW5nZXJ0aGluZ3MubXAzJztcbiAgICB9IGVsc2Uge1xuICAgICAgc29uZyA9IHRoaXMuZGF0YS56b25lU29uZztcbiAgICB9XG5cbiAgICBhdWRpbyA9IG5ldyBBdWRpbyhzb25nKTtcbiAgICBhdWRpby52b2x1bWUgPSAwLjU7XG4gICAgYXVkaW8ubG9vcCA9IHRydWU7XG4gICAgYXVkaW8ucGxheSgpO1xuICB9XG59KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL29hc2lzLWF1ZGlvLmpzIiwidmFyIFNvdW5kUG9vbCA9IHJlcXVpcmUoJy4uL2xpYi9zb3VuZHBvb2wnKTtcblxudmFyIHByZXZpb3VzWm9uZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcmV2aW91c1pvbmUnKTtcbnZhciB2aXNpdGVkWm9uZXMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd2aXNpdGVkWm9uZXMnKSB8fCAne30nKTtcblxudmFyIGhvdmVyU291bmRQb29sO1xuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcbiAgaG92ZXJTb3VuZFBvb2wgPSBTb3VuZFBvb2wodXRpbHMuYXNzZXRQYXRoKCdhc3NldHMvYXVkaW8vaG92ZXIubXAzJyksIDAuNSwgMik7XG59KTtcblxuQUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCdvYXNpcy1wb3J0YWwnLCB7XG4gIHNjaGVtYToge1xuICAgIGNvbG9yOiB7dHlwZTogJ3N0cmluZyd9LFxuICAgIGhyZWY6IHt0eXBlOiAnc3RyaW5nJ30sXG4gICAgaXNCYWNrUG9ydGFsOiB7ZGVmYXVsdDogZmFsc2V9LFxuICAgIGlzSG9tZVBvcnRhbDoge2RlZmF1bHQ6IGZhbHNlfVxuICB9LFxuXG4gIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZWwgPSB0aGlzLmVsO1xuICAgIHZhciBwb3J0YWxTb3VuZDtcblxuICAgIHBvcnRhbFNvdW5kID0gbmV3IEF1ZGlvKHV0aWxzLmFzc2V0UGF0aCgnYXNzZXRzL2F1ZGlvL3BvcnRhbC5tcDMnKSk7XG4gICAgcG9ydGFsU291bmQudm9sdW1lID0gMC4yNTtcblxuICAgIC8vIEhpZGUgYmFjayBwb3J0YWwgaWYgdGhlcmUgaXMgbm8gYmFjayB0byBnbyB0by5cbiAgICBpZiAodGhpcy5kYXRhLmlzQmFja1BvcnRhbCkge1xuICAgICAgaWYgKCFwcmV2aW91c1pvbmUgfHwgcHJldmlvdXNab25lID09PSB3aW5kb3cubG9jYXRpb24uaHJlZikge1xuICAgICAgICBlbC5vYmplY3QzRC52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBOYXZpZ2F0ZS5cbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHBvcnRhbFNvdW5kLnBsYXkoKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5kYXRhLmlzQmFja1BvcnRhbCkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3ByZXZpb3VzWm9uZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZpc2l0ZWRab25lc1t0aGlzLmRhdGEuaHJlZl0gPSB0cnVlO1xuICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwcmV2aW91c1pvbmUnLCB3aW5kb3cubG9jYXRpb24uaHJlZik7XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Zpc2l0ZWRab25lcycsIEpTT04uc3RyaW5naWZ5KHZpc2l0ZWRab25lcykpO1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdGhpcy5kYXRhLmhyZWY7XG4gICAgICAgIH1cbiAgICAgIH0sIDUwMCk7XG4gICAgfSk7XG5cbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgKCkgPT4ge1xuICAgICAgdGhpcy5zZXRDb2xvcignI0ZGRicpO1xuICAgICAgaG92ZXJTb3VuZFBvb2wucGxheSgpO1xuICAgIH0pO1xuXG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsICgpID0+IHtcbiAgICAgIHRoaXMuc2V0Q29sb3IodGhpcy5vcmlnaW5hbENvbG9yKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBlbC5vYmplY3QzRC5zY2FsZS5zZXQoMSwgMSwgMSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRoaXMub3JpZ2luYWxDb2xvciA9ICcjOTk5JztcbiAgICBpZiAodGhpcy5kYXRhLmlzQmFja1BvcnRhbCkge1xuICAgICAgdGhpcy5vcmlnaW5hbENvbG9yID0gJyM2Njg4Y2MnO1xuICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhLmlzSG9tZVBvcnRhbCkge1xuICAgICAgdGhpcy5vcmlnaW5hbENvbG9yID0gJyMzM2FhMzMnO1xuICAgIH0gZWxzZSBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3dheWJhY2ttYWNoaW5lJykgPT09ICd0cnVlJyAmJlxuICAgICAgICAgICAgICAgdmlzaXRlZFpvbmVzW3RoaXMuZGF0YS5ocmVmXSA9PT0gdHJ1ZSkge1xuICAgICAgLy8gQ2hhbmdlIGJvcmRlciBjb2xvciBpZiB2aXNpdGVkIGFscmVhZHkuXG4gICAgICB0aGlzLm9yaWdpbmFsQ29sb3IgPSAnI0FGNTVBRic7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRDb2xvcih0aGlzLm9yaWdpbmFsQ29sb3IpO1xuICB9LFxuXG4gIHVwZGF0ZTogZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmRhdGEuY29sb3IpIHsgdGhpcy5vcmlnaW5hbENvbG9yID0gdGhpcy5kYXRhLmNvbG9yOyB9XG4gIH0sXG5cbiAgc2V0Q29sb3I6IGZ1bmN0aW9uIChjb2xvcikge1xuICAgIHZhciBlbCA9IHRoaXMuZWw7XG4gICAgZWwucXVlcnlTZWxlY3RvcignLnBvcnRhbEVmZmVjdDEnKS5zZXRBdHRyaWJ1dGUoJ21hdGVyaWFsJywgJ2NvbG9yJywgY29sb3IpO1xuICAgIGVsLnF1ZXJ5U2VsZWN0b3IoJy5wb3J0YWxUZXh0Jykuc2V0QXR0cmlidXRlKCd0ZXh0JywgJ2NvbG9yJywgY29sb3IpO1xuXG4gICAgZWwuc2V0QXR0cmlidXRlKCdhbmltYXRpb25fX21vdXNlZW50ZXInLCAnZnJvbScsIGNvbG9yKTtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ2FuaW1hdGlvbl9fbW91c2VsZWF2ZScsICd0bycsIGNvbG9yKTtcbiAgfVxufSk7XG5cbkFGUkFNRS5yZWdpc3RlclNoYWRlcignb2FzaXNQb3J0YWwnLCB7XG4gIHNjaGVtYToge1xuICAgIGJhY2tncm91bmRDb2xvcjoge2RlZmF1bHQ6ICdyZWQnLCB0eXBlOiAnY29sb3InLCBpczogJ3VuaWZvcm0nfSxcbiAgICBpc0dyYXlzY2FsZToge3R5cGU6ICdpbnQnLCBpczogJ3VuaWZvcm0nLCBkZWZhdWx0OiAwLjB9LFxuICAgIHBhbm86IHt0eXBlOiAnbWFwJywgaXM6ICd1bmlmb3JtJ30sXG4gICAgdGltZToge3R5cGU6ICd0aW1lJywgaXM6ICd1bmlmb3JtJ31cbiAgfSxcblxuICB2ZXJ0ZXhTaGFkZXI6IHJlcXVpcmUoJy4vc2hhZGVycy9vYXNpc1BvcnRhbFZlcnRleC5nbHNsJyksXG5cbiAgZnJhZ21lbnRTaGFkZXI6IHJlcXVpcmUoJy4vc2hhZGVycy9vYXNpc1BvcnRhbEZyYWdtZW50Lmdsc2wnKVxufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9vYXNpcy1wb3J0YWwuanMiLCIvKipcbiAqIFBsYXkgYXVkaW8gZWxlbWVudCBvbiBldmVudC5cbiAqL1xuQUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCdwbGF5LWF1ZGlvJywge1xuICBzY2hlbWE6IHtcbiAgICBhdWRpbzoge3R5cGU6ICdzdHJpbmcnfSxcbiAgICBldmVudDoge3R5cGU6ICdzdHJpbmcnfSxcbiAgICB2b2x1bWU6IHt0eXBlOiAnbnVtYmVyJywgZGVmYXVsdDogMX1cbiAgfSxcblxuICBtdWx0aXBsZTogdHJ1ZSxcblxuICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGF1ZGlvO1xuICAgIGF1ZGlvID0gbmV3IEF1ZGlvKHRoaXMuZGF0YS5hdWRpbyk7XG4gICAgYXVkaW8udm9sdW1lID0gdGhpcy5kYXRhLnZvbHVtZTtcbiAgICB0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5kYXRhLmV2ZW50LCBldnQgPT4ge1xuICAgICAgaWYgKCFhdWRpby5wYXVzZWQpIHtcbiAgICAgICAgYXVkaW8ucGF1c2UoKTtcbiAgICAgICAgYXVkaW8uY3VycmVudFRpbWUgPSAwXG4gICAgICB9XG4gICAgICBhdWRpby5wbGF5KCk7XG4gICAgfSk7XG4gIH1cbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvcGxheS1hdWRpby5qcyIsIkFGUkFNRS5yZWdpc3RlckNvbXBvbmVudCgncmF5Y2FzdGFibGUnLCB7fSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy9yYXljYXN0YWJsZS5qcyIsIi8qKlxuICogUHVsbCBhIHN1Ym1lc2ggb3V0IG9mIGEgbW9kZWwgZmlsZS5cbiAqL1xuQUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCdzdWItb2JqZWN0Jywge1xuICBzY2hlbWE6IHtcbiAgICBmcm9tOiB7ZGVmYXVsdDogJycsIHR5cGU6ICdzZWxlY3Rvcid9LFxuICAgIG5hbWU6IHtkZWZhdWx0OiAnJ31cbiAgfSxcblxuICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGVsID0gdGhpcy5lbDtcbiAgICB2YXIgZGF0YSA9IHRoaXMuZGF0YTtcblxuICAgIGRhdGEuZnJvbS5hZGRFdmVudExpc3RlbmVyKCdtb2RlbC1sb2FkZWQnLCBldnQgPT4ge1xuICAgICAgdmFyIG1vZGVsO1xuICAgICAgdmFyIHN1YnNldDtcbiAgICAgIG1vZGVsID0gZXZ0LmRldGFpbC5tb2RlbDtcbiAgICAgIHN1YnNldCA9IG1vZGVsLmdldE9iamVjdEJ5TmFtZShkYXRhLm5hbWUpO1xuICAgICAgaWYgKCFzdWJzZXQpe1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiU3ViLW9iamVjdFwiLCBkYXRhLm5hbWUsIFwibm90IGZvdW5kIGluICNcIitkYXRhLmZyb20uaWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBlbC5zZXRPYmplY3QzRCgnbWVzaCcsIHN1YnNldC5jbG9uZSgpKTtcbiAgICAgIGVsLmVtaXQoJ3N1Ym9iamVjdGxvYWRlZCcsIGVsLmdldE9iamVjdDNEKCdtZXNoJykpO1xuICAgIH0pO1xuICB9XG59KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL3N1Yi1vYmplY3QuanMiLCJ2YXIgU291bmRQb29sID0gcmVxdWlyZSgnLi4vbGliL3NvdW5kcG9vbCcpO1xuXG4vKipcbiAqIEFsbG93IHRlbGVwb3J0IGludG8gcG9ydGFsLlxuICogVXBkYXRlIGxpbmUgYW5kIGhpdCBlbnRpdHkgY29sb3JzLlxuICovXG5BRlJBTUUucmVnaXN0ZXJDb21wb25lbnQoJ3RlbGVwb3J0LWxpc3RlbmVyJywge1xuICBkZXBlbmRlbmNpZXM6IFsndGVsZXBvcnQtY29udHJvbHMnXSxcblxuICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGVsID0gdGhpcy5lbDtcbiAgICB2YXIgaGl0RW50aXR5O1xuICAgIHZhciBpbnRlcnNlY3Rpb25zO1xuICAgIHZhciBzb3VuZFBvb2w7XG4gICAgdmFyIHRlbGVwb3J0RW50aXR5O1xuICAgIHZhciB0ZWxlcG9ydEZhZGVyO1xuXG4gICAgdGhpcy5jdXJyZW50SW50ZXJzZWN0aW9uID0gbnVsbDtcbiAgICBpbnRlcnNlY3Rpb25zID0gZWwuY29tcG9uZW50c1sndGVsZXBvcnQtY29udHJvbHMnXS5pbnRlcnNlY3Rpb25zO1xuXG4gICAgLy8gTGlzdGVuIHRvIHRlbGVwb3J0ZWQgZm9yIGJsaW5rIGVmZmVjdCBhbmQgcGxheSBzb3VuZC5cbiAgICBzb3VuZFBvb2wgPSBTb3VuZFBvb2wodXRpbHMuYXNzZXRQYXRoKCdhc3NldHMvYXVkaW8vcG9ydGFsLndhdicpLCAwLjYsIDUpO1xuICAgIHRlbGVwb3J0RmFkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGVsZXBvcnRGYWRlcicpO1xuICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigndGVsZXBvcnRlZCcsICgpID0+IHtcbiAgICAgIHZhciBmYWRlclRpbWVvdXQ7XG5cbiAgICAgIGlmICghaW50ZXJzZWN0aW9ucy5sZW5ndGgpIHsgcmV0dXJuOyB9XG5cbiAgICAgIHRlbGVwb3J0RmFkZXIub2JqZWN0M0QudmlzaWJsZSA9IHRydWU7XG4gICAgICBmYWRlclRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGVsZXBvcnRGYWRlci5vYmplY3QzRC52aXNpYmxlID0gZmFsc2U7XG4gICAgICB9LCAxNjApO1xuXG4gICAgICBpZiAoaW50ZXJzZWN0aW9uc1swXS5vYmplY3QuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3J0YWwnKSkge1xuICAgICAgICBjbGVhclRpbWVvdXQoZmFkZXJUaW1lb3V0KTtcbiAgICAgICAgaW50ZXJzZWN0aW9uc1swXS5vYmplY3QuZWwuZW1pdCgnY2xpY2snKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNvdW5kUG9vbC5wbGF5KCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBBcHBseSBlZmZlY3RzIHRvIGhpdEVudGl0eS5cbiAgICBoaXRFbnRpdHkgPSB0aGlzLmhpdEVudGl0eSA9IGVsLmNvbXBvbmVudHNbJ3RlbGVwb3J0LWNvbnRyb2xzJ10uaGl0RW50aXR5O1xuICAgIGhpdEVudGl0eS5vYmplY3QzRC5yb3RhdGlvbi54ID0gLTEgKiBNYXRoLlBJIC8gMjtcbiAgICBoaXRFbnRpdHkuc2V0QXR0cmlidXRlKCdtYXRlcmlhbCcsICdlbWlzc2l2ZUludGVuc2l0eScsIDAuOSk7XG4gICAgaGl0RW50aXR5LnNldEF0dHJpYnV0ZSgnbWF0ZXJpYWwnLCAnZW1pc3NpdmVDb2xvcicsICcjZmY5ZjJiJyk7XG4gICAgaGl0RW50aXR5LnNldEF0dHJpYnV0ZSgnYW5pbWF0aW9uX19zY2FsZScsIHtcbiAgICAgIHByb3BlcnR5OiAnc2NhbGUnLFxuICAgICAgZnJvbTogJzEgMSAxLjInLFxuICAgICAgdG86ICcxLjUgMS41IDMuMicsXG4gICAgICBlYXNpbmc6ICdlYXNlSW5PdXRDdWJpYycsXG4gICAgICBkaXI6ICdhbHRlcm5hdGUnLFxuICAgICAgZHVyOiA2MDAsXG4gICAgICBsb29wOiB0cnVlXG4gICAgfSk7XG5cbiAgICAvLyBBcHBseSBlZmZlY3RzIHRvIHRlbGVwb3J0UmF5LlxuICAgIHRoaXMudGVsZXBvcnRFbnRpdHkgPSBlbC5jb21wb25lbnRzWyd0ZWxlcG9ydC1jb250cm9scyddLnRlbGVwb3J0RW50aXR5O1xuICAgIHRoaXMudGVsZXBvcnRFbnRpdHkuZ2V0T2JqZWN0M0QoJ21lc2gnKS5tYXRlcmlhbC5vcGFjaXR5ID0gMC41O1xuICB9LFxuXG4gIHRpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZWwgPSB0aGlzLmVsO1xuICAgIHZhciBpbnRlcnNlY3Rpb247XG4gICAgdmFyIGludGVyc2VjdGluZ1BvcnRhbDtcblxuICAgIGlmICghZWwuY29tcG9uZW50c1sndGVsZXBvcnQtY29udHJvbHMnXS5hY3RpdmUpIHsgcmV0dXJuOyB9XG5cbiAgICBpbnRlcnNlY3Rpb24gPSBlbC5jb21wb25lbnRzWyd0ZWxlcG9ydC1jb250cm9scyddLmludGVyc2VjdGlvbnNbMF07XG5cbiAgICBpZiAoIWludGVyc2VjdGlvbikge1xuICAgICAgaWYgKHRoaXMuY3VycmVudEludGVyc2VjdGlvbikgeyB0aGlzLmN1cnJlbnRJbnRlcnNlY3Rpb24uZW1pdCgnbW91c2VsZWF2ZScpOyB9XG4gICAgICB0aGlzLmN1cnJlbnRJbnRlcnNlY3Rpb24gPSBudWxsO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChpbnRlcnNlY3Rpb24ub2JqZWN0LmVsID09PSB0aGlzLmN1cnJlbnRJbnRlcnNlY3Rpb24pIHsgcmV0dXJuOyB9XG5cbiAgICBpbnRlcnNlY3RpbmdQb3J0YWwgPSBpbnRlcnNlY3Rpb24ub2JqZWN0LmVsLmNsYXNzTGlzdC5jb250YWlucygncG9ydGFsJyk7XG4gICAgdGhpcy5oaXRFbnRpdHkuY2hpbGRyZW5bMF0ub2JqZWN0M0QudmlzaWJsZSA9ICFpbnRlcnNlY3RpbmdQb3J0YWw7XG4gICAgdGhpcy5oaXRFbnRpdHkuY2hpbGRyZW5bMV0ub2JqZWN0M0QudmlzaWJsZSA9ICFpbnRlcnNlY3RpbmdQb3J0YWw7XG4gICAgdGhpcy50ZWxlcG9ydEVudGl0eS5nZXRPYmplY3QzRCgnbWVzaCcpLnZpc2libGUgPSBpbnRlcnNlY3RpbmdQb3J0YWw7XG5cbiAgICBpZiAodGhpcy5jdXJyZW50SW50ZXJzZWN0aW9uKSB7IHRoaXMuY3VycmVudEludGVyc2VjdGlvbi5lbWl0KCdtb3VzZWxlYXZlJyk7IH1cbiAgICBpbnRlcnNlY3Rpb24ub2JqZWN0LmVsLmVtaXQoJ21vdXNlZW50ZXInKTtcbiAgICB0aGlzLmN1cnJlbnRJbnRlcnNlY3Rpb24gPSBpbnRlcnNlY3Rpb24ub2JqZWN0LmVsO1xuICB9XG59KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21wb25lbnRzL3RlbGVwb3J0LWxpc3RlbmVyLmpzIiwiQUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCd0ZWxlcG9ydC1yZWZyZXNoJywge1xuICBwbGF5OiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGk7XG4gICAgdmFyIHRlbGVwb3J0RW50aXRpZXM7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0ZWxlcG9ydEVudGl0aWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYS1lbnRpdHlbdGVsZXBvcnQtY29udHJvbHNdJyk7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdGVsZXBvcnRFbnRpdGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0ZWxlcG9ydEVudGl0aWVzW2ldLmNvbXBvbmVudHNbJ3RlbGVwb3J0LWNvbnRyb2xzJ10ucmVmcmVzaE1lc2hlcygpO1xuICAgICAgfVxuICAgIH0sIDI1MCk7XG4gIH1cbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvdGVsZXBvcnQtcmVmcmVzaC5qcyIsIkFGUkFNRS5yZWdpc3RlclN5c3RlbSgndG91Y2gnLCB7XG4gIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnRvdWNoYWJsZXMgPSBbXTtcbiAgfSxcblxuICByZWdpc3RlcjogZnVuY3Rpb24gKGVsKSB7XG4gICAgdGhpcy50b3VjaGFibGVzLnB1c2goZWwpO1xuICB9XG59KTtcblxuQUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCd0b3VjaCcsIHtcbiAgc2NoZW1hOiB7XG4gICAgZGlzdGFuY2U6IHtkZWZhdWx0OiAwLjUwfVxuICB9LFxuXG4gIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnRvdWNoZWQgPSBbXTtcbiAgICB0aGlzLndvcmxkVmVjMyA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG4gICAgdGhpcy50aWNrID0gQUZSQU1FLnV0aWxzLnRocm90dGxlVGljayh0aGlzLnRpY2suYmluZCh0aGlzKSwgNTAwKTtcbiAgfSxcblxuICB0aWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGVsID0gdGhpcy5lbDtcbiAgICB2YXIgaTtcbiAgICB2YXIgdG91Y2hhYmxlcyA9IGVsLnNjZW5lRWwuc3lzdGVtcy50b3VjaC50b3VjaGFibGVzO1xuXG4gICAgaWYgKCF0b3VjaGFibGVzIHx8ICF0b3VjaGFibGVzLmxlbmd0aCkgeyByZXR1cm47IH1cblxuICAgIGVsLm9iamVjdDNELmdldFdvcmxkUG9zaXRpb24odGhpcy53b3JsZFZlYzMpO1xuXG4gICAgdGhpcy50b3VjaGVkLmxlbmd0aCA9IDA7XG4gICAgZm9yIChpID0gMDsgaSA8IHRvdWNoYWJsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLndvcmxkVmVjMy5kaXN0YW5jZVRvKHRvdWNoYWJsZXNbaV0ub2JqZWN0M0QucG9zaXRpb24pIDwgdGhpcy5kYXRhLmRpc3RhbmNlKSB7XG4gICAgICAgIHRoaXMudG91Y2hlZC5wdXNoKHRvdWNoYWJsZXNbaV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghdGhpcy50b3VjaGVkLmxlbmd0aCkgeyByZXR1cm47IH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLnRvdWNoZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMudG91Y2hlZFtpXS5lbWl0KCd0b3VjaGVkJyk7XG4gICAgICB0b3VjaGFibGVzLnNwbGljZSh0aGlzLnRvdWNoZWRbaV0sIDEpO1xuICAgIH1cbiAgfVxufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tcG9uZW50cy90b3VjaC5qcyIsIkFGUkFNRS5yZWdpc3RlckNvbXBvbmVudCgndG91Y2hhYmxlJywge1xuICBwbGF5OiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbC5zY2VuZUVsLnN5c3RlbXMudG91Y2gucmVnaXN0ZXIodGhpcy5lbCk7XG4gIH1cbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbXBvbmVudHMvdG91Y2hhYmxlLmpzIiwiZnVuY3Rpb24gcmVxdWlyZUFsbCAocmVxKSB7IHJlcS5rZXlzKCkuZm9yRWFjaChyZXEpOyB9XG5cbnJlcXVpcmUoJy4vdXRpbHMnKTtcblxucmVxdWlyZSgnYWZyYW1lLWFuaW1hdGlvbi1jb21wb25lbnQnKTtcbnJlcXVpcmUoJ2FmcmFtZS1ldmVudC1zZXQtY29tcG9uZW50Jyk7XG5yZXF1aXJlKCdhZnJhbWUtbGF5b3V0LWNvbXBvbmVudCcpO1xucmVxdWlyZSgnYWZyYW1lLWxvb2stYXQtY29tcG9uZW50Jyk7XG5yZXF1aXJlKCdhZnJhbWUtcHJveHktZXZlbnQtY29tcG9uZW50Jyk7XG5yZXF1aXJlKCdhZnJhbWUtcmFuZG9taXplci1jb21wb25lbnRzJyk7XG5yZXF1aXJlKCdhZnJhbWUtc2xpY2U5LWNvbXBvbmVudCcpO1xucmVxdWlyZSgnYWZyYW1lLXRlbGVwb3J0LWNvbnRyb2xzJyk7XG5cbnJlcXVpcmUoJ25ldHdvcmtlZC1hZnJhbWUnKTtcblxucmVxdWlyZUFsbChyZXF1aXJlLmNvbnRleHQoJy4vY29tcG9uZW50cy8nLCB0cnVlLCAvXFwuanMkLykpO1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Etc2NlbmUnKS5kYXRhc2V0LmlzSG9tZSA9PT0gJ3RydWUnKSB7XG4gICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoJ3NlcnZpY2VXb3JrZXIuanMnKTtcbiAgfSBlbHNlIHtcbiAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3RlcignLi4vc2VydmljZVdvcmtlci5qcycpO1xuICB9XG59KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9pbmRleC5qcyIsIm1vZHVsZS5leHBvcnRzID0gXCIjZGVmaW5lIFJFQ0lQUk9DQUxfUEkyIDAuMTU5MTU0OTRcXG51bmlmb3JtIGZsb2F0IHRpbWU7XFxudW5pZm9ybSBpbnQgaXNHcmF5c2NhbGU7XFxudW5pZm9ybSBzYW1wbGVyMkQgcGFubztcXG51bmlmb3JtIHZlYzMgYmFja2dyb3VuZENvbG9yO1xcbnZhcnlpbmcgZmxvYXQgdkRpc3RhbmNlO1xcbnZhcnlpbmcgZmxvYXQgdkRpc3RhbmNlVG9DZW50ZXI7XFxudmFyeWluZyB2ZWMzIHZXb3JsZFBvc2l0aW9uO1xcblxcbnZvaWQgbWFpbigpIHtcXG4gIGZsb2F0IGFscGhhO1xcbiAgZmxvYXQgZ3JheTtcXG4gIHZlYzMgY29sb3I7XFxuICB2ZWMzIGRpcmVjdGlvbiA9IG5vcm1hbGl6ZSh2V29ybGRQb3NpdGlvbiAtIGNhbWVyYVBvc2l0aW9uKTtcXG4gIHZlYzIgc2FtcGxlVVY7XFxuICB2ZWMyIHNhbXBsZUE7XFxuICB2ZWMyIHNhbXBsZUI7XFxuXFxuICBmbG9hdCBib3JkZXJUaGlja25lc3MgPSAwLjk0O1xcblxcbiAgc2FtcGxlVVYueCA9IGF0YW4oZGlyZWN0aW9uLnosIC1kaXJlY3Rpb24ueCkgKiAtUkVDSVBST0NBTF9QSTIgKyAwLjU7XFxuICBzYW1wbGVVVi55ID0gc2F0dXJhdGUoZGlyZWN0aW9uLnkgKiAwLjUgICsgMC41KTtcXG5cXG4gIC8vIHdvYmJsZVxcbiAgc2FtcGxlQSA9IHNhbXBsZVVWICsgc2luKHRpbWUvMTAwMC4wICsgc2FtcGxlVVYueCAqIDI0LjAgKyBzYW1wbGVVVi55ICogMTguMCkgKiAwLjAwNDtcXG4gIHNhbXBsZUIgPSBzYW1wbGVVViArIHNpbih0aW1lLzEwMDAuMCArIHNhbXBsZVVWLnggKiAyNC4wICsgc2FtcGxlVVYueSAqIDE4LjApICogMC4wMDU7XFxuICAgIFxcbiAgLy8gT3BhY2l0eSBwb3J0YWwgZWZmZWN0LCBwb3NpdGl2ZSBzaW4gd2F2ZSBmcm9tIDAuNSB0byAxLjAuXFxuICBhbHBoYSA9IHNpbih0aW1lIC8gODAwLjApO1xcbiAgYWxwaGEgPSAoYWxwaGEgKyAxLjApIC8gMi4wO1xcbiAgYWxwaGEgPSBtaXgoMC44NSwgMS4wLCBhbHBoYSk7XFxuICBjb2xvciA9IHZlYzModGV4dHVyZTJEKHBhbm8sIHNhbXBsZUIpLngsIHRleHR1cmUyRChwYW5vLCBzYW1wbGVBKS55eik7XFxuICBhbHBoYSA9IHNtb290aHN0ZXAoMC4wNSwgMS4wLCAxLjYgLSB2RGlzdGFuY2VUb0NlbnRlcik7XFxuICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGNvbG9yLCBhbHBoYSk7XFxuXFxuICBpZiAoaXNHcmF5c2NhbGUgPT0gMSkge1xcbiAgICBncmF5ID0gKGNvbG9yLnIgKyBjb2xvci5nICsgY29sb3IuYikgLyAzLjA7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoZ3JheSwgZ3JheSwgZ3JheSwgYWxwaGEpO1xcbiAgfVxcbn1cXG5cIlxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvbXBvbmVudHMvc2hhZGVycy9vYXNpc1BvcnRhbEZyYWdtZW50Lmdsc2xcbi8vIG1vZHVsZSBpZCA9IDQxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gXCJ2YXJ5aW5nIHZlYzMgdldvcmxkUG9zaXRpb247XFxudmFyeWluZyBmbG9hdCB2RGlzdGFuY2VUb0NlbnRlcjtcXG5cXG52b2lkIG1haW4oKSB7XFxuICB2RGlzdGFuY2VUb0NlbnRlciA9IGNsYW1wKGxlbmd0aChwb3NpdGlvbiAtIHZlYzMoMC4wLCAwLjAsIDAuMCkpLCAwLjAsIDEuMCk7XFxuICB2V29ybGRQb3NpdGlvbiA9IChtb2RlbE1hdHJpeCAqIHZlYzQocG9zaXRpb24sIDEuMCkpLnh5ejtcXG4gIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG1vZGVsVmlld01hdHJpeCAqIHZlYzQocG9zaXRpb24sIDEuMCk7XFxufVxcblwiXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvY29tcG9uZW50cy9zaGFkZXJzL29hc2lzUG9ydGFsVmVydGV4Lmdsc2xcbi8vIG1vZHVsZSBpZCA9IDQyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBnO1xyXG5cclxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcclxuZyA9IChmdW5jdGlvbigpIHtcclxuXHRyZXR1cm4gdGhpcztcclxufSkoKTtcclxuXHJcbnRyeSB7XHJcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXHJcblx0ZyA9IGcgfHwgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpIHx8ICgxLGV2YWwpKFwidGhpc1wiKTtcclxufSBjYXRjaChlKSB7XHJcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcclxuXHRpZih0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKVxyXG5cdFx0ZyA9IHdpbmRvdztcclxufVxyXG5cclxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxyXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xyXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGc7XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vICh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qc1xuLy8gbW9kdWxlIGlkID0gNDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==